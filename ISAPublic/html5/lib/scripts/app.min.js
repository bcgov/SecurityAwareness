/*! dark-spider - v1.10.__BUILD_NUMBER__.0 - 2019-02-27 10:52pm UTC
* Copyright (c) 2019 Articulate Global, Inc. <admin@articulate.com>; Not Licensed */
var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},requirejs,require,define;function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}!function(e){var t,i,n,r,s={},o={},a={},l={},u=Object.prototype.hasOwnProperty,c=[].slice,h=/\.js$/;function p(e,t){return u.call(e,t)}function d(e,t){var i,n,r,s,o,l,u,c,p,d,f,m=t&&t.split("/"),g=a.map,v=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(t){for(m=m.slice(0,m.length-1),o=(e=e.split("/")).length-1,a.nodeIdCompat&&h.test(e[o])&&(e[o]=e[o].replace(h,"")),e=m.concat(e),p=0;p<e.length;p+=1)if("."===(f=e[p]))e.splice(p,1),p-=1;else if(".."===f){if(1===p&&(".."===e[2]||".."===e[0]))break;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((m||v)&&g){for(p=(i=e.split("/")).length;p>0;p-=1){if(n=i.slice(0,p).join("/"),m)for(d=m.length;d>0;d-=1)if((r=g[m.slice(0,d).join("/")])&&(r=r[n])){s=r,l=p;break}if(s)break;!u&&v&&v[n]&&(u=v[n],c=p)}!s&&u&&(s=u,l=c),s&&(i.splice(0,l,s),e=i.join("/"))}return e}function f(t,n){return function(){return i.apply(e,c.call(arguments,0).concat([t,n]))}}function m(e){return function(t){s[e]=t}}function g(i){if(p(o,i)){var n=o[i];delete o[i],l[i]=!0,t.apply(e,n)}if(!p(s,i)&&!p(l,i))throw new Error("No "+i);return s[i]}function v(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}n=function(e,t){var i,n,r=v(e),s=r[0];return e=r[1],s&&(i=g(s=d(s,t))),s?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return d(e,n)})):d(e,t):(s=(r=v(e=d(e,t)))[0],e=r[1],s&&(i=g(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:i}},r={require:function(e){return f(e)},exports:function(e){var t=s[e];return void 0!==t?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:(t=e,function(){return a&&a.config&&a.config[t]||{}})};var t}},t=function(t,i,a,u){var c,h,d,v,y,b,w=[],S=void 0===a?"undefined":_typeof(a);if(u=u||t,"undefined"===S||"function"===S){for(i=!i.length&&a.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if("require"===(h=(v=n(i[y],u)).f))w[y]=r.require(t);else if("exports"===h)w[y]=r.exports(t),b=!0;else if("module"===h)c=w[y]=r.module(t);else if(p(s,h)||p(o,h)||p(l,h))w[y]=g(h);else{if(!v.p)throw new Error(t+" missing "+h);v.p.load(v.n,f(u,!0),m(h),{}),w[y]=s[h]}d=a?a.apply(s[t],w):void 0,t&&(c&&c.exports!==e&&c.exports!==s[t]?s[t]=c.exports:d===e&&b||(s[t]=d))}else t&&(s[t]=a)},requirejs=require=i=function(s,o,l,u,c){if("string"==typeof s)return r[s]?r[s](o):g(n(s,o).f);if(!s.splice){if((a=s).deps&&i(a.deps,a.callback),!o)return;o.splice?(s=o,o=l,l=null):s=e}return o=o||function(){},"function"==typeof l&&(l=u,u=c),u?t(e,s,o,l):setTimeout(function(){t(e,s,o,l)},4),i},i.config=function(e){return i(e)},requirejs._defined=s,(define=function(e,t,i){t.splice||(i=t,t=[]),p(s,e)||p(o,e)||(o[e]=[e,t,i])}).amd={jQuery:!0}}(),define("almond",function(){}),function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){return r(t[o][1][e]||e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){(function(t){"use strict";function i(e,t,i){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:i})}if(e(327),e(328),e(2),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&i(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(e,t,i){e(130),t.exports=e(23).RegExp.escape},{130:130,23:23}],3:[function(e,t,i){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],4:[function(e,t,i){var n=e(18);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{18:18}],5:[function(e,t,i){var n=e(128)("unscopables"),r=Array.prototype;null==r[n]&&e(42)(r,n,{}),t.exports=function(e){r[n][e]=!0}},{128:128,42:42}],6:[function(e,t,i){t.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},{}],7:[function(e,t,i){var n=e(51);t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{51:51}],8:[function(e,t,i){"use strict";var n=e(119),r=e(114),s=e(118);t.exports=[].copyWithin||function(e,t){var i=n(this),o=s(i.length),a=r(e,o),l=r(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:r(u,o))-l,o-a),h=1;for(l<a&&a<l+c&&(h=-1,l+=c-1,a+=c-1);c-- >0;)l in i?i[a]=i[l]:delete i[a],a+=h,l+=h;return i}},{114:114,118:118,119:119}],9:[function(e,t,i){"use strict";var n=e(119),r=e(114),s=e(118);t.exports=function(e){for(var t=n(this),i=s(t.length),o=arguments.length,a=r(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,u=void 0===l?i:r(l,i);u>a;)t[a++]=e;return t}},{114:114,118:118,119:119}],10:[function(e,t,i){var n=e(39);t.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},{39:39}],11:[function(e,t,i){var n=e(117),r=e(118),s=e(114);t.exports=function(e){return function(t,i,o){var a,l=n(t),u=r(l.length),c=s(o,u);if(e&&i!=i){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},{114:114,117:117,118:118}],12:[function(e,t,i){var n=e(25),r=e(47),s=e(119),o=e(118),a=e(15);t.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,h=6==e,p=5==e||h,d=t||a;return function(t,a,f){for(var m,g,v=s(t),y=r(v),b=n(a,f,3),w=o(y.length),S=0,x=i?d(t,w):l?d(t,0):void 0;w>S;S++)if((p||S in y)&&(g=b(m=y[S],S,v),e))if(i)x[S]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:x.push(m)}else if(c)return!1;return h?-1:u||c?c:x}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(e,t,i){var n=e(3),r=e(119),s=e(47),o=e(118);t.exports=function(e,t,i,a,l){n(t);var u=r(e),c=s(u),h=o(u.length),p=l?h-1:0,d=l?-1:1;if(i<2)for(;;){if(p in c){a=c[p],p+=d;break}if(p+=d,l?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:h>p;p+=d)p in c&&(a=t(a,c[p],p,u));return a}},{118:118,119:119,3:3,47:47}],14:[function(e,t,i){var n=e(51),r=e(49),s=e(128)("species");t.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},{128:128,49:49,51:51}],15:[function(e,t,i){var n=e(14);t.exports=function(e,t){return new(n(e))(t)}},{14:14}],16:[function(e,t,i){"use strict";var n=e(3),r=e(51),s=e(46),o=[].slice,a={};t.exports=Function.bind||function(e){var t=n(this),i=o.call(arguments,1),l=function n(){var r=i.concat(o.call(arguments));return this instanceof n?function(e,t,i){if(!(t in a)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";a[t]=Function("F,a","return new F("+n.join(",")+")")}return a[t](e,i)}(t,r.length,r):s(t,r,e)};return r(t.prototype)&&(l.prototype=t.prototype),l}},{3:3,46:46,51:51}],17:[function(e,t,i){var n=e(18),r=e(128)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,i,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?i:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{128:128,18:18}],18:[function(e,t,i){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],19:[function(e,t,i){"use strict";var n=e(72).f,r=e(71),s=e(93),o=e(25),a=e(6),l=e(39),u=e(55),c=e(57),h=e(100),p=e(29),d=e(66).fastKey,f=e(125),m=p?"_s":"size",g=function(e,t){var i,n=d(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};t.exports={getConstructor:function(e,t,i,u){var c=e(function(e,n){a(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,null!=n&&l(n,i,e[u],e)});return s(c.prototype,{clear:function(){for(var e=f(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var i=f(this,t),n=g(i,e);if(n){var r=n.n,s=n.p;delete i._i[n.i],n.r=!0,s&&(s.n=r),r&&(r.p=s),i._f==n&&(i._f=r),i._l==n&&(i._l=s),i[m]--}return!!n},forEach:function(e){f(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!g(f(this,t),e)}}),p&&n(c.prototype,"size",{get:function(){return f(this,t)[m]}}),c},def:function(e,t,i){var n,r,s=g(e,t);return s?s.v=i:(e._l=s={i:r=d(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[m]++,"F"!==r&&(e._i[r]=s)),e},getEntry:g,setStrong:function(e,t,i){u(e,t,function(e,i){this._t=f(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?c(0,"keys"==t?i.k:"values"==t?i.v:[i.k,i.v]):(e._t=void 0,c(1))},i?"entries":"values",!i,!0),h(t)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(e,t,i){var n=e(17),r=e(10);t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(e,t,i){"use strict";var n=e(93),r=e(66).getWeak,s=e(7),o=e(51),a=e(6),l=e(39),u=e(12),c=e(41),h=e(125),p=u(5),d=u(6),f=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return p(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var i=v(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,i,s){var u=e(function(e,n){a(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=n&&l(n,i,e[s],e)});return n(u.prototype,{delete:function(e){if(!o(e))return!1;var i=r(e);return!0===i?m(h(this,t)).delete(e):i&&c(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=r(e);return!0===i?m(h(this,t)).has(e):i&&c(i,this._i)}}),u},def:function(e,t,i){var n=r(s(t),!0);return!0===n?m(e).set(t,i):n[e._i]=i,e},ufstore:m}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(e,t,i){"use strict";var n=e(40),r=e(33),s=e(94),o=e(93),a=e(66),l=e(39),u=e(6),c=e(51),h=e(35),p=e(56),d=e(101),f=e(45);t.exports=function(e,t,i,m,g,v){var y=n[e],b=y,w=g?"set":"add",S=b&&b.prototype,x={},T=function(e){var t=S[e];s(S,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof b&&(v||S.forEach&&!h(function(){(new b).entries().next()}))){var E=new b,A=E[w](v?{}:-0,1)!=E,C=h(function(){E.has(1)}),P=p(function(e){new b(e)}),_=!v&&h(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});P||((b=t(function(t,i){u(t,b,e);var n=f(new y,t,b);return null!=i&&l(i,g,n[w],n),n})).prototype=S,S.constructor=b),(C||_)&&(T("delete"),T("has"),g&&T("get")),(_||A)&&T(w),v&&S.clear&&delete S.clear}else b=m.getConstructor(t,e,g,w),o(b.prototype,i),a.NEED=!0;return d(b,e),x[e]=b,r(r.G+r.W+r.F*(b!=y),x),v||m.setStrong(b,e,g),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(e,t,i){var n=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},{}],24:[function(e,t,i){"use strict";var n=e(72),r=e(92);t.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},{72:72,92:92}],25:[function(e,t,i){var n=e(3);t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},{3:3}],26:[function(e,t,i){"use strict";var n=e(35),r=Date.prototype.getTime,s=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!n(function(){s.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:s},{35:35}],27:[function(e,t,i){"use strict";var n=e(7),r=e(120);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(n(this),"number"!=e)}},{120:120,7:7}],28:[function(e,t,i){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],29:[function(e,t,i){t.exports=!e(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{35:35}],30:[function(e,t,i){var n=e(51),r=e(40).document,s=n(r)&&n(r.createElement);t.exports=function(e){return s?r.createElement(e):{}}},{40:40,51:51}],31:[function(e,t,i){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(e,t,i){var n=e(81),r=e(78),s=e(82);t.exports=function(e){var t=n(e),i=r.f;if(i)for(var o,a=i(e),l=s.f,u=0;a.length>u;)l.call(e,o=a[u++])&&t.push(o);return t}},{78:78,81:81,82:82}],33:[function(e,t,i){var n=e(40),r=e(23),s=e(42),o=e(94),a=e(25),l=function e(t,i,l){var u,c,h,p,d=t&e.F,f=t&e.G,m=t&e.P,g=t&e.B,v=f?n:t&e.S?n[i]||(n[i]={}):(n[i]||{}).prototype,y=f?r:r[i]||(r[i]={}),b=y.prototype||(y.prototype={});for(u in f&&(l=i),l)h=((c=!d&&v&&void 0!==v[u])?v:l)[u],p=g&&c?a(h,n):m&&"function"==typeof h?a(Function.call,h):h,v&&o(v,u,h,t&e.U),y[u]!=h&&s(y,u,p),m&&b[u]!=h&&(b[u]=h)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{23:23,25:25,40:40,42:42,94:94}],34:[function(e,t,i){var n=e(128)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},{128:128}],35:[function(e,t,i){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],36:[function(e,t,i){"use strict";var n=e(42),r=e(94),s=e(35),o=e(28),a=e(128);t.exports=function(e,t,i){var l=a(e),u=i(o,l,""[e]),c=u[0],h=u[1];s(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,c),n(RegExp.prototype,l,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(e,t,i){"use strict";var n=e(7);t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{7:7}],38:[function(e,t,i){"use strict";var n=e(49),r=e(51),s=e(118),o=e(25),a=e(128)("isConcatSpreadable");t.exports=function e(t,i,l,u,c,h,p,d){for(var f,m,g=c,v=0,y=!!p&&o(p,d,3);v<u;){if(v in l){if(f=y?y(l[v],v,i):l[v],m=!1,r(f)&&(m=void 0!==(m=f[a])?!!m:n(f)),m&&h>0)g=e(t,i,f,s(f.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=f}g++}v++}return g}},{118:118,128:128,25:25,49:49,51:51}],39:[function(e,t,i){var n=e(25),r=e(53),s=e(48),o=e(7),a=e(118),l=e(129),u={},c={};(i=t.exports=function(e,t,i,h,p){var d,f,m,g,v=p?function(){return e}:l(e),y=n(i,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(s(v)){for(d=a(e.length);d>b;b++)if((g=t?y(o(f=e[b])[0],f[1]):y(e[b]))===u||g===c)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=r(m,y,f.value,t))===u||g===c)return g}).BREAK=u,i.RETURN=c},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(e,t,i){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],41:[function(e,t,i){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],42:[function(e,t,i){var n=e(72),r=e(92);t.exports=e(29)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},{29:29,72:72,92:92}],43:[function(e,t,i){var n=e(40).document;t.exports=n&&n.documentElement},{40:40}],44:[function(e,t,i){t.exports=!e(29)&&!e(35)(function(){return 7!=Object.defineProperty(e(30)("div"),"a",{get:function(){return 7}}).a})},{29:29,30:30,35:35}],45:[function(e,t,i){var n=e(51),r=e(99).set;t.exports=function(e,t,i){var s,o=t.constructor;return o!==i&&"function"==typeof o&&(s=o.prototype)!==i.prototype&&n(s)&&r&&r(e,s),e}},{51:51,99:99}],46:[function(e,t,i){t.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},{}],47:[function(e,t,i){var n=e(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{18:18}],48:[function(e,t,i){var n=e(58),r=e(128)("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},{128:128,58:58}],49:[function(e,t,i){var n=e(18);t.exports=Array.isArray||function(e){return"Array"==n(e)}},{18:18}],50:[function(e,t,i){var n=e(51),r=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},{51:51}],51:[function(e,t,i){t.exports=function(e){return"object"==(void 0===e?"undefined":_typeof(e))?null!==e:"function"==typeof e}},{}],52:[function(e,t,i){var n=e(51),r=e(18),s=e(128)("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},{128:128,18:18,51:51}],53:[function(e,t,i){var n=e(7);t.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},{7:7}],54:[function(e,t,i){"use strict";var n=e(71),r=e(92),s=e(101),o={};e(42)(o,e(128)("iterator"),function(){return this}),t.exports=function(e,t,i){e.prototype=n(o,{next:r(1,i)}),s(e,t+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(e,t,i){"use strict";var n=e(60),r=e(33),s=e(94),o=e(42),a=e(41),l=e(58),u=e(54),c=e(101),h=e(79),p=e(128)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(e,t,i,m,g,v,y){u(i,t,m);var b,w,S,x=function(e){if(!d&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},T=t+" Iterator",E="values"==g,A=!1,C=e.prototype,P=C[p]||C["@@iterator"]||g&&C[g],_=P||x(g),I=g?E?x("entries"):_:void 0,k="Array"==t&&C.entries||P;if(k&&(S=h(k.call(new e)))!==Object.prototype&&S.next&&(c(S,T,!0),n||a(S,p)||o(S,p,f)),E&&P&&"values"!==P.name&&(A=!0,_=function(){return P.call(this)}),n&&!y||!d&&!A&&C[p]||o(C,p,_),l[t]=_,l[T]=f,g)if(b={values:E?_:x("values"),keys:v?_:x("keys"),entries:I},y)for(w in b)w in C||s(C,w,b[w]);else r(r.P+r.F*(d||A),t,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(e,t,i){var n=e(128)("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},e(s)}catch(e){}return i}},{128:128}],57:[function(e,t,i){t.exports=function(e,t){return{value:t,done:!!e}}},{}],58:[function(e,t,i){t.exports={}},{}],59:[function(e,t,i){var n=e(81),r=e(117);t.exports=function(e,t){for(var i,s=r(e),o=n(s),a=o.length,l=0;a>l;)if(s[i=o[l++]]===t)return i}},{117:117,81:81}],60:[function(e,t,i){t.exports=!1},{}],61:[function(e,t,i){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],62:[function(e,t,i){var n=e(65),r=Math.pow,s=r(2,-52),o=r(2,-23),a=r(2,127)*(2-o),l=r(2,-126);t.exports=Math.fround||function(e){var t,i,r=Math.abs(e),u=n(e);return r<l?u*(r/l/o+1/s-1/s)*l*o:(i=(t=(1+o/s)*r)-(t-r))>a||i!=i?u*(1/0):u*i}},{65:65}],63:[function(e,t,i){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],64:[function(e,t,i){t.exports=Math.scale||function(e,t,i,n,r){return 0===arguments.length||e!=e||t!=t||i!=i||n!=n||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-n)/(i-t)+n}},{}],65:[function(e,t,i){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],66:[function(e,t,i){var n=e(124)("meta"),r=e(51),s=e(41),o=e(72).f,a=0,l=Object.isExtensible||function(){return!0},u=!e(35)(function(){return l(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==(void 0===e?"undefined":_typeof(e))?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!s(e,n)&&c(e),e}}},{124:124,35:35,41:41,51:51,72:72}],67:[function(e,t,i){var n=e(160),r=e(33),s=e(103)("metadata"),o=s.store||(s.store=new(e(266))),a=function(e,t,i){var r=o.get(e);if(!r){if(!i)return;o.set(e,r=new n)}var s=r.get(t);if(!s){if(!i)return;r.set(t,s=new n)}return s};t.exports={store:o,map:a,has:function(e,t,i){var n=a(t,i,!1);return void 0!==n&&n.has(e)},get:function(e,t,i){var n=a(t,i,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,i,n){a(i,n,!0).set(e,t)},keys:function(e,t){var i=a(e,t,!1),n=[];return i&&i.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==(void 0===e?"undefined":_typeof(e))?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},{103:103,160:160,266:266,33:33}],68:[function(e,t,i){var n=e(40),r=e(113).set,s=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,l="process"==e(18)(o);t.exports=function(){var e,t,i,u=function(){var n,r;for(l&&(n=o.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(l)i=function(){o.nextTick(u)};else if(s){var c=!0,h=document.createTextNode("");new s(u).observe(h,{characterData:!0}),i=function(){h.data=c=!c}}else if(a&&a.resolve){var p=a.resolve();i=function(){p.then(u)}}else i=function(){r.call(n,u)};return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},{113:113,18:18,40:40}],69:[function(e,t,i){"use strict";var n=e(3);t.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)}(e)}},{3:3}],70:[function(e,t,i){"use strict";var n=e(81),r=e(78),s=e(82),o=e(119),a=e(47),l=Object.assign;t.exports=!l||e(35)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=o(e),l=arguments.length,u=1,c=r.f,h=s.f;l>u;)for(var p,d=a(arguments[u++]),f=c?n(d).concat(c(d)):n(d),m=f.length,g=0;m>g;)h.call(d,p=f[g++])&&(i[p]=d[p]);return i}:l},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(e,t,i){var n=e(7),r=e(73),s=e(31),o=e(102)("IE_PROTO"),a=function(){},l=function(){var t,i=e(30)("iframe"),n=s.length;for(i.style.display="none",e(43).appendChild(i),i.src="javascript:",(t=i.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[s[n]];return l()};t.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=n(e),i=new a,a.prototype=null,i[o]=e):i=l(),void 0===t?i:r(i,t)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(e,t,i){var n=e(7),r=e(44),s=e(120),o=Object.defineProperty;i.f=e(29)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},{120:120,29:29,44:44,7:7}],73:[function(e,t,i){var n=e(72),r=e(7),s=e(81);t.exports=e(29)?Object.defineProperties:function(e,t){r(e);for(var i,o=s(t),a=o.length,l=0;a>l;)n.f(e,i=o[l++],t[i]);return e}},{29:29,7:7,72:72,81:81}],74:[function(e,t,i){"use strict";t.exports=e(60)||!e(35)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e(40)[t]})},{35:35,40:40,60:60}],75:[function(e,t,i){var n=e(82),r=e(92),s=e(117),o=e(120),a=e(41),l=e(44),u=Object.getOwnPropertyDescriptor;i.f=e(29)?u:function(e,t){if(e=s(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return r(!n.f.call(e,t),e[t])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(e,t,i){var n=e(117),r=e(77).f,s={}.toString,o="object"==("undefined"==typeof window?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(n(e))}},{117:117,77:77}],77:[function(e,t,i){var n=e(80),r=e(31).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},{31:31,80:80}],78:[function(e,t,i){i.f=Object.getOwnPropertySymbols},{}],79:[function(e,t,i){var n=e(41),r=e(119),s=e(102)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{102:102,119:119,41:41}],80:[function(e,t,i){var n=e(41),r=e(117),s=e(11)(!1),o=e(102)("IE_PROTO");t.exports=function(e,t){var i,a=r(e),l=0,u=[];for(i in a)i!=o&&n(a,i)&&u.push(i);for(;t.length>l;)n(a,i=t[l++])&&(~s(u,i)||u.push(i));return u}},{102:102,11:11,117:117,41:41}],81:[function(e,t,i){var n=e(80),r=e(31);t.exports=Object.keys||function(e){return n(e,r)}},{31:31,80:80}],82:[function(e,t,i){i.f={}.propertyIsEnumerable},{}],83:[function(e,t,i){var n=e(33),r=e(23),s=e(35);t.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*s(function(){i(1)}),"Object",o)}},{23:23,33:33,35:35}],84:[function(e,t,i){var n=e(81),r=e(117),s=e(82).f;t.exports=function(e){return function(t){for(var i,o=r(t),a=n(o),l=a.length,u=0,c=[];l>u;)s.call(o,i=a[u++])&&c.push(e?[i,o[i]]:o[i]);return c}}},{117:117,81:81,82:82}],85:[function(e,t,i){var n=e(77),r=e(78),s=e(7),o=e(40).Reflect;t.exports=o&&o.ownKeys||function(e){var t=n.f(s(e)),i=r.f;return i?t.concat(i(e)):t}},{40:40,7:7,77:77,78:78}],86:[function(e,t,i){var n=e(40).parseFloat,r=e(111).trim;t.exports=1/n(e(112)+"-0")!=-1/0?function(e){var t=r(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},{111:111,112:112,40:40}],87:[function(e,t,i){var n=e(40).parseInt,r=e(111).trim,s=e(112),o=/^[-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(e,t){var i=r(String(e),3);return n(i,t>>>0||(o.test(i)?16:10))}:n},{111:111,112:112,40:40}],88:[function(e,t,i){"use strict";var n=e(89),r=e(46),s=e(3);t.exports=function(){for(var e=s(this),t=arguments.length,i=Array(t),o=0,a=n._,l=!1;t>o;)(i[o]=arguments[o++])===a&&(l=!0);return function(){var n,s=arguments.length,o=0,u=0;if(!l&&!s)return r(e,i,this);if(n=i.slice(),l)for(;t>o;o++)n[o]===a&&(n[o]=arguments[u++]);for(;s>u;)n.push(arguments[u++]);return r(e,n,this)}}},{3:3,46:46,89:89}],89:[function(e,t,i){t.exports=e(40)},{40:40}],90:[function(e,t,i){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],91:[function(e,t,i){var n=e(69);t.exports=function(e,t){var i=n.f(e);return(0,i.resolve)(t),i.promise}},{69:69}],92:[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,i){var n=e(94);t.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},{94:94}],94:[function(e,t,i){var n=e(40),r=e(42),s=e(41),o=e(124)("src"),a=Function.toString,l=(""+a).split("toString");e(23).inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,i,a){var u="function"==typeof i;u&&(s(i,"name")||r(i,"name",t)),e[t]!==i&&(u&&(s(i,o)||r(i,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},{124:124,23:23,40:40,41:41,42:42}],95:[function(e,t,i){t.exports=function(e,t){var i=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,i)}}},{}],96:[function(e,t,i){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],97:[function(e,t,i){"use strict";var n=e(33),r=e(3),s=e(25),o=e(39);t.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,a,l=arguments[1];return r(this),(t=void 0!==l)&&r(l),null==e?new this:(i=[],t?(n=0,a=s(l,arguments[2],2),o(e,!1,function(e){i.push(a(e,n++))})):o(e,!1,i.push,i),new this(i))}})}},{25:25,3:3,33:33,39:39}],98:[function(e,t,i){"use strict";var n=e(33);t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{33:33}],99:[function(e,t,i){var n=e(51),r=e(7),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=e(25)(Function.call,e(75).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(e){i=!0}return function(e,t){return s(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:s}},{25:25,51:51,7:7,75:75}],100:[function(e,t,i){"use strict";var n=e(40),r=e(72),s=e(29),o=e(128)("species");t.exports=function(e){var t=n[e];s&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(e,t,i){var n=e(72).f,r=e(41),s=e(128)("toStringTag");t.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{128:128,41:41,72:72}],102:[function(e,t,i){var n=e(103)("keys"),r=e(124);t.exports=function(e){return n[e]||(n[e]=r(e))}},{103:103,124:124}],103:[function(e,t,i){var n=e(40),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(e){return r[e]||(r[e]={})}},{40:40}],104:[function(e,t,i){var n=e(7),r=e(3),s=e(128)("species");t.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||null==(i=n(o)[s])?t:r(i)}},{128:128,3:3,7:7}],105:[function(e,t,i){"use strict";var n=e(35);t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{35:35}],106:[function(e,t,i){var n=e(116),r=e(28);t.exports=function(e){return function(t,i){var s,o,a=String(r(t)),l=n(i),u=a.length;return l<0||l>=u?e?"":void 0:(s=a.charCodeAt(l))<55296||s>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):s:e?a.slice(l,l+2):o-56320+(s-55296<<10)+65536}}},{116:116,28:28}],107:[function(e,t,i){var n=e(52),r=e(28);t.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},{28:28,52:52}],108:[function(e,t,i){var n=e(33),r=e(35),s=e(28),o=/"/g,a=function(e,t,i,n){var r=String(s(e)),a="<"+t;return""!==i&&(a+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),a+">"+r+"</"+t+">"};t.exports=function(e,t){var i={};i[e]=t(a),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},{28:28,33:33,35:35}],109:[function(e,t,i){var n=e(118),r=e(110),s=e(28);t.exports=function(e,t,i,o){var a=String(s(e)),l=a.length,u=void 0===i?" ":String(i),c=n(t);if(c<=l||""==u)return a;var h=c-l,p=r.call(u,Math.ceil(h/u.length));return p.length>h&&(p=p.slice(0,h)),o?p+a:a+p}},{110:110,118:118,28:28}],110:[function(e,t,i){"use strict";var n=e(116),r=e(28);t.exports=function(e){var t=String(r(this)),i="",s=n(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},{116:116,28:28}],111:[function(e,t,i){var n=e(33),r=e(28),s=e(35),o=e(112),a="["+o+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(e,t,i){var r={},a=s(function(){return!!o[e]()||"​"!="​"[e]()}),l=r[e]=a?t(h):o[e];i&&(r[i]=l),n(n.P+n.F*a,"String",r)},h=c.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};t.exports=c},{112:112,28:28,33:33,35:35}],112:[function(e,t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(e,t,i){var n,r,s,o=e(25),a=e(46),l=e(43),u=e(30),c=e(40),h=c.process,p=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};p&&d||(p=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return v[++g]=function(){a("function"==typeof e?e:Function(e),t)},n(g),g},d=function(e){delete v[e]},"process"==e(18)(h)?n=function(e){h.nextTick(o(y,e,1))}:m&&m.now?n=function(e){m.now(o(y,e,1))}:f?(s=(r=new f).port2,r.port1.onmessage=b,n=o(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),t.exports={set:p,clear:d}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(e,t,i){var n=e(116),r=Math.max,s=Math.min;t.exports=function(e,t){return(e=n(e))<0?r(e+t,0):s(e,t)}},{116:116}],115:[function(e,t,i){var n=e(116),r=e(118);t.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}},{116:116,118:118}],116:[function(e,t,i){var n=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},{}],117:[function(e,t,i){var n=e(47),r=e(28);t.exports=function(e){return n(r(e))}},{28:28,47:47}],118:[function(e,t,i){var n=e(116),r=Math.min;t.exports=function(e){return e>0?r(n(e),9007199254740991):0}},{116:116}],119:[function(e,t,i){var n=e(28);t.exports=function(e){return Object(n(e))}},{28:28}],120:[function(e,t,i){var n=e(51);t.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(e,t,i){"use strict";if(e(29)){var n=e(60),r=e(40),s=e(35),o=e(33),a=e(123),l=e(122),u=e(25),c=e(6),h=e(92),p=e(42),d=e(93),f=e(116),m=e(118),g=e(115),v=e(114),y=e(120),b=e(41),w=e(17),S=e(51),x=e(119),T=e(48),E=e(71),A=e(79),C=e(77).f,P=e(129),_=e(124),I=e(128),k=e(12),R=e(11),O=e(104),M=e(141),L=e(58),D=e(56),N=e(100),V=e(9),j=e(8),B=e(72),F=e(75),U=B.f,H=F.f,q=r.RangeError,G=r.TypeError,W=r.Uint8Array,z=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,Q=k(0),K=k(2),Z=k(3),J=k(4),$=k(5),ee=k(6),te=R(!0),ie=R(!1),ne=M.values,re=M.keys,se=M.entries,oe=z.lastIndexOf,ae=z.reduce,le=z.reduceRight,ue=z.join,ce=z.sort,he=z.slice,pe=z.toString,de=z.toLocaleString,fe=I("iterator"),me=I("toStringTag"),ge=_("typed_constructor"),ve=_("def_constructor"),ye=a.CONSTR,be=a.TYPED,we=a.VIEW,Se=k(1,function(e,t){return Ce(O(e,e[ve]),t)}),xe=s(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Te=!!W&&!!W.prototype.set&&s(function(){new W(1).set({})}),Ee=function(e,t){var i=f(e);if(i<0||i%t)throw q("Wrong offset!");return i},Ae=function(e){if(S(e)&&be in e)return e;throw G(e+" is not a typed array!")},Ce=function(e,t){if(!(S(e)&&ge in e))throw G("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return _e(O(e,e[ve]),t)},_e=function(e,t){for(var i=0,n=t.length,r=Ce(e,n);n>i;)r[i]=t[i++];return r},Ie=function(e,t,i){U(e,t,{get:function(){return this._d[i]}})},ke=function(e){var t,i,n,r,s,o,a=x(e),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,p=P(a);if(null!=p&&!T(p)){for(o=p.call(a),n=[],t=0;!(s=o.next()).done;t++)n.push(s.value);a=n}for(h&&l>2&&(c=u(c,arguments[2],2)),t=0,i=m(a.length),r=Ce(this,i);i>t;t++)r[t]=h?c(a[t],t):a[t];return r},Re=function(){for(var e=0,t=arguments.length,i=Ce(this,t);t>e;)i[e]=arguments[e++];return i},Oe=!!W&&s(function(){de.call(new W(1))}),Me=function(){return de.apply(Oe?he.call(Ae(this)):Ae(this),arguments)},Le={copyWithin:function(e,t){return j.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return V.apply(Ae(this),arguments)},filter:function(e){return Pe(this,K(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ie(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ae(this),arguments)},lastIndexOf:function(e){return oe.apply(Ae(this),arguments)},map:function(e){return Se(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ae.apply(Ae(this),arguments)},reduceRight:function(e){return le.apply(Ae(this),arguments)},reverse:function(){for(var e,t=this,i=Ae(t).length,n=Math.floor(i/2),r=0;r<n;)e=t[r],t[r++]=t[--i],t[i]=e;return t},some:function(e){return Z(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ae(this),e)},subarray:function(e,t){var i=Ae(this),n=i.length,r=v(e,n);return new(O(i,i[ve]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,m((void 0===t?n:v(t,n))-r))}},De=function(e,t){return Pe(this,he.call(Ae(this),e,t))},Ne=function(e){Ae(this);var t=Ee(arguments[1],1),i=this.length,n=x(e),r=m(n.length),s=0;if(r+t>i)throw q("Wrong length!");for(;s<r;)this[t+s]=n[s++]},Ve={entries:function(){return se.call(Ae(this))},keys:function(){return re.call(Ae(this))},values:function(){return ne.call(Ae(this))}},je=function(e,t){return S(e)&&e[be]&&"symbol"!=(void 0===t?"undefined":_typeof(t))&&t in e&&String(+t)==String(t)},Be=function(e,t){return je(e,t=y(t,!0))?h(2,e[t]):H(e,t)},Fe=function(e,t,i){return!(je(e,t=y(t,!0))&&S(i)&&b(i,"value"))||b(i,"get")||b(i,"set")||i.configurable||b(i,"writable")&&!i.writable||b(i,"enumerable")&&!i.enumerable?U(e,t,i):(e[t]=i.value,e)};ye||(F.f=Be,B.f=Fe),o(o.S+o.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Fe}),s(function(){pe.call({})})&&(pe=de=function(){return ue.call(this)});var Ue=d({},Le);d(Ue,Ve),p(Ue,fe,Ve.values),d(Ue,{slice:De,set:Ne,constructor:function(){},toString:pe,toLocaleString:Me}),Ie(Ue,"buffer","b"),Ie(Ue,"byteOffset","o"),Ie(Ue,"byteLength","l"),Ie(Ue,"length","e"),U(Ue,me,{get:function(){return this[be]}}),t.exports=function(e,t,i,l){var u=e+((l=!!l)?"Clamped":"")+"Array",h="get"+e,d="set"+e,f=r[u],v=f||{},y=f&&A(f),b=!f||!a.ABV,x={},T=f&&f.prototype,P=function(e,i){U(e,i,{get:function(){return e=i,(n=this._d).v[h](e*t+n.o,xe);var e,n},set:function(e){return n=i,r=e,s=this._d,l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),void s.v[d](n*t+s.o,r,xe);var n,r,s},enumerable:!0})};b?(f=i(function(e,i,n,r){c(e,f,u,"_d");var s,o,a,l,h=0,d=0;if(S(i)){if(!(i instanceof Y||"ArrayBuffer"==(l=w(i))||"SharedArrayBuffer"==l))return be in i?_e(f,i):ke.call(f,i);s=i,d=Ee(n,t);var v=i.byteLength;if(void 0===r){if(v%t)throw q("Wrong length!");if((o=v-d)<0)throw q("Wrong length!")}else if((o=m(r)*t)+d>v)throw q("Wrong length!");a=o/t}else a=g(i),s=new Y(o=a*t);for(p(e,"_d",{b:s,o:d,l:o,e:a,v:new X(s)});h<a;)P(e,h++)}),T=f.prototype=E(Ue),p(T,"constructor",f)):s(function(){f(1)})&&s(function(){new f(-1)})&&D(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=i(function(e,i,n,r){var s;return c(e,f,u),S(i)?i instanceof Y||"ArrayBuffer"==(s=w(i))||"SharedArrayBuffer"==s?void 0!==r?new v(i,Ee(n,t),r):void 0!==n?new v(i,Ee(n,t)):new v(i):be in i?_e(f,i):ke.call(f,i):new v(g(i))}),Q(y!==Function.prototype?C(v).concat(C(y)):C(v),function(e){e in f||p(f,e,v[e])}),f.prototype=T,n||(T.constructor=f));var _=T[fe],I=!!_&&("values"==_.name||null==_.name),k=Ve.values;p(f,ge,!0),p(T,be,u),p(T,we,!0),p(T,ve,f),(l?new f(1)[me]==u:me in T)||U(T,me,{get:function(){return u}}),x[u]=f,o(o.G+o.W+o.F*(f!=v),x),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*s(function(){v.of.call(f,1)}),u,{from:ke,of:Re}),"BYTES_PER_ELEMENT"in T||p(T,"BYTES_PER_ELEMENT",t),o(o.P,u,Le),N(u),o(o.P+o.F*Te,u,{set:Ne}),o(o.P+o.F*!I,u,Ve),n||T.toString==pe||(T.toString=pe),o(o.P+o.F*s(function(){new f(1).slice()}),u,{slice:De}),o(o.P+o.F*(s(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!s(function(){T.toLocaleString.call([1,2])})),u,{toLocaleString:Me}),L[u]=I?_:k,n||I||p(T,fe,k)}}else t.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(e,t,i){"use strict";function n(e,t,i){var n,r,s,o=Array(i),a=8*i-t-1,l=(1<<a)-1,u=l>>1,c=23===t?j(2,-24)-j(2,-77):0,h=0,p=e<0||0===e&&1/e<0?1:0;for((e=V(e))!=e||e===D?(r=e!=e?1:0,n=l):(n=B(F(e)/U),e*(s=j(2,-n))<1&&(n--,s*=2),(e+=n+u>=1?c/s:c*j(2,1-u))*s>=2&&(n++,s/=2),n+u>=l?(r=0,n=l):n+u>=1?(r=(e*s-1)*j(2,t),n+=u):(r=e*j(2,u-1)*j(2,t),n=0));t>=8;o[h++]=255&r,r/=256,t-=8);for(n=n<<t|r,a+=t;a>0;o[h++]=255&n,n/=256,a-=8);return o[--h]|=128*p,o}function r(e,t,i){var n,r=8*i-t-1,s=(1<<r)-1,o=s>>1,a=r-7,l=i-1,u=e[l--],c=127&u;for(u>>=7;a>0;c=256*c+e[l],l--,a-=8);for(n=c&(1<<-a)-1,c>>=-a,a+=t;a>0;n=256*n+e[l],l--,a-=8);if(0===c)c=1-o;else{if(c===s)return n?NaN:u?-D:D;n+=j(2,t),c-=o}return(u?-1:1)*n*j(2,c-t)}function s(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function a(e){return[255&e,e>>8&255]}function l(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return n(e,52,8)}function c(e){return n(e,23,4)}function h(e,t,i){C(e[I],t,{get:function(){return this[i]}})}function p(e,t,i,n){var r=E(+i);if(r+t>e[q])throw L(k);var s=e[H]._b,o=r+e[G],a=s.slice(o,o+t);return n?a:a.reverse()}function d(e,t,i,n,r,s){var o=E(+i);if(o+t>e[q])throw L(k);for(var a=e[H]._b,l=o+e[G],u=n(+r),c=0;c<t;c++)a[l+c]=u[s?c:t-c-1]}var f=e(40),m=e(29),g=e(60),v=e(123),y=e(42),b=e(93),w=e(35),S=e(6),x=e(116),T=e(118),E=e(115),A=e(77).f,C=e(72).f,P=e(9),_=e(101),I="prototype",k="Wrong index!",R=f.ArrayBuffer,O=f.DataView,M=f.Math,L=f.RangeError,D=f.Infinity,N=R,V=M.abs,j=M.pow,B=M.floor,F=M.log,U=M.LN2,H=m?"_b":"buffer",q=m?"_l":"byteLength",G=m?"_o":"byteOffset";if(v.ABV){if(!w(function(){R(1)})||!w(function(){new R(-1)})||w(function(){return new R,new R(1.5),new R(NaN),"ArrayBuffer"!=R.name})){for(var W,z=(R=function(e){return S(this,R),new N(E(e))})[I]=N[I],Y=A(N),X=0;Y.length>X;)(W=Y[X++])in R||y(R,W,N[W]);g||(z.constructor=R)}var Q=new O(new R(2)),K=O[I].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||b(O[I],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else R=function(e){S(this,R,"ArrayBuffer");var t=E(e);this._b=P.call(Array(t),0),this[q]=t},O=function(e,t,i){S(this,O,"DataView"),S(e,R,"DataView");var n=e[q],r=x(t);if(r<0||r>n)throw L("Wrong offset!");if(r+(i=void 0===i?n-r:T(i))>n)throw L("Wrong length!");this[H]=e,this[G]=r,this[q]=i},m&&(h(R,"byteLength","_l"),h(O,"buffer","_b"),h(O,"byteLength","_l"),h(O,"byteOffset","_o")),b(O[I],{getInt8:function(e){return p(this,1,e)[0]<<24>>24},getUint8:function(e){return p(this,1,e)[0]},getInt16:function(e){var t=p(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=p(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return s(p(this,4,e,arguments[1]))},getUint32:function(e){return s(p(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(p(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(p(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){d(this,1,e,o,t)},setUint8:function(e,t){d(this,1,e,o,t)},setInt16:function(e,t){d(this,2,e,a,t,arguments[2])},setUint16:function(e,t){d(this,2,e,a,t,arguments[2])},setInt32:function(e,t){d(this,4,e,l,t,arguments[2])},setUint32:function(e,t){d(this,4,e,l,t,arguments[2])},setFloat32:function(e,t){d(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){d(this,8,e,u,t,arguments[2])}});_(R,"ArrayBuffer"),_(O,"DataView"),y(O[I],v.VIEW,!0),i.ArrayBuffer=R,i.DataView=O},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(e,t,i){for(var n,r=e(40),s=e(42),o=e(124),a=o("typed_array"),l=o("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=r[p[h++]])?(s(n.prototype,a,!0),s(n.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{124:124,40:40,42:42}],124:[function(e,t,i){var n=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},{}],125:[function(e,t,i){var n=e(51);t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{51:51}],126:[function(e,t,i){var n=e(40),r=e(23),s=e(60),o=e(127),a=e(72).f;t.exports=function(e){var t=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(e,t,i){i.f=e(128)},{128:128}],128:[function(e,t,i){var n=e(103)("wks"),r=e(124),s=e(40).Symbol,o="function"==typeof s;(t.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:r)("Symbol."+e))}).store=n},{103:103,124:124,40:40}],129:[function(e,t,i){var n=e(17),r=e(128)("iterator"),s=e(58);t.exports=e(23).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||s[n(e)]}},{128:128,17:17,23:23,58:58}],130:[function(e,t,i){var n=e(33),r=e(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return r(e)}})},{33:33,95:95}],131:[function(e,t,i){var n=e(33);n(n.P,"Array",{copyWithin:e(8)}),e(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(e,t,i){"use strict";var n=e(33),r=e(12)(4);n(n.P+n.F*!e(105)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],133:[function(e,t,i){var n=e(33);n(n.P,"Array",{fill:e(9)}),e(5)("fill")},{33:33,5:5,9:9}],134:[function(e,t,i){"use strict";var n=e(33),r=e(12)(2);n(n.P+n.F*!e(105)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],135:[function(e,t,i){"use strict";var n=e(33),r=e(12)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)(s)},{12:12,33:33,5:5}],136:[function(e,t,i){"use strict";var n=e(33),r=e(12)(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)("find")},{12:12,33:33,5:5}],137:[function(e,t,i){"use strict";var n=e(33),r=e(12)(0),s=e(105)([].forEach,!0);n(n.P+n.F*!s,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],138:[function(e,t,i){"use strict";var n=e(25),r=e(33),s=e(119),o=e(53),a=e(48),l=e(118),u=e(24),c=e(129);r(r.S+r.F*!e(56)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,h,p=s(e),d="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(p);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),null==y||d==Array&&a(y))for(i=new d(t=l(p.length));t>v;v++)u(i,v,g?m(p[v],v):p[v]);else for(h=y.call(p),i=new d;!(r=h.next()).done;v++)u(i,v,g?o(h,m,[r.value,v],!0):r.value);return i.length=v,i}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(e,t,i){"use strict";var n=e(33),r=e(11)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!e(105)(s)),"Array",{indexOf:function(e){return o?s.apply(this,arguments)||0:r(this,e,arguments[1])}})},{105:105,11:11,33:33}],140:[function(e,t,i){var n=e(33);n(n.S,"Array",{isArray:e(49)})},{33:33,49:49}],141:[function(e,t,i){"use strict";var n=e(5),r=e(57),s=e(58),o=e(117);t.exports=e(55)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(e,t,i){"use strict";var n=e(33),r=e(117),s=[].join;n(n.P+n.F*(e(47)!=Object||!e(105)(s)),"Array",{join:function(e){return s.call(r(this),void 0===e?",":e)}})},{105:105,117:117,33:33,47:47}],143:[function(e,t,i){"use strict";var n=e(33),r=e(117),s=e(116),o=e(118),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!e(105)(a)),"Array",{lastIndexOf:function(e){if(l)return a.apply(this,arguments)||0;var t=r(this),i=o(t.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,s(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(e,t,i){"use strict";var n=e(33),r=e(12)(1);n(n.P+n.F*!e(105)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],145:[function(e,t,i){"use strict";var n=e(33),r=e(24);n(n.S+n.F*e(35)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)r(i,e,arguments[e++]);return i.length=t,i}})},{24:24,33:33,35:35}],146:[function(e,t,i){"use strict";var n=e(33),r=e(13);n(n.P+n.F*!e(105)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(e,t,i){"use strict";var n=e(33),r=e(13);n(n.P+n.F*!e(105)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(e,t,i){"use strict";var n=e(33),r=e(43),s=e(18),o=e(114),a=e(118),l=[].slice;n(n.P+n.F*e(35)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var i=a(this.length),n=s(this);if(t=void 0===t?i:t,"Array"==n)return l.call(this,e,t);for(var r=o(e,i),u=o(t,i),c=a(u-r),h=Array(c),p=0;p<c;p++)h[p]="String"==n?this.charAt(r+p):this[r+p];return h}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(e,t,i){"use strict";var n=e(33),r=e(12)(3);n(n.P+n.F*!e(105)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],150:[function(e,t,i){"use strict";var n=e(33),r=e(3),s=e(119),o=e(35),a=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!e(105)(a)),"Array",{sort:function(e){return void 0===e?a.call(s(this)):a.call(s(this),r(e))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(e,t,i){e(100)("Array")},{100:100}],152:[function(e,t,i){var n=e(33);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(e,t,i){var n=e(33),r=e(26);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(e,t,i){"use strict";var n=e(33),r=e(119),s=e(120);n(n.P+n.F*e(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),i=s(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(e,t,i){var n=e(128)("toPrimitive"),r=Date.prototype;n in r||e(42)(r,n,e(27))},{128:128,27:27,42:42}],156:[function(e,t,i){var n=Date.prototype,r=n.toString,s=n.getTime;new Date(NaN)+""!="Invalid Date"&&e(94)(n,"toString",function(){var e=s.call(this);return e==e?r.call(this):"Invalid Date"})},{94:94}],157:[function(e,t,i){var n=e(33);n(n.P,"Function",{bind:e(16)})},{16:16,33:33}],158:[function(e,t,i){"use strict";var n=e(51),r=e(79),s=e(128)("hasInstance"),o=Function.prototype;s in o||e(72).f(o,s,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(e,t,i){var n=e(72).f,r=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in r||e(29)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},{29:29,72:72}],160:[function(e,t,i){"use strict";var n=e(19),r=e(125);t.exports=e(22)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},{125:125,19:19,22:22}],161:[function(e,t,i){var n=e(33),r=e(63),s=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+s(e-1)*s(e+1))}})},{33:33,63:63}],162:[function(e,t,i){var n=e(33),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{33:33}],163:[function(e,t,i){var n=e(33),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{33:33}],164:[function(e,t,i){var n=e(33),r=e(65);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},{33:33,65:65}],165:[function(e,t,i){var n=e(33);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{33:33}],166:[function(e,t,i){var n=e(33),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},{33:33}],167:[function(e,t,i){var n=e(33),r=e(61);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(e,t,i){var n=e(33);n(n.S,"Math",{fround:e(62)})},{33:33,62:62}],169:[function(e,t,i){var n=e(33),r=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,s=0,o=0,a=arguments.length,l=0;o<a;)l<(i=r(arguments[o++]))?(s=s*(n=l/i)*n+1,l=i):i>0?s+=(n=i/l)*n:s+=i;return l===1/0?1/0:l*Math.sqrt(s)}})},{33:33}],170:[function(e,t,i){var n=e(33),r=Math.imul;n(n.S+n.F*e(35)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var i=+e,n=+t,r=65535&i,s=65535&n;return 0|r*s+((65535&i>>>16)*s+r*(65535&n>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(e,t,i){var n=e(33);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{33:33}],172:[function(e,t,i){var n=e(33);n(n.S,"Math",{log1p:e(63)})},{33:33,63:63}],173:[function(e,t,i){var n=e(33);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{33:33}],174:[function(e,t,i){var n=e(33);n(n.S,"Math",{sign:e(65)})},{33:33,65:65}],175:[function(e,t,i){var n=e(33),r=e(61),s=Math.exp;n(n.S+n.F*e(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(s(e-1)-s(-e-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(e,t,i){var n=e(33),r=e(61),s=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),i=r(-e);return t==1/0?1:i==1/0?-1:(t-i)/(s(e)+s(-e))}})},{33:33,61:61}],177:[function(e,t,i){var n=e(33);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{33:33}],178:[function(e,t,i){"use strict";var n=e(40),r=e(41),s=e(18),o=e(45),a=e(120),l=e(35),u=e(77).f,c=e(75).f,h=e(72).f,p=e(111).trim,d=n.Number,f=d,m=d.prototype,g="Number"==s(e(71)(m)),v="trim"in String.prototype,y=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){var i,n,r,s=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if((o=l.charCodeAt(u))<48||o>r)return NaN;return parseInt(l,n)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof d&&(g?l(function(){m.valueOf.call(i)}):"Number"!=s(i))?o(new f(y(t)),i,d):y(t)};for(var b,w=e(29)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)r(f,b=w[S])&&!r(d,b)&&h(d,b,c(f,b));d.prototype=m,m.constructor=d,e(94)(n,"Number",d)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(e,t,i){var n=e(33);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(e,t,i){var n=e(33),r=e(40).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},{33:33,40:40}],181:[function(e,t,i){var n=e(33);n(n.S,"Number",{isInteger:e(50)})},{33:33,50:50}],182:[function(e,t,i){var n=e(33);n(n.S,"Number",{isNaN:function(e){return e!=e}})},{33:33}],183:[function(e,t,i){var n=e(33),r=e(50),s=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&s(e)<=9007199254740991}})},{33:33,50:50}],184:[function(e,t,i){var n=e(33);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(e,t,i){var n=e(33);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(e,t,i){var n=e(33),r=e(86);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(e,t,i){var n=e(33),r=e(87);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(e,t,i){"use strict";var n=e(33),r=e(116),s=e(4),o=e(110),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*u[i],u[i]=n%1e7,n=l(n/1e7)},p=function(e){for(var t=6,i=0;--t>=0;)i+=u[t],u[t]=l(i/e),i=i%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var i=String(u[e]);t=""===t?i:t+o.call("0",7-i.length)+i}return t},f=function e(t,i,n){return 0===i?n:i%2==1?e(t,i-1,n*t):e(t*t,i/2,n)};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(35)(function(){a.call({})})),"Number",{toFixed:function(e){var t,i,n,a,l=s(this,c),u=r(e),m="",g="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(l*f(2,69,1))-69)<0?l*f(2,-t,1):l/f(2,t,1),i*=4503599627370496,(t=52-t)>0){for(h(0,i),n=u;n>=7;)h(1e7,0),n-=7;for(h(f(10,n,1),0),n=t-1;n>=23;)p(1<<23),n-=23;p(1<<n),h(1,1),p(2),g=d()}else h(0,i),h(1<<-t,0),g=d()+o.call("0",u);return u>0?g=m+((a=g.length)<=u?"0."+o.call("0",u-a)+g:g.slice(0,a-u)+"."+g.slice(a-u)):g=m+g,g}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(e,t,i){"use strict";var n=e(33),r=e(35),s=e(4),o=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(e){var t=s(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},{33:33,35:35,4:4}],190:[function(e,t,i){var n=e(33);n(n.S+n.F,"Object",{assign:e(70)})},{33:33,70:70}],191:[function(e,t,i){var n=e(33);n(n.S,"Object",{create:e(71)})},{33:33,71:71}],192:[function(e,t,i){var n=e(33);n(n.S+n.F*!e(29),"Object",{defineProperties:e(73)})},{29:29,33:33,73:73}],193:[function(e,t,i){var n=e(33);n(n.S+n.F*!e(29),"Object",{defineProperty:e(72).f})},{29:29,33:33,72:72}],194:[function(e,t,i){var n=e(51),r=e(66).onFreeze;e(83)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},{51:51,66:66,83:83}],195:[function(e,t,i){var n=e(117),r=e(75).f;e(83)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},{117:117,75:75,83:83}],196:[function(e,t,i){e(83)("getOwnPropertyNames",function(){return e(76).f})},{76:76,83:83}],197:[function(e,t,i){var n=e(119),r=e(79);e(83)("getPrototypeOf",function(){return function(e){return r(n(e))}})},{119:119,79:79,83:83}],198:[function(e,t,i){var n=e(51);e(83)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},{51:51,83:83}],199:[function(e,t,i){var n=e(51);e(83)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{51:51,83:83}],200:[function(e,t,i){var n=e(51);e(83)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},{51:51,83:83}],201:[function(e,t,i){var n=e(33);n(n.S,"Object",{is:e(96)})},{33:33,96:96}],202:[function(e,t,i){var n=e(119),r=e(81);e(83)("keys",function(){return function(e){return r(n(e))}})},{119:119,81:81,83:83}],203:[function(e,t,i){var n=e(51),r=e(66).onFreeze;e(83)("preventExtensions",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},{51:51,66:66,83:83}],204:[function(e,t,i){var n=e(51),r=e(66).onFreeze;e(83)("seal",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},{51:51,66:66,83:83}],205:[function(e,t,i){var n=e(33);n(n.S,"Object",{setPrototypeOf:e(99).set})},{33:33,99:99}],206:[function(e,t,i){"use strict";var n=e(17),r={};r[e(128)("toStringTag")]="z",r+""!="[object z]"&&e(94)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{128:128,17:17,94:94}],207:[function(e,t,i){var n=e(33),r=e(86);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(e,t,i){var n=e(33),r=e(87);n(n.G+n.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(e,t,i){"use strict";var n,r,s,o,a=e(60),l=e(40),u=e(25),c=e(17),h=e(33),p=e(51),d=e(3),f=e(6),m=e(39),g=e(104),v=e(113).set,y=e(68)(),b=e(69),w=e(90),S=e(91),x=l.TypeError,T=l.process,E=l.Promise,A="process"==c(T),C=function(){},P=r=b.f,_=!!function(){try{var t=E.resolve(1),i=(t.constructor={})[e(128)("species")]=function(e){e(C,C)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof i}catch(e){}}(),I=a?function(e,t){return e===t||e===E&&t===o}:function(e,t){return e===t},k=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var i=e._c;y(function(){for(var n=e._v,r=1==e._s,s=0;i.length>s;)!function(t){var i,s,o=r?t.ok:t.fail,a=t.resolve,l=t.reject,u=t.domain;try{o?(r||(2==e._h&&L(e),e._h=1),!0===o?i=n:(u&&u.enter(),i=o(n),u&&u.exit()),i===t.promise?l(x("Promise-chain cycle")):(s=k(i))?s.call(i,a,l):a(i)):l(n)}catch(e){l(e)}}(i[s++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){v.call(l,function(){var t,i,n,r=e._v,s=M(e);if(s&&(t=w(function(){A?T.emit("unhandledRejection",r,e):(i=l.onunhandledrejection)?i({promise:e,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=A||M(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},M=function e(t){if(1==t._h)return!1;for(var i,n=t._a||t._c,r=0;n.length>r;)if((i=n[r++]).fail||!e(i.promise))return!1;return!0},L=function(e){v.call(l,function(){var t;A?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function e(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(i=k(t))?y(function(){var r={_w:n,_d:!1};try{i.call(t,u(e,r,1),u(D,r,1))}catch(e){D.call(r,e)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};_||(E=function(e){f(this,E,"Promise","_h"),d(e),n.call(this);try{e(u(N,this,1),u(D,this,1))}catch(e){D.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(93)(E.prototype,{then:function(e,t){var i=P(g(this,E));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=A?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&R(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=u(N,e,1),this.reject=u(D,e,1)},b.f=P=function(e){return I(E,e)?new s(e):r(e)}),h(h.G+h.W+h.F*!_,{Promise:E}),e(101)(E,"Promise"),e(100)("Promise"),o=e(23).Promise,h(h.S+h.F*!_,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(a||!_),"Promise",{resolve:function(e){return e instanceof E&&I(e.constructor,this)?e:S(this,e)}}),h(h.S+h.F*!(_&&e(56)(function(e){E.all(e).catch(C)})),"Promise",{all:function(e){var t=this,i=P(t),n=i.resolve,r=i.reject,s=w(function(){var i=[],s=0,o=1;m(e,!1,function(e){var a=s++,l=!1;i.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,i[a]=e,--o||n(i))},r)}),--o||n(i)});return s.e&&r(s.v),i.promise},race:function(e){var t=this,i=P(t),n=i.reject,r=w(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(e,t,i){var n=e(33),r=e(3),s=e(7),o=(e(40).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!e(35)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var n=r(e),l=s(i);return o?o(n,t,l):a.call(n,t,l)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(e,t,i){var n=e(33),r=e(71),s=e(3),o=e(7),a=e(51),l=e(35),u=e(16),c=(e(40).Reflect||{}).construct,h=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),p=!l(function(){c(function(){})});n(n.S+n.F*(h||p),"Reflect",{construct:function(e,t){s(e),o(t);var i=arguments.length<3?e:s(arguments[2]);if(p&&!h)return c(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var l=i.prototype,d=r(a(l)?l:Object.prototype),f=Function.apply.call(e,d,t);return a(f)?f:d}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(e,t,i){var n=e(72),r=e(33),s=e(7),o=e(120);r(r.S+r.F*e(35)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){s(e),t=o(t,!0),s(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(e,t,i){var n=e(33),r=e(75).f,s=e(7);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=r(s(e),t);return!(i&&!i.configurable)&&delete e[t]}})},{33:33,7:7,75:75}],214:[function(e,t,i){"use strict";var n=e(33),r=e(7),s=function(e){this._t=r(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};e(54)(s,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new s(e)}})},{33:33,54:54,7:7}],215:[function(e,t,i){var n=e(75),r=e(33),s=e(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(s(e),t)}})},{33:33,7:7,75:75}],216:[function(e,t,i){var n=e(33),r=e(79),s=e(7);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(s(e))}})},{33:33,7:7,79:79}],217:[function(e,t,i){var n=e(75),r=e(79),s=e(41),o=e(33),a=e(51),l=e(7);o(o.S,"Reflect",{get:function e(t,i){var o,u,c=arguments.length<3?t:arguments[2];return l(t)===c?t[i]:(o=n.f(t,i))?s(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:a(u=r(t))?e(u,i,c):void 0}})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(e,t,i){var n=e(33);n(n.S,"Reflect",{has:function(e,t){return t in e}})},{33:33}],219:[function(e,t,i){var n=e(33),r=e(7),s=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!s||s(e)}})},{33:33,7:7}],220:[function(e,t,i){var n=e(33);n(n.S,"Reflect",{ownKeys:e(85)})},{33:33,85:85}],221:[function(e,t,i){var n=e(33),r=e(7),s=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return s&&s(e),!0}catch(e){return!1}}})},{33:33,7:7}],222:[function(e,t,i){var n=e(33),r=e(99);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},{33:33,99:99}],223:[function(e,t,i){var n=e(72),r=e(75),s=e(79),o=e(41),a=e(33),l=e(92),u=e(7),c=e(51);a(a.S,"Reflect",{set:function e(t,i,a){var h,p,d=arguments.length<4?t:arguments[3],f=r.f(u(t),i);if(!f){if(c(p=s(t)))return e(p,i,a,d);f=l(0)}return o(f,"value")?!(!1===f.writable||!c(d)||(h=r.f(d,i)||l(0),h.value=a,n.f(d,i,h),0)):void 0!==f.set&&(f.set.call(d,a),!0)}})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(e,t,i){var n=e(40),r=e(45),s=e(72).f,o=e(77).f,a=e(52),l=e(37),u=n.RegExp,c=u,h=u.prototype,p=/a/g,d=/a/g,f=new u(p)!==p;if(e(29)&&(!f||e(35)(function(){return d[e(128)("match")]=!1,u(p)!=p||u(d)==d||"/a/i"!=u(p,"i")}))){u=function(e,t){var i=this instanceof u,n=a(e),s=void 0===t;return!i&&n&&e.constructor===u&&s?e:r(f?new c(n&&!s?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&s?l.call(e):t),i?this:h,u)};for(var m=o(c),g=0;m.length>g;)!function(e){e in u||s(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(m[g++]);h.constructor=u,u.prototype=h,e(94)(n,"RegExp",u)}e(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(e,t,i){e(29)&&"g"!=/./g.flags&&e(72).f(RegExp.prototype,"flags",{configurable:!0,get:e(37)})},{29:29,37:37,72:72}],226:[function(e,t,i){e(36)("match",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=null==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},{36:36}],227:[function(e,t,i){e(36)("replace",2,function(e,t,i){return[function(n,r){"use strict";var s=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,s,r):i.call(String(s),n,r)},i]})},{36:36}],228:[function(e,t,i){e(36)("search",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=null==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},{36:36}],229:[function(e,t,i){e(36)("split",2,function(t,i,n){"use strict";var r=e(52),s=n,o=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var l=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return s.call(i,e,t);var n,u,c,h,p,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(l||(n=new RegExp("^"+v.source+"$(?!\\s)",f));(u=v.exec(i))&&!((c=u.index+u[0][a])>m&&(d.push(i.slice(m,u.index)),!l&&u[a]>1&&u[0].replace(n,function(){for(p=1;p<arguments[a]-2;p++)void 0===arguments[p]&&(u[p]=void 0)}),u[a]>1&&u.index<i[a]&&o.apply(d,u.slice(1)),h=u[0][a],m=c,d[a]>=g));)v.lastIndex===u.index&&v.lastIndex++;return m===i[a]?!h&&v.test("")||d.push(""):d.push(i.slice(m)),d[a]>g?d.slice(0,g):d}}else"0".split(void 0,0)[a]&&(n=function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)});return[function(e,r){var s=t(this),o=null==e?void 0:e[i];return void 0!==o?o.call(e,s,r):n.call(String(s),e,r)},n]})},{36:36,52:52}],230:[function(e,t,i){"use strict";e(225);var n=e(7),r=e(37),s=e(29),o=/./.toString,a=function(t){e(94)(RegExp.prototype,"toString",t,!0)};e(35)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(e,t,i){"use strict";var n=e(19),r=e(125);t.exports=e(22)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},{125:125,19:19,22:22}],232:[function(e,t,i){"use strict";e(108)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{108:108}],233:[function(e,t,i){"use strict";e(108)("big",function(e){return function(){return e(this,"big","","")}})},{108:108}],234:[function(e,t,i){"use strict";e(108)("blink",function(e){return function(){return e(this,"blink","","")}})},{108:108}],235:[function(e,t,i){"use strict";e(108)("bold",function(e){return function(){return e(this,"b","","")}})},{108:108}],236:[function(e,t,i){"use strict";var n=e(33),r=e(106)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},{106:106,33:33}],237:[function(e,t,i){"use strict";var n=e(33),r=e(118),s=e(107),o="".endsWith;n(n.P+n.F*e(34)("endsWith"),"String",{endsWith:function(e){var t=s(this,e,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(t.length),a=void 0===i?n:Math.min(r(i),n),l=String(e);return o?o.call(t,l,a):t.slice(a-l.length,a)===l}})},{107:107,118:118,33:33,34:34}],238:[function(e,t,i){"use strict";e(108)("fixed",function(e){return function(){return e(this,"tt","","")}})},{108:108}],239:[function(e,t,i){"use strict";e(108)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{108:108}],240:[function(e,t,i){"use strict";e(108)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{108:108}],241:[function(e,t,i){var n=e(33),r=e(114),s=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},{114:114,33:33}],242:[function(e,t,i){"use strict";var n=e(33),r=e(107);n(n.P+n.F*e(34)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(e,t,i){"use strict";e(108)("italics",function(e){return function(){return e(this,"i","","")}})},{108:108}],244:[function(e,t,i){"use strict";var n=e(106)(!0);e(55)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},{106:106,55:55}],245:[function(e,t,i){"use strict";e(108)("link",function(e){return function(t){return e(this,"a","href",t)}})},{108:108}],246:[function(e,t,i){var n=e(33),r=e(117),s=e(118);n(n.S,"String",{raw:function(e){for(var t=r(e.raw),i=s(t.length),n=arguments.length,o=[],a=0;i>a;)o.push(String(t[a++])),a<n&&o.push(String(arguments[a]));return o.join("")}})},{117:117,118:118,33:33}],247:[function(e,t,i){var n=e(33);n(n.P,"String",{repeat:e(110)})},{110:110,33:33}],248:[function(e,t,i){"use strict";e(108)("small",function(e){return function(){return e(this,"small","","")}})},{108:108}],249:[function(e,t,i){"use strict";var n=e(33),r=e(118),s=e(107),o="".startsWith;n(n.P+n.F*e(34)("startsWith"),"String",{startsWith:function(e){var t=s(this,e,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,i):t.slice(i,i+n.length)===n}})},{107:107,118:118,33:33,34:34}],250:[function(e,t,i){"use strict";e(108)("strike",function(e){return function(){return e(this,"strike","","")}})},{108:108}],251:[function(e,t,i){"use strict";e(108)("sub",function(e){return function(){return e(this,"sub","","")}})},{108:108}],252:[function(e,t,i){"use strict";e(108)("sup",function(e){return function(){return e(this,"sup","","")}})},{108:108}],253:[function(e,t,i){"use strict";e(111)("trim",function(e){return function(){return e(this,3)}})},{111:111}],254:[function(e,t,i){"use strict";var n=e(40),r=e(41),s=e(29),o=e(33),a=e(94),l=e(66).KEY,u=e(35),c=e(103),h=e(101),p=e(124),d=e(128),f=e(127),m=e(126),g=e(59),v=e(32),y=e(49),b=e(7),w=e(117),S=e(120),x=e(92),T=e(71),E=e(76),A=e(75),C=e(72),P=e(81),_=A.f,I=C.f,k=E.f,R=n.Symbol,O=n.JSON,M=O&&O.stringify,L=d("_hidden"),D=d("toPrimitive"),N={}.propertyIsEnumerable,V=c("symbol-registry"),j=c("symbols"),B=c("op-symbols"),F=Object.prototype,U="function"==typeof R,H=n.QObject,q=!H||!H.prototype||!H.prototype.findChild,G=s&&u(function(){return 7!=T(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=_(F,t);n&&delete F[t],I(e,t,i),n&&e!==F&&I(F,t,n)}:I,W=function(e){var t=j[e]=T(R.prototype);return t._k=e,t},z=U&&"symbol"==_typeof(R.iterator)?function(e){return"symbol"==(void 0===e?"undefined":_typeof(e))}:function(e){return e instanceof R},Y=function(e,t,i){return e===F&&Y(B,t,i),b(e),t=S(t,!0),b(i),r(j,t)?(i.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),i=T(i,{enumerable:x(0,!1)})):(r(e,L)||I(e,L,x(1,{})),e[L][t]=!0),G(e,t,i)):I(e,t,i)},X=function(e,t){b(e);for(var i,n=v(t=w(t)),r=0,s=n.length;s>r;)Y(e,i=n[r++],t[i]);return e},Q=function(e){var t=N.call(this,e=S(e,!0));return!(this===F&&r(j,e)&&!r(B,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,L)&&this[L][e])||t)},K=function(e,t){if(e=w(e),t=S(t,!0),e!==F||!r(j,t)||r(B,t)){var i=_(e,t);return!i||!r(j,t)||r(e,L)&&e[L][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=k(w(e)),n=[],s=0;i.length>s;)r(j,t=i[s++])||t==L||t==l||n.push(t);return n},J=function(e){for(var t,i=e===F,n=k(i?B:w(e)),s=[],o=0;n.length>o;)!r(j,t=n[o++])||i&&!r(F,t)||s.push(j[t]);return s};U||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0);return s&&q&&G(F,e,{configurable:!0,set:function t(i){this===F&&t.call(B,i),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),G(this,e,x(1,i))}}),W(e)}).prototype,"toString",function(){return this._k}),A.f=K,C.f=Y,e(77).f=E.f=Z,e(82).f=Q,e(78).f=J,s&&!e(60)&&a(F,"propertyIsEnumerable",Q,!0),f.f=function(e){return W(d(e))}),o(o.G+o.W+o.F*!U,{Symbol:R});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)d($[ee++]);for(var te=P(d.store),ie=0;te.length>ie;)m(te[ie++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return r(V,e+="")?V[e]:V[e]=R(e)},keyFor:function(e){if(z(e))return g(V,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!U,"Object",{create:function(e,t){return void 0===t?T(e):X(T(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),O&&o(o.S+o.F*(!U||u(function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!z(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(t=n[1])&&(i=t),!i&&y(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!z(t))return t}),n[1]=t,M.apply(O,n)}}}),R.prototype[D]||e(42)(R.prototype,D,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(e,t,i){"use strict";var n=e(33),r=e(123),s=e(122),o=e(7),a=e(114),l=e(118),u=e(51),c=e(40).ArrayBuffer,h=e(104),p=s.ArrayBuffer,d=s.DataView,f=r.ABV&&c.isView,m=p.prototype.slice,g=r.VIEW;n(n.G+n.W+n.F*(c!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||u(e)&&g in e}}),n(n.P+n.U+n.F*e(35)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var i=o(this).byteLength,n=a(e,i),r=a(void 0===t?i:t,i),s=new(h(this,p))(l(r-n)),u=new d(this),c=new d(s),f=0;n<r;)c.setUint8(f++,u.getUint8(n++));return s}}),e(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(e,t,i){var n=e(33);n(n.G+n.W+n.F*!e(123).ABV,{DataView:e(122).DataView})},{122:122,123:123,33:33}],257:[function(e,t,i){e(121)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],258:[function(e,t,i){e(121)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],259:[function(e,t,i){e(121)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],260:[function(e,t,i){e(121)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],261:[function(e,t,i){e(121)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],262:[function(e,t,i){e(121)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],263:[function(e,t,i){e(121)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],264:[function(e,t,i){e(121)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},{121:121}],265:[function(e,t,i){e(121)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},{121:121}],266:[function(e,t,i){"use strict";var n,r=e(12)(0),s=e(94),o=e(66),a=e(70),l=e(21),u=e(51),c=e(35),h=e(125),p=o.getWeak,d=Object.isExtensible,f=l.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=p(e);return!0===t?f(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(h(this,"WeakMap"),e,t)}},y=t.exports=e(22)("WeakMap",g,v,l,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(a((n=l.getConstructor(g,"WeakMap")).prototype,v),o.NEED=!0,r(["delete","has","get","set"],function(e){var t=y.prototype,i=t[e];s(t,e,function(t,r){if(u(t)&&!d(t)){this._f||(this._f=new n);var s=this._f[e](t,r);return"set"==e?this:s}return i.call(this,t,r)})}))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(e,t,i){"use strict";var n=e(21),r=e(125);e(22)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"WeakSet"),e,!0)}},n,!1,!0)},{125:125,21:21,22:22}],268:[function(e,t,i){"use strict";var n=e(33),r=e(38),s=e(119),o=e(118),a=e(3),l=e(15);n(n.P,"Array",{flatMap:function(e){var t,i,n=s(this);return a(e),t=o(n.length),i=l(n,0),r(i,n,n,t,0,1,e,arguments[1]),i}}),e(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(e,t,i){"use strict";var n=e(33),r=e(38),s=e(119),o=e(118),a=e(116),l=e(15);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=s(this),i=o(t.length),n=l(t,0);return r(n,t,t,i,0,void 0===e?1:a(e)),n}}),e(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(e,t,i){"use strict";var n=e(33),r=e(11)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)("includes")},{11:11,33:33,5:5}],271:[function(e,t,i){var n=e(33),r=e(68)(),s=e(40).process,o="process"==e(18)(s);n(n.G,{asap:function(e){var t=o&&s.domain;r(t?t.bind(e):e)}})},{18:18,33:33,40:40,68:68}],272:[function(e,t,i){var n=e(33),r=e(18);n(n.S,"Error",{isError:function(e){return"Error"===r(e)}})},{18:18,33:33}],273:[function(e,t,i){var n=e(33);n(n.G,{global:e(40)})},{33:33,40:40}],274:[function(e,t,i){e(97)("Map")},{97:97}],275:[function(e,t,i){e(98)("Map")},{98:98}],276:[function(e,t,i){var n=e(33);n(n.P+n.R,"Map",{toJSON:e(20)("Map")})},{20:20,33:33}],277:[function(e,t,i){var n=e(33);n(n.S,"Math",{clamp:function(e,t,i){return Math.min(i,Math.max(t,e))}})},{33:33}],278:[function(e,t,i){var n=e(33);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(e,t,i){var n=e(33),r=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*r}})},{33:33}],280:[function(e,t,i){var n=e(33),r=e(64),s=e(62);n(n.S,"Math",{fscale:function(e,t,i,n,o){return s(r(e,t,i,n,o))}})},{33:33,62:62,64:64}],281:[function(e,t,i){var n=e(33);n(n.S,"Math",{iaddh:function(e,t,i,n){var r=e>>>0,s=i>>>0;return(t>>>0)+(n>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},{33:33}],282:[function(e,t,i){var n=e(33);n(n.S,"Math",{imulh:function(e,t){var i=+e,n=+t,r=65535&i,s=65535&n,o=i>>16,a=n>>16,l=(o*s>>>0)+(r*s>>>16);return o*a+(l>>16)+((r*a>>>0)+(65535&l)>>16)}})},{33:33}],283:[function(e,t,i){var n=e(33);n(n.S,"Math",{isubh:function(e,t,i,n){var r=e>>>0,s=i>>>0;return(t>>>0)-(n>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},{33:33}],284:[function(e,t,i){var n=e(33);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(e,t,i){var n=e(33),r=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*r}})},{33:33}],286:[function(e,t,i){var n=e(33);n(n.S,"Math",{scale:e(64)})},{33:33,64:64}],287:[function(e,t,i){var n=e(33);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},{33:33}],288:[function(e,t,i){var n=e(33);n(n.S,"Math",{umulh:function(e,t){var i=+e,n=+t,r=65535&i,s=65535&n,o=i>>>16,a=n>>>16,l=(o*s>>>0)+(r*s>>>16);return o*a+(l>>>16)+((r*a>>>0)+(65535&l)>>>16)}})},{33:33}],289:[function(e,t,i){"use strict";var n=e(33),r=e(119),s=e(3),o=e(72);e(29)&&n(n.P+e(74),"Object",{__defineGetter__:function(e,t){o.f(r(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(e,t,i){"use strict";var n=e(33),r=e(119),s=e(3),o=e(72);e(29)&&n(n.P+e(74),"Object",{__defineSetter__:function(e,t){o.f(r(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(e,t,i){var n=e(33),r=e(84)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},{33:33,84:84}],292:[function(e,t,i){var n=e(33),r=e(85),s=e(117),o=e(75),a=e(24);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=s(e),l=o.f,u=r(n),c={},h=0;u.length>h;)void 0!==(i=l(n,t=u[h++]))&&a(c,t,i);return c}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(e,t,i){"use strict";var n=e(33),r=e(119),s=e(120),o=e(79),a=e(75).f;e(29)&&n(n.P+e(74),"Object",{__lookupGetter__:function(e){var t,i=r(this),n=s(e,!0);do{if(t=a(i,n))return t.get}while(i=o(i))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(e,t,i){"use strict";var n=e(33),r=e(119),s=e(120),o=e(79),a=e(75).f;e(29)&&n(n.P+e(74),"Object",{__lookupSetter__:function(e){var t,i=r(this),n=s(e,!0);do{if(t=a(i,n))return t.set}while(i=o(i))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(e,t,i){var n=e(33),r=e(84)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},{33:33,84:84}],296:[function(e,t,i){"use strict";var n=e(33),r=e(40),s=e(23),o=e(68)(),a=e(128)("observable"),l=e(3),u=e(7),c=e(6),h=e(93),p=e(42),d=e(39),f=d.RETURN,m=function(e){return null==e?void 0:l(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,g(e))},b=function(e,t){u(e),this._c=void 0,this._o=e,e=new w(this);try{var i=t(e),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:l(i),this._c=i)}catch(t){return void e.error(t)}v(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=h({},{next:function(e){var t=this._s;if(!v(t)){var i=t._o;try{var n=m(i.next);if(n)return n.call(i,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var i=t._o;t._o=void 0;try{var n=m(i.error);if(!n)throw e;e=n.call(i,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!v(t)){var i=t._o;t._o=void 0;try{var n=m(i.complete);e=n?n.call(i,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var S=function(e){c(this,S,"Observable","_f")._f=l(e)};h(S.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(s.Promise||r.Promise)(function(i,n){l(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:i})})}}),h(S,{from:function(e){var t="function"==typeof this?this:S,i=m(u(e)[a]);if(i){var n=u(i.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var i=!1;return o(function(){if(!i){try{if(d(e,!1,function(e){if(t.next(e),i)return f})===f)return}catch(e){if(i)throw e;return void t.error(e)}t.complete()}}),function(){i=!0}})},of:function(){for(var e=0,t=arguments.length,i=Array(t);e<t;)i[e]=arguments[e++];return new("function"==typeof this?this:S)(function(e){var t=!1;return o(function(){if(!t){for(var n=0;n<i.length;++n)if(e.next(i[n]),t)return;e.complete()}}),function(){t=!0}})}}),p(S.prototype,a,function(){return this}),n(n.G,{Observable:S}),e(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(e,t,i){"use strict";var n=e(33),r=e(23),s=e(40),o=e(104),a=e(91);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,r.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then(function(){return i})}:e,i?function(i){return a(t,e()).then(function(){throw i})}:e)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(e,t,i){"use strict";var n=e(33),r=e(69),s=e(90);n(n.S,"Promise",{try:function(e){var t=r.f(this),i=s(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},{33:33,69:69,90:90}],299:[function(e,t,i){var n=e(67),r=e(7),s=n.key,o=n.set;n.exp({defineMetadata:function(e,t,i,n){o(e,t,r(i),s(n))}})},{67:67,7:7}],300:[function(e,t,i){var n=e(67),r=e(7),s=n.key,o=n.map,a=n.store;n.exp({deleteMetadata:function(e,t){var i=arguments.length<3?void 0:s(arguments[2]),n=o(r(t),i,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var l=a.get(t);return l.delete(i),!!l.size||a.delete(t)}})},{67:67,7:7}],301:[function(e,t,i){var n=e(231),r=e(10),s=e(67),o=e(7),a=e(79),l=s.keys,u=s.key;s.exp({getMetadataKeys:function(e){return function e(t,i){var s=l(t,i),o=a(t);if(null===o)return s;var u=e(o,i);return u.length?s.length?r(new n(s.concat(u))):u:s}(o(e),arguments.length<2?void 0:u(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(e,t,i){var n=e(67),r=e(7),s=e(79),o=n.has,a=n.get,l=n.key;n.exp({getMetadata:function(e,t){return function e(t,i,n){if(o(t,i,n))return a(t,i,n);var r=s(i);return null!==r?e(t,r,n):void 0}(e,r(t),arguments.length<3?void 0:l(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(e,t,i){var n=e(67),r=e(7),s=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(e){return s(r(e),arguments.length<2?void 0:o(arguments[1]))}})},{67:67,7:7}],304:[function(e,t,i){var n=e(67),r=e(7),s=n.get,o=n.key;n.exp({getOwnMetadata:function(e,t){return s(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},{67:67,7:7}],305:[function(e,t,i){var n=e(67),r=e(7),s=e(79),o=n.has,a=n.key;n.exp({hasMetadata:function(e,t){return function e(t,i,n){if(o(t,i,n))return!0;var r=s(i);return null!==r&&e(t,r,n)}(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(e,t,i){var n=e(67),r=e(7),s=n.has,o=n.key;n.exp({hasOwnMetadata:function(e,t){return s(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},{67:67,7:7}],307:[function(e,t,i){var n=e(67),r=e(7),s=e(3),o=n.key,a=n.set;n.exp({metadata:function(e,t){return function(i,n){a(e,t,(void 0!==n?r:s)(i),o(n))}}})},{3:3,67:67,7:7}],308:[function(e,t,i){e(97)("Set")},{97:97}],309:[function(e,t,i){e(98)("Set")},{98:98}],310:[function(e,t,i){var n=e(33);n(n.P+n.R,"Set",{toJSON:e(20)("Set")})},{20:20,33:33}],311:[function(e,t,i){"use strict";var n=e(33),r=e(106)(!0);n(n.P,"String",{at:function(e){return r(this,e)}})},{106:106,33:33}],312:[function(e,t,i){"use strict";var n=e(33),r=e(28),s=e(118),o=e(52),a=e(37),l=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};e(54)(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(r(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),i="flags"in l?String(e.flags):a.call(e),n=new RegExp(e.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=s(e.lastIndex),new u(n,t)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(e,t,i){"use strict";var n=e(33),r=e(109);n(n.P,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(e,t,i){"use strict";var n=e(33),r=e(109);n(n.P,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(e,t,i){"use strict";e(111)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{111:111}],316:[function(e,t,i){"use strict";e(111)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{111:111}],317:[function(e,t,i){e(126)("asyncIterator")},{126:126}],318:[function(e,t,i){e(126)("observable")},{126:126}],319:[function(e,t,i){var n=e(33);n(n.S,"System",{global:e(40)})},{33:33,40:40}],320:[function(e,t,i){e(97)("WeakMap")},{97:97}],321:[function(e,t,i){e(98)("WeakMap")},{98:98}],322:[function(e,t,i){e(97)("WeakSet")},{97:97}],323:[function(e,t,i){e(98)("WeakSet")},{98:98}],324:[function(e,t,i){for(var n=e(141),r=e(81),s=e(94),o=e(40),a=e(42),l=e(58),u=e(128),c=u("iterator"),h=u("toStringTag"),p=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(d),m=0;m<f.length;m++){var g,v=f[m],y=d[v],b=o[v],w=b&&b.prototype;if(w&&(w[c]||a(w,c,p),w[h]||a(w,h,v),l[v]=p,y))for(g in n)w[g]||s(w,g,n[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(e,t,i){var n=e(33),r=e(113);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(e,t,i){var n=e(40),r=e(33),s=e(46),o=e(88),a=n.navigator,l=!!a&&/MSIE .\./.test(a.userAgent),u=function(e){return l?function(t,i){return e(s(o,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),i)}:e};r(r.G+r.B+r.F*l,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(e,t,i){e(254),e(191),e(193),e(192),e(195),e(197),e(202),e(196),e(194),e(204),e(203),e(199),e(200),e(198),e(190),e(201),e(205),e(206),e(157),e(159),e(158),e(208),e(207),e(178),e(188),e(189),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(161),e(162),e(163),e(164),e(165),e(166),e(167),e(168),e(169),e(170),e(171),e(172),e(173),e(174),e(175),e(176),e(177),e(241),e(246),e(253),e(244),e(236),e(237),e(242),e(247),e(249),e(232),e(233),e(234),e(235),e(238),e(239),e(240),e(243),e(245),e(248),e(250),e(251),e(252),e(152),e(154),e(153),e(156),e(155),e(140),e(138),e(145),e(142),e(148),e(150),e(137),e(144),e(134),e(149),e(132),e(147),e(146),e(139),e(143),e(131),e(133),e(136),e(135),e(151),e(141),e(224),e(230),e(225),e(226),e(227),e(228),e(229),e(209),e(160),e(231),e(266),e(267),e(255),e(256),e(261),e(264),e(265),e(259),e(262),e(260),e(263),e(257),e(258),e(210),e(211),e(212),e(213),e(214),e(217),e(215),e(216),e(218),e(219),e(220),e(221),e(223),e(222),e(270),e(268),e(269),e(311),e(314),e(313),e(315),e(316),e(312),e(317),e(318),e(292),e(295),e(291),e(289),e(290),e(293),e(294),e(276),e(310),e(275),e(309),e(321),e(323),e(274),e(308),e(320),e(322),e(273),e(319),e(272),e(277),e(278),e(279),e(280),e(281),e(283),e(282),e(284),e(285),e(286),e(288),e(287),e(297),e(298),e(299),e(300),e(302),e(301),e(304),e(303),e(305),e(306),e(307),e(271),e(296),e(326),e(325),e(324),t.exports=e(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(e,t,i){(function(e){!function(e){"use strict";function i(e,t,i,s){var o,a,l,c,h=t&&t.prototype instanceof r?t:r,d=Object.create(h.prototype),m=new p(s||[]);return d._invoke=(o=e,a=i,l=m,c=E,function(e,t){if(c===C)throw new Error("Generator is already running");if(c===P){if("throw"===e)throw t;return f()}for(l.method=e,l.arg=t;;){var i=l.delegate;if(i){var r=u(i,l);if(r){if(r===_)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===E)throw c=P,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=C;var s=n(o,a,l);if("normal"===s.type){if(c=l.done?P:A,s.arg===_)continue;return{value:s.arg,done:l.done}}"throw"===s.type&&(c=P,l.method="throw",l.arg=s.arg)}}),d}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function s(){}function o(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(t){function i(e,r,s,o){var a=n(t[e],t,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==(void 0===u?"undefined":_typeof(u))&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){i("next",e,s,o)},function(e){i("throw",e,s,o)}):Promise.resolve(u).then(function(e){l.value=e,s(l)},o)}o(a.arg)}var r;"object"==_typeof(e.process)&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(e,t){function n(){return new Promise(function(n,r){i(e,t,n,r)})}return r=r?r.then(n,n):n()}}function u(e,t){var i=e.iterator[t.method];if(i===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,u(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=n(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,_;var s=r.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,_):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function d(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(v.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:f}}function f(){return{value:m,done:!0}}var m,g=Object.prototype,v=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag",x="object"==(void 0===t?"undefined":_typeof(t)),T=e.regeneratorRuntime;if(T)x&&(t.exports=T);else{(T=e.regeneratorRuntime=x?t.exports:{}).wrap=i;var E="suspendedStart",A="suspendedYield",C="executing",P="completed",_={},I={};I[b]=function(){return this};var k=Object.getPrototypeOf,R=k&&k(k(d([])));R&&R!==g&&v.call(R,b)&&(I=R);var O=o.prototype=r.prototype=Object.create(I);s.prototype=O.constructor=o,o.constructor=s,o[S]=s.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,S in e||(e[S]="GeneratorFunction")),e.prototype=Object.create(O),e},T.awrap=function(e){return{__await:e}},a(l.prototype),l.prototype[w]=function(){return this},T.AsyncIterator=l,T.async=function(e,t,n,r){var s=new l(i(e,t,n,r));return T.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},a(O),O[S]="Generator",O[b]=function(){return this},O.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},T.values=d,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return s.type="throw",s.arg=e,i.next=t,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=v.call(r,"catchLoc"),a=v.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),h(i),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;h(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:d(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=m),_}}}}("object"==(void 0===e?"undefined":_typeof(e))?e:"object"==("undefined"==typeof window?"undefined":_typeof(window))?window:"object"==("undefined"==typeof self?"undefined":_typeof(self))?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),define("babel-polyfill",function(){}),function(){var e,t,i,n="3.10.1",r=1,s=2,o=4,a=8,l=16,u=32,c=64,h=128,p=256,d=30,f="...",m=150,g=16,v=200,y=1,b=2,w="Expected a function",S="__lodash_placeholder__",x="[object Arguments]",T="[object Array]",E="[object Boolean]",A="[object Date]",C="[object Error]",P="[object Function]",_="[object Map]",I="[object Number]",k="[object Object]",R="[object RegExp]",O="[object Set]",M="[object String]",L="[object WeakMap]",D="[object ArrayBuffer]",N="[object Float32Array]",V="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",H="[object Uint8ClampedArray]",q="[object Uint16Array]",G="[object Uint32Array]",W=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39|#96);/g,Q=/[&<>"'`]/g,K=RegExp(X.source),Z=RegExp(Q.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ie=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,re=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,se=RegExp(re.source),oe=/[\u0300-\u036f\ufe20-\ufe23]/g,ae=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,ce=/^0[xX]/,he=/^\[object .+?Constructor\]$/,pe=/^\d+$/,de=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,fe=/($^)/,me=/['\n\r\u2028\u2029\\]/g,ge=(t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(t+"+(?="+t+i+")|"+t+"?"+i+"|"+t+"+|[0-9]+","g")),ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ye=-1,be={};be[N]=be[V]=be[j]=be[B]=be[F]=be[U]=be[H]=be[q]=be[G]=!0,be[x]=be[T]=be[D]=be[E]=be[A]=be[C]=be[P]=be[_]=be[I]=be[k]=be[R]=be[O]=be[M]=be[L]=!1;var we={};we[x]=we[T]=we[D]=we[E]=we[A]=we[N]=we[V]=we[j]=we[B]=we[F]=we[I]=we[k]=we[R]=we[M]=we[U]=we[H]=we[q]=we[G]=!0,we[C]=we[P]=we[_]=we[O]=we[L]=!1;var Se={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Te={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ee={function:!0,object:!0},Ae={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=Ee["undefined"==typeof exports?"undefined":_typeof(exports)]&&exports&&!exports.nodeType&&exports,_e=Ee["undefined"==typeof module?"undefined":_typeof(module)]&&module&&!module.nodeType&&module,Ie=Pe&&_e&&"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object&&global,ke=Ee["undefined"==typeof self?"undefined":_typeof(self)]&&self&&self.Object&&self,Re=Ee["undefined"==typeof window?"undefined":_typeof(window)]&&window&&window.Object&&window,Oe=_e&&_e.exports===Pe&&Pe,Me=Ie||Re!==(this&&this.window)&&Re||ke||this;function Le(t,i){if(t!==i){var n=null===t,r=t===e,s=t==t,o=null===i,a=i===e,l=i==i;if(t>i&&!o||!s||n&&!a&&l||r&&l)return 1;if(t<i&&!n||!l||o&&!r&&s||a&&s)return-1}return 0}function De(e,t,i){for(var n=e.length,r=i?n:-1;i?r--:++r<n;)if(t(e[r],r,e))return r;return-1}function Ne(e,t,i){if(t!=t)return ze(e,i);for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function Ve(e){return"function"==typeof e||!1}function je(e){return null==e?"":e+""}function Be(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}function Fe(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}function Ue(e,t){return Le(e.criteria,t.criteria)||e.index-t.index}function He(e){return Se[e]}function qe(e){return xe[e]}function Ge(e,t,i){return t?e=Ae[e]:i&&(e=Ce[e]),"\\"+e}function We(e){return"\\"+Ce[e]}function ze(e,t,i){for(var n=e.length,r=t+(i?0:-1);i?r--:++r<n;){var s=e[r];if(s!=s)return r}return-1}function Ye(e){return!!e&&"object"==(void 0===e?"undefined":_typeof(e))}function Xe(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Qe(e,t){for(var i=-1,n=e.length,r=-1,s=[];++i<n;)e[i]===t&&(e[i]=S,s[++r]=i);return s}function Ke(e){for(var t=-1,i=e.length;++t<i&&Xe(e.charCodeAt(t)););return t}function Ze(e){for(var t=e.length;t--&&Xe(e.charCodeAt(t)););return t}function Je(e){return Te[e]}var $e=function t(i){var _=(i=i?$e.defaults(Me.Object(),i,$e.pick(Me,ve)):Me).Array,O=i.Date,L=i.Error,Se=i.Function,xe=i.Math,Te=i.Number,Ee=i.Object,Ae=i.RegExp,Ce=i.String,Pe=i.TypeError,_e=_.prototype,Ie=Ee.prototype,ke=Ce.prototype,Re=Se.prototype.toString,Oe=Ie.hasOwnProperty,Xe=0,et=Ie.toString,tt=Me._,it=Ae("^"+Re.call(Oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=i.ArrayBuffer,rt=i.clearTimeout,st=i.parseFloat,ot=xe.pow,at=Ie.propertyIsEnumerable,lt=yn(i,"Set"),ut=i.setTimeout,ct=_e.splice,ht=i.Uint8Array,pt=yn(i,"WeakMap"),dt=xe.ceil,ft=yn(Ee,"create"),mt=xe.floor,gt=yn(_,"isArray"),vt=i.isFinite,yt=yn(Ee,"keys"),bt=xe.max,wt=xe.min,St=yn(O,"now"),xt=i.parseInt,Tt=xe.random,Et=Te.NEGATIVE_INFINITY,At=Te.POSITIVE_INFINITY,Ct=4294967295,Pt=Ct-1,_t=Ct>>>1,It=9007199254740991,kt=pt&&new pt,Rt={};function Ot(e){if(Ye(e)&&!zr(e)&&!(e instanceof Dt)){if(e instanceof Lt)return e;if(Oe.call(e,"__chain__")&&Oe.call(e,"__wrapped__"))return Nn(e)}return new Lt(e)}function Mt(){}function Lt(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}Ot.support={};function Dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function Nt(){this.__data__={}}function Vt(e){var t=e?e.length:0;for(this.data={hash:ft(null),set:new lt};t--;)this.push(e[t])}function jt(e,t){var i=e.data;return("string"==typeof t||Kr(t)?i.set.has(t):i.hash[t])?0:-1}function Bt(e,t){var i=-1,n=e.length;for(t||(t=_(n));++i<n;)t[i]=e[i];return t}function Ft(e,t){for(var i=-1,n=e.length;++i<n&&!1!==t(e[i],i,e););return e}function Ut(e,t){for(var i=-1,n=e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function Ht(e,t){for(var i=-1,n=e.length,r=-1,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[++r]=o)}return s}function qt(e,t){for(var i=-1,n=e.length,r=_(n);++i<n;)r[i]=t(e[i],i,e);return r}function Gt(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function Wt(e,t,i,n){var r=-1,s=e.length;for(n&&s&&(i=e[++r]);++r<s;)i=t(i,e[r],r,e);return i}function zt(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function Yt(t,i,n,r){return t!==e&&Oe.call(r,n)?t:i}function Xt(t,i,n){for(var r=-1,s=vs(i),o=s.length;++r<o;){var a=s[r],l=t[a],u=n(l,i[a],a,t,i);(u==u?u===l:l!=l)&&(l!==e||a in t)||(t[a]=u)}return t}function Qt(e,t){return null==t?e:Zt(t,vs(t),e)}function Kt(t,i){for(var n=-1,r=null==t,s=!r&&wn(t),o=s?t.length:0,a=i.length,l=_(a);++n<a;){var u=i[n];l[n]=s?Sn(u,o)?t[u]:e:r?e:t[u]}return l}function Zt(e,t,i){i||(i={});for(var n=-1,r=t.length;++n<r;){var s=t[n];i[s]=e[s]}return i}function Jt(t,i,n){var r=void 0===t?"undefined":_typeof(t);return"function"==r?i===e?t:Di(t,i,n):null==t?Vs:"object"==r?bi(t):i===e?qs(t):wi(t,i)}function $t(t,i,n,r,s,o,a){var l;if(n&&(l=s?n(t,r,s):n(t)),l!==e)return l;if(!Kr(t))return t;var u,c,h,p,d=zr(t);if(d){if(h=(c=t).length,p=new c.constructor(h),h&&"string"==typeof c[0]&&Oe.call(c,"index")&&(p.index=c.index,p.input=c.input),l=p,!i)return Bt(t,l)}else{var f=et.call(t),m=f==P;if(f!=k&&f!=x&&(!m||s))return we[f]?function(e,t,i){var n=e.constructor;switch(t){case D:return Ni(e);case E:case A:return new n(+e);case N:case V:case j:case B:case F:case U:case H:case q:case G:var r=e.buffer;return new n(i?Ni(r):r,e.byteOffset,e.length);case I:case M:return new n(e);case R:var s=new n(e.source,ue.exec(e));s.lastIndex=e.lastIndex}return s}(t,f,i):s?t:{};if("function"==typeof(u=(m?{}:t).constructor)&&u instanceof u||(u=Ee),l=new u,!i)return Qt(l,t)}o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g];return o.push(t),a.push(l),(d?Ft:pi)(t,function(e,r){l[r]=$t(e,i,n,r,t,o,a)}),l}Ot.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Ot}};var ei=function(){function t(){}return function(i){if(Kr(i)){t.prototype=i;var n=new t;t.prototype=e}return n||{}}}();function ti(t,i,n){if("function"!=typeof t)throw new Pe(w);return ut(function(){t.apply(e,n)},i)}function ii(e,t){var i=e?e.length:0,n=[];if(!i)return n;var r=-1,s=mn(),o=s===Ne,a=o&&t.length>=v?qi(t):null,l=t.length;a&&(s=jt,o=!1,t=a);e:for(;++r<i;){var u=e[r];if(o&&u==u){for(var c=l;c--;)if(t[c]===u)continue e;n.push(u)}else s(t,u,0)<0&&n.push(u)}return n}var ni=Ui(pi),ri=Ui(di,!0);function si(e,t){var i=!0;return ni(e,function(e,n,r){return i=!!t(e,n,r)}),i}function oi(e,t){var i=[];return ni(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function ai(e,t,i,n){var r;return i(e,function(e,i,s){if(t(e,i,s))return r=n?i:e,!1}),r}function li(e,t,i,n){n||(n=[]);for(var r=-1,s=e.length;++r<s;){var o=e[r];Ye(o)&&wn(o)&&(i||zr(o)||Wr(o))?t?li(o,t,i,n):Gt(n,o):i||(n[n.length]=o)}return n}var ui=Hi(),ci=Hi(!0);function hi(e,t){return ui(e,t,ys)}function pi(e,t){return ui(e,t,vs)}function di(e,t){return ci(e,t,vs)}function fi(e,t){for(var i=-1,n=t.length,r=-1,s=[];++i<n;){var o=t[i];Qr(e[o])&&(s[++r]=o)}return s}function mi(t,i,n){if(null!=t){n!==e&&n in Ln(t)&&(i=[n]);for(var r=0,s=i.length;null!=t&&r<s;)t=t[i[r++]];return r&&r==s?t:e}}function gi(t,i,n,r,s,o){return t===i||(null==t||null==i||!Kr(t)&&!Ye(i)?t!=t&&i!=i:function(t,i,n,r,s,o,a){var l=zr(t),u=zr(i),c=T,h=T;l||((c=et.call(t))==x?c=k:c!=k&&(l=is(t))),u||((h=et.call(i))==x?h=k:h!=k&&(u=is(i)));var p=c==k,d=h==k,f=c==h;if(f&&!l&&!p)return function(e,t,i){switch(i){case E:case A:return+e==+t;case C:return e.name==t.name&&e.message==t.message;case I:return e!=+e?t!=+t:e==+t;case R:case M:return e==t+""}return!1}(t,i,c);if(!s){var m=p&&Oe.call(t,"__wrapped__"),g=d&&Oe.call(i,"__wrapped__");if(m||g)return n(m?t.value():t,g?i.value():i,r,s,o,a)}if(!f)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==t)return a[v]==i;o.push(t),a.push(i);var y=(l?function(t,i,n,r,s,o,a){var l=-1,u=t.length,c=i.length;if(u!=c&&!(s&&c>u))return!1;for(;++l<u;){var h=t[l],p=i[l],d=r?r(s?p:h,s?h:p,l):e;if(d!==e){if(d)continue;return!1}if(s){if(!zt(i,function(e){return h===e||n(h,e,r,s,o,a)}))return!1}else if(h!==p&&!n(h,p,r,s,o,a))return!1}return!0}:function(t,i,n,r,s,o,a){var l=vs(t),u=l.length,c=vs(i).length;if(u!=c&&!s)return!1;for(var h=u;h--;){var p=l[h];if(!(s?p in i:Oe.call(i,p)))return!1}for(var d=s;++h<u;){p=l[h];var f=t[p],m=i[p],g=r?r(s?m:f,s?f:m,p):e;if(!(g===e?n(f,m,r,s,o,a):g))return!1;d||(d="constructor"==p)}if(!d){var v=t.constructor,y=i.constructor;if(v!=y&&"constructor"in t&&"constructor"in i&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0})(t,i,n,r,s,o,a);return o.pop(),a.pop(),y}(t,i,gi,n,r,s,o))}function vi(t,i,n){var r=i.length,s=r,o=!n;if(null==t)return!s;for(t=Ln(t);r--;){var a=i[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){var l=(a=i[r])[0],u=t[l],c=a[1];if(o&&a[2]){if(u===e&&!(l in t))return!1}else{var h=n?n(u,c,l):e;if(!(h===e?gi(c,u,n,!0):h))return!1}}return!0}function yi(e,t){var i=-1,n=wn(e)?_(e.length):[];return ni(e,function(e,r,s){n[++i]=t(e,r,s)}),n}function bi(t){var i=vn(t);if(1==i.length&&i[0][2]){var n=i[0][0],r=i[0][1];return function(t){return null!=t&&t[n]===r&&(r!==e||n in Ln(t))}}return function(e){return vi(e,i)}}function wi(t,i){var n=zr(t),r=Tn(t)&&Cn(i),s=t+"";return t=Dn(t),function(o){if(null==o)return!1;var a=s;if(o=Ln(o),(n||!r)&&!(a in o)){if(null==(o=1==t.length?o:mi(o,Ai(t,0,-1))))return!1;a=Wn(t),o=Ln(o)}return o[a]===i?i!==e||a in o:gi(i,o[a],e,!0)}}function Si(t){return function(i){return null==i?e:i[t]}}function xi(e,t){for(var i=e?t.length:0;i--;){var n=t[i];if(n!=r&&Sn(n)){var r=n;ct.call(e,n,1)}}return e}function Ti(e,t){return e+mt(Tt()*(t-e+1))}var Ei=kt?function(e,t){return kt.set(e,t),e}:Vs;function Ai(t,i,n){var r=-1,s=t.length;(i=null==i?0:+i||0)<0&&(i=-i>s?0:s+i),(n=n===e||n>s?s:+n||0)<0&&(n+=s),s=i>n?0:n-i>>>0,i>>>=0;for(var o=_(s);++r<s;)o[r]=t[r+i];return o}function Ci(e,t){var i;return ni(e,function(e,n,r){return!(i=t(e,n,r))}),!!i}function Pi(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function _i(e,t,i){var n=pn(),r=-1;return t=qt(t,function(e){return n(e)}),Pi(yi(e,function(e){return{criteria:qt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,i){for(var n=-1,r=e.criteria,s=t.criteria,o=r.length,a=i.length;++n<o;){var l=Le(r[n],s[n]);if(l){if(n>=a)return l;var u=i[n];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index}(e,t,i)})}function Ii(e,t){var i=-1,n=mn(),r=e.length,s=n===Ne,o=s&&r>=v,a=o?qi():null,l=[];a?(n=jt,s=!1):(o=!1,a=t?[]:l);e:for(;++i<r;){var u=e[i],c=t?t(u,i,e):u;if(s&&u==u){for(var h=a.length;h--;)if(a[h]===c)continue e;t&&a.push(c),l.push(u)}else n(a,c,0)<0&&((t||o)&&a.push(c),l.push(u))}return l}function ki(e,t){for(var i=-1,n=t.length,r=_(n);++i<n;)r[i]=e[t[i]];return r}function Ri(e,t,i,n){for(var r=e.length,s=n?r:-1;(n?s--:++s<r)&&t(e[s],s,e););return i?Ai(e,n?0:s,n?s+1:r):Ai(e,n?s+1:0,n?r:s)}function Oi(e,t){var i=e;i instanceof Dt&&(i=i.value());for(var n=-1,r=t.length;++n<r;){var s=t[n];i=s.func.apply(s.thisArg,Gt([i],s.args))}return i}function Mi(e,t,i){var n=0,r=e?e.length:n;if("number"==typeof t&&t==t&&r<=_t){for(;n<r;){var s=n+r>>>1,o=e[s];(i?o<=t:o<t)&&null!==o?n=s+1:r=s}return r}return Li(e,t,Vs,i)}function Li(t,i,n,r){i=n(i);for(var s=0,o=t?t.length:0,a=i!=i,l=null===i,u=i===e;s<o;){var c=mt((s+o)/2),h=n(t[c]),p=h!==e,d=h==h;if(a)var f=d||r;else f=l?d&&p&&(r||null!=h):u?d&&(r||p):null!=h&&(r?h<=i:h<i);f?s=c+1:o=c}return wt(o,Pt)}function Di(t,i,n){if("function"!=typeof t)return Vs;if(i===e)return t;switch(n){case 1:return function(e){return t.call(i,e)};case 3:return function(e,n,r){return t.call(i,e,n,r)};case 4:return function(e,n,r,s){return t.call(i,e,n,r,s)};case 5:return function(e,n,r,s,o){return t.call(i,e,n,r,s,o)}}return function(){return t.apply(i,arguments)}}function Ni(e){var t=new nt(e.byteLength);return new ht(t).set(new ht(e)),t}function Vi(e,t,i){for(var n=i.length,r=-1,s=bt(e.length-n,0),o=-1,a=t.length,l=_(a+s);++o<a;)l[o]=t[o];for(;++r<n;)l[i[r]]=e[r];for(;s--;)l[o++]=e[r++];return l}function ji(e,t,i){for(var n=-1,r=i.length,s=-1,o=bt(e.length-r,0),a=-1,l=t.length,u=_(o+l);++s<o;)u[s]=e[s];for(var c=s;++a<l;)u[c+a]=t[a];for(;++n<r;)u[c+i[n]]=e[s++];return u}function Bi(e,t){return function(i,n,r){var s=t?t():{};if(n=pn(n,r,3),zr(i))for(var o=-1,a=i.length;++o<a;){var l=i[o];e(s,l,n(l,o,i),i)}else ni(i,function(t,i,r){e(s,t,n(t,i,r),r)});return s}}function Fi(t){return qr(function(i,n){var r=-1,s=null==i?0:n.length,o=s>2?n[s-2]:e,a=s>2?n[2]:e,l=s>1?n[s-1]:e;for("function"==typeof o?(o=Di(o,l,5),s-=2):s-=(o="function"==typeof l?l:e)?1:0,a&&xn(n[0],n[1],a)&&(o=s<3?e:o,s=1);++r<s;){var u=n[r];u&&t(i,u,o)}return i})}function Ui(e,t){return function(i,n){var r=i?gn(i):0;if(!An(r))return e(i,n);for(var s=t?r:-1,o=Ln(i);(t?s--:++s<r)&&!1!==n(o[s],s,o););return i}}function Hi(e){return function(t,i,n){for(var r=Ln(t),s=n(t),o=s.length,a=e?o:-1;e?a--:++a<o;){var l=s[a];if(!1===i(r[l],l,r))break}return t}}function qi(e){return ft&&lt?new Vt(e):null}function Gi(e){return function(t){for(var i=-1,n=Ls(Cs(t)),r=n.length,s="";++i<r;)s=e(s,n[i],i);return s}}function Wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=ei(e.prototype),n=e.apply(i,t);return Kr(n)?n:i}}function zi(t){return function i(n,r,s){s&&xn(n,r,s)&&(r=e);var o=hn(n,t,e,e,e,e,e,r);return o.placeholder=i.placeholder,o}}function Yi(t,i){return qr(function(n){var r=n[0];return null==r?r:(n.push(i),t.apply(e,n))})}function Xi(t,i){return function(n,r,s){if(s&&xn(n,r,s)&&(r=e),1==(r=pn(r,s,3)).length){var o=function(e,t,i,n){for(var r=-1,s=e.length,o=n,a=o;++r<s;){var l=e[r],u=+t(l);i(u,o)&&(o=u,a=l)}return a}(n=zr(n)?n:Mn(n),r,t,i);if(!n.length||o!==i)return o}return a=r,l=t,h=c=u=i,ni(n,function(e,t,i){var n=+a(e,t,i);(l(n,c)||n===u&&n===h)&&(c=n,h=e)}),h;var a,l,u,c,h}}function Qi(t,i){return function(n,r,s){if(r=pn(r,s,3),zr(n)){var o=De(n,r,i);return o>-1?n[o]:e}return ai(n,r,t)}}function Ki(e){return function(t,i,n){return t&&t.length?De(t,i=pn(i,n,3),e):-1}}function Zi(e){return function(t,i,n){return ai(t,i=pn(i,n,3),e,!0)}}function Ji(t){return function(){for(var i,n=arguments.length,r=t?n:-1,s=0,o=_(n);t?r--:++r<n;){var l=o[s++]=arguments[r];if("function"!=typeof l)throw new Pe(w);!i&&Lt.prototype.thru&&"wrapper"==fn(l)&&(i=new Lt([],!0))}for(r=i?-1:n;++r<n;){var c=fn(l=o[r]),d="wrapper"==c?dn(l):e;i=d&&En(d[0])&&d[1]==(h|a|u|p)&&!d[4].length&&1==d[9]?i[fn(d[0])].apply(i,d[3]):1==l.length&&En(l)?i[c]():i.thru(l)}return function(){var e=arguments,t=e[0];if(i&&1==e.length&&zr(t)&&t.length>=v)return i.plant(t).value();for(var r=0,s=n?o[r].apply(this,e):t;++r<n;)s=o[r].call(this,s);return s}}}function $i(t,i){return function(n,r,s){return"function"==typeof r&&s===e&&zr(n)?t(n,r):i(n,Di(r,s,3))}}function en(t){return function(i,n,r){return"function"==typeof n&&r===e||(n=Di(n,r,3)),t(i,n,ys)}}function tn(t){return function(i,n,r){return"function"==typeof n&&r===e||(n=Di(n,r,3)),t(i,n)}}function nn(e){return function(t,i,n){var r={};return i=pn(i,n,3),pi(t,function(t,n,s){var o=i(t,n,s);t=e?t:o,r[n=e?o:n]=t}),r}}function rn(e){return function(t,i,n){return t=je(t),(e?t:"")+ln(t,i,n)+(e?"":t)}}function sn(t){var i=qr(function(n,r){var s=Qe(r,i.placeholder);return hn(n,t,e,r,s)});return i}function on(t,i){return function(n,r,s,o){var a,l,u,c,h=arguments.length<3;return"function"==typeof r&&o===e&&zr(n)?t(n,r,s,h):(a=n,l=pn(r,o,4),u=s,c=h,i(a,function(e,t,i){u=c?(c=!1,e):l(u,e,t,i)}),u)}}function an(t,i,n,p,d,f,m,g,v,y){var b=i&h,w=i&r,S=i&s,x=i&a,T=i&o,E=i&l,A=S?e:Wi(t);return function o(){for(var a=arguments.length,l=a,h=_(a);l--;)h[l]=arguments[l];if(p&&(h=Vi(h,p,d)),f&&(h=ji(h,f,m)),x||E){var C=o.placeholder,P=Qe(h,C);if((a-=P.length)<y){var I=g?Bt(g):e,k=bt(y-a,0);i|=x?u:c,i&=~(x?c:u),T||(i&=~(r|s));var R=[t,i,n,x?h:e,x?P:e,x?e:h,x?e:P,I,v,k],O=an.apply(e,R);return En(t)&&Rn(O,R),O.placeholder=C,O}}var M=w?n:this,L=S?M[t]:t;return g&&(h=function(t,i){for(var n=t.length,r=wt(i.length,n),s=Bt(t);r--;){var o=i[r];t[r]=Sn(o,n)?s[o]:e}return t}(h,g)),b&&v<h.length&&(h.length=v),this&&this!==Me&&this instanceof o&&(L=A||Wi(t)),L.apply(M,h)}}function ln(e,t,i){var n=e.length;if(n>=(t=+t)||!vt(t))return"";var r=t-n;return ks(i=null==i?" ":i+"",dt(r/i.length)).slice(0,r)}function un(t){var i=xe[t];return function(t,n){return(n=n===e?0:+n||0)?(n=ot(10,n),i(t*n)/n):i(t)}}function cn(e){return function(t,i,n,r){var s=pn(n);return null==n&&s===Jt?Mi(t,i,e):Li(t,i,s(n,r,1),e)}}function hn(t,i,n,l,d,f,m,g){var v=i&s;if(!v&&"function"!=typeof t)throw new Pe(w);var y=l?l.length:0;if(y||(i&=~(u|c),l=d=e),y-=d?d.length:0,i&c){var b=l,x=d;l=d=e}var T,E,A,C=v?e:dn(t),P=[t,i,n,l,d,b,x,f,m,g];if(C&&(function(e,t){var i=e[1],n=t[1],s=i|n,l=s<h,u=n==h&&i==a||n==h&&i==p&&e[7].length<=t[8]||n==(h|p)&&i==a;if(!l&&!u)return e;n&r&&(e[2]=t[2],s|=i&r?0:o);var c=t[3];if(c){var d=e[3];e[3]=d?Vi(d,c,t[4]):Bt(c),e[4]=d?Qe(e[3],S):Bt(t[4])}(c=t[5])&&(d=e[5],e[5]=d?ji(d,c,t[6]):Bt(c),e[6]=d?Qe(e[5],S):Bt(t[6])),(c=t[7])&&(e[7]=Bt(c)),n&h&&(e[8]=null==e[8]?t[8]:wt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}(P,C),i=P[1],g=P[9]),P[9]=null==g?v?0:t.length:bt(g-y,0)||0,i==r)var I=(T=P[0],E=P[2],A=Wi(T),function e(){return(this&&this!==Me&&this instanceof e?A:T).apply(E,arguments)});else I=i!=u&&i!=(r|u)||P[4].length?an.apply(e,P):function(e,t,i,n){var s=t&r,o=Wi(e);return function t(){for(var r=-1,a=arguments.length,l=-1,u=n.length,c=_(u+a);++l<u;)c[l]=n[l];for(;a--;)c[l++]=arguments[++r];return(this&&this!==Me&&this instanceof t?o:e).apply(s?i:this,c)}}.apply(e,P);return(C?Ei:Rn)(I,P)}function pn(e,t,i){var n=Ot.callback||Ns;return n=n===Ns?Jt:n,i?n(e,t,i):n}var dn=kt?function(e){return kt.get(e)}:Hs;function fn(e){for(var t=e.name+"",i=Rt[t],n=i?i.length:0;n--;){var r=i[n],s=r.func;if(null==s||s==e)return r.name}return t}function mn(e,t,i){var n=Ot.indexOf||qn;return n=n===qn?Ne:n,e?n(e,t,i):n}var gn=Si("length");function vn(e){for(var t=xs(e),i=t.length;i--;)t[i][2]=Cn(t[i][1]);return t}function yn(t,i){var n=null==t?e:t[i];return Zr(n)?n:e}function bn(t,i,n){null==t||Tn(i,t)||(t=1==(i=Dn(i)).length?t:mi(t,Ai(i,0,-1)),i=Wn(i));var r=null==t?t:t[i];return null==r?e:r.apply(t,n)}function wn(e){return null!=e&&An(gn(e))}function Sn(e,t){return e="number"==typeof e||pe.test(e)?+e:-1,t=null==t?It:t,e>-1&&e%1==0&&e<t}function xn(e,t,i){if(!Kr(i))return!1;var n=void 0===t?"undefined":_typeof(t);if("number"==n?wn(i)&&Sn(t,i.length):"string"==n&&t in i){var r=i[t];return e==e?e===r:r!=r}return!1}function Tn(e,t){var i=void 0===e?"undefined":_typeof(e);return!!("string"==i&&ie.test(e)||"number"==i)||!zr(e)&&(!te.test(e)||null!=t&&e in Ln(t))}function En(e){var t=fn(e),i=Ot[t];if("function"!=typeof i||!(t in Dt.prototype))return!1;if(e===i)return!0;var n=dn(i);return!!n&&e===n[0]}function An(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=It}function Cn(e){return e==e&&!Kr(e)}function Pn(e,t){e=Ln(e);for(var i=-1,n=t.length,r={};++i<n;){var s=t[i];s in e&&(r[s]=e[s])}return r}function _n(e,t){var i={};return hi(e,function(e,n,r){t(e,n,r)&&(i[n]=e)}),i}var In,kn,Rn=(In=0,kn=0,function(e,t){var i=Cr(),n=g-(i-kn);if(kn=i,n>0){if(++In>=m)return e}else In=0;return Ei(e,t)});function On(e){for(var t=ys(e),i=t.length,n=i&&e.length,r=!!n&&An(n)&&(zr(e)||Wr(e)),s=-1,o=[];++s<i;){var a=t[s];(r&&Sn(a,n)||Oe.call(e,a))&&o.push(a)}return o}function Mn(e){return null==e?[]:wn(e)?Kr(e)?e:Ee(e):Es(e)}function Ln(e){return Kr(e)?e:Ee(e)}function Dn(e){if(zr(e))return e;var t=[];return je(e).replace(ne,function(e,i,n,r){t.push(n?r.replace(ae,"$1"):i||e)}),t}function Nn(e){return e instanceof Dt?e.clone():new Lt(e.__wrapped__,e.__chain__,Bt(e.__actions__))}var Vn=qr(function(e,t){return Ye(e)&&wn(e)?ii(e,li(t,!1,!0)):[]});function jn(e,t,i){return e&&e.length?((i?xn(e,t,i):null==t)&&(t=1),Ai(e,t<0?0:t)):[]}function Bn(e,t,i){var n=e?e.length:0;return n?((i?xn(e,t,i):null==t)&&(t=1),Ai(e,0,(t=n-(+t||0))<0?0:t)):[]}var Fn=Ki(),Un=Ki(!0);function Hn(t){return t?t[0]:e}function qn(e,t,i){var n=e?e.length:0;if(!n)return-1;if("number"==typeof i)i=i<0?bt(n+i,0):i;else if(i){var r=Mi(e,t);return r<n&&(t==t?t===e[r]:e[r]!=e[r])?r:-1}return Ne(e,t,i||0)}var Gn=qr(function(e){for(var t=e.length,i=t,n=_(c),r=mn(),s=r===Ne,o=[];i--;){var a=e[i]=wn(a=e[i])?a:[];n[i]=s&&a.length>=120?qi(i&&a):null}var l=e[0],u=-1,c=l?l.length:0,h=n[0];e:for(;++u<c;)if(a=l[u],(h?jt(h,a):r(o,a,0))<0){for(i=t;--i;){var p=n[i];if((p?jt(p,a):r(e[i],a,0))<0)continue e}h&&h.push(a),o.push(a)}return o});function Wn(t){var i=t?t.length:0;return i?t[i-1]:e}var zn=qr(function(e,t){var i=Kt(e,t=li(t));return xi(e,t.sort(Le)),i});function Yn(e){return jn(e,1)}var Xn=cn(),Qn=cn(!0);var Kn=qr(function(e){return Ii(li(e,!1,!0))});function Zn(t,i,n,r){if(!t||!t.length)return[];null!=i&&"boolean"!=typeof i&&(n=xn(t,i,r=n)?e:i,i=!1);var s=pn();return null==n&&s===Jt||(n=s(n,r,3)),i&&mn()===Ne?function(e,t){for(var i,n=-1,r=e.length,s=-1,o=[];++n<r;){var a=e[n],l=t?t(a,n,e):a;n&&i===l||(i=l,o[++s]=a)}return o}(t,n):Ii(t,n)}function Jn(e){if(!e||!e.length)return[];var t=-1,i=0;e=Ht(e,function(e){if(wn(e))return i=bt(e.length,i),!0});for(var n=_(i);++t<i;)n[t]=qt(e,Si(t));return n}function $n(t,i,n){if(!t||!t.length)return[];var r=Jn(t);return null==i?r:(i=Di(i,n,4),qt(r,function(t){return Wt(t,i,e,!0)}))}var er=qr(function(e,t){return wn(e)?ii(e,t):[]});var tr=qr(Jn);function ir(e,t){var i=-1,n=e?e.length:0,r={};for(!n||t||zr(e[0])||(t=[]);++i<n;){var s=e[i];t?r[s]=t[i]:s&&(r[s[0]]=s[1])}return r}var nr=qr(function(t){var i=t.length,n=i>2?t[i-2]:e,r=i>1?t[i-1]:e;return i>2&&"function"==typeof n?i-=2:(n=i>1&&"function"==typeof r?(--i,r):e,r=e),t.length=i,$n(t,n,r)});function rr(e){var t=Ot(e);return t.__chain__=!0,t}function sr(e,t,i){return t.call(i,e)}var or=qr(function(e){return e=li(e),this.thru(function(t){return function(e,t){for(var i=-1,n=e.length,r=-1,s=t.length,o=_(n+s);++i<n;)o[i]=e[i];for(;++r<s;)o[i++]=t[r];return o}(zr(t)?t:[Ln(t)],e)})});var ar=qr(function(e,t){return Kt(e,li(t))}),lr=Bi(function(e,t,i){Oe.call(e,i)?++e[i]:e[i]=1});function ur(t,i,n){var r=zr(t)?Ut:si;return n&&xn(t,i,n)&&(i=e),"function"==typeof i&&n===e||(i=pn(i,n,3)),r(t,i)}function cr(e,t,i){return(zr(e)?Ht:oi)(e,t=pn(t,i,3))}var hr=Qi(ni),pr=Qi(ri,!0);var dr=$i(Ft,ni),fr=$i(function(e,t){for(var i=e.length;i--&&!1!==t(e[i],i,e););return e},ri),mr=Bi(function(e,t,i){Oe.call(e,i)?e[i].push(t):e[i]=[t]});function gr(e,t,i,n){var r=e?gn(e):0;return An(r)||(r=(e=Es(e)).length),i="number"!=typeof i||n&&xn(t,i,n)?0:i<0?bt(r+i,0):i||0,"string"==typeof e||!zr(e)&&ts(e)?i<=r&&e.indexOf(t,i)>-1:!!r&&mn(e,t,i)>-1}var vr=Bi(function(e,t,i){e[i]=t}),yr=qr(function(t,i,n){var r=-1,s="function"==typeof i,o=Tn(i),a=wn(t)?_(t.length):[];return ni(t,function(t){var l=s?i:o&&null!=t?t[i]:e;a[++r]=l?l.apply(t,n):bn(t,i,n)}),a});function br(e,t,i){return(zr(e)?qt:yi)(e,t=pn(t,i,3))}var wr=Bi(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});var Sr=on(Wt,ni),xr=on(function(e,t,i,n){var r=e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i},ri);function Tr(t,i,n){if(n?xn(t,i,n):null==i)return(r=(t=Mn(t)).length)>0?t[Ti(0,r-1)]:e;var r,s=-1,o=rs(t),a=(r=o.length)-1;for(i=wt(i<0?0:+i||0,r);++s<i;){var l=Ti(s,a),u=o[l];o[l]=o[s],o[s]=u}return o.length=i,o}function Er(t,i,n){var r=zr(t)?zt:Ci;return n&&xn(t,i,n)&&(i=e),"function"==typeof i&&n===e||(i=pn(i,n,3)),r(t,i)}var Ar=qr(function(e,t){if(null==e)return[];var i=t[2];return i&&xn(t[0],t[1],i)&&(t.length=1),_i(e,li(t),[])});var Cr=St||function(){return(new O).getTime()};function Pr(t,i){var n;if("function"!=typeof i){if("function"!=typeof t)throw new Pe(w);var r=t;t=i,i=r}return function(){return--t>0&&(n=i.apply(this,arguments)),t<=1&&(i=e),n}}var _r=qr(function(e,t,i){var n=r;if(i.length){var s=Qe(i,_r.placeholder);n|=u}return hn(e,n,t,i,s)}),Ir=qr(function(e,t){for(var i=-1,n=(t=t.length?li(t):gs(e)).length;++i<n;){var s=t[i];e[s]=hn(e[s],r,e)}return e}),kr=qr(function(e,t,i){var n=r|s;if(i.length){var o=Qe(i,kr.placeholder);n|=u}return hn(t,n,e,i,o)}),Rr=zi(a),Or=zi(l);function Mr(t,i,n){var r,s,o,a,l,u,c,h=0,p=!1,d=!0;if("function"!=typeof t)throw new Pe(w);if(i=i<0?0:+i||0,!0===n){var f=!0;d=!1}else Kr(n)&&(f=!!n.leading,p="maxWait"in n&&bt(+n.maxWait||0,i),d="trailing"in n?!!n.trailing:d);function m(i,n){n&&rt(n),s=u=c=e,i&&(h=Cr(),o=t.apply(l,r),u||s||(r=l=e))}function g(){var e=i-(Cr()-a);e<=0||e>i?m(c,s):u=ut(g,e)}function v(){m(d,u)}function y(){if(r=arguments,a=Cr(),l=this,c=d&&(u||!f),!1===p)var n=f&&!u;else{s||f||(h=a);var m=p-(a-h),y=m<=0||m>p;y?(s&&(s=rt(s)),h=a,o=t.apply(l,r)):s||(s=ut(v,m))}return y&&u?u=rt(u):u||i===p||(u=ut(g,i)),n&&(y=!0,o=t.apply(l,r)),!y||u||s||(r=l=e),o}return y.cancel=function(){u&&rt(u),s&&rt(s),h=0,s=u=c=e},y}var Lr=qr(function(e,t){return ti(e,1,t)}),Dr=qr(function(e,t,i){return ti(e,t,i)}),Nr=Ji(),Vr=Ji(!0);function jr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Pe(w);var i=function i(){var n=arguments,r=t?t.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=e.apply(this,n);return i.cache=s.set(r,o),o};return i.cache=new jr.Cache,i}var Br=qr(function(e,t){if(t=li(t),"function"!=typeof e||!Ut(t,Ve))throw new Pe(w);var i=t.length;return qr(function(n){for(var r=wt(n.length,i);r--;)n[r]=t[r](n[r]);return e.apply(this,n)})});var Fr=sn(u),Ur=sn(c),Hr=qr(function(t,i){return hn(t,p,e,e,e,li(i))});function qr(t,i){if("function"!=typeof t)throw new Pe(w);return i=bt(i===e?t.length-1:+i||0,0),function(){for(var e=arguments,n=-1,r=bt(e.length-i,0),s=_(r);++n<r;)s[n]=e[i+n];switch(i){case 0:return t.call(this,s);case 1:return t.call(this,e[0],s);case 2:return t.call(this,e[0],e[1],s)}var o=_(i+1);for(n=-1;++n<i;)o[n]=e[n];return o[i]=s,t.apply(this,o)}}function Gr(e,t){return e>t}function Wr(e){return Ye(e)&&wn(e)&&Oe.call(e,"callee")&&!at.call(e,"callee")}var zr=gt||function(e){return Ye(e)&&An(e.length)&&et.call(e)==T};function Yr(t,i,n,r){var s=(n="function"==typeof n?Di(n,r,3):e)?n(t,i):e;return s===e?gi(t,i,n):!!s}function Xr(e){return Ye(e)&&"string"==typeof e.message&&et.call(e)==C}function Qr(e){return Kr(e)&&et.call(e)==P}function Kr(e){var t=void 0===e?"undefined":_typeof(e);return!!e&&("object"==t||"function"==t)}function Zr(e){return null!=e&&(Qr(e)?it.test(Re.call(e)):Ye(e)&&he.test(e))}function Jr(e){return"number"==typeof e||Ye(e)&&et.call(e)==I}function $r(t){var i,n;return!(!Ye(t)||et.call(t)!=k||Wr(t)||!(Oe.call(t,"constructor")||"function"!=typeof(i=t.constructor)||i instanceof i))&&(hi(t,function(e,t){n=t}),n===e||Oe.call(t,n))}function es(e){return Kr(e)&&et.call(e)==R}function ts(e){return"string"==typeof e||Ye(e)&&et.call(e)==M}function is(e){return Ye(e)&&An(e.length)&&!!be[et.call(e)]}function ns(e,t){return e<t}function rs(e){var t=e?gn(e):0;return An(t)?t?Bt(e):[]:Es(e)}function ss(e){return Zt(e,ys(e))}var os=Fi(function t(i,n,r,s,o){if(!Kr(i))return i;var a=wn(n)&&(zr(n)||is(n)),l=a?e:vs(n);return Ft(l||n,function(u,c){if(l&&(u=n[c=u]),Ye(u))s||(s=[]),o||(o=[]),function(t,i,n,r,s,o,a){for(var l=o.length,u=i[n];l--;)if(o[l]==u)return void(t[n]=a[l]);var c=t[n],h=s?s(c,u,n,t,i):e,p=h===e;p&&(h=u,wn(u)&&(zr(u)||is(u))?h=zr(c)?c:wn(c)?Bt(c):[]:$r(u)||Wr(u)?h=Wr(c)?ss(c):$r(c)?c:{}:p=!1),o.push(u),a.push(h),p?t[n]=r(h,u,s,o,a):(h==h?h!==c:c==c)&&(t[n]=h)}(i,n,c,t,r,s,o);else{var h=i[c],p=r?r(h,u,c,i,n):e,d=p===e;d&&(p=u),p===e&&(!a||c in i)||!d&&(p==p?p===h:h!=h)||(i[c]=p)}}),i}),as=Fi(function(e,t,i){return i?Xt(e,t,i):Qt(e,t)});var ls=Yi(as,function(t,i){return t===e?i:t}),us=Yi(os,function t(i,n){return i===e?n:os(i,n,t)}),cs=Zi(pi),hs=Zi(di),ps=en(ui),ds=en(ci),fs=tn(pi),ms=tn(di);function gs(e){return fi(e,ys(e))}var vs=yt?function(t){var i=null==t?e:t.constructor;return"function"==typeof i&&i.prototype===t||"function"!=typeof t&&wn(t)?On(t):Kr(t)?yt(t):[]}:On;function ys(e){if(null==e)return[];Kr(e)||(e=Ee(e));var t=e.length;t=t&&An(t)&&(zr(e)||Wr(e))&&t||0;for(var i=e.constructor,n=-1,r="function"==typeof i&&i.prototype===e,s=_(t),o=t>0;++n<t;)s[n]=n+"";for(var a in e)o&&Sn(a,t)||"constructor"==a&&(r||!Oe.call(e,a))||s.push(a);return s}var bs=nn(!0),ws=nn(),Ss=qr(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=qt(li(t),Ce),Pn(e,ii(ys(e),t));var i=Di(t[0],t[1],3);return _n(e,function(e,t,n){return!i(e,t,n)})});function xs(e){e=Ln(e);for(var t=-1,i=vs(e),n=i.length,r=_(n);++t<n;){var s=i[t];r[t]=[s,e[s]]}return r}var Ts=qr(function(e,t){return null==e?{}:"function"==typeof t[0]?_n(e,Di(t[0],t[1],3)):Pn(e,li(t))});function Es(e){return ki(e,vs(e))}var As=Gi(function(e,t,i){return t=t.toLowerCase(),e+(i?t.charAt(0).toUpperCase()+t.slice(1):t)});function Cs(e){return(e=je(e))&&e.replace(de,He).replace(oe,"")}var Ps=Gi(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()});var _s=rn(),Is=rn(!0);function ks(e,t){var i="";if(e=je(e),(t=+t)<1||!e||!vt(t))return i;do{t%2&&(i+=e),t=mt(t/2),e+=e}while(t);return i}var Rs=Gi(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Os=Gi(function(e,t,i){return e+(i?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Ms(e,t,i){var n=e;return(e=je(e))?(i?xn(n,t,i):null==t)?e.slice(Ke(e),Ze(e)+1):(t+="",e.slice(Be(e,t),Fe(e,t)+1)):e}function Ls(t,i,n){return n&&xn(t,i,n)&&(i=e),(t=je(t)).match(i||ge)||[]}var Ds=qr(function(t,i){try{return t.apply(e,i)}catch(e){return Xr(e)?e:new L(e)}});function Ns(t,i,n){return n&&xn(t,i,n)&&(i=e),Ye(t)?js(t):Jt(t,i)}function Vs(e){return e}function js(e){return bi($t(e,!0))}var Bs=qr(function(e,t){return function(i){return bn(i,e,t)}}),Fs=qr(function(e,t){return function(i){return bn(e,i,t)}});function Us(t,i,n){if(null==n){var r=Kr(i),s=r?vs(i):e,o=s&&s.length?fi(i,s):e;(o?o.length:r)||(o=!1,n=i,i=t,t=this)}o||(o=fi(i,vs(i)));var a=!0,l=-1,u=Qr(t),c=o.length;!1===n?a=!1:Kr(n)&&"chain"in n&&(a=n.chain);for(;++l<c;){var h=o[l],p=i[h];t[h]=p,u&&(t.prototype[h]=function(e){return function(){var i=this.__chain__;if(a||i){var n=t(this.__wrapped__);return(n.__actions__=Bt(this.__actions__)).push({func:e,args:arguments,thisArg:t}),n.__chain__=i,n}return e.apply(t,Gt([this.value()],arguments))}}(p))}return t}function Hs(){}function qs(e){return Tn(e)?Si(e):(i=(t=e)+"",t=Dn(t),function(e){return mi(e,t,i)});var t,i}var Gs,Ws=un("ceil"),zs=un("floor"),Ys=Xi(Gr,Et),Xs=Xi(ns,At),Qs=un("round");return Ot.prototype=Mt.prototype,Lt.prototype=ei(Mt.prototype),Lt.prototype.constructor=Lt,Dt.prototype=ei(Mt.prototype),Dt.prototype.constructor=Dt,Nt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Nt.prototype.get=function(t){return"__proto__"==t?e:this.__data__[t]},Nt.prototype.has=function(e){return"__proto__"!=e&&Oe.call(this.__data__,e)},Nt.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},Vt.prototype.push=function(e){var t=this.data;"string"==typeof e||Kr(e)?t.set.add(e):t.hash[e]=!0},jr.Cache=Nt,Ot.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Pe(w);var i=e;e=t,t=i}return e=vt(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},Ot.ary=function(t,i,n){return n&&xn(t,i,n)&&(i=e),i=t&&null==i?t.length:bt(+i||0,0),hn(t,h,e,e,e,e,i)},Ot.assign=as,Ot.at=ar,Ot.before=Pr,Ot.bind=_r,Ot.bindAll=Ir,Ot.bindKey=kr,Ot.callback=Ns,Ot.chain=rr,Ot.chunk=function(e,t,i){t=(i?xn(e,t,i):null==t)?1:bt(mt(t)||1,1);for(var n=0,r=e?e.length:0,s=-1,o=_(dt(r/t));n<r;)o[++s]=Ai(e,n,n+=t);return o},Ot.compact=function(e){for(var t=-1,i=e?e.length:0,n=-1,r=[];++t<i;){var s=e[t];s&&(r[++n]=s)}return r},Ot.constant=function(e){return function(){return e}},Ot.countBy=lr,Ot.create=function(t,i,n){var r=ei(t);return n&&xn(t,i,n)&&(i=e),i?Qt(r,i):r},Ot.curry=Rr,Ot.curryRight=Or,Ot.debounce=Mr,Ot.defaults=ls,Ot.defaultsDeep=us,Ot.defer=Lr,Ot.delay=Dr,Ot.difference=Vn,Ot.drop=jn,Ot.dropRight=Bn,Ot.dropRightWhile=function(e,t,i){return e&&e.length?Ri(e,pn(t,i,3),!0,!0):[]},Ot.dropWhile=function(e,t,i){return e&&e.length?Ri(e,pn(t,i,3),!0):[]},Ot.fill=function(t,i,n,r){var s=t?t.length:0;return s?(n&&"number"!=typeof n&&xn(t,i,n)&&(n=0,r=s),function(t,i,n,r){var s=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>s?0:s+n),(r=r===e||r>s?s:+r||0)<0&&(r+=s),s=n>r?0:r>>>0,n>>>=0;n<s;)t[n++]=i;return t}(t,i,n,r)):[]},Ot.filter=cr,Ot.flatten=function(e,t,i){var n=e?e.length:0;return i&&xn(e,t,i)&&(t=!1),n?li(e,t):[]},Ot.flattenDeep=function(e){return e&&e.length?li(e,!0):[]},Ot.flow=Nr,Ot.flowRight=Vr,Ot.forEach=dr,Ot.forEachRight=fr,Ot.forIn=ps,Ot.forInRight=ds,Ot.forOwn=fs,Ot.forOwnRight=ms,Ot.functions=gs,Ot.groupBy=mr,Ot.indexBy=vr,Ot.initial=function(e){return Bn(e,1)},Ot.intersection=Gn,Ot.invert=function(t,i,n){n&&xn(t,i,n)&&(i=e);for(var r=-1,s=vs(t),o=s.length,a={};++r<o;){var l=s[r],u=t[l];i?Oe.call(a,u)?a[u].push(l):a[u]=[l]:a[u]=l}return a},Ot.invoke=yr,Ot.keys=vs,Ot.keysIn=ys,Ot.map=br,Ot.mapKeys=bs,Ot.mapValues=ws,Ot.matches=js,Ot.matchesProperty=function(e,t){return wi(e,$t(t,!0))},Ot.memoize=jr,Ot.merge=os,Ot.method=Bs,Ot.methodOf=Fs,Ot.mixin=Us,Ot.modArgs=Br,Ot.negate=function(e){if("function"!=typeof e)throw new Pe(w);return function(){return!e.apply(this,arguments)}},Ot.omit=Ss,Ot.once=function(e){return Pr(2,e)},Ot.pairs=xs,Ot.partial=Fr,Ot.partialRight=Ur,Ot.partition=wr,Ot.pick=Ts,Ot.pluck=function(e,t){return br(e,qs(t))},Ot.property=qs,Ot.propertyOf=function(e){return function(t){return mi(e,Dn(t),t+"")}},Ot.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var i=0,n=mn(),r=e.length;++i<r;)for(var s=0,o=e[i];(s=n(t,o,s))>-1;)ct.call(t,s,1);return t},Ot.pullAt=zn,Ot.range=function(t,i,n){n&&xn(t,i,n)&&(i=n=e),t=+t||0,null==i?(i=t,t=0):i=+i||0;for(var r=-1,s=bt(dt((i-t)/((n=null==n?1:+n||0)||1)),0),o=_(s);++r<s;)o[r]=t,t+=n;return o},Ot.rearg=Hr,Ot.reject=function(e,t,i){var n=zr(e)?Ht:oi;return t=pn(t,i,3),n(e,function(e,i,n){return!t(e,i,n)})},Ot.remove=function(e,t,i){var n=[];if(!e||!e.length)return n;var r=-1,s=[],o=e.length;for(t=pn(t,i,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),s.push(r))}return xi(e,s),n},Ot.rest=Yn,Ot.restParam=qr,Ot.set=function(e,t,i){if(null==e)return e;for(var n=t+"",r=-1,s=(t=null!=e[n]||Tn(t,e)?[n]:Dn(t)).length,o=s-1,a=e;null!=a&&++r<s;){var l=t[r];Kr(a)&&(r==o?a[l]=i:null==a[l]&&(a[l]=Sn(t[r+1])?[]:{})),a=a[l]}return e},Ot.shuffle=function(e){return Tr(e,At)},Ot.slice=function(e,t,i){var n=e?e.length:0;return n?(i&&"number"!=typeof i&&xn(e,t,i)&&(t=0,i=n),Ai(e,t,i)):[]},Ot.sortBy=function(t,i,n){if(null==t)return[];n&&xn(t,i,n)&&(i=e);var r=-1;return i=pn(i,n,3),Pi(yi(t,function(e,t,n){return{criteria:i(e,t,n),index:++r,value:e}}),Ue)},Ot.sortByAll=Ar,Ot.sortByOrder=function(t,i,n,r){return null==t?[]:(r&&xn(i,n,r)&&(n=e),zr(i)||(i=null==i?[]:[i]),zr(n)||(n=null==n?[]:[n]),_i(t,i,n))},Ot.spread=function(e){if("function"!=typeof e)throw new Pe(w);return function(t){return e.apply(this,t)}},Ot.take=function(e,t,i){return e&&e.length?((i?xn(e,t,i):null==t)&&(t=1),Ai(e,0,t<0?0:t)):[]},Ot.takeRight=function(e,t,i){var n=e?e.length:0;return n?((i?xn(e,t,i):null==t)&&(t=1),Ai(e,(t=n-(+t||0))<0?0:t)):[]},Ot.takeRightWhile=function(e,t,i){return e&&e.length?Ri(e,pn(t,i,3),!1,!0):[]},Ot.takeWhile=function(e,t,i){return e&&e.length?Ri(e,pn(t,i,3)):[]},Ot.tap=function(e,t,i){return t.call(i,e),e},Ot.throttle=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new Pe(w);return!1===i?n=!1:Kr(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Mr(e,t,{leading:n,maxWait:+t,trailing:r})},Ot.thru=sr,Ot.times=function(e,t,i){if((e=mt(e))<1||!vt(e))return[];var n=-1,r=_(wt(e,Ct));for(t=Di(t,i,1);++n<e;)n<Ct?r[n]=t(n):t(n);return r},Ot.toArray=rs,Ot.toPlainObject=ss,Ot.transform=function(t,i,n,r){var s=zr(t)||is(t);if(i=pn(i,r,4),null==n)if(s||Kr(t)){var o=t.constructor;n=s?zr(t)?new o:[]:ei(Qr(o)?o.prototype:e)}else n={};return(s?Ft:pi)(t,function(e,t,r){return i(n,e,t,r)}),n},Ot.union=Kn,Ot.uniq=Zn,Ot.unzip=Jn,Ot.unzipWith=$n,Ot.values=Es,Ot.valuesIn=function(e){return ki(e,ys(e))},Ot.where=function(e,t){return cr(e,bi(t))},Ot.without=er,Ot.wrap=function(t,i){return hn(i=null==i?Vs:i,u,e,[t],[])},Ot.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(wn(i))var n=n?Gt(ii(n,i),ii(i,n)):i}return n?Ii(n):[]},Ot.zip=tr,Ot.zipObject=ir,Ot.zipWith=nr,Ot.backflow=Vr,Ot.collect=br,Ot.compose=Vr,Ot.each=dr,Ot.eachRight=fr,Ot.extend=as,Ot.iteratee=Ns,Ot.methods=gs,Ot.object=ir,Ot.select=cr,Ot.tail=Yn,Ot.unique=Zn,Us(Ot,Ot),Ot.add=function(e,t){return(+e||0)+(+t||0)},Ot.attempt=Ds,Ot.camelCase=As,Ot.capitalize=function(e){return(e=je(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Ot.ceil=Ws,Ot.clone=function(e,t,i,n){return t&&"boolean"!=typeof t&&xn(e,t,i)?t=!1:"function"==typeof t&&(n=i,i=t,t=!1),"function"==typeof i?$t(e,t,Di(i,n,3)):$t(e,t)},Ot.cloneDeep=function(e,t,i){return"function"==typeof t?$t(e,!0,Di(t,i,3)):$t(e,!0)},Ot.deburr=Cs,Ot.endsWith=function(t,i,n){i+="";var r=(t=je(t)).length;return n=n===e?r:wt(n<0?0:+n||0,r),(n-=i.length)>=0&&t.indexOf(i,n)==n},Ot.escape=function(e){return(e=je(e))&&Z.test(e)?e.replace(Q,qe):e},Ot.escapeRegExp=function(e){return(e=je(e))&&se.test(e)?e.replace(re,Ge):e||"(?:)"},Ot.every=ur,Ot.find=hr,Ot.findIndex=Fn,Ot.findKey=cs,Ot.findLast=pr,Ot.findLastIndex=Un,Ot.findLastKey=hs,Ot.findWhere=function(e,t){return hr(e,bi(t))},Ot.first=Hn,Ot.floor=zs,Ot.get=function(t,i,n){var r=null==t?e:mi(t,Dn(i),i+"");return r===e?n:r},Ot.gt=Gr,Ot.gte=function(e,t){return e>=t},Ot.has=function(e,t){if(null==e)return!1;var i=Oe.call(e,t);if(!i&&!Tn(t)){if(null==(e=1==(t=Dn(t)).length?e:mi(e,Ai(t,0,-1))))return!1;t=Wn(t),i=Oe.call(e,t)}return i||An(e.length)&&Sn(t,e.length)&&(zr(e)||Wr(e))},Ot.identity=Vs,Ot.includes=gr,Ot.indexOf=qn,Ot.inRange=function(t,i,n){return i=+i||0,n===e?(n=i,i=0):n=+n||0,t>=wt(i,n)&&t<bt(i,n)},Ot.isArguments=Wr,Ot.isArray=zr,Ot.isBoolean=function(e){return!0===e||!1===e||Ye(e)&&et.call(e)==E},Ot.isDate=function(e){return Ye(e)&&et.call(e)==A},Ot.isElement=function(e){return!!e&&1===e.nodeType&&Ye(e)&&!$r(e)},Ot.isEmpty=function(e){return null==e||(wn(e)&&(zr(e)||ts(e)||Wr(e)||Ye(e)&&Qr(e.splice))?!e.length:!vs(e).length)},Ot.isEqual=Yr,Ot.isError=Xr,Ot.isFinite=function(e){return"number"==typeof e&&vt(e)},Ot.isFunction=Qr,Ot.isMatch=function(t,i,n,r){return n="function"==typeof n?Di(n,r,3):e,vi(t,vn(i),n)},Ot.isNaN=function(e){return Jr(e)&&e!=+e},Ot.isNative=Zr,Ot.isNull=function(e){return null===e},Ot.isNumber=Jr,Ot.isObject=Kr,Ot.isPlainObject=$r,Ot.isRegExp=es,Ot.isString=ts,Ot.isTypedArray=is,Ot.isUndefined=function(t){return t===e},Ot.kebabCase=Ps,Ot.last=Wn,Ot.lastIndexOf=function(e,t,i){var n=e?e.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(i<0?bt(n+i,0):wt(i||0,n-1))+1;else if(i){var s=e[r=Mi(e,t,!0)-1];return(t==t?t===s:s!=s)?r:-1}if(t!=t)return ze(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},Ot.lt=ns,Ot.lte=function(e,t){return e<=t},Ot.max=Ys,Ot.min=Xs,Ot.noConflict=function(){return Me._=tt,this},Ot.noop=Hs,Ot.now=Cr,Ot.pad=function(e,t,i){t=+t;var n=(e=je(e)).length;if(n>=t||!vt(t))return e;var r=(t-n)/2,s=mt(r);return(i=ln("",dt(r),i)).slice(0,s)+e+i},Ot.padLeft=_s,Ot.padRight=Is,Ot.parseInt=function(e,t,i){return(i?xn(e,t,i):null==t)?t=0:t&&(t=+t),e=Ms(e),xt(e,t||(ce.test(e)?16:10))},Ot.random=function(t,i,n){n&&xn(t,i,n)&&(i=n=e);var r=null==t,s=null==i;if(null==n&&(s&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof i&&(n=i,s=!0)),r&&s&&(i=1,s=!1),t=+t||0,s?(i=t,t=0):i=+i||0,n||t%1||i%1){var o=Tt();return wt(t+o*(i-t+st("1e-"+((o+"").length-1))),i)}return Ti(t,i)},Ot.reduce=Sr,Ot.reduceRight=xr,Ot.repeat=ks,Ot.result=function(t,i,n){var r=null==t?e:t[i];return r===e&&(null==t||Tn(i,t)||(r=null==(t=1==(i=Dn(i)).length?t:mi(t,Ai(i,0,-1)))?e:t[Wn(i)]),r=r===e?n:r),Qr(r)?r.call(t):r},Ot.round=Qs,Ot.runInContext=t,Ot.size=function(e){var t=e?gn(e):0;return An(t)?t:vs(e).length},Ot.snakeCase=Rs,Ot.some=Er,Ot.sortedIndex=Xn,Ot.sortedLastIndex=Qn,Ot.startCase=Os,Ot.startsWith=function(e,t,i){return e=je(e),i=null==i?0:wt(i<0?0:+i||0,e.length),e.lastIndexOf(t,i)==i},Ot.sum=function(t,i,n){return n&&xn(t,i,n)&&(i=e),1==(i=pn(i,n,3)).length?function(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}(zr(t)?t:Mn(t),i):(r=i,s=0,ni(t,function(e,t,i){s+=+r(e,t,i)||0}),s);var r,s},Ot.template=function(t,i,n){var r=Ot.templateSettings;n&&xn(t,i,n)&&(i=n=e),t=je(t);var s,o,a=Xt(Qt({},(i=Xt(Qt({},n||i),r,Yt)).imports),r.imports,Yt),l=vs(a),u=ki(a,l),c=0,h=i.interpolate||fe,p="__p += '",d=Ae((i.escape||fe).source+"|"+h.source+"|"+(h===ee?le:fe).source+"|"+(i.evaluate||fe).source+"|$","g"),f="//# sourceURL="+("sourceURL"in i?i.sourceURL:"lodash.templateSources["+ ++ye+"]")+"\n";t.replace(d,function(e,i,n,r,a,l){return n||(n=r),p+=t.slice(c,l).replace(me,We),i&&(s=!0,p+="' +\n__e("+i+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),p+="';\n";var m=i.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(W,""):p).replace(z,"$1").replace(Y,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Ds(function(){return Se(l,f+"return "+p).apply(e,u)});if(g.source=p,Xr(g))throw g;return g},Ot.trim=Ms,Ot.trimLeft=function(e,t,i){var n=e;return(e=je(e))?(i?xn(n,t,i):null==t)?e.slice(Ke(e)):e.slice(Be(e,t+"")):e},Ot.trimRight=function(e,t,i){var n=e;return(e=je(e))?(i?xn(n,t,i):null==t)?e.slice(0,Ze(e)+1):e.slice(0,Fe(e,t+"")+1):e},Ot.trunc=function(t,i,n){n&&xn(t,i,n)&&(i=e);var r=d,s=f;if(null!=i)if(Kr(i)){var o="separator"in i?i.separator:o;r="length"in i?+i.length||0:r,s="omission"in i?je(i.omission):s}else r=+i||0;if(r>=(t=je(t)).length)return t;var a=r-s.length;if(a<1)return s;var l=t.slice(0,a);if(null==o)return l+s;if(es(o)){if(t.slice(a).search(o)){var u,c,h=t.slice(0,a);for(o.global||(o=Ae(o.source,(ue.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+s},Ot.unescape=function(e){return(e=je(e))&&K.test(e)?e.replace(X,Je):e},Ot.uniqueId=function(e){var t=++Xe;return je(e)+t},Ot.words=Ls,Ot.all=ur,Ot.any=Er,Ot.contains=gr,Ot.eq=Yr,Ot.detect=hr,Ot.foldl=Sr,Ot.foldr=xr,Ot.head=Hn,Ot.include=gr,Ot.inject=Sr,Us(Ot,(Gs={},pi(Ot,function(e,t){Ot.prototype[t]||(Gs[t]=e)}),Gs),!1),Ot.sample=Tr,Ot.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Tr(t,e)}):Tr(this.value())},Ot.VERSION=n,Ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Ot[e].placeholder=Ot}),Ft(["drop","take"],function(e,t){Dt.prototype[e]=function(i){var n=this.__filtered__;if(n&&!t)return new Dt(this);i=null==i?1:bt(mt(i)||0,0);var r=this.clone();return n?r.__takeCount__=wt(r.__takeCount__,i):r.__views__.push({size:i,type:e+(r.__dir__<0?"Right":"")}),r},Dt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ft(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i!=b;Dt.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:pn(e,t,1),type:i}),r.__filtered__=r.__filtered__||n,r}}),Ft(["first","last"],function(e,t){var i="take"+(t?"Right":"");Dt.prototype[e]=function(){return this[i](1).value()[0]}}),Ft(["initial","rest"],function(e,t){var i="drop"+(t?"":"Right");Dt.prototype[e]=function(){return this.__filtered__?new Dt(this):this[i](1)}}),Ft(["pluck","where"],function(e,t){var i=t?"filter":"map",n=t?bi:qs;Dt.prototype[e]=function(e){return this[i](n(e))}}),Dt.prototype.compact=function(){return this.filter(Vs)},Dt.prototype.reject=function(e,t){return e=pn(e,t,1),this.filter(function(t){return!e(t)})},Dt.prototype.slice=function(t,i){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||i<0)?new Dt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),i!==e&&(n=(i=+i||0)<0?n.dropRight(-i):n.take(i-t)),n)},Dt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Dt.prototype.toArray=function(){return this.take(At)},pi(Dt.prototype,function(t,i){var n=/^(?:filter|map|reject)|While$/.test(i),r=/^(?:first|last)$/.test(i),s=Ot[r?"take"+("last"==i?"Right":""):i];s&&(Ot.prototype[i]=function(){var i=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,u=a instanceof Dt,c=i[0],h=u||zr(a);h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1);var p=function(t){return r&&o?s(t,1)[0]:s.apply(e,Gt([t],i))},d={func:sr,args:[p],thisArg:e},f=u&&!l;if(r&&!o)return f?((a=a.clone()).__actions__.push(d),t.call(a)):s.call(e,this.value())[0];if(!r&&h){a=f?a:new Dt(this);var m=t.apply(a,i);return m.__actions__.push(d),new Lt(m,o)}return this.thru(p)})}),Ft(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?ke:_e)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(e);Ot.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[i](function(i){return t.apply(i,e)})}}),pi(Dt.prototype,function(e,t){var i=Ot[t];if(i){var n=i.name+"";(Rt[n]||(Rt[n]=[])).push({name:t,func:i})}}),Rt[an(e,s).name]=[{name:"wrapper",func:e}],Dt.prototype.clone=function(){var e=new Dt(this.__wrapped__);return e.__actions__=Bt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bt(this.__views__),e},Dt.prototype.reverse=function(){if(this.__filtered__){var e=new Dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=zr(e),n=t<0,r=i?e.length:0,s=function(e,t,i){for(var n=-1,r=i.length;++n<r;){var s=i[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=wt(t,e+o);break;case"takeRight":e=bt(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,l=a-o,u=n?a:o-1,c=this.__iteratees__,h=c.length,p=0,d=wt(l,this.__takeCount__);if(!i||r<v||r==l&&d==l)return Oi(e,this.__actions__);var f=[];e:for(;l--&&p<d;){for(var m=-1,g=e[u+=t];++m<h;){var w=c[m],S=w.iteratee,x=w.type,T=S(g);if(x==b)g=T;else if(!T){if(x==y)continue e;break e}}f[p++]=g}return f},Ot.prototype.chain=function(){return rr(this)},Ot.prototype.commit=function(){return new Lt(this.value(),this.__chain__)},Ot.prototype.concat=or,Ot.prototype.plant=function(e){for(var t,i=this;i instanceof Mt;){var n=Nn(i);t?r.__wrapped__=n:t=n;var r=n;i=i.__wrapped__}return r.__wrapped__=e,t},Ot.prototype.reverse=function(){var t=this.__wrapped__,i=function(e){return e.reverse()};if(t instanceof Dt){var n=t;return this.__actions__.length&&(n=new Dt(this)),(n=n.reverse()).__actions__.push({func:sr,args:[i],thisArg:e}),new Lt(n,this.__chain__)}return this.thru(i)},Ot.prototype.toString=function(){return this.value()+""},Ot.prototype.run=Ot.prototype.toJSON=Ot.prototype.valueOf=Ot.prototype.value=function(){return Oi(this.__wrapped__,this.__actions__)},Ot.prototype.collect=Ot.prototype.map,Ot.prototype.head=Ot.prototype.first,Ot.prototype.select=Ot.prototype.filter,Ot.prototype.tail=Ot.prototype.rest,Ot}();"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(Me._=$e,define("lodash",[],function(){return $e})):Pe&&_e?Oe?(_e.exports=$e)._=$e:Pe._=$e:Me._=$e}.call(this),define("helpers/dataVersioner",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=/ version: ([0-9]+.*)+ /,n=function(e){var t=e.split(".").map(function(e){return parseInt(e)}),i=_slicedToArray(t,4);return{major:i[0],minor:i[1],build:i[2],revision:i[3]}};return{major:0,minor:0,build:0,revision:0,init:function(){var e,r;this.version=(e=t.first(t.filter(document.head.childNodes,function(e){return e.nodeType===e.COMMENT_NODE&&i.test(e.nodeValue)}))||{nodeValue:" version: 0.0.0.0 "},r=i.exec(e.nodeValue),n(r[1])),this.fixThemeName().fixStyles().addVideoPen()},setDataVersion:function(e){this.version=n(e)},parseParams:function(){if(null!=window.globals.parsedParams)return window.globals.parsedParams;for(var e,t=window.location.search.substr(1).split("+").join(" "),i={},n=/[?&]?([^=]+)=([^&]*)/g;e=n.exec(t);)i[decodeURIComponent(e[1]).trim()]=decodeURIComponent(e[2]).trim();return window.globals.parsedParams=i,i},fixStyles:function(){if(window.isMobile.any&&this.version.major<=3&&this.version.minor<=14){var e=null!=window.globals.parseParams?window.globals.parseParams():this.parseParams(),t=window.isMobile.phone||"phone"===e.deviceType;(window.isMobile.any||null!=e.deviceType)&&(document.body.classList.add(t?"is-phone":"is-tablet"),null!=window.vInterfaceObject&&window.vInterfaceObject.isRise&&this.version.minor<=13&&(document.body.style.background="transparent"))}return this},fixThemeName:function(){return null!=window.globals.themeName&&"null"!==window.globals.themeName||(window.globals.themeName="classic"),this.isClassic="classic"===window.globals.themeName,this},addVideoPen:function(){if(null==document.getElementById("video-pen")){var e=document.createElement("div");e.id="video-pen",e.classList.add("offscreen"),document.body.appendChild(e)}return this},hasPatternImageFlag:function(){return this.version.major>=3&&this.version.minor>=11}}}),define("features/featureOverrides",[],function(){"use strict";return{}}),define("features/featuresHelper",["features/featureOverrides"],function(e){"use strict";return{initialize:function(){(null==window.globals.features?[]:window.globals.features.split(",")).forEach(function(t){null!=e[t]&&requirejs.config(Object.keys(e[t]).reduce(function(i,n){var r=e[t][n];return i.map["*"][n]=r,i},{map:{"*":{}}}))})}}}),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).React=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n=e(22),r=e(26),s=e(37),o=e(29),a=e(64),l=e(94),u=e(96),c=e(118),h=e(140),p=e(143),d=e(173),f=!1;r.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:s,TransitionGroup:l,batchedUpdates:function(){return d(f,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),f=!0,u.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:a.create,shallowCompare:h,update:p},r.addons.Perf=e(55),r.addons.TestUtils=e(91),t.exports=r},{118:118,140:140,143:143,173:173,22:22,26:26,29:29,37:37,55:55,64:64,91:91,94:94,96:96}],2:[function(e,t,i){"use strict";var n=e(72),r=e(122),s=e(155),o={Mixin:{componentDidMount:function(){this.props.autoFocus&&s(r(this))}},focusDOMComponent:function(){s(n.getNode(this._rootNodeID))}};t.exports=o},{122:122,155:155,72:72}],3:[function(e,t,i){"use strict";var n=e(15),r=e(19),s=e(147),o=e(20),a=e(103),l=e(107),u=e(166),c=[9,13,27,32],h=229,p=s.canUseDOM&&"CompositionEvent"in window,d=null;s.canUseDOM&&"documentMode"in document&&(d=document.documentMode);var f,m=s.canUseDOM&&"TextEvent"in window&&!d&&!("object"===(void 0===(f=window.opera)?"undefined":_typeof(f))&&"function"==typeof f.version&&parseInt(f.version(),10)<=12),g=s.canUseDOM&&(!p||d&&d>8&&d<=11);var v=32,y=String.fromCharCode(v),b=n.topLevelTypes,w={beforeInput:{phasedRegistrationNames:{bubbled:u({onBeforeInput:null}),captured:u({onBeforeInputCapture:null})},dependencies:[b.topCompositionEnd,b.topKeyPress,b.topTextInput,b.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:u({onCompositionEnd:null}),captured:u({onCompositionEndCapture:null})},dependencies:[b.topBlur,b.topCompositionEnd,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:u({onCompositionStart:null}),captured:u({onCompositionStartCapture:null})},dependencies:[b.topBlur,b.topCompositionStart,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:u({onCompositionUpdate:null}),captured:u({onCompositionUpdateCapture:null})},dependencies:[b.topBlur,b.topCompositionUpdate,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]}},S=!1;function x(e,t){switch(e){case b.topKeyUp:return-1!==c.indexOf(t.keyCode);case b.topKeyDown:return t.keyCode!==h;case b.topKeyPress:case b.topMouseDown:case b.topBlur:return!0;default:return!1}}function T(e){var t=e.detail;return"object"===(void 0===t?"undefined":_typeof(t))&&"data"in t?t.data:null}var E=null;function A(e,t,i,n,s){var l,u,c;if(p?l=function(e){switch(e){case b.topCompositionStart:return w.compositionStart;case b.topCompositionEnd:return w.compositionEnd;case b.topCompositionUpdate:return w.compositionUpdate}}(e):E?x(e,n)&&(l=w.compositionEnd):(c=n,e===b.topKeyDown&&c.keyCode===h&&(l=w.compositionStart)),!l)return null;g&&(E||l!==w.compositionStart?l===w.compositionEnd&&E&&(u=E.getData()):E=o.getPooled(t));var d=a.getPooled(l,i,n,s);if(u)d.data=u;else{var f=T(n);null!==f&&(d.data=f)}return r.accumulateTwoPhaseDispatches(d),d}function C(e,t,i,n,s){var a;if(!(a=m?function(e,t){switch(e){case b.topCompositionEnd:return T(t);case b.topKeyPress:return t.which!==v?null:(S=!0,y);case b.topTextInput:var i=t.data;return i===y&&S?null:i;default:return null}}(e,n):function(e,t){if(E){if(e===b.topCompositionEnd||x(e,t)){var i=E.getData();return o.release(E),E=null,i}return null}switch(e){case b.topPaste:return null;case b.topKeyPress:return t.which&&(!((n=t).ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey)?String.fromCharCode(t.which):null;case b.topCompositionEnd:return g?null:t.data;default:return null}var n}(e,n)))return null;var u=l.getPooled(w.beforeInput,i,n,s);return u.data=a,r.accumulateTwoPhaseDispatches(u),u}var P={eventTypes:w,extractEvents:function(e,t,i,n,r){return[A(e,t,i,n,r),C(e,0,i,n,r)]}};t.exports=P},{103:103,107:107,147:147,15:15,166:166,19:19,20:20}],4:[function(e,t,i){"use strict";var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};var r=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){r.forEach(function(t){var i,r;n[(i=t,r=e,i+r.charAt(0).toUpperCase()+r.substring(1))]=n[e]})});var s={isUnitlessNumber:n,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.exports=s},{}],5:[function(e,t,i){"use strict";var n=e(4),r=e(147),s=e(78),o=e(149),a=e(119),l=e(160),u=e(168),c=e(173),h=u(function(e){return l(e)}),p=!1,d="cssFloat";if(r.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){p=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}var m=/^(?:webkit|moz|o)[A-Z]/,g=/;\s*$/,v={},y={},b=function(e,t){var i,n,r,s;e.indexOf("-")>-1?(s=e,v.hasOwnProperty(s)&&v[s]||(v[s]=!0,c(!1,"Unsupported style property %s. Did you mean %s?",s,o(s)))):m.test(e)?(r=e,v.hasOwnProperty(r)&&v[r]||(v[r]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",r,r.charAt(0).toUpperCase()+r.slice(1)))):g.test(t)&&(i=e,n=t,y.hasOwnProperty(n)&&y[n]||(y[n]=!0,c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',i,n.replace(g,""))))},w={createMarkupForStyles:function(e){var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];b(i,n),null!=n&&(t+=h(i)+":",t+=a(i,n)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var r in t)if(t.hasOwnProperty(r)){b(r,t[r]);var s=a(r,t[r]);if("float"===r&&(r=d),s)i[r]=s;else{var o=p&&n.shorthandPropertyExpansions[r];if(o)for(var l in o)i[l]="";else i[r]=""}}}};s.measureMethods(w,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=w},{119:119,147:147,149:149,160:160,168:168,173:173,4:4,78:78}],6:[function(e,t,i){"use strict";var n=e(25),r=e(24),s=e(161);function o(){this._callbacks=null,this._contexts=null}r(o.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length&&s(!1,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),n.addPoolingTo(o),t.exports=o},{161:161,24:24,25:25}],7:[function(e,t,i){"use strict";var n=e(15),r=e(16),s=e(19),o=e(147),a=e(96),l=e(105),u=e(128),c=e(133),h=e(134),p=e(166),d=n.topLevelTypes,f={change:{phasedRegistrationNames:{bubbled:p({onChange:null}),captured:p({onChangeCapture:null})},dependencies:[d.topBlur,d.topChange,d.topClick,d.topFocus,d.topInput,d.topKeyDown,d.topKeyUp,d.topSelectionChange]}},m=null,g=null,v=null,y=null;var b=!1;function w(e){var t=l.getPooled(f.change,g,e,u(e));s.accumulateTwoPhaseDispatches(t),a.batchedUpdates(S,t)}function S(e){r.enqueueEvents(e),r.processEventQueue(!1)}function x(){m&&(m.detachEvent("onchange",w),m=null,g=null)}function T(e,t,i){if(e===d.topChange)return i}function E(e,t,i){e===d.topFocus?(x(),g=i,(m=t).attachEvent("onchange",w)):e===d.topBlur&&x()}o.canUseDOM&&(b=c("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;o.canUseDOM&&(A=c("input")&&(!("documentMode"in document)||document.documentMode>9));var C={get:function(){return y.get.call(this)},set:function(e){v=""+e,y.set.call(this,e)}};function P(){m&&(delete m.value,m.detachEvent("onpropertychange",_),m=null,g=null,v=null,y=null)}function _(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==v&&(v=t,w(e))}}function I(e,t,i){if(e===d.topInput)return i}function k(e,t,i){var n;e===d.topFocus?(P(),m=n=t,g=i,v=n.value,y=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value"),Object.defineProperty(m,"value",C),m.attachEvent("onpropertychange",_)):e===d.topBlur&&P()}function R(e,t,i){if((e===d.topSelectionChange||e===d.topKeyUp||e===d.topKeyDown)&&m&&m.value!==v)return v=m.value,g}function O(e,t,i){if(e===d.topClick)return i}var M={eventTypes:f,extractEvents:function(e,t,i,n,r){var o,a,u,c,p;if("select"===(p=(c=t).nodeName&&c.nodeName.toLowerCase())||"input"===p&&"file"===c.type?b?o=T:a=E:h(t)?A?o=I:(o=R,a=k):!(u=t).nodeName||"input"!==u.nodeName.toLowerCase()||"checkbox"!==u.type&&"radio"!==u.type||(o=O),o){var d=o(e,t,i);if(d){var m=l.getPooled(f.change,d,n,r);return m.type="change",s.accumulateTwoPhaseDispatches(m),m}}a&&a(e,t,i)}};t.exports=M},{105:105,128:128,133:133,134:134,147:147,15:15,16:16,166:166,19:19,96:96}],8:[function(e,t,i){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},{}],9:[function(e,t,i){"use strict";var n=e(12),r=e(74),s=e(78),o=e(138),a=e(139),l=e(161);function u(e,t,i){var n=i>=e.childNodes.length?null:e.childNodes.item(i);e.insertBefore(t,n)}var c={dangerouslyReplaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(e,t){for(var i,s,c=null,h=null,p=0;p<e.length;p++)if((i=e[p]).type===r.MOVE_EXISTING||i.type===r.REMOVE_NODE){var d=i.fromIndex,f=i.parentNode.childNodes[d],m=i.parentID;f||l(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,m),(c=c||{})[m]=c[m]||[],c[m][d]=f,(h=h||[]).push(f)}if(s=t.length&&"string"==typeof t[0]?n.dangerouslyRenderMarkup(t):t,h)for(var g=0;g<h.length;g++)h[g].parentNode.removeChild(h[g]);for(var v=0;v<e.length;v++)switch((i=e[v]).type){case r.INSERT_MARKUP:u(i.parentNode,s[i.markupIndex],i.toIndex);break;case r.MOVE_EXISTING:u(i.parentNode,c[i.parentID][i.fromIndex],i.toIndex);break;case r.SET_MARKUP:o(i.parentNode,i.content);break;case r.TEXT_CONTENT:a(i.parentNode,i.content);break;case r.REMOVE_NODE:}}};s.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{12:12,138:138,139:139,161:161,74:74,78:78}],10:[function(e,t,i){"use strict";var n=e(161);function r(e,t){return(e&t)===t}var s={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=s,i=e.Properties||{},o=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};for(var h in e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute),i){a.properties.hasOwnProperty(h)&&n(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",h);var p=h.toLowerCase(),d=i[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:r(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasSideEffects:r(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty&&n(!1,"DOMProperty: Cannot require using both attribute and property: %s",h),!f.mustUseProperty&&f.hasSideEffects&&n(!1,"DOMProperty: Properties that have side effects must use property: %s",h),f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1||n(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",h),a.getPossibleStandardName[p]=h,l.hasOwnProperty(h)){var m=l[h];f.attributeName=m,a.getPossibleStandardName[m]=h}o.hasOwnProperty(h)&&(f.attributeNamespace=o[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),a.properties[h]=f}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){if((0,a._isCustomAttributeFunctions[t])(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var i,n=o[e];return n||(o[e]=n={}),t in n||(i=document.createElement(e),n[t]=i[t]),n[t]},injection:s};t.exports=a},{161:161}],11:[function(e,t,i){"use strict";var n=e(10),r=e(78),s=e(136),o=e(173),a=/^[a-zA-Z_][\w\.\-]*$/,l={},u={};function c(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(a.test(e)?(u[e]=!0,!0):(l[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1))}function h(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},d={},f=function(e){if(!(p.hasOwnProperty(e)&&p[e]||d.hasOwnProperty(e)&&d[e])){d[e]=!0;var t=e.toLowerCase(),i=n.isCustomAttribute(t)?t:n.getPossibleStandardName.hasOwnProperty(t)?n.getPossibleStandardName[t]:null;o(null==i,"Unknown DOM property %s. Did you mean %s?",e,i)}},m={createMarkupForID:function(e){return n.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(n.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var i=n.properties.hasOwnProperty(e)?n.properties[e]:null;if(i){if(h(i,t))return"";var r=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+s(t)}return n.isCustomAttribute(e)?null==t?"":e+"="+s(t):(f(e),null)},createMarkupForCustomAttribute:function(e,t){return c(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,i){var r=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(r){var s=r.mutationMethod;if(s)s(e,i);else if(h(r,i))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var o=r.attributeName,a=r.attributeNamespace;a?e.setAttributeNS(a,o,""+i):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===i?e.setAttribute(o,""):e.setAttribute(o,""+i)}else{var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+i||(e[l]=i)}}else n.isCustomAttribute(t)?m.setValueForAttribute(e,t,i):f(t)},setValueForAttribute:function(e,t,i){c(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForProperty:function(e,t){var i=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(i){var r=i.mutationMethod;if(r)r(e,void 0);else if(i.mustUseAttribute)e.removeAttribute(i.attributeName);else{var s=i.propertyName,o=n.getDefaultValueForProperty(e.nodeName,s);i.hasSideEffects&&""+e[s]===o||(e[s]=o)}}else n.isCustomAttribute(t)?e.removeAttribute(t):f(t)}};r.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m},{10:10,136:136,173:173,78:78}],12:[function(e,t,i){"use strict";var n=e(147),r=e(152),s=e(153),o=e(157),a=e(161),l=/^(<[^ \/>]+)/,u="data-danger-index";var c={dangerouslyRenderMarkup:function(e){var t;n.canUseDOM||a(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var i,c={},h=0;h<e.length;h++)e[h]||a(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=(i=e[h]).substring(1,i.indexOf(" ")),c[t=o(t)?t:"*"]=c[t]||[],c[t][h]=e[h];var p=[],d=0;for(t in c)if(c.hasOwnProperty(t)){var f,m=c[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(l,"$1 "+u+'="'+f+'" ')}for(var v=r(m.join(""),s),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(u)?(f=+b.getAttribute(u),b.removeAttribute(u),p.hasOwnProperty(f)&&a(!1,"Danger: Assigning to an already-occupied result index."),p[f]=b,d+=1):console.error("Danger: Discarding unexpected node:",b)}}return d!==p.length&&a(!1,"Danger: Did not assign to every index of resultList."),p.length!==e.length&&a(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length),p},dangerouslyReplaceNodeWithMarkup:function(e,t){var i;n.canUseDOM||a(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t||a(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()&&a(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."),i="string"==typeof t?r(t,s)[0]:t,e.parentNode.replaceChild(i,e)}};t.exports=c},{147:147,152:152,153:153,157:157,161:161}],13:[function(e,t,i){"use strict";var n=e(166),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=r},{166:166}],14:[function(e,t,i){"use strict";var n=e(15),r=e(19),s=e(109),o=e(72),a=e(166),l=n.topLevelTypes,u=o.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(e,t,i,n,a){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var p,d,f;if(t.window===t)p=t;else{var m=t.ownerDocument;p=m?m.defaultView||m.parentWindow:window}var g="",v="";if(e===l.topMouseOut?(d=t,g=i,(f=u(n.relatedTarget||n.toElement))?v=o.getID(f):f=p,f=f||p):(d=p,f=t,v=i),d===f)return null;var y=s.getPooled(c.mouseLeave,g,n,a);y.type="mouseleave",y.target=d,y.relatedTarget=f;var b=s.getPooled(c.mouseEnter,v,n,a);return b.type="mouseenter",b.target=f,b.relatedTarget=d,r.accumulateEnterLeaveDispatches(y,b,g,v),h[0]=y,h[1]=b,h}};t.exports=p},{109:109,15:15,166:166,19:19,72:72}],15:[function(e,t,i){"use strict";var n=e(165),r=n({bubbled:null,captured:null}),s={topLevelTypes:n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:r};t.exports=s},{165:165}],16:[function(e,t,i){"use strict";var n=e(17),r=e(18),s=e(61),o=e(115),a=e(124),l=e(161),u=e(173),c={},h=null,p=function(e,t){e&&(r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},m=null;function g(){var e=m&&m.traverseTwoPhase&&m.traverseEnterLeave;u(e,"InstanceHandle not injected before use!")}var v={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){m=e,g()},getInstanceHandle:function(){return g(),m},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:function(e,t,i){"function"!=typeof i&&l(!1,"Expected %s listener to be a function, instead got type %s",t,void 0===i?"undefined":_typeof(i)),(c[t]||(c[t]={}))[e]=i;var r=n.registrationNameModules[t];r&&r.didPutListener&&r.didPutListener(e,t,i)},getListener:function(e,t){var i=c[t];return i&&i[e]},deleteListener:function(e,t){var i=n.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var r=c[t];r&&delete r[e]},deleteAllListeners:function(e){for(var t in c)if(c[t][e]){var i=n.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t),delete c[t][e]}},extractEvents:function(e,t,i,r,s){for(var a,l=n.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var h=c.extractEvents(e,t,i,r,s);h&&(a=o(a,h))}}return a},enqueueEvents:function(e){e&&(h=o(h,e))},processEventQueue:function(e){var t=h;h=null,a(t,e?d:f),h&&l(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),s.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=v},{115:115,124:124,161:161,17:17,173:173,18:18,61:61}],17:[function(e,t,i){"use strict";var n=e(161),r=null,s={};function o(){if(r)for(var e in s){var t=s[e],i=r.indexOf(e);if(i>-1||n(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[i]){t.extractEvents||n(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[i]=t;var o=t.eventTypes;for(var l in o)a(o[l],t,l)||n(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,e)}}}function a(e,t,i){u.eventNameDispatchConfigs.hasOwnProperty(i)&&n(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i),u.eventNameDispatchConfigs[i]=e;var r=e.phasedRegistrationNames;if(r){for(var s in r){if(r.hasOwnProperty(s))l(r[s],t,i)}return!0}return!!e.registrationName&&(l(e.registrationName,t,i),!0)}function l(e,t,i){u.registrationNameModules[e]&&n(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){r&&n(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),r=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];s.hasOwnProperty(i)&&s[i]===r||(s[i]&&n(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i),s[i]=r,t=!0)}t&&o()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)){var n=u.registrationNameModules[t.phasedRegistrationNames[i]];if(n)return n}return null},_resetEventPlugins:function(){for(var e in r=null,s)s.hasOwnProperty(e)&&delete s[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=u.registrationNameModules;for(var o in n)n.hasOwnProperty(o)&&delete n[o]}};t.exports=u},{161:161}],18:[function(e,t,i){"use strict";var n,r=e(15),s=e(61),o=e(161),a=e(173),l={Mount:null,injectMount:function(e){l.Mount=e,a(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},u=r.topLevelTypes;function c(e,t,i,n){var r=e.type||"unknown-event";e.currentTarget=l.Mount.getNode(n),t?s.invokeGuardedCallbackWithCatch(r,i,e,n):s.invokeGuardedCallback(r,i,e,n),e.currentTarget=null}n=function(e){var t=e._dispatchListeners,i=e._dispatchIDs,n=Array.isArray(t),r=Array.isArray(i),s=r?i.length:i?1:0,o=n?t.length:t?1:0;a(r===n&&s===o,"EventPluginUtils: Invalid `event`.")};var h={isEndish:function(e){return e===u.topMouseUp||e===u.topTouchEnd||e===u.topTouchCancel},isMoveish:function(e){return e===u.topMouseMove||e===u.topTouchMove},isStartish:function(e){return e===u.topMouseDown||e===u.topTouchStart},executeDirectDispatch:function(e){n(e);var t=e._dispatchListeners,i=e._dispatchIDs;Array.isArray(t)&&o(!1,"executeDirectDispatch(...): Invalid `event`.");var r=t?t(e,i):null;return e._dispatchListeners=null,e._dispatchIDs=null,r},executeDispatchesInOrder:function(e,t){var i=e._dispatchListeners,r=e._dispatchIDs;if(n(e),Array.isArray(i))for(var s=0;s<i.length&&!e.isPropagationStopped();s++)c(e,t,i[s],r[s]);else i&&c(e,t,i,r);e._dispatchListeners=null,e._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,i=e._dispatchIDs;if(n(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,i[r]))return i[r]}else if(t&&t(e,i))return i;return null}(e);return e._dispatchIDs=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getNode:function(e){return l.Mount.getNode(e)},getID:function(e){return l.Mount.getID(e)},injection:l};t.exports=h},{15:15,161:161,173:173,61:61}],19:[function(e,t,i){"use strict";var n=e(15),r=e(16),s=e(173),o=e(115),a=e(124),l=n.PropagationPhases,u=r.getListener;function c(e,t,i){s(e,"Dispatching id must not be null");var n,r,a,c=t?l.bubbled:l.captured,h=(n=e,r=c,a=i.dispatchConfig.phasedRegistrationNames[r],u(n,a));h&&(i._dispatchListeners=o(i._dispatchListeners,h),i._dispatchIDs=o(i._dispatchIDs,e))}function h(e){e&&e.dispatchConfig.phasedRegistrationNames&&r.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,c,e)}function p(e){e&&e.dispatchConfig.phasedRegistrationNames&&r.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,c,e)}function d(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,r=u(e,n);r&&(i._dispatchListeners=o(i._dispatchListeners,r),i._dispatchIDs=o(i._dispatchIDs,e))}}function f(e){e&&e.dispatchConfig.registrationName&&d(e.dispatchMarker,0,e)}var m={accumulateTwoPhaseDispatches:function(e){a(e,h)},accumulateTwoPhaseDispatchesSkipTarget:function(e){a(e,p)},accumulateDirectDispatches:function(e){a(e,f)},accumulateEnterLeaveDispatches:function(e,t,i,n){r.injection.getInstanceHandle().traverseEnterLeave(i,n,d,e,t)}};t.exports=m},{115:115,124:124,15:15,16:16,173:173}],20:[function(e,t,i){"use strict";var n=e(25),r=e(24),s=e(131);function o(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}r(o.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,i=this._startText,n=i.length,r=this.getText(),s=r.length;for(e=0;e<n&&i[e]===r[e];e++);var o=n-e;for(t=1;t<=o&&i[n-t]===r[s-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=r.slice(e,a),this._fallbackText}}),n.addPoolingTo(o),t.exports=o},{131:131,24:24,25:25}],21:[function(e,t,i){"use strict";var n,r=e(10),s=e(147),o=r.injection.MUST_USE_ATTRIBUTE,a=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,h=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(s.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|l,allowTransparency:o,alt:null,async:l,autoComplete:null,autoPlay:l,capture:o|l,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:a|l,classID:o,className:n?o:a,cols:o|h,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:o,default:l,defer:l,dir:null,disabled:o|l,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:l,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:a|l,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:a|l,muted:a|l,name:null,nonce:o,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:o,rows:o|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:o|l,selected:a|l,shape:null,size:o|h,sizes:o,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:o,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,typeof:o,vocab:o,autoCapitalize:o,autoCorrect:o,autoSave:null,color:null,itemProp:o,itemScope:o|l,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{10:10,147:147}],22:[function(e,t,i){"use strict";var n=e(70),r=e(90),s={linkState:function(e){return new n(this.state[e],r.createStateKeySetter(this,e))}};t.exports=s},{70:70,90:90}],23:[function(e,t,i){"use strict";var n=e(82),r=e(81),s=e(161),o=e(173),a={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function l(e){null!=e.checkedLink&&null!=e.valueLink&&s(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function u(e){l(e),(null!=e.value||null!=e.onChange)&&s(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function c(e){l(e),(null!=e.checked||null!=e.onChange)&&s(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}var h={value:function(e,t,i){return!e[t]||a[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,i){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:n.func},p={};function d(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var f={checkPropTypes:function(e,t,i){for(var n in h){if(h.hasOwnProperty(n))var s=h[n](t,n,e,r.prop);if(s instanceof Error&&!(s.message in p)){p[s.message]=!0;var a=d(i);o(!1,"Failed form propType: %s%s",s.message,a)}}},getValue:function(e){return e.valueLink?(u(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(c(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(u(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(c(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{161:161,173:173,81:81,82:82}],24:[function(e,t,i){"use strict";t.exports=function(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var i=Object(e),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var s=arguments[r];if(null!=s){var o=Object(s);for(var a in o)n.call(o,a)&&(i[a]=o[a])}}return i}},{}],25:[function(e,t,i){"use strict";var n=e(161),r=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},s=function(e){e instanceof this||n(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},o=r,a={addPoolingTo:function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||o,i.poolSize||(i.poolSize=10),i.release=s,i},oneArgumentPooler:r,twoArgumentPooler:function(e,t){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t),i}return new this(e,t)},threeArgumentPooler:function(e,t,i){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t,i),n}return new this(e,t,i)},fourArgumentPooler:function(e,t,i,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,i,n),r}return new this(e,t,i,n)},fiveArgumentPooler:function(e,t,i,n,r){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,e,t,i,n,r),s}return new this(e,t,i,n,r)}};t.exports=a},{161:161}],26:[function(e,t,i){"use strict";var n=e(40),r=e(50),s=e(69),o=e(24),a=e(120),l={};o(l,s),o(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:a("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",r,r.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",r,r.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,l.Injection=e(65),t.exports=l},{120:120,24:24,40:40,50:50,69:69}],27:[function(e,t,i){"use strict";var n=e(68),r=e(122),s=e(173),o="_getDOMNodeDidWarn",a={getDOMNode:function(){return s(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",n.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,r(this)}};t.exports=a},{122:122,173:173,68:68}],28:[function(e,t,i){"use strict";var n=e(15),r=e(16),s=e(17),o=e(62),a=e(78),l=e(114),u=e(24),c=e(133),h={},p=!1,d=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2);var g=u({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i,r=t,o=(i=r,Object.prototype.hasOwnProperty.call(i,m)||(i[m]=d++,h[i[m]]={}),h[i[m]]),a=s.registrationNameDependencies[e],l=n.topLevelTypes,u=0;u<a.length;u++){var p=a[u];o.hasOwnProperty(p)&&o[p]||(p===l.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",r):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",r):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",r):p===l.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",r):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",r),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",r)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",r),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",r)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],r),o[p]=!0)}},trapBubbledEvent:function(e,t,i){return g.ReactEventListener.trapBubbledEvent(e,t,i)},trapCapturedEvent:function(e,t,i){return g.ReactEventListener.trapCapturedEvent(e,t,i)},ensureScrollValueMonitoring:function(){if(!p){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});a.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},{114:114,133:133,15:15,16:16,17:17,24:24,62:62,78:78}],29:[function(e,t,i){"use strict";var n=e(26),r=e(24),s=e(94),o=e(30);function a(e){var t="transition"+e+"Timeout",i="transition"+e;return function(e){if(e[i]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var l=n.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:o.propTypes.name,transitionAppear:n.PropTypes.bool,transitionEnter:n.PropTypes.bool,transitionLeave:n.PropTypes.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return n.createElement(o,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return n.createElement(s,r({},this.props,{childFactory:this._wrapChild}))}});t.exports=l},{24:24,26:26,30:30,94:94}],30:[function(e,t,i){"use strict";var n=e(26),r=e(40),s=e(145),o=e(93),a=e(135),l=n.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.shape({enter:n.PropTypes.string,leave:n.PropTypes.string,active:n.PropTypes.string}),n.PropTypes.shape({enter:n.PropTypes.string,enterActive:n.PropTypes.string,leave:n.PropTypes.string,leaveActive:n.PropTypes.string,appear:n.PropTypes.string,appearActive:n.PropTypes.string})]).isRequired,appear:n.PropTypes.bool,enter:n.PropTypes.bool,leave:n.PropTypes.bool,appearTimeout:n.PropTypes.number,enterTimeout:n.PropTypes.number,leaveTimeout:n.PropTypes.number},transition:function(e,t,i){var n=r.findDOMNode(this);if(n){var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",u=null,c=function e(i){i&&i.target!==n||(clearTimeout(u),s.removeClass(n,a),s.removeClass(n,l),o.removeEndEventListener(n,e),t&&t())};s.addClass(n,a),this.queueClass(l),i?(u=setTimeout(c,i),this.transitionTimeouts.push(u)):o.addEndEventListener(n,c)}else t&&t()},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(s.addClass.bind(s,r.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return a(this.props.children)}});t.exports=l},{135:135,145:145,26:26,40:40,93:93}],31:[function(e,t,i){"use strict";var n=e(84),r=e(132),s=e(141),o=e(142),a=e(173);function l(e,t,i){var n=void 0===e[i];a(n,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),null!=t&&n&&(e[i]=r(t,null))}var u={instantiateChildren:function(e,t,i){if(null==e)return null;var n={};return o(e,l,n),n},updateChildren:function(e,t,i,o){if(!t&&!e)return null;var a;for(a in t)if(t.hasOwnProperty(a)){var l=e&&e[a],u=l&&l._currentElement,c=t[a];if(null!=l&&s(u,c))n.receiveComponent(l,c,i,o),t[a]=l;else{l&&n.unmountComponent(l,a);var h=r(c,null);t[a]=h}}for(a in e)!e.hasOwnProperty(a)||t&&t.hasOwnProperty(a)||n.unmountComponent(e[a]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];n.unmountComponent(i)}}};t.exports=u},{132:132,141:141,142:142,173:173,84:84}],32:[function(e,t,i){"use strict";var n=e(25),r=e(57),s=e(153),o=e(142),a=n.twoArgumentPooler,l=n.fourArgumentPooler,u=/\/(?!\/)/g;function c(e){return(""+e).replace(u,"//")}function h(e,t){this.func=e,this.context=t,this.count=0}function p(e,t,i){var n=e.func,r=e.context;n.call(r,t,e.count++)}function d(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function f(e,t,i){var n=e.result,o=e.keyPrefix,a=e.func,l=e.context,u=a.call(l,t,e.count++);Array.isArray(u)?m(u,n,i,s.thatReturnsArgument):null!=u&&(r.isValidElement(u)&&(u=r.cloneAndReplaceKey(u,o+(u!==t?c(u.key||"")+"/":"")+i)),n.push(u))}function m(e,t,i,n,r){var s="";null!=i&&(s=c(i)+"/");var a=d.getPooled(t,s,n,r);o(e,f,a),d.release(a)}function g(e,t,i){return null}h.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},n.addPoolingTo(h,a),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},n.addPoolingTo(d,l);var v={forEach:function(e,t,i){if(null==e)return e;var n=h.getPooled(t,i);o(e,p,n),h.release(n)},map:function(e,t,i){if(null==e)return e;var n=[];return m(e,n,null,t,i),n},mapIntoWithKeyPrefixInternal:m,count:function(e,t){return o(e,g,null)},toArray:function(e){var t=[];return m(e,t,null,s.thatReturnsArgument),t}};t.exports=v},{142:142,153:153,25:25,57:57}],33:[function(e,t,i){"use strict";var n=e(34),r=e(57),s=e(81),o=e(80),a=e(76),l=e(24),u=e(154),c=e(161),h=e(165),p=e(166),d=e(173),f=p({mixins:null}),m=h({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),g=[],v=!1;function y(){v||(v=!0,d(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}var b={mixins:m.DEFINE_MANY,statics:m.DEFINE_MANY,propTypes:m.DEFINE_MANY,contextTypes:m.DEFINE_MANY,childContextTypes:m.DEFINE_MANY,getDefaultProps:m.DEFINE_MANY_MERGED,getInitialState:m.DEFINE_MANY_MERGED,getChildContext:m.DEFINE_MANY_MERGED,render:m.DEFINE_ONCE,componentWillMount:m.DEFINE_MANY,componentDidMount:m.DEFINE_MANY,componentWillReceiveProps:m.DEFINE_MANY,shouldComponentUpdate:m.DEFINE_ONCE,componentWillUpdate:m.DEFINE_MANY,componentDidUpdate:m.DEFINE_MANY,componentWillUnmount:m.DEFINE_MANY,updateComponent:m.OVERRIDE_BASE},w={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)x(e,t[i])},childContextTypes:function(e,t){S(e,t,s.childContext),e.childContextTypes=l({},e.childContextTypes,t)},contextTypes:function(e,t){S(e,t,s.context),e.contextTypes=l({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=E(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){S(e,t,s.prop),e.propTypes=l({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){var r=i in w;r&&c(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i);var s=i in e;s&&c(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i),e[i]=n}}}(e,t)},autobind:function(){}};function S(e,t,i){for(var n in t)t.hasOwnProperty(n)&&d("function"==typeof t[n],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",o[i],n)}function x(e,t){if(t){"function"==typeof t&&c(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),r.isValidElement(t)&&c(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i,n,s,o=e.prototype;for(var a in t.hasOwnProperty(f)&&w.mixins(e,t.mixins),t)if(t.hasOwnProperty(a)&&a!==f){var l=t[a];if(i=o,n=a,void 0,s=b.hasOwnProperty(n)?b[n]:null,P.hasOwnProperty(n)&&s!==m.OVERRIDE_BASE&&c(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n),i.hasOwnProperty(n)&&s!==m.DEFINE_MANY&&s!==m.DEFINE_MANY_MERGED&&c(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),w.hasOwnProperty(a))w[a](e,l);else{var u=b.hasOwnProperty(a),h=o.hasOwnProperty(a);if("function"==typeof l&&!u&&!h&&!1!==t.autobind)o.__reactAutoBindMap||(o.__reactAutoBindMap={}),o.__reactAutoBindMap[a]=l,o[a]=l;else if(h){var p=b[a];(!u||p!==m.DEFINE_MANY_MERGED&&p!==m.DEFINE_MANY)&&c(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,a),p===m.DEFINE_MANY_MERGED?o[a]=E(o[a],l):p===m.DEFINE_MANY&&(o[a]=A(o[a],l))}else o[a]=l,"function"==typeof l&&t.displayName&&(o[a].displayName=t.displayName+"_"+a)}}}}function T(e,t){for(var i in e&&t&&"object"===(void 0===e?"undefined":_typeof(e))&&"object"===(void 0===t?"undefined":_typeof(t))||c(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(i)&&(void 0!==e[i]&&c(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i),e[i]=t[i]);return e}function E(e,t){return function(){var i=e.apply(this,arguments),n=t.apply(this,arguments);if(null==i)return n;if(null==n)return i;var r={};return T(r,i),T(r,n),r}}function A(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function C(e,t){var i=t.bind(e);i.__reactBoundContext=e,i.__reactBoundMethod=t,i.__reactBoundArguments=null;var n=e.constructor.displayName,r=i.bind;return i.bind=function(s){for(var o=arguments.length,a=Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];if(s!==e&&null!==s)d(!1,"bind(): React component methods may only be bound to the component instance. See %s",n);else if(!a.length)return d(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",n),i;var u=r.apply(i,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=a,u},i}var P={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){y(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){y(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},_=function(){};l(_.prototype,n.prototype,P);var I={createClass:function(e){var t=function e(t,i,n){d(this instanceof e,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&function(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var i=e.__reactAutoBindMap[t];e[t]=C(e,i)}}(this),this.props=t,this.context=i,this.refs=u,this.updater=n||a,this.state=null;var r=this.getInitialState?this.getInitialState():null;void 0===r&&this.getInitialState._isMockFunction&&(r=null),("object"!==(void 0===r?"undefined":_typeof(r))||Array.isArray(r))&&c(!1,"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=r};for(var i in(t.prototype=new _).constructor=t,g.forEach(x.bind(null,t)),x(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render||c(!1,"createClass(...): Class specification must implement a `render` method."),d(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),d(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"),b)t.prototype[i]||(t.prototype[i]=null);return t},injection:{injectMixin:function(e){g.push(e)}}};t.exports=I},{154:154,161:161,165:165,166:166,173:173,24:24,34:34,57:57,76:76,80:80,81:81}],34:[function(e,t,i){"use strict";var n=e(76),r=e(117),s=e(154),o=e(161),a=e(173);function l(e,t,i){this.props=e,this.context=t,this.refs=s,this.updater=i||n}l.prototype.isReactComponent={},l.prototype.setState=function(e,t){"object"!==(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e&&null!=e&&o(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),a(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},c=function(e,t){r&&Object.defineProperty(l.prototype,e,{get:function(){a(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var h in u)u.hasOwnProperty(h)&&c(h,u[h]);t.exports=l},{117:117,154:154,161:161,173:173,76:76}],35:[function(e,t,i){"use strict";var n=e(45),r=e(72),s={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){r.purgeID(e)}};t.exports=s},{45:45,72:72}],36:[function(e,t,i){"use strict";var n=e(161),r=!1,s={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r&&n(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."),s.unmountIDFromEnvironment=e.unmountIDFromEnvironment,s.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,s.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};t.exports=s},{161:161}],37:[function(e,t,i){"use strict";var n=e(140),r={shouldComponentUpdate:function(e,t){return n(this,e,t)}};t.exports=r},{140:140}],38:[function(e,t,i){"use strict";var n=e(36),r=e(39),s=e(57),o=e(68),a=e(78),l=e(81),u=e(80),c=e(84),h=e(95),p=e(24),d=e(154),f=e(161),m=e(141),g=e(173);function v(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" Check the render method of `"+i+"`."}return""}function y(e){}y.prototype.render=function(){return(0,o.get(this)._currentElement.type)(this.props,this.context,this.updater)};var b=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,i){this._context=i,this._mountOrder=b++,this._rootNodeID=e;var n,a,l=this._processProps(this._currentElement.props),u=this._processContext(i),p=this._currentElement.type,m="prototype"in p;if(m){r.current=this;try{n=new p(l,u,h)}finally{r.current=null}}m&&null!==n&&!1!==n&&!s.isValidElement(n)||(a=n,n=new y(p)),null==n.render?g(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",p.displayName||p.name||"Component"):g(p.prototype&&p.prototype.isReactComponent||!m||!(n instanceof p),"%s(...): React component classes must extend React.Component.",p.displayName||p.name||"Component"),n.props=l,n.context=u,n.refs=d,n.updater=h,this._instance=n,o.set(n,this),g(!n.getInitialState||n.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),g(!n.getDefaultProps||n.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),g(!n.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),g(!n.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),g("function"!=typeof n.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),g("function"!=typeof n.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),g("function"!=typeof n.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var v=n.state;void 0===v&&(n.state=v=null),("object"!==(void 0===v?"undefined":_typeof(v))||Array.isArray(v))&&f(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===a&&(a=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(a);var w=c.mountComponent(this._renderedComponent,e,t,this._processChildContext(i));return n.componentDidMount&&t.getReactMountReady().enqueue(n.componentDidMount,n),w},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),c.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,o.remove(e)},_maskContext:function(e){var t=null,i=this._currentElement.type.contextTypes;if(!i)return d;for(var n in t={},i)t[n]=e[n];return t},_processContext:function(e){var t=this._maskContext(e),i=this._currentElement.type;return i.contextTypes&&this._checkPropTypes(i.contextTypes,t,l.context),t},_processChildContext:function(e){var t=this._currentElement.type,i=this._instance,n=i.getChildContext&&i.getChildContext();if(n){for(var r in"object"!==_typeof(t.childContextTypes)&&f(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(t.childContextTypes,n,l.childContext),n)r in t.childContextTypes||f(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",r);return p({},e,n)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,l.prop),e},_checkPropTypes:function(e,t,i){var n=this.getName();for(var r in e)if(e.hasOwnProperty(r)){var s;try{"function"!=typeof e[r]&&f(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",u[i],r),s=e[r](t,r,n,i)}catch(e){s=e}if(s instanceof Error){var o=v(this);i===l.prop?g(!1,"Failed Composite propType: %s%s",s.message,o):g(!1,"Failed Context Types: %s%s",s.message,o)}}},receiveComponent:function(e,t,i){var n=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,n,e,r,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&c.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,i,n,r){var s,o=this._instance,a=this._context===r?o.context:this._processContext(r);t===i?s=i.props:(s=this._processProps(i.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(s,a));var l=this._processPendingState(s,a),u=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(s,l,a);g(void 0!==u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,s,l,a,e,r)):(this._currentElement=i,this._context=r,o.props=s,o.state=l,o.context=a)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(r&&1===n.length)return n[0];for(var s=p({},r?n[0]:i.state),o=r?1:0;o<n.length;o++){var a=n[o];p(s,"function"==typeof a?a.call(i,s,e,t):a)}return s},_performComponentUpdate:function(e,t,i,n,r,s){var o,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(o=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,i,n),this._currentElement=e,this._context=s,u.props=t,u.state=i,u.context=n,this._updateRenderedComponent(r,s),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,o,a,l),u)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,r=this._renderValidatedComponent();if(m(n,r))c.receiveComponent(i,r,e,this._processChildContext(t));else{var s=this._rootNodeID,o=i._rootNodeID;c.unmountComponent(i),this._renderedComponent=this._instantiateReactComponent(r);var a=c.mountComponent(this._renderedComponent,s,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,a)}},_replaceNodeWithMarkupByID:function(e,t){n.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return void 0===t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;r.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{r.current=null}return null===e||!1===e||s.isValidElement(e)||f(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i&&f(!1,"Stateless function components cannot have refs.");var n=t.getPublicInstance(),r=t&&t.getName?t.getName():"a component";g(null!=n,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,r,this.getName()),(i.refs===d?i.refs={}:i.refs)[e]=n},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof y?null:e},_instantiateReactComponent:null};a.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:w};t.exports=S},{141:141,154:154,161:161,173:173,24:24,36:36,39:39,57:57,68:68,78:78,80:80,81:81,84:84,95:95}],39:[function(e,t,i){"use strict";t.exports={current:null}},{}],40:[function(e,t,i){"use strict";var n=e(39),r=e(51),s=e(54),o=e(67),a=e(72),l=e(78),u=e(84),c=e(96),h=e(97),p=e(122),d=e(137),f=e(173);s.inject();var m={findDOMNode:p,render:l.measure("React","render",a.render),unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:o,Mount:a,Reconciler:u,TextComponent:r}),e(147).canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools"),f(!(document.documentMode&&document.documentMode<8),'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var g=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],v=0;v<g.length;v++)if(!g[v]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=m},{122:122,137:137,147:147,173:173,39:39,51:51,54:54,67:67,72:72,78:78,84:84,96:96,97:97}],41:[function(e,t,i){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,i){if(!t.disabled)return t;var r={};for(var s in t)t.hasOwnProperty(s)&&!n[s]&&(r[s]=t[s]);return r}};t.exports=r},{}],42:[function(e,t,i){"use strict";var n,r=e(2),s=e(5),o=e(10),a=e(11),l=e(15),u=e(28),c=e(35),h=e(41),p=e(46),d=e(47),f=e(48),m=e(52),g=e(72),v=e(73),y=e(78),b=e(95),w=e(24),S=e(117),x=e(121),T=e(161),E=e(133),A=e(166),C=e(138),P=e(139),_=e(171),I=e(144),k=e(173),R=u.deleteListener,O=u.listenTo,M=u.registrationNameModules,L={string:!0,number:!0},D=A({children:null}),N=A({style:null}),V=A({__html:null}),j=1;function B(e){if(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" This DOM node was rendered by `"+i+"`."}}return""}function F(){var e=this._reactInternalComponent;return k(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",B(e)),this}function U(){var e=this._reactInternalComponent;return k(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",B(e)),!!e}function H(){var e=this._reactInternalComponent;k(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",B(e))}function q(e,t){var i=this._reactInternalComponent;k(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",B(i)),i&&(b.enqueueSetPropsInternal(i,e),t&&b.enqueueCallbackInternal(i,t))}function G(e,t){var i=this._reactInternalComponent;k(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",B(i)),i&&(b.enqueueReplacePropsInternal(i,e),t&&b.enqueueCallbackInternal(i,t))}function W(e){if("object"===(void 0===e?"undefined":_typeof(e))){if(Array.isArray(e))return"["+e.map(W).join(", ")+"]";var t=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=/^[a-z$_][\w$_]*$/i.test(i)?i:JSON.stringify(i);t.push(n+": "+W(e[i]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}n={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return k(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",B(e)),e._currentElement.props}}};var z={};function Y(e,t,i){if(null!=e&&null!=t&&!_(e,t)){var n,r=i._tag,s=i._currentElement._owner;s&&(n=s.getName());var o=n+"|"+r;z.hasOwnProperty(o)||(z[o]=!0,k(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",r,s?"of `"+n+"`":"using <"+r+">",W(e),W(t)))}}function X(e,t){t&&(ne[e._tag]&&k(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&T(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"===_typeof(t.dangerouslySetInnerHTML)&&V in t.dangerouslySetInnerHTML||T(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),k(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),k(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!==_typeof(t.style)&&T(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",B(e)))}function Q(e,t,i,n){k("onScroll"!==t||E("scroll",!0),"This browser doesn't support the `onScroll` event");var r=g.findReactContainerForID(e);if(r){var s=r.nodeType===j?r.ownerDocument:r;O(t,s)}n.getReactMountReady().enqueue(K,{id:e,registrationName:t,listener:i})}function K(){u.putListener(this.id,this.registrationName,this.listener)}var Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function J(){this._rootNodeID||T(!1,"Must be mounted to trap events");var e=g.getNode(this._rootNodeID);switch(e||T(!1,"trapBubbledEvent(...): Requires node to be rendered."),this._tag){case"iframe":this._wrapperState.listeners=[u.trapBubbledEvent(l.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":for(var t in this._wrapperState.listeners=[],Z)Z.hasOwnProperty(t)&&this._wrapperState.listeners.push(u.trapBubbledEvent(l.topLevelTypes[t],Z[t],e));break;case"img":this._wrapperState.listeners=[u.trapBubbledEvent(l.topLevelTypes.topError,"error",e),u.trapBubbledEvent(l.topLevelTypes.topLoad,"load",e)];break;case"form":this._wrapperState.listeners=[u.trapBubbledEvent(l.topLevelTypes.topReset,"reset",e),u.trapBubbledEvent(l.topLevelTypes.topSubmit,"submit",e)]}}function $(){p.mountReadyWrapper(this)}function ee(){f.postUpdateWrapper(this)}var te={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ie={listing:!0,pre:!0,textarea:!0},ne=w({menuitem:!0},te),re=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,se={},oe={}.hasOwnProperty;function ae(e,t){var i=(e=w({},e))[I.ancestorInfoContextKey];return e[I.ancestorInfoContextKey]=I.updatedAncestorInfo(i,t._tag,t),e}function le(e,t){return e.indexOf("-")>=0||null!=t.is}function ue(e){var t;t=e,oe.call(se,t)||(re.test(t)||T(!1,"Invalid tag: %s",t),se[t]=!0),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}ue.displayName="ReactDOMComponent",ue.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e;var n,s=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(J,this);break;case"button":s=h.getNativeProps(this,s,i);break;case"input":p.mountWrapper(this,s,i),s=p.getNativeProps(this,s,i);break;case"option":d.mountWrapper(this,s,i),s=d.getNativeProps(this,s,i);break;case"select":f.mountWrapper(this,s,i),s=f.getNativeProps(this,s,i),i=f.processChildContext(this,s,i);break;case"textarea":m.mountWrapper(this,s,i),s=m.getNativeProps(this,s,i)}if(X(this,s),i[I.ancestorInfoContextKey]&&I(this._tag,this,i[I.ancestorInfoContextKey]),this._unprocessedContextDev=i,this._processedContextDev=ae(i,this),i=this._processedContextDev,t.useCreateElement){var o=i[g.ownerDocumentContextKey].createElement(this._currentElement.type);a.setAttributeForID(o,this._rootNodeID),g.getID(o),this._updateDOMProperties({},s,t,o),this._createInitialChildren(t,s,i,o),n=o}else{var l=this._createOpenTagMarkupAndPutListeners(t,s),u=this._createContentMarkup(t,s,i);n=!u&&te[this._tag]?l+"/>":l+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue($,this);case"button":case"select":case"textarea":s.autoFocus&&t.getReactMountReady().enqueue(r.focusDOMComponent,this)}return n},_createOpenTagMarkupAndPutListeners:function(e,t){var i="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(null!=r)if(M.hasOwnProperty(n))r&&Q(this._rootNodeID,n,r,e);else{n===N&&(r&&(this._previousStyle=r,r=this._previousStyleCopy=w({},t.style)),r=s.createMarkupForStyles(r));var o=null;null!=this._tag&&le(this._tag,t)?n!==D&&(o=a.createMarkupForCustomAttribute(n,r)):o=a.createMarkupForProperty(n,r),o&&(i+=" "+o)}}return e.renderToStaticMarkup?i:i+" "+a.createMarkupForID(this._rootNodeID)},_createContentMarkup:function(e,t,i){var n="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(n=r.__html);else{var s=L[_typeof(t.children)]?t.children:null,o=null!=s?null:t.children;if(null!=s)n=x(s);else if(null!=o){n=this.mountChildren(o,e,i).join("")}}return ie[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,i,n){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&C(n,r.__html);else{var s=L[_typeof(t.children)]?t.children:null,o=null!=s?null:t.children;if(null!=s)P(n,s);else if(null!=o)for(var a=this.mountChildren(o,e,i),l=0;l<a.length;l++)n.appendChild(a[l])}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,i)},updateComponent:function(e,t,i,n){var r=t.props,s=this._currentElement.props;switch(this._tag){case"button":r=h.getNativeProps(this,r),s=h.getNativeProps(this,s);break;case"input":p.updateWrapper(this),r=p.getNativeProps(this,r),s=p.getNativeProps(this,s);break;case"option":r=d.getNativeProps(this,r),s=d.getNativeProps(this,s);break;case"select":r=f.getNativeProps(this,r),s=f.getNativeProps(this,s);break;case"textarea":m.updateWrapper(this),r=m.getNativeProps(this,r),s=m.getNativeProps(this,s)}this._unprocessedContextDev!==n&&(this._unprocessedContextDev=n,this._processedContextDev=ae(n,this)),n=this._processedContextDev,X(this,s),this._updateDOMProperties(r,s,e,null),this._updateDOMChildren(r,s,e,n),!S&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=s),"select"===this._tag&&e.getReactMountReady().enqueue(ee,this)},_updateDOMProperties:function(e,t,i,n){var r,l,u;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r))if(r===N){var c=this._previousStyleCopy;for(l in c)c.hasOwnProperty(l)&&((u=u||{})[l]="");this._previousStyleCopy=null}else M.hasOwnProperty(r)?e[r]&&R(this._rootNodeID,r):(o.properties[r]||o.isCustomAttribute(r))&&(n||(n=g.getNode(this._rootNodeID)),a.deleteValueForProperty(n,r));for(r in t){var h=t[r],p=r===N?this._previousStyleCopy:e[r];if(t.hasOwnProperty(r)&&h!==p)if(r===N)if(h?(Y(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=h,h=this._previousStyleCopy=w({},h)):this._previousStyleCopy=null,p){for(l in p)!p.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||((u=u||{})[l]="");for(l in h)h.hasOwnProperty(l)&&p[l]!==h[l]&&((u=u||{})[l]=h[l])}else u=h;else M.hasOwnProperty(r)?h?Q(this._rootNodeID,r,h,i):p&&R(this._rootNodeID,r):le(this._tag,t)?(n||(n=g.getNode(this._rootNodeID)),r===D&&(h=null),a.setValueForAttribute(n,r,h)):(o.properties[r]||o.isCustomAttribute(r))&&(n||(n=g.getNode(this._rootNodeID)),null!=h?a.setValueForProperty(n,r,h):a.deleteValueForProperty(n,r))}u&&(n||(n=g.getNode(this._rootNodeID)),s.setValueForStyles(n,u))},_updateDOMChildren:function(e,t,i,n){var r=L[_typeof(e.children)]?e.children:null,s=L[_typeof(t.children)]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,u=null!=s?null:t.children,c=null!=r||null!=o,h=null!=s||null!=a;null!=l&&null==u?this.updateChildren(null,i,n):c&&!h&&this.updateTextContent(""),null!=s?r!==s&&this.updateTextContent(""+s):null!=a?o!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,i,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":p.unmountWrapper(this);break;case"html":case"head":case"body":T(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}(this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),c.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties)&&(this._nodeWithLegacyProperties._reactInternalComponent=null,this._nodeWithLegacyProperties=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=g.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=F,e.isMounted=U,e.setState=H,e.replaceState=H,e.forceUpdate=H,e.setProps=q,e.replaceProps=G,S?Object.defineProperties(e,n):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},y.measureMethods(ue,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),w(ue.prototype,ue.Mixin,v.Mixin),t.exports=ue},{10:10,11:11,117:117,121:121,133:133,138:138,139:139,144:144,15:15,161:161,166:166,171:171,173:173,2:2,24:24,28:28,35:35,41:41,46:46,47:47,48:48,5:5,52:52,72:72,73:73,78:78,95:95}],43:[function(e,t,i){"use strict";e(57);var n=e(58);var r=e(167)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(e){return n.createFactory(e)});t.exports=r},{167:167,57:57,58:58}],44:[function(e,t,i){"use strict";t.exports={useCreateElement:!1}},{}],45:[function(e,t,i){"use strict";var n=e(9),r=e(11),s=e(72),o=e(78),a=e(161),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,i){var n=s.getNode(e);l.hasOwnProperty(t)&&a(!1,"updatePropertyByID(...): %s",l[t]),null!=i?r.setValueForProperty(n,t,i):r.deleteValueForProperty(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var i=s.getNode(e);n.dangerouslyReplaceNodeWithMarkup(i,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var i=0;i<e.length;i++)e[i].parentNode=s.getNode(e[i].parentID);n.processUpdates(e,t)}};o.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{11:11,161:161,72:72,78:78,9:9}],46:[function(e,t,i){"use strict";var n=e(45),r=e(23),s=e(72),o=e(96),a=e(24),l=e(161),u={};function c(){this._rootNodeID&&h.updateWrapper(this)}var h={getNativeProps:function(e,t,i){var n=r.getValue(t),s=r.getChecked(t);return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=s?s:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){r.checkPropTypes("input",t,e._currentElement._owner);var i=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=i?i:null,onChange:function(e){var t=this._currentElement.props,i=r.executeOnChange(t,e);o.asap(c,this);var n=t.name;if("radio"===t.type&&null!=n){for(var a=s.getNode(this._rootNodeID),h=a;h.parentNode;)h=h.parentNode;for(var p=h.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==a&&f.form===a.form){var m=s.getID(f);m||l(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=u[m];g||l(!1,"ReactDOMInput: Unknown radio button ID %s.",m),o.asap(c,g)}}}return i}.bind(e)}},mountReadyWrapper:function(e){u[e._rootNodeID]=e},unmountWrapper:function(e){delete u[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,i=t.checked;null!=i&&n.updatePropertyByID(e._rootNodeID,"checked",i||!1);var s=r.getValue(t);null!=s&&n.updatePropertyByID(e._rootNodeID,"value",""+s)}};t.exports=h},{161:161,23:23,24:24,45:45,72:72,96:96}],47:[function(e,t,i){"use strict";var n=e(32),r=e(48),s=e(24),o=e(173),a=r.valueContextKey,l={mountWrapper:function(e,t,i){o(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var n=i[a],r=null;if(null!=n)if(r=!1,Array.isArray(n)){for(var s=0;s<n.length;s++)if(""+n[s]==""+t.value){r=!0;break}}else r=""+n==""+t.value;e._wrapperState={selected:r}},getNativeProps:function(e,t,i){var r=s({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var a="";return n.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?a+=e:o(!1,"Only strings and numbers are supported as <option> children."))}),r.children=a,r}};t.exports=l},{173:173,24:24,32:32,48:48}],48:[function(e,t,i){"use strict";var n=e(23),r=e(72),s=e(96),o=e(24),a=e(173),l="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2);function u(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=n.getValue(e);null!=t&&p(this,Boolean(e.multiple),t)}}function c(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var h=["value","defaultValue"];function p(e,t,i){var n,s,o=r.getNode(e._rootNodeID).options;if(t){for(n={},s=0;s<i.length;s++)n[""+i[s]]=!0;for(s=0;s<o.length;s++){var a=n.hasOwnProperty(o[s].value);o[s].selected!==a&&(o[s].selected=a)}}else{for(n=""+i,s=0;s<o.length;s++)if(o[s].value===n)return void(o[s].selected=!0);o.length&&(o[0].selected=!0)}}var d={valueContextKey:l,getNativeProps:function(e,t,i){return o({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){(function(e,t){var i=e._currentElement._owner;n.checkPropTypes("select",t,i);for(var r=0;r<h.length;r++){var s=h[r];null!=t[s]&&(t.multiple?a(Array.isArray(t[s]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,c(i)):a(!Array.isArray(t[s]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,c(i)))}})(e,t);var i=n.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:t.defaultValue,onChange:function(e){var t=this._currentElement.props,i=n.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,s.asap(u,this),i}.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,i){var n=o({},i);return n[l]=e._wrapperState.initialValue,n},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var i=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=n.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,p(e,Boolean(t.multiple),r)):i!==Boolean(t.multiple)&&(null!=t.defaultValue?p(e,Boolean(t.multiple),t.defaultValue):p(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{173:173,23:23,24:24,72:72,96:96}],49:[function(e,t,i){"use strict";var n=e(147),r=e(130),s=e(131);function o(e,t,i,n){return e===i&&t===n}var a=n.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:a?function(e){var t=document.selection.createRange(),i=t.text.length,n=t.duplicate();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var r=n.text.length;return{start:r,end:r+i}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,n=t.anchorOffset,r=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var l=o(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:a.toString().length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var c=o(u.startContainer,u.startOffset,u.endContainer,u.endOffset)?0:u.toString().length,h=c+l,p=document.createRange();p.setStart(i,n),p.setEnd(r,s);var d=p.collapsed;return{start:d?h:c,end:d?c:h}},setOffsets:a?function(e,t){var i,n,r=document.selection.createRange().duplicate();void 0===t.end?n=i=t.start:t.start>t.end?(i=t.end,n=t.start):(i=t.start,n=t.end),r.moveToElementText(e),r.moveStart("character",i),r.setEndPoint("EndToStart",r),r.moveEnd("character",n-i),r.select()}:function(e,t){if(window.getSelection){var i=window.getSelection(),n=e[s()].length,o=Math.min(t.start,n),a=void 0===t.end?o:Math.min(t.end,n);if(!i.extend&&o>a){var l=a;a=o,o=l}var u=r(e,o),c=r(e,a);if(u&&c){var h=document.createRange();h.setStart(u.node,u.offset),i.removeAllRanges(),o>a?(i.addRange(h),i.extend(c.node,c.offset)):(h.setEnd(c.node,c.offset),i.addRange(h))}}}};t.exports=l},{130:130,131:131,147:147}],50:[function(e,t,i){"use strict";var n=e(54),r=e(88),s=e(97);n.inject();var o={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:s};t.exports=o},{54:54,88:88,97:97}],51:[function(e,t,i){"use strict";var n=e(9),r=e(11),s=e(35),o=e(72),a=e(24),l=e(121),u=e(139),c=e(144),h=function(e){};a(h.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,i){if(i[c.ancestorInfoContextKey]&&c("span",null,i[c.ancestorInfoContextKey]),this._rootNodeID=e,t.useCreateElement){var n=i[o.ownerDocumentContextKey].createElement("span");return r.setAttributeForID(n,e),o.getID(n),u(n,this._stringText),n}var s=l(this._stringText);return t.renderToStaticMarkup?s:"<span "+r.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var i=""+e;if(i!==this._stringText){this._stringText=i;var r=o.getNode(this._rootNodeID);n.updateTextContent(r,i)}}},unmountComponent:function(){s.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=h},{11:11,121:121,139:139,144:144,24:24,35:35,72:72,9:9}],52:[function(e,t,i){"use strict";var n=e(23),r=e(45),s=e(96),o=e(24),a=e(161),l=e(173);function u(){this._rootNodeID&&c.updateWrapper(this)}var c={getNativeProps:function(e,t,i){return null!=t.dangerouslySetInnerHTML&&a(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),o({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){n.checkPropTypes("textarea",t,e._currentElement._owner);var i=t.defaultValue,r=t.children;null!=r&&(l(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=i&&a(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(r)&&(r.length<=1||a(!1,"<textarea> can only have at most one child."),r=r[0]),i=""+r),null==i&&(i="");var o=n.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:i),onChange:function(e){var t=this._currentElement.props,i=n.executeOnChange(t,e);return s.asap(u,this),i}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=n.getValue(t);null!=i&&r.updatePropertyByID(e._rootNodeID,"value",""+i)}};t.exports=c},{161:161,173:173,23:23,24:24,45:45,96:96}],53:[function(e,t,i){"use strict";var n=e(96),r=e(113),s=e(24),o=e(153),a={initialize:o,close:function(){h.isBatchingUpdates=!1}},l=[{initialize:o,close:n.flushBatchedUpdates.bind(n)},a];function u(){this.reinitializeTransaction()}s(u.prototype,r.Mixin,{getTransactionWrappers:function(){return l}});var c=new u,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,r,s){var o=h.isBatchingUpdates;h.isBatchingUpdates=!0,o?e(t,i,n,r,s):c.perform(e,null,t,i,n,r,s)}};t.exports=h},{113:113,153:153,24:24,96:96}],54:[function(e,t,i){"use strict";var n=e(3),r=e(7),s=e(8),o=e(13),a=e(14),l=e(147),u=e(21),c=e(27),h=e(35),p=e(53),d=e(42),f=e(51),m=e(63),g=e(65),v=e(67),y=e(72),b=e(83),w=e(99),S=e(100),x=e(101),T=e(98),E=!1;t.exports={inject:function(){if(!E){E=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(o),g.EventPluginHub.injectInstanceHandle(v),g.EventPluginHub.injectMount(y),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:a,ChangeEventPlugin:r,SelectEventPlugin:w,BeforeInputEventPlugin:n}),g.NativeComponent.injectGenericComponentClass(d),g.NativeComponent.injectTextComponentClass(f),g.Class.injectMixin(c),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(T),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(b),g.Updates.injectBatchingStrategy(p),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?s.createReactRootIndex:S.createReactRootIndex),g.Component.injectEnvironment(h);var t=l.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(t)&&e(55).start()}}}},{100:100,101:101,13:13,14:14,147:147,21:21,27:27,3:3,35:35,42:42,51:51,53:53,55:55,63:63,65:65,67:67,7:7,72:72,8:8,83:83,98:98,99:99}],55:[function(e,t,i){"use strict";var n=e(10),r=e(56),s=e(72),o=e(78),a=e(170);function l(e){return Math.floor(100*e)/100}function u(e,t,i){e[t]=(e[t]||0)+i}var c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||o.injection.injectMeasure(c.measure),c._allMeasurements.length=0,o.enableMeasure=!0},stop:function(){o.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=r.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":l(e.inclusive),"Exclusive mount time (ms)":l(e.exclusive),"Exclusive render time (ms)":l(e.render),"Mount time per instance (ms)":l(e.exclusive/e.count),"Render time per instance (ms)":l(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=r.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":l(e.time),Instances:e.count}})),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){return r.getInclusiveSummary(e,!0).map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=r.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[n.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",r.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,i,n){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:i,args:n})},measure:function(e,t,i){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var l,h,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=a(),h=i.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=a()-p,h;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(p=a(),h=i.apply(this,r),l=a()-p,"_mountImageIntoNode"===t){var d=s.getID(r[1]);c._recordWrite(d,t,l,r[0])}else if("dangerouslyProcessChildrenUpdates"===t)r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,l,t)});else{var f=r[0];"object"===(void 0===f?"undefined":_typeof(f))&&(f=s.getID(r[0])),c._recordWrite(f,t,l,Array.prototype.slice.call(r,1))}return h}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return i.apply(this,r);if(this._currentElement.type===s.TopLevelWrapper)return i.apply(this,r);var m="mountComponent"===t?r[0]:this._rootNodeID,g="_renderValidatedComponent"===t,v="mountComponent"===t,y=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];if(g?u(b.counts,m,1):v&&(b.created[m]=!0,y.push(0)),p=a(),h=i.apply(this,r),l=a()-p,g)u(b.render,m,l);else if(v){var w=y.pop();y[y.length-1]+=l,u(b.exclusive,m,l-w),u(b.inclusive,m,l)}else u(b.inclusive,m,l);return b.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=c},{10:10,170:170,56:56,72:72,78:78}],56:[function(e,t,i){"use strict";var n=e(24),r=1.2,s={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"};function o(e){var t={},i=Object.keys(e.writes),r=n({},e.exclusive,e.inclusive);for(var s in r){for(var o=!1,a=0;a<i.length;a++)if(0===i[a].indexOf(s)){o=!0;break}e.created[s]&&(o=!0),!o&&e.counts[s]>0&&(t[s]=!0)}return t}var a={getExclusiveSummary:function(e){for(var t,i={},s=0;s<e.length;s++){var o=e[s],a=n({},o.exclusive,o.inclusive);for(var l in a)i[t=o.displayNames[l].current]=i[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[l]&&(i[t].render+=o.render[l]),o.exclusive[l]&&(i[t].exclusive+=o.exclusive[l]),o.inclusive[l]&&(i[t].inclusive+=o.inclusive[l]),o.counts[l]&&(i[t].count+=o.counts[l])}var u=[];for(t in i)i[t].exclusive>=r&&u.push(i[t]);return u.sort(function(e,t){return t.exclusive-e.exclusive}),u},getInclusiveSummary:function(e,t){for(var i,s={},a=0;a<e.length;a++){var l,u=e[a],c=n({},u.exclusive,u.inclusive);for(var h in t&&(l=o(u)),c)if(!t||l[h]){var p=u.displayNames[h];s[i=p.owner+" > "+p.current]=s[i]||{componentName:i,time:0,count:0},u.inclusive[h]&&(s[i].time+=u.inclusive[h]),u.counts[h]&&(s[i].count+=u.counts[h])}}var d=[];for(i in s)s[i].time>=r&&d.push(s[i]);return d.sort(function(e,t){return t.time-e.time}),d},getDOMSummary:function(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(i){e.writes[i].forEach(function(e){t.push({id:i,type:s[e.type]||e.type,args:e.args})})})}),t},getTotalTime:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].totalTime;return t}};t.exports=a},{24:24}],57:[function(e,t,i){"use strict";var n=e(39),r=e(24),s=e(117),o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,i,n,r,a,l){var u={$$typeof:o,type:e,key:t,ref:i,props:l,_owner:a,_store:{}};return s?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r})):(u._store.validated=!1,u._self=n,u._source=r),Object.freeze(u.props),Object.freeze(u),u};l.createElement=function(e,t,i){var r,s={},o=null,u=null,c=null,h=null;if(null!=t)for(r in u=void 0===t.ref?null:t.ref,o=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source,t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(s[r]=t[r]);var p=arguments.length-2;if(1===p)s.children=i;else if(p>1){for(var d=Array(p),f=0;f<p;f++)d[f]=arguments[f+2];s.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===s[r]&&(s[r]=m[r])}return l(e,o,u,c,h,n.current,s)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneAndReplaceProps=function(e,t){var i=l(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return i._store.validated=e._store.validated,i},l.cloneElement=function(e,t,i){var s,o=r({},e.props),u=e.key,c=e.ref,h=e._self,p=e._source,d=e._owner;if(null!=t)for(s in void 0!==t.ref&&(c=t.ref,d=n.current),void 0!==t.key&&(u=""+t.key),t)t.hasOwnProperty(s)&&!a.hasOwnProperty(s)&&(o[s]=t[s]);var f=arguments.length-2;if(1===f)o.children=i;else if(f>1){for(var m=Array(f),g=0;g<f;g++)m[g]=arguments[g+2];o.children=m}return l(e.type,u,c,h,p,d,o)},l.isValidElement=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&null!==e&&e.$$typeof===o},t.exports=l},{117:117,24:24,39:39}],58:[function(e,t,i){"use strict";var n=e(57),r=e(81),s=e(80),o=e(39),a=e(117),l=e(129),u=e(161),c=e(173);function h(){if(o.current){var e=o.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}var p={},d={};function f(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var i=function(e,t,i){var n=h();if(!n){var r="string"==typeof i?i:i.displayName||i.name;r&&(n=" Check the top-level render call using <"+r+">.")}var s=p[e]||(p[e]={});if(s[n])return null;s[n]=!0;var a={parentOrOwner:n,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};t&&t._owner&&t._owner!==o.current&&(a.childOwner=" It was passed a child from "+t._owner.getName()+".");return a}("uniqueKey",e,t);null!==i&&c(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',i.parentOrOwner||"",i.childOwner||"",i.url||"")}}function m(e,t){if("object"===(void 0===e?"undefined":_typeof(e)))if(Array.isArray(e))for(var i=0;i<e.length;i++){var r=e[i];n.isValidElement(r)&&f(r,t)}else if(n.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var s=l(e);if(s&&s!==e.entries)for(var o,a=s.call(e);!(o=a.next()).done;)n.isValidElement(o.value)&&f(o.value,t)}}function g(e){var t=e.type;if("function"==typeof t){var i=t.displayName||t.name;t.propTypes&&function(e,t,i,n){for(var r in t)if(t.hasOwnProperty(r)){var o;try{"function"!=typeof t[r]&&u(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",s[n],r),o=t[r](i,r,e,n)}catch(e){o=e}if(c(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",s[n],r,void 0===o?"undefined":_typeof(o)),o instanceof Error&&!(o.message in d)){d[o.message]=!0;var a=h();c(!1,"Failed propType: %s%s",o.message,a)}}}(i,t.propTypes,e.props,r.prop),"function"==typeof t.getDefaultProps&&c(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var v={createElement:function(e,t,i){var r="string"==typeof e||"function"==typeof e;c(r,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",h());var s=n.createElement.apply(this,arguments);if(null==s)return s;if(r)for(var o=2;o<arguments.length;o++)m(arguments[o],e);return g(s),s},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,a&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return c(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,i){for(var r=n.cloneElement.apply(this,arguments),s=2;s<arguments.length;s++)m(arguments[s],r.type);return g(r),r}};t.exports=v},{117:117,129:129,161:161,173:173,39:39,57:57,80:80,81:81}],59:[function(e,t,i){"use strict";var n,r=e(57),s=e(60),o=e(84),a={injectEmptyComponent:function(e){n=r.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(n)};e(24)(l.prototype,{construct:function(e){},mountComponent:function(e,t,i){return s.registerNullComponentID(e),this._rootNodeID=e,o.mountComponent(this._renderedComponent,e,t,i)},receiveComponent:function(){},unmountComponent:function(e,t,i){o.unmountComponent(this._renderedComponent),s.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=a,t.exports=l},{24:24,57:57,60:60,84:84}],60:[function(e,t,i){"use strict";var n={};var r={isNullComponentID:function(e){return!!n[e]},registerNullComponentID:function(e){n[e]=!0},deregisterNullComponentID:function(e){delete n[e]}};t.exports=r},{}],61:[function(e,t,i){"use strict";var n=null;function r(e,t,i,r){try{return t(i,r)}catch(e){return void(null===n&&(n=e))}}var s={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(n){var e=n;throw n=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var o=document.createElement("react");s.invokeGuardedCallback=function(e,t,i,n){var r=t.bind(null,i,n),s="react-"+e;o.addEventListener(s,r,!1);var a=document.createEvent("Event");a.initEvent(s,!1,!1),o.dispatchEvent(a),o.removeEventListener(s,r,!1)}}t.exports=s},{}],62:[function(e,t,i){"use strict";var n=e(16);var r={handleTopLevel:function(e,t,i,r,s){var o,a=n.extractEvents(e,t,i,r,s);o=a,n.enqueueEvents(o),n.processEventQueue(!1)}};t.exports=r},{16:16}],63:[function(e,t,i){"use strict";var n=e(146),r=e(147),s=e(25),o=e(67),a=e(72),l=e(96),u=e(24),c=e(128),h=e(158);function p(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function d(e){!function(e){var t=a.getFirstReactDOM(c(e.nativeEvent))||window,i=t;for(;i;)e.ancestors.push(i),n=i,void 0,void 0,void 0,r=a.getID(n),s=o.getReactRootIDFromNodeID(r),l=a.findReactContainerForID(s),i=a.getFirstReactDOM(l);var n,r,s,l;for(var u=0;u<e.ancestors.length;u++){t=e.ancestors[u];var h=a.getID(t)||"";f._handleTopLevel(e.topLevelType,t,h,e.nativeEvent,c(e.nativeEvent))}}(e)}u(p.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),s.addPoolingTo(p,s.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:r.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,i){var r=i;return r?n.listen(r,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,i){var r=i;return r?n.capture(r,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(h(window))}.bind(null,e);n.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var i=p.getPooled(e,t);try{l.batchedUpdates(d,i)}finally{p.release(i)}}}};t.exports=f},{128:128,146:146,147:147,158:158,24:24,25:25,67:67,72:72,96:96}],64:[function(e,t,i){"use strict";var n=e(32),r=e(57),s=e(153),o=e(161),a=e(173),l=/^\d+$/,u=!1,c={create:function(e){if("object"!==(void 0===e?"undefined":_typeof(e))||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;1===e.nodeType&&o(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var i in e)!u&&l.test(i)&&(a(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),u=!0),n.mapIntoWithKeyPrefixInternal(e[i],t,i,s.thatReturnsArgument);return t}};t.exports=c},{153:153,161:161,173:173,32:32,57:57}],65:[function(e,t,i){"use strict";var n=e(10),r=e(16),s=e(36),o=e(33),a=e(59),l=e(28),u=e(75),c=e(78),h=e(86),p=e(96),d={Component:s.injection,Class:o.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},{10:10,16:16,28:28,33:33,36:36,59:59,75:75,78:78,86:86,96:96}],66:[function(e,t,i){"use strict";var n=e(49),r=e(150),s=e(155),o=e(156);var a={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=o();return{focusedElem:e,selectionRange:a.hasSelectionCapabilities(e)?a.getSelection(e):null}},restoreSelection:function(e){var t,i=o(),n=e.focusedElem,l=e.selectionRange;i!==n&&(t=n,r(document.documentElement,t))&&(a.hasSelectionCapabilities(n)&&a.setSelection(n,l),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=document.selection.createRange();i.parentElement()===e&&(t={start:-i.moveStart("character",-e.value.length),end:-i.moveEnd("character",-e.value.length)})}else t=n.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var i=t.start,r=t.end;if(void 0===r&&(r=i),"selectionStart"in e)e.selectionStart=i,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",i),s.moveEnd("character",r-i),s.select()}else n.setOffsets(e,t)}};t.exports=a},{150:150,155:155,156:156,49:49}],67:[function(e,t,i){"use strict";var n=e(86),r=e(161),s=".",o=s.length,a=1e4;function l(e,t){return e.charAt(t)===s||t===e.length}function u(e){return""===e||e.charAt(0)===s&&e.charAt(e.length-1)!==s}function c(e,t){return 0===t.indexOf(e)&&l(t,e.length)}function h(e){return e?e.substr(0,e.lastIndexOf(s)):""}function p(e,t){if(u(e)&&u(t)||r(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),c(e,t)||r(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var i;for(i=e.length+o;i<t.length&&!l(t,i);i++);return t.substr(0,i)}function d(e,t){var i=Math.min(e.length,t.length);if(0===i)return"";for(var n=0,s=0;s<=i;s++)if(l(e,s)&&l(t,s))n=s;else if(e.charAt(s)!==t.charAt(s))break;var o=e.substr(0,n);return u(o)||r(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,o),o}function f(e,t,i,n,s,o){(e=e||"")===(t=t||"")&&r(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var l=c(t,e);l||c(e,t)||r(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var u=0,d=l?h:p,f=e;;f=d(f,t)){var m;if(s&&f===e||o&&f===t||(m=i(f,l,n)),!1===m||f===t)break;u++<a||r(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,f)}}var m={createReactRootID:function(){return e=n.createReactRootIndex(),s+e.toString(36);var e},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===s&&e.length>1){var t=e.indexOf(s,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,i,n,r){var s=d(e,t);s!==e&&f(e,s,i,n,!1,!0),s!==t&&f(s,t,i,r,!0,!1)},traverseTwoPhase:function(e,t,i){e&&(f("",e,t,i,!0,!1),f(e,"",t,i,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,i){e&&(f("",e,t,i,!0,!0),f(e,"",t,i,!0,!0))},traverseAncestors:function(e,t,i){f("",e,t,i,!0,!1)},getFirstCommonAncestorID:d,_getNextDescendantID:p,isAncestorIDOf:c,SEPARATOR:s};t.exports=m},{161:161,86:86}],68:[function(e,t,i){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],69:[function(e,t,i){"use strict";var n=e(32),r=e(34),s=e(33),o=e(43),a=e(57),l=e(58),u=e(82),c=e(97),h=e(24),p=e(135),d=a.createElement,f=a.createFactory,m=a.cloneElement;d=l.createElement,f=l.createFactory,m=l.cloneElement;var g={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:p},Component:r,createElement:d,cloneElement:m,isValidElement:a.isValidElement,PropTypes:u,createClass:s.createClass,createFactory:f,createMixin:function(e){return e},DOM:o,version:c,__spread:h};t.exports=g},{135:135,24:24,32:32,33:33,34:34,43:43,57:57,58:58,82:82,97:97}],70:[function(e,t,i){"use strict";var n=e(26);function r(e,t){this.value=e,this.requestChange=t}r.PropTypes={link:function(e){var t={value:void 0===e?n.PropTypes.any.isRequired:e.isRequired,requestChange:n.PropTypes.func.isRequired};return n.PropTypes.shape(t)}},t.exports=r},{26:26}],71:[function(e,t,i){"use strict";var n=e(116),r=/\/?>/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(r," "+s.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var i=t.getAttribute(s.CHECKSUM_ATTR_NAME);return i=i&&parseInt(i,10),n(e)===i}};t.exports=s},{116:116}],72:[function(e,t,i){"use strict";var n=e(10),r=e(28),s=e(39),o=e(44),a=e(57),l=e(60),u=e(67),c=e(68),h=e(71),p=e(78),d=e(84),f=e(95),m=e(96),g=e(24),v=e(154),y=e(150),b=e(132),w=e(161),S=e(138),x=e(141),T=e(144),E=e(173),A=n.ID_ATTRIBUTE_NAME,C={},P=9,_="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),I={},k={},R={},O=[];function M(e){return e?e.nodeType===P?e.documentElement:e.firstChild:null}function L(e){var t=M(e);return t&&G.getID(t)}function D(e){return e&&e.getAttribute&&e.getAttribute(A)||""}function N(e,t){if(e){D(e)!==t&&w(!1,"ReactMount: Unexpected modification of `%s`",A);var i=G.findReactContainerForID(t);if(i&&y(i,e))return!0}return!1}var V=null;function j(e){var t=C[e];if(!t||!N(t,e))return!1;V=t}function B(e,t,i,n,r,s){o.useCreateElement&&(s=g({},s),i.nodeType===P?s[_]=i:s[_]=i.ownerDocument),s===v&&(s={});var a=i.nodeName.toLowerCase();s[T.ancestorInfoContextKey]=T.updatedAncestorInfo(null,a,null);var l=d.mountComponent(e,t,n,s);e._renderedComponent._topLevelWrapper=e,G._mountImageIntoNode(l,i,r,n)}function F(e,t,i,n,r){var s=m.ReactReconcileTransaction.getPooled(n);s.perform(B,null,e,t,i,s,n,r),m.ReactReconcileTransaction.release(s)}function U(e,t){for(d.unmountComponent(e),t.nodeType===P&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function H(e){var t=L(e);return!!t&&t!==u.getReactRootIDFromNodeID(t)}var q=function(){};q.prototype.isReactComponent={},q.displayName="TopLevelWrapper",q.prototype.render=function(){return this.props};var G={TopLevelWrapper:q,_instancesByReactRootID:I,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,i,n){return G.scrollMonitor(i,function(){f.enqueueElementInternal(e,t),n&&f.enqueueCallbackInternal(e,n)}),R[L(i)]=M(i),e},_registerComponent:function(e,t){(!t||1!==t.nodeType&&t.nodeType!==P&&11!==t.nodeType)&&w(!1,"_registerComponent(...): Target container is not a DOM element."),r.ensureScrollValueMonitoring();var i=G.registerContainer(t);return I[i]=e,i},_renderNewRootComponent:function(e,t,i,n){E(null==s.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent");var r=b(e,null),o=G._registerComponent(r,t);return m.batchedUpdates(F,r,o,t,i,n),R[o]=M(t),r},renderSubtreeIntoContainer:function(e,t,i,n){return(null==e||null==e._reactInternalInstance)&&w(!1,"parentComponent must be a valid React Component"),G._renderSubtreeIntoContainer(e,t,i,n)},_renderSubtreeIntoContainer:function(e,t,i,n){a.isValidElement(t)||w(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),E(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var r=new a(q,null,null,null,null,null,t),s=I[L(i)];if(s){var o=s._currentElement.props;if(x(o,t)){var l=s._renderedComponent.getPublicInstance(),u=n&&function(){n.call(l)};return G._updateRootComponent(s,r,i,u),l}G.unmountComponentAtNode(i)}var c=M(i),h=c&&!!D(c),p=H(i);if(E(!p,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!h||c.nextSibling)for(var d=c;d;){if(D(d)){E(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}d=d.nextSibling}var f=h&&!s&&!p,m=G._renderNewRootComponent(r,i,f,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):v)._renderedComponent.getPublicInstance();return n&&n.call(m),m},render:function(e,t,i){return G._renderSubtreeIntoContainer(null,e,t,i)},registerContainer:function(e){var t=L(e);return t&&(t=u.getReactRootIDFromNodeID(t)),t||(t=u.createReactRootID()),k[t]=e,t},unmountComponentAtNode:function(e){E(null==s.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent"),(!e||1!==e.nodeType&&e.nodeType!==P&&11!==e.nodeType)&&w(!1,"unmountComponentAtNode(...): Target container is not a DOM element.");var t=L(e),i=I[t];if(!i){var n=H(e),r=D(e),o=r&&r===u.getReactRootIDFromNodeID(r);return E(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return m.batchedUpdates(U,i,e),delete I[t],delete k[t],delete R[t],!0},findReactContainerForID:function(e){var t=u.getReactRootIDFromNodeID(e),i=k[t],n=R[t];if(n&&n.parentNode!==i){E(D(n)===t,"ReactMount: Root element ID differed from reactRootID.");var r=i.firstChild;r&&t===D(r)?R[t]=r:E(!1,"ReactMount: Root element has been removed from its original container. New container: %s",n.parentNode)}return i},findReactNodeByID:function(e){var t=G.findReactContainerForID(e);return G.findComponentRoot(t,e)},getFirstReactDOM:function(e){return function(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=D(e);if(t){var i,n=u.getReactRootIDFromNodeID(t),r=e;do{if(i=D(r),null==(r=r.parentNode))return null}while(i!==n);if(r===k[n])return e}}return null}(e)},findComponentRoot:function(e,t){var i=O,n=0,r=function(e){V=null,u.traverseAncestors(e,j);var t=V;return V=null,t}(t)||e;for(E(null!=r,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),i[0]=r.firstChild,i.length=1;n<i.length;){for(var s,o=i[n++];o;){var a=G.getID(o);a?t===a?s=o:u.isAncestorIDOf(a,t)&&(i.length=n=0,i.push(o.firstChild)):i.push(o.firstChild),o=o.nextSibling}if(s)return i.length=0,s}i.length=0,w(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,G.getID(e))},_mountImageIntoNode:function(e,t,i,n){if((!t||1!==t.nodeType&&t.nodeType!==P&&11!==t.nodeType)&&w(!1,"mountComponentIntoNode(...): Target container is not valid."),i){var r=M(t);if(h.canReuseMarkup(e,r))return;var s=r.getAttribute(h.CHECKSUM_ATTR_NAME);r.removeAttribute(h.CHECKSUM_ATTR_NAME);var o=r.outerHTML;r.setAttribute(h.CHECKSUM_ATTR_NAME,s);var a,l=e;1===t.nodeType?((a=document.createElement("div")).innerHTML=e,l=a.innerHTML):(a=document.createElement("iframe"),document.body.appendChild(a),a.contentDocument.write(e),l=a.contentDocument.documentElement.outerHTML,document.body.removeChild(a));var u=function(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:i}(l,o),c=" (client) "+l.substring(u-20,u+20)+"\n (server) "+o.substring(u-20,u+20);t.nodeType===P&&w(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c),E(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c)}if(t.nodeType===P&&w(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."),n.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else S(t,e)},ownerDocumentContextKey:_,getReactRootID:L,getID:function(e){var t=D(e);if(t)if(C.hasOwnProperty(t)){var i=C[t];i!==e&&(N(i,t)&&w(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",A,t),C[t]=e)}else C[t]=e;return t},setID:function(e,t){var i=D(e);i!==t&&delete C[i],e.setAttribute(A,t),C[t]=e},getNode:function(e){return C.hasOwnProperty(e)&&N(C[e],e)||(C[e]=G.findReactNodeByID(e)),C[e]},getNodeFromInstance:function(e){var t=c.get(e)._rootNodeID;return l.isNullComponentID(t)?null:(C.hasOwnProperty(t)&&N(C[t],t)||(C[t]=G.findReactNodeByID(t)),C[t])},isValid:N,purgeID:function(e){delete C[e]}};p.measureMethods(G,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=G},{10:10,132:132,138:138,141:141,144:144,150:150,154:154,161:161,173:173,24:24,28:28,39:39,44:44,57:57,60:60,67:67,68:68,71:71,78:78,84:84,95:95,96:96}],73:[function(e,t,i){"use strict";var n=e(36),r=e(74),s=e(39),o=e(84),a=e(31),l=e(123),u=0,c=[],h=[];function p(){c.length&&(n.processChildrenUpdates(c,h),d())}function d(){c.length=0,h.length=0}var f={Mixin:{_reconcilerInstantiateChildren:function(e,t,i){if(this._currentElement)try{return s.current=this._currentElement._owner,a.instantiateChildren(e,t,i)}finally{s.current=null}return a.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n){var r;if(this._currentElement){try{s.current=this._currentElement._owner,r=l(t)}finally{s.current=null}return a.updateChildren(e,r,i,n)}return r=l(t),a.updateChildren(e,r,i,n)},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var r=[],s=0;for(var a in n)if(n.hasOwnProperty(a)){var l=n[a],u=this._rootNodeID+a,c=o.mountComponent(l,u,t,i);l._mountIndex=s++,r.push(c)}return r},updateTextContent:function(e){u++;var t=!0;try{var i=this._renderedChildren;for(var n in a.unmountChildren(i),i)i.hasOwnProperty(n)&&this._unmountChild(i[n]);this.setTextContent(e),t=!1}finally{--u||(t?d():p())}},updateMarkup:function(e){u++;var t=!0;try{var i=this._renderedChildren;for(var n in a.unmountChildren(i),i)i.hasOwnProperty(n)&&this._unmountChildByName(i[n],n);this.setMarkup(e),t=!1}finally{--u||(t?d():p())}},updateChildren:function(e,t,i){u++;var n=!0;try{this._updateChildren(e,t,i),n=!1}finally{--u||(n?d():p())}},_updateChildren:function(e,t,i){var n=this._renderedChildren,r=this._reconcilerUpdateChildren(n,e,t,i);if(this._renderedChildren=r,r||n){var s,o=0,a=0;for(s in r)if(r.hasOwnProperty(s)){var l=n&&n[s],u=r[s];l===u?(this.moveChild(l,a,o),o=Math.max(l._mountIndex,o),l._mountIndex=a):(l&&(o=Math.max(l._mountIndex,o),this._unmountChild(l)),this._mountChildByNameAtIndex(u,s,a,t,i)),a++}for(s in n)!n.hasOwnProperty(s)||r&&r.hasOwnProperty(s)||this._unmountChild(n[s])}},unmountChildren:function(){var e=this._renderedChildren;a.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,i){var n,s,o;e._mountIndex<i&&(n=this._rootNodeID,s=e._mountIndex,o=t,c.push({parentID:n,parentNode:null,type:r.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:s,toIndex:o}))},createChild:function(e,t){var i,n,s;i=this._rootNodeID,n=t,s=e._mountIndex,c.push({parentID:i,parentNode:null,type:r.INSERT_MARKUP,markupIndex:h.push(n)-1,content:null,fromIndex:null,toIndex:s})},removeChild:function(e){var t,i;t=this._rootNodeID,i=e._mountIndex,c.push({parentID:t,parentNode:null,type:r.REMOVE_NODE,markupIndex:null,content:null,fromIndex:i,toIndex:null})},setTextContent:function(e){var t,i;t=this._rootNodeID,i=e,c.push({parentID:t,parentNode:null,type:r.TEXT_CONTENT,markupIndex:null,content:i,fromIndex:null,toIndex:null})},setMarkup:function(e){var t,i;t=this._rootNodeID,i=e,c.push({parentID:t,parentNode:null,type:r.SET_MARKUP,markupIndex:null,content:i,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(e,t,i,n,r){var s=this._rootNodeID+t,a=o.mountComponent(e,s,n,r);e._mountIndex=i,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=f},{123:123,31:31,36:36,39:39,74:74,84:84}],74:[function(e,t,i){"use strict";var n=e(165)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=n},{165:165}],75:[function(e,t,i){"use strict";var n=e(24),r=e(161),s=null,o=null,a={},l=null;var u={getComponentClassForElement:function(e){if("function"==typeof e.type)return e.type;var t=e.type,i=a[t];return null==i&&(a[t]=i=s(t)),i},createInternalComponent:function(e){return o||r(!1,"There is no registered component for the tag %s",e.type),new o(e.type,e.props)},createInstanceForText:function(e){return new l(e)},isTextComponent:function(e){return e instanceof l},injection:{injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){l=e},injectComponentClasses:function(e){n(a,e)}}};t.exports=u},{161:161,24:24}],76:[function(e,t,i){"use strict";var n=e(173);function r(e,t){n(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var s={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}};t.exports=s},{173:173}],77:[function(e,t,i){"use strict";var n=e(161),r={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,i){r.isValidOwner(i)||n(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){r.isValidOwner(i)||n(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),i.getPublicInstance().refs[t]===e.getPublicInstance()&&i.detachRef(t)}};t.exports=r},{161:161}],78:[function(e,t,i){"use strict";var n={enableMeasure:!1,storedMeasure:function(e,t,i){return i},measureMethods:function(e,t,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=n.measure(t,i[r],e[r]))},measure:function(e,t,i){var r=null,s=function(){return n.enableMeasure?(r||(r=n.storedMeasure(e,t,i)),r.apply(this,arguments)):i.apply(this,arguments)};return s.displayName=e+"_"+t,s},injection:{injectMeasure:function(e){n.storedMeasure=e}}};t.exports=n},{}],79:[function(e,t,i){"use strict";var n=e(24),r=e(153),s=e(164);function o(e){return function(t,i,n){t.hasOwnProperty(i)?t[i]=e(t[i],n):t[i]=n}}var a=o(function(e,t){return n({},t,e)}),l={children:r,className:o(s),style:a};var u={mergeProps:function(e,t){return function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=l[i];n&&l.hasOwnProperty(i)?n(e,i,t[i]):e.hasOwnProperty(i)||(e[i]=t[i])}return e}(n({},e),t)}};t.exports=u},{153:153,164:164,24:24}],80:[function(e,t,i){"use strict";var n={};n={prop:"prop",context:"context",childContext:"child context"},t.exports=n},{}],81:[function(e,t,i){"use strict";var n=e(165)({prop:null,context:null,childContext:null});t.exports=n},{165:165}],82:[function(e,t,i){"use strict";var n=e(57),r=e(80),s=e(153),o=e(129),a="<<anonymous>>",l={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),any:u(s.thatReturns(null)),arrayOf:function(e){return u(function(t,i,n,s,o){var a=t[i];if(!Array.isArray(a)){var l=r[s],u=p(a);return new Error("Invalid "+l+" `"+o+"` of type `"+u+"` supplied to `"+n+"`, expected an array.")}for(var c=0;c<a.length;c++){var h=e(a,c,n,s,o+"["+c+"]");if(h instanceof Error)return h}return null})},element:function(){return u(function(e,t,i,s,o){if(!n.isValidElement(e[t])){var a=r[s];return new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return u(function(t,i,n,s,o){if(!(t[i]instanceof e)){var l=r[s],u=e.name||a,c=function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[i]);return new Error("Invalid "+l+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected instance of `"+u+"`.")}return null})},node:function(){return u(function(e,t,i,n,s){if(!h(e[t])){var o=r[n];return new Error("Invalid "+o+" `"+s+"` supplied to `"+i+"`, expected a ReactNode.")}return null})}(),objectOf:function(e){return u(function(t,i,n,s,o){var a=t[i],l=p(a);if("object"!==l){var u=r[s];return new Error("Invalid "+u+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected an object.")}for(var c in a)if(a.hasOwnProperty(c)){var h=e(a,c,n,s,o+"."+c);if(h instanceof Error)return h}return null})},oneOf:function(e){if(!Array.isArray(e))return u(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")});return u(function(t,i,n,s,o){for(var a=t[i],l=0;l<e.length;l++)if(a===e[l])return null;var u=r[s],c=JSON.stringify(e);return new Error("Invalid "+u+" `"+o+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+c+".")})},oneOfType:function(e){if(!Array.isArray(e))return u(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")});return u(function(t,i,n,s,o){for(var a=0;a<e.length;a++){var l=e[a];if(null==l(t,i,n,s,o))return null}var u=r[s];return new Error("Invalid "+u+" `"+o+"` supplied to `"+n+"`.")})},shape:function(e){return u(function(t,i,n,s,o){var a=t[i],l=p(a);if("object"!==l){var u=r[s];return new Error("Invalid "+u+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.")}for(var c in e){var h=e[c];if(h){var d=h(a,c,n,s,o+"."+c);if(d)return d}}return null})}};function u(e){function t(t,i,n,s,o,l){if(s=s||a,l=l||n,null==i[n]){var u=r[o];return t?new Error("Required "+u+" `"+l+"` was not specified in `"+s+"`."):null}return e(i,n,s,o,l)}var i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}function c(e){return u(function(t,i,n,s,o){var a=t[i];if(p(a)!==e){var l=r[s],u=function(e){var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(a);return new Error("Invalid "+l+" `"+o+"` of type `"+u+"` supplied to `"+n+"`, expected `"+e+"`.")}return null})}function h(e){switch(void 0===e?"undefined":_typeof(e)){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||n.isValidElement(e))return!0;var t=o(e);if(!t)return!1;var i,r=t.call(e);if(t!==e.entries){for(;!(i=r.next()).done;)if(!h(i.value))return!1}else for(;!(i=r.next()).done;){var s=i.value;if(s&&!h(s[1]))return!1}return!0;default:return!1}}function p(e){var t=void 0===e?"undefined":_typeof(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":t}t.exports=l},{129:129,153:153,57:57,80:80}],83:[function(e,t,i){"use strict";var n=e(6),r=e(25),s=e(28),o=e(44),a=e(66),l=e(113),u=e(24),c=[{initialize:a.getSelectionInformation,close:a.restoreSelection},{initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function h(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=n.getPooled(null),this.useCreateElement=!e&&o.useCreateElement}var p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){n.release(this.reactMountReady),this.reactMountReady=null}};u(h.prototype,l.Mixin,p),r.addPoolingTo(h),t.exports=h},{113:113,24:24,25:25,28:28,44:44,6:6,66:66}],84:[function(e,t,i){"use strict";var n=e(85);function r(){n.attachRefs(this,this._currentElement)}var s={mountComponent:function(e,t,i,n){var s=e.mountComponent(t,i,n);return e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(r,e),s},unmountComponent:function(e){n.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,i,s){var o=e._currentElement;if(t!==o||s!==e._context){var a=n.shouldUpdateRefs(o,t);a&&n.detachRefs(e,o),e.receiveComponent(t,i,s),a&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=s},{85:85}],85:[function(e,t,i){"use strict";var n=e(77),r={};r.attachRefs=function(e,t){if(null!==t&&!1!==t){var i,r,s,o=t.ref;null!=o&&(i=o,r=e,s=t._owner,"function"==typeof i?i(r.getPublicInstance()):n.addComponentAsRefTo(r,i,s))}},r.shouldUpdateRefs=function(e,t){return null===e||!1===e||(null===t||!1===t)||t._owner!==e._owner||t.ref!==e.ref},r.detachRefs=function(e,t){if(null!==t&&!1!==t){var i,r,s,o=t.ref;null!=o&&(i=o,r=e,s=t._owner,"function"==typeof i?i(null):n.removeComponentAsRefFrom(r,i,s))}},t.exports=r},{77:77}],86:[function(e,t,i){"use strict";var n={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(e){n.createReactRootIndex=e}}};t.exports=n},{}],87:[function(e,t,i){"use strict";t.exports={isBatchingUpdates:!1,batchedUpdates:function(e){}}},{}],88:[function(e,t,i){"use strict";var n=e(53),r=e(57),s=e(67),o=e(71),a=e(87),l=e(89),u=e(96),c=e(154),h=e(132),p=e(161);t.exports={renderToString:function(e){var t;r.isValidElement(e)||p(!1,"renderToString(): You must pass a valid ReactElement.");try{u.injection.injectBatchingStrategy(a);var i=s.createReactRootID();return(t=l.getPooled(!1)).perform(function(){var n=h(e,null).mountComponent(i,t,c);return o.addChecksumToMarkup(n)},null)}finally{l.release(t),u.injection.injectBatchingStrategy(n)}},renderToStaticMarkup:function(e){var t;r.isValidElement(e)||p(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");try{u.injection.injectBatchingStrategy(a);var i=s.createReactRootID();return(t=l.getPooled(!0)).perform(function(){return h(e,null).mountComponent(i,t,c)},null)}finally{l.release(t),u.injection.injectBatchingStrategy(n)}}}},{132:132,154:154,161:161,53:53,57:57,67:67,71:71,87:87,89:89,96:96}],89:[function(e,t,i){"use strict";var n=e(25),r=e(6),s=e(113),o=e(24),a=[{initialize:function(){this.reactMountReady.reset()},close:e(153)}];function l(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var u={getTransactionWrappers:function(){return a},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};o(l.prototype,s.Mixin,u),n.addPoolingTo(l),t.exports=l},{113:113,153:153,24:24,25:25,6:6}],90:[function(e,t,i){"use strict";var n={createStateSetter:function(e,t){return function(i,n,r,s,o,a){var l=t.call(e,i,n,r,s,o,a);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i,n,r,s=e.__keySetters||(e.__keySetters={});return s[t]||(s[t]=(i=e,n=t,r={},function(e){r[n]=e,i.setState(r)}))}};n.Mixin={createStateSetter:function(e){return n.createStateSetter(this,e)},createStateKeySetter:function(e){return n.createStateKeySetter(this,e)}},t.exports=n},{}],91:[function(e,t,i){"use strict";var n=e(15),r=e(16),s=e(19),o=e(26),a=e(40),l=e(57),u=e(28),c=e(38),h=e(67),p=e(68),d=e(72),f=e(96),m=e(105),g=e(24),v=e(154),y=e(122),b=e(161),w=n.topLevelTypes;function S(e){}var x={renderIntoDocument:function(e){var t=document.createElement("div");return a.render(e,t)},isElement:function(e){return l.isValidElement(e)},isElementOfType:function(e,t){return l.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&l.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return!x.isDOMComponent(e)&&(null!=e&&"function"==typeof e.render&&"function"==typeof e.setState)},isCompositeComponentWithType:function(e,t){return!!x.isCompositeComponent(e)&&p.get(e)._currentElement.type===t},isCompositeComponentElement:function(e){if(!l.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var i=p.get(e)._currentElement.type;return!(!x.isCompositeComponentElement(e)||i!==t)},getRenderedChildOfCompositeComponent:function(e){return x.isCompositeComponent(e)?p.get(e)._renderedComponent.getPublicInstance():null},findAllInRenderedTree:function(e,t){return e?(x.isCompositeComponent(e)||b(!1,"findAllInRenderedTree(...): instance must be a composite component"),function e(t,i){if(!t||!t.getPublicInstance)return[];var n=t.getPublicInstance(),r=i(n)?[n]:[],s=t._currentElement;if(x.isDOMComponent(n)){var o,a=t._renderedChildren;for(o in a)a.hasOwnProperty(o)&&(r=r.concat(e(a[o],i)))}else l.isValidElement(s)&&"function"==typeof s.type&&(r=r.concat(e(t._renderedComponent,i)));return r}(p.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return Array.isArray(t)||(t=t.split(/\s+/)),x.findAllInRenderedTree(e,function(e){if(x.isDOMComponent(e)){var i=e.className;"string"!=typeof i&&(i=e.getAttribute("class")||"");var n=i.split(/\s+/);return t.every(function(e){return-1!==n.indexOf(e)})}return!1})},findRenderedDOMComponentWithClass:function(e,t){var i=x.scryRenderedDOMComponentsWithClass(e,t);if(1!==i.length)throw new Error("Did not find exactly one match (found: "+i.length+") for class:"+t);return i[0]},scryRenderedDOMComponentsWithTag:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var i=x.scryRenderedDOMComponentsWithTag(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for tag:"+t);return i[0]},scryRenderedComponentsWithType:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var i=x.scryRenderedComponentsWithType(e,t);if(1!==i.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+i.length+")");return i[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return o.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,i){i.target=t,u.ReactEventListener.dispatchEvent(e,i)},simulateNativeEventOnDOMComponent:function(e,t,i){x.simulateNativeEventOnNode(e,y(t),i)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new T},Simulate:null,SimulateNative:{}},T=function(){this._instance=null};T.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var E=function(e){this._renderedOutput=e,this._currentElement=e};E.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){},getPublicInstance:function(){return null}};var A=function(){};function C(e){return function(t,i){var n;x.isDOMComponent(t)?n=y(t):t.tagName&&(n=t);var o=u.eventNameDispatchConfigs[e],a=new S;a.target=n;var l=new m(o,d.getID(n),a,n);g(l,i),o.phasedRegistrationNames?s.accumulateTwoPhaseDispatches(l):s.accumulateDirectDispatches(l),f.batchedUpdates(function(){r.enqueueEvents(l),r.processEventQueue(!0)})}}function P(){var e;for(e in x.Simulate={},u.eventNameDispatchConfigs)x.Simulate[e]=C(e)}g(A.prototype,c.Mixin,{_instantiateReactComponent:function(e){return new E(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:c.Mixin._renderValidatedComponentWithoutOwnerOrContext}),T.prototype.render=function(e,t){l.isValidElement(e)||b(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof e.type&&b(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type),t||(t=v);var i=f.ReactReconcileTransaction.getPooled(!1);this._render(e,i,t),f.ReactReconcileTransaction.release(i)},T.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},T.prototype._render=function(e,t,i){if(this._instance)this._instance.receiveComponent(e,t,i);else{var n=h.createReactRootID(),r=new A(e.type);r.construct(e),r.mountComponent(n,t,i),this._instance=r}};var _=r.injection.injectEventPluginOrder;r.injection.injectEventPluginOrder=function(){_.apply(this,arguments),P()};var I=r.injection.injectEventPluginsByName;r.injection.injectEventPluginsByName=function(){I.apply(this,arguments),P()},P(),Object.keys(w).forEach(function(e){var t,i=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;x.SimulateNative[i]=(t=e,function(e,i){var n=new S(t);g(n,i),x.isDOMComponent(e)?x.simulateNativeEventOnDOMComponent(t,e,n):e.tagName&&x.simulateNativeEventOnNode(t,e,n)})}),t.exports=x},{105:105,122:122,15:15,154:154,16:16,161:161,19:19,24:24,26:26,28:28,38:38,40:40,57:57,67:67,68:68,72:72,96:96}],92:[function(e,t,i){"use strict";var n=e(123),r={getChildMapping:function(e){return e?n(e):e},mergeChildMappings:function(e,t){function i(i){return t.hasOwnProperty(i)?t[i]:e[i]}e=e||{},t=t||{};var n,r={},s=[];for(var o in e)t.hasOwnProperty(o)?s.length&&(r[o]=s,s=[]):s.push(o);var a={};for(var l in t){if(r.hasOwnProperty(l))for(n=0;n<r[l].length;n++){var u=r[l][n];a[r[l][n]]=i(u)}a[l]=i(l)}for(n=0;n<s.length;n++)a[s[n]]=i(s[n]);return a}};t.exports=r},{123:123}],93:[function(e,t,i){"use strict";var n=e(147),r={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];n.canUseDOM&&function(){var e=document.createElement("div").style;for(var t in"AnimationEvent"in window||delete r.animationend.animation,"TransitionEvent"in window||delete r.transitionend.transition,r){var i=r[t];for(var n in i)if(n in e){s.push(i[n]);break}}}();var o={addEndEventListener:function(e,t){0!==s.length?s.forEach(function(i){var n,r;n=i,r=t,e.addEventListener(n,r,!1)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(i){var n,r;n=i,r=t,e.removeEventListener(n,r,!1)})}};t.exports=o},{147:147}],94:[function(e,t,i){"use strict";var n=e(26),r=e(92),s=e(24),o=e(153),a=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:o.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t,i=r.getChildMapping(e.children),n=this.state.children;for(t in this.setState({children:r.mergeChildMappings(n,i)}),i){var s=n&&n.hasOwnProperty(t);!i[t]||s||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in n){var o=i&&i.hasOwnProperty(t);!n[t]||o||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var i=r.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var i=s({},t.children);return delete i[e],{children:i}})},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(n.cloneElement(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=a},{153:153,24:24,26:26,92:92}],95:[function(e,t,i){"use strict";var n=e(39),r=e(57),s=e(68),o=e(96),a=e(24),l=e(161),u=e(173);function c(e){o.enqueueUpdate(e)}function h(e,t){var i=s.get(e);return i?(u(null==n.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),i):(u(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var p={isMounted:function(e){var t=n.current;null!==t&&(u(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var i=s.get(e);return!!i&&!!i._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t&&l(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var i=h(e);if(!i)return null;i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],c(i)},enqueueCallbackInternal:function(e,t){"function"!=typeof t&&l(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],c(e)},enqueueForceUpdate:function(e){var t=h(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,c(t))},enqueueReplaceState:function(e,t){var i=h(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,c(i))},enqueueSetState:function(e,t){var i=h(e,"setState");i&&((i._pendingStateQueue||(i._pendingStateQueue=[])).push(t),c(i))},enqueueSetProps:function(e,t){var i=h(e,"setProps");i&&p.enqueueSetPropsInternal(i,t)},enqueueSetPropsInternal:function(e,t){var i=e._topLevelWrapper;i||l(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var n=i._pendingElement||i._currentElement,s=n.props,o=a({},s.props,t);i._pendingElement=r.cloneAndReplaceProps(n,r.cloneAndReplaceProps(s,o)),c(i)},enqueueReplaceProps:function(e,t){var i=h(e,"replaceProps");i&&p.enqueueReplacePropsInternal(i,t)},enqueueReplacePropsInternal:function(e,t){var i=e._topLevelWrapper;i||l(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var n=i._pendingElement||i._currentElement,s=n.props;i._pendingElement=r.cloneAndReplaceProps(n,r.cloneAndReplaceProps(s,t)),c(i)},enqueueElementInternal:function(e,t){e._pendingElement=t,c(e)}};t.exports=p},{161:161,173:173,24:24,39:39,57:57,68:68,96:96}],96:[function(e,t,i){"use strict";var n=e(6),r=e(25),s=e(78),o=e(84),a=e(113),l=e(24),u=e(161),c=[],h=n.getPooled(),p=!1,d=null;function f(){w.ReactReconcileTransaction&&d||u(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}var m=[{initialize:function(){this.dirtyComponentsLength=c.length},close:function(){this.dirtyComponentsLength!==c.length?(c.splice(0,this.dirtyComponentsLength),b()):c.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function g(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=n.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!1)}function v(e,t){return e._mountOrder-t._mountOrder}function y(e){var t=e.dirtyComponentsLength;t!==c.length&&u(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,c.length),c.sort(v);for(var i=0;i<t;i++){var n=c[i],r=n._pendingCallbacks;if(n._pendingCallbacks=null,o.performUpdateIfNecessary(n,e.reconcileTransaction),r)for(var s=0;s<r.length;s++)e.callbackQueue.enqueue(r[s],n.getPublicInstance())}}l(g.prototype,a.Mixin,{getTransactionWrappers:function(){return m},destructor:function(){this.dirtyComponentsLength=null,n.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return a.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),r.addPoolingTo(g);var b=function(){for(;c.length||p;){if(c.length){var e=g.getPooled();e.perform(y,null,e),g.release(e)}if(p){p=!1;var t=h;h=n.getPooled(),t.notifyAll(),n.release(t)}}};var w={ReactReconcileTransaction:null,batchedUpdates:function(e,t,i,n,r,s){f(),d.batchedUpdates(e,t,i,n,r,s)},enqueueUpdate:function e(t){f(),d.isBatchingUpdates?c.push(t):d.batchedUpdates(e,t)},flushBatchedUpdates:b=s.measure("ReactUpdates","flushBatchedUpdates",b),injection:{injectReconcileTransaction:function(e){e||u(!1,"ReactUpdates: must provide a reconcile transaction class"),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||u(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates&&u(!1,"ReactUpdates: must provide a batchedUpdates() function"),"boolean"!=typeof e.isBatchingUpdates&&u(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),d=e}},asap:function(e,t){d.isBatchingUpdates||u(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),h.enqueue(e,t),p=!0}};t.exports=w},{113:113,161:161,24:24,25:25,6:6,78:78,84:84}],97:[function(e,t,i){"use strict";t.exports="0.14.6"},{}],98:[function(e,t,i){"use strict";var n=e(10).injection.MUST_USE_ATTRIBUTE,r="http://www.w3.org/1999/xlink",s="http://www.w3.org/XML/1998/namespace",o={Properties:{clipPath:n,cx:n,cy:n,d:n,dx:n,dy:n,fill:n,fillOpacity:n,fontFamily:n,fontSize:n,fx:n,fy:n,gradientTransform:n,gradientUnits:n,markerEnd:n,markerMid:n,markerStart:n,offset:n,opacity:n,patternContentUnits:n,patternUnits:n,points:n,preserveAspectRatio:n,r:n,rx:n,ry:n,spreadMethod:n,stopColor:n,stopOpacity:n,stroke:n,strokeDasharray:n,strokeLinecap:n,strokeOpacity:n,strokeWidth:n,textAnchor:n,transform:n,version:n,viewBox:n,x1:n,x2:n,x:n,xlinkActuate:n,xlinkArcrole:n,xlinkHref:n,xlinkRole:n,xlinkShow:n,xlinkTitle:n,xlinkType:n,xmlBase:n,xmlLang:n,xmlSpace:n,y1:n,y2:n,y:n},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:s,xmlLang:s,xmlSpace:s},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],99:[function(e,t,i){"use strict";var n=e(15),r=e(19),s=e(147),o=e(66),a=e(105),l=e(156),u=e(134),c=e(166),h=e(171),p=n.topLevelTypes,d=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,f={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},m=null,g=null,v=null,y=!1,b=!1,w=c({onSelect:null});function S(e,t){if(y||null==m||m!==l())return null;var i=function(e){if("selectionStart"in e&&o.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var i=document.selection.createRange();return{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}}}(m);if(!v||!h(v,i)){v=i;var n=a.getPooled(f.select,g,e,t);return n.type="select",n.target=m,r.accumulateTwoPhaseDispatches(n),n}return null}var x={eventTypes:f,extractEvents:function(e,t,i,n,r){if(!b)return null;switch(e){case p.topFocus:(u(t)||"true"===t.contentEditable)&&(m=t,g=i,v=null);break;case p.topBlur:m=null,g=null,v=null;break;case p.topMouseDown:y=!0;break;case p.topContextMenu:case p.topMouseUp:return y=!1,S(n,r);case p.topSelectionChange:if(d)break;case p.topKeyDown:case p.topKeyUp:return S(n,r)}return null},didPutListener:function(e,t,i){t===w&&(b=!0)}};t.exports=x},{105:105,134:134,147:147,15:15,156:156,166:166,171:171,19:19,66:66}],100:[function(e,t,i){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},{}],101:[function(e,t,i){"use strict";var n=e(15),r=e(146),s=e(19),o=e(72),a=e(102),l=e(105),u=e(106),c=e(108),h=e(109),p=e(104),d=e(110),f=e(111),m=e(112),g=e(153),v=e(125),y=e(161),b=e(166),w=n.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},x={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in x)x[T].dependencies=[T];var E=b({onClick:null}),A={},C={eventTypes:S,extractEvents:function(e,t,i,n,r){var o,g=x[e];if(!g)return null;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:o=l;break;case w.topKeyPress:if(0===v(n))return null;case w.topKeyDown:case w.topKeyUp:o=c;break;case w.topBlur:case w.topFocus:o=u;break;case w.topClick:if(2===n.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:o=h;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:o=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:o=d;break;case w.topScroll:o=f;break;case w.topWheel:o=m;break;case w.topCopy:case w.topCut:case w.topPaste:o=a}o||y(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=o.getPooled(g,i,n,r);return s.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,i){if(t===E){var n=o.getNode(e);A[e]||(A[e]=r.listen(n,"click",g))}},willDeleteListener:function(e,t){t===E&&(A[e].remove(),delete A[e])}};t.exports=C},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,125:125,146:146,15:15,153:153,161:161,166:166,19:19,72:72}],102:[function(e,t,i){"use strict";var n=e(105),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function s(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(s,r),t.exports=s},{105:105}],103:[function(e,t,i){"use strict";var n=e(105);function r(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(r,{data:null}),t.exports=r},{105:105}],104:[function(e,t,i){"use strict";var n=e(109);function r(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(r,{dataTransfer:null}),t.exports=r},{109:109}],105:[function(e,t,i){"use strict";var n=e(25),r=e(24),s=e(153),o=e(173),a={type:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function l(e,t,i,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=i,this.target=n,this.currentTarget=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];this[o]=a?a(i):i[o]}var l=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;this.isDefaultPrevented=l?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}r(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;o(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),l.Interface=a,l.augmentClass=function(e,t){var i=Object.create(this.prototype);r(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=r({},this.Interface,t),e.augmentClass=this.augmentClass,n.addPoolingTo(e,n.fourArgumentPooler)},n.addPoolingTo(l,n.fourArgumentPooler),t.exports=l},{153:153,173:173,24:24,25:25}],106:[function(e,t,i){"use strict";var n=e(111);function r(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(r,{relatedTarget:null}),t.exports=r},{111:111}],107:[function(e,t,i){"use strict";var n=e(105);function r(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(r,{data:null}),t.exports=r},{105:105}],108:[function(e,t,i){"use strict";var n=e(111),r=e(125),s={key:e(126),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:e(127),charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function o(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(o,s),t.exports=o},{111:111,125:125,126:126,127:127}],109:[function(e,t,i){"use strict";var n=e(111),r=e(114),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:e(127),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};function o(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(o,s),t.exports=o},{111:111,114:114,127:127}],110:[function(e,t,i){"use strict";var n=e(111),r={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:e(127)};function s(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(s,r),t.exports=s},{111:111,127:127}],111:[function(e,t,i){"use strict";var n=e(105),r=e(128),s={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var i=t.ownerDocument;return i?i.defaultView||i.parentWindow:window},detail:function(e){return e.detail||0}};function o(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(o,s),t.exports=o},{105:105,128:128}],112:[function(e,t,i){"use strict";var n=e(109);function r(e,t,i,r){n.call(this,e,t,i,r)}n.augmentClass(r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),t.exports=r},{109:109}],113:[function(e,t,i){"use strict";var n=e(161),r={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,r,s,o,a,l){var u,c;this.isInTransaction()&&n(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,i,r,s,o,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=r.OBSERVED_ERROR,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===r.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||n(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var s,o=t[i],a=this.wrapperInitData[i];try{s=!0,a!==r.OBSERVED_ERROR&&o.close&&o.close.call(this,a),s=!1}finally{if(s)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};t.exports=r},{161:161}],114:[function(e,t,i){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],115:[function(e,t,i){"use strict";var n=e(161);t.exports=function(e,t){if(null==t&&n(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e)return t;var i=Array.isArray(e),r=Array.isArray(t);return i&&r?(e.push.apply(e,t),e):i?(e.push(t),e):r?[e].concat(t):[e,t]}},{161:161}],116:[function(e,t,i){"use strict";var n=65521;t.exports=function(e){for(var t=1,i=0,r=0,s=e.length,o=-4&s;r<o;){for(;r<Math.min(r+4096,o);r+=4)i+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=n,i%=n}for(;r<s;r++)i+=t+=e.charCodeAt(r);return(t%=n)|(i%=n)<<16}},{}],117:[function(e,t,i){"use strict";var n=!1;try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(e){}t.exports=n},{}],118:[function(e,t,i){"use strict";var n=e(57),r=e(79),s=e(166),o=e(173),a=s({children:null}),l=!1;t.exports=function(e,t){o(l,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),l=!0,o(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var i=r.mergeProps(t,e.props);return!i.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(i.children=e.props.children),n.createElement(e.type,i)}},{166:166,173:173,57:57,79:79}],119:[function(e,t,i){"use strict";var n=e(4).isUnitlessNumber;t.exports=function(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||n.hasOwnProperty(e)&&n[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},{4:4}],120:[function(e,t,i){"use strict";var n=e(24),r=e(173);t.exports=function(e,t,i,s,o){var a=!1;return n(function(){return r(a,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,i),a=!0,o.apply(s,arguments)},o)}},{173:173,24:24}],121:[function(e,t,i){"use strict";var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;function s(e){return n[e]}t.exports=function(e){return(""+e).replace(r,s)}},{}],122:[function(e,t,i){"use strict";var n=e(39),r=e(68),s=e(72),o=e(161),a=e(173);t.exports=function(e){var t=n.current;return null!==t&&(a(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:r.has(e)?s.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render&&o(!1,"findDOMNode was called on an unmounted component."),void o(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}},{161:161,173:173,39:39,68:68,72:72}],123:[function(e,t,i){"use strict";var n=e(142),r=e(173);function s(e,t,i){var n=e,s=void 0===n[i];r(s,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i),s&&null!=t&&(n[i]=t)}t.exports=function(e){if(null==e)return e;var t={};return n(e,s,t),t}},{142:142,173:173}],124:[function(e,t,i){"use strict";t.exports=function(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}},{}],125:[function(e,t,i){"use strict";t.exports=function(e){var t,i=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===i&&(t=13):t=i,t>=32||13===t?t:0}},{}],126:[function(e,t,i){"use strict";var n=e(125),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=function(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=n(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}},{125:125}],127:[function(e,t,i){"use strict";var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var i=n[e];return!!i&&!!t[i]}t.exports=function(e){return r}},{}],128:[function(e,t,i){"use strict";t.exports=function(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}},{}],129:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=function(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}},{}],130:[function(e,t,i){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}t.exports=function(e,t){for(var i=n(e),s=0,o=0;i;){if(3===i.nodeType){if(o=s+i.textContent.length,s<=t&&o>=t)return{node:i,offset:t-s};s=o}i=n(r(i))}}},{}],131:[function(e,t,i){"use strict";var n=e(147),r=null;t.exports=function(){return!r&&n.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}},{147:147}],132:[function(e,t,i){"use strict";var n=e(38),r=e(59),s=e(75),o=e(24),a=e(161),l=e(173),u=function(){};function c(e){var t,i;if(null===e||!1===e)t=new r(c);else if("object"===(void 0===e?"undefined":_typeof(e))){var n=e;(!n||"function"!=typeof n.type&&"string"!=typeof n.type)&&a(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==n.type?n.type:_typeof(n.type),function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(n._owner)),"string"==typeof n.type?t=s.createInternalComponent(n):t="function"==typeof(i=n.type)&&void 0!==i.prototype&&"function"==typeof i.prototype.mountComponent&&"function"==typeof i.prototype.receiveComponent?new n.type(n):new u}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):a(!1,"Encountered invalid React node of type %s",void 0===e?"undefined":_typeof(e));return l("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}o(u.prototype,n.Mixin,{_instantiateReactComponent:c}),t.exports=c},{161:161,173:173,24:24,38:38,59:59,75:75}],133:[function(e,t,i){"use strict";var n,r=e(147);r.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,s=i in document;if(!s){var o=document.createElement("div");o.setAttribute(i,"return;"),s="function"==typeof o[i]}return!s&&n&&"wheel"===e&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}},{147:147}],134:[function(e,t,i){"use strict";var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&n[e.type]||"textarea"===t)}},{}],135:[function(e,t,i){"use strict";var n=e(57),r=e(161);t.exports=function(e){return n.isValidElement(e)||r(!1,"onlyChild must be passed a children with exactly one child."),e}},{161:161,57:57}],136:[function(e,t,i){"use strict";var n=e(121);t.exports=function(e){return'"'+n(e)+'"'}},{121:121}],137:[function(e,t,i){"use strict";var n=e(72);t.exports=n.renderSubtreeIntoContainer},{72:72}],138:[function(e,t,i){"use strict";var n=e(147),r=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var i=e.firstChild;1===i.data.length?e.removeChild(i):i.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{147:147}],139:[function(e,t,i){"use strict";var n=e(147),r=e(121),s=e(138),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){s(e,r(t))})),t.exports=o},{121:121,138:138,147:147}],140:[function(e,t,i){"use strict";var n=e(171);t.exports=function(e,t,i){return!n(e.props,t)||!n(e.state,i)}},{171:171}],141:[function(e,t,i){"use strict";t.exports=function(e,t){var i=null===e||!1===e,n=null===t||!1===t;if(i||n)return i===n;var r=void 0===e?"undefined":_typeof(e),s=void 0===t?"undefined":_typeof(t);return"string"===r||"number"===r?"string"===s||"number"===s:"object"===s&&e.type===t.type&&e.key===t.key}},{}],142:[function(e,t,i){"use strict";var n=e(39),r=e(57),s=e(67),o=e(129),a=e(161),l=e(173),u=s.SEPARATOR,c=":",h={"=":"=0",".":"=1",":":"=2"},p=/[=.:]/g,d=!1;function f(e){return h[e]}function m(e,t){return e&&null!=e.key?g(e.key):t.toString(36)}function g(e){return"$"+(""+e).replace(p,f)}t.exports=function(e,t,i){return null==e?0:function e(t,i,s,h){var p,f=void 0===t?"undefined":_typeof(t);if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||r.isValidElement(t))return s(h,t,""===i?u+m(t,0):i),1;var v=0,y=""===i?u:i+c;if(Array.isArray(t))for(var b=0;b<t.length;b++)v+=e(p=t[b],y+m(p,b),s,h);else{var w=o(t);if(w){var S,x=w.call(t);if(w!==t.entries)for(var T=0;!(S=x.next()).done;)v+=e(p=S.value,y+m(p,T++),s,h);else for(l(d,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),d=!0;!(S=x.next()).done;){var E=S.value;E&&(v+=e(p=E[1],y+g(E[0])+c+m(p,0),s,h))}}else if("object"===f){var A="";if(A=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",t._isReactElement&&(A=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),n.current){var C=n.current.getName();C&&(A+=" Check the render method of `"+C+"`.")}var P=String(t);a(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===P?"object with keys {"+Object.keys(t).join(", ")+"}":P,A)}}return v}(e,"",t,i)}},{129:129,161:161,173:173,39:39,57:57,67:67}],143:[function(e,t,i){"use strict";var n=e(24),r=e(166),s=e(161),o={}.hasOwnProperty;var a=r({$push:null}),l=r({$unshift:null}),u=r({$splice:null}),c=r({$set:null}),h=r({$merge:null}),p=r({$apply:null}),d=[a,l,u,c,h,p],f={};function m(e,t,i){Array.isArray(e)||s(!1,"update(): expected target of %s to be an array; got %s.",i,e);var n=t[i];Array.isArray(n)||s(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,n)}d.forEach(function(e){f[e]=!0}),t.exports=function e(t,i){if("object"!==(void 0===i?"undefined":_typeof(i))&&s(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",d.join(", "),c),o.call(i,c))return 1!==Object.keys(i).length&&s(!1,"Cannot have more than one key in an object with %s",c),i[c];var r,g=(r=t,Array.isArray(r)?r.concat():r&&"object"===(void 0===r?"undefined":_typeof(r))?n(new r.constructor,r):r);if(o.call(i,h)){var v=i[h];v&&"object"===(void 0===v?"undefined":_typeof(v))||s(!1,"update(): %s expects a spec of type 'object'; got %s",h,v),g&&"object"===(void 0===g?"undefined":_typeof(g))||s(!1,"update(): %s expects a target of type 'object'; got %s",h,g),n(g,i[h])}for(var y in o.call(i,a)&&(m(t,i,a),i[a].forEach(function(e){g.push(e)})),o.call(i,l)&&(m(t,i,l),i[l].forEach(function(e){g.unshift(e)})),o.call(i,u)&&(Array.isArray(t)||s(!1,"Expected %s target to be an array; got %s",u,t),Array.isArray(i[u])||s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",u,i[u]),i[u].forEach(function(e){Array.isArray(e)||s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",u,i[u]),g.splice.apply(g,e)})),o.call(i,p)&&("function"!=typeof i[p]&&s(!1,"update(): expected spec of %s to be a function; got %s.",p,i[p]),g=i[p](g)),i)f.hasOwnProperty(y)&&f[y]||(g[y]=e(t[y],i[y]));return g}},{161:161,166:166,24:24}],144:[function(e,t,i){"use strict";var n=e(24),r=e(153),s=e(173),o=r,a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],h={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===c.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},d=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},f=function(e){if(!e)return[];var t=[];do{t.push(e)}while(e=e._currentElement._owner);return t.reverse(),t},m={};(o=function(e,t,i){var n=(i=i||h).parentTag,r=n&&n.tag,o=p(e,r)?null:n,a=o?null:d(e,i),l=o||a;if(l){var u,c=l.tag,g=l.instance,v=t&&t._currentElement._owner,y=g&&g._currentElement._owner,b=f(v),w=f(y),S=Math.min(b.length,w.length),x=-1;for(u=0;u<S&&b[u]===w[u];u++)x=u;var T="(unknown)",E=b.slice(x+1).map(function(e){return e.getName()||T}),A=w.slice(x+1).map(function(e){return e.getName()||T}),C=[].concat(-1!==x?b[x].getName()||T:[],A,c,a?["..."]:[],E,e).join(" > "),P=!!o+"|"+e+"|"+c+"|"+C;if(m[P])return;if(m[P]=!0,o){var _="";"table"===c&&"tr"===e&&(_+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),s(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,c,C,_)}else s(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,c,C)}}).ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),o.updatedAncestorInfo=function(e,t,i){var r=n({},e||h),s={tag:t,instance:i};return-1!==l.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==u.indexOf(t)&&(r.pTagInButtonScope=null),-1!==a.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.parentTag=s,"form"===t&&(r.formTag=s),"a"===t&&(r.aTagInScope=s),"button"===t&&(r.buttonTagInScope=s),"nobr"===t&&(r.nobrTagInScope=s),"p"===t&&(r.pTagInButtonScope=s),"li"===t&&(r.listItemTagAutoclosing=s),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=s),r},o.isTagValidInContext=function(e,t){var i=(t=t||h).parentTag,n=i&&i.tag;return p(e,n)&&!d(e,t)},t.exports=o},{153:153,173:173,24:24}],145:[function(e,t,i){"use strict";var n=e(161),r={addClass:function(e,t){return/\s/.test(t)&&n(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&n(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,i){return(i?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&n(!1,"CSS.hasClass takes only a single class name."),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=r},{161:161}],146:[function(e,t,i){"use strict";var n=e(153),r={listen:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=r},{153:153}],147:[function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},{}],148:[function(e,t,i){"use strict";var n=/-(.)/g;t.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},{}],149:[function(e,t,i){"use strict";var n=e(148),r=/^-ms-/;t.exports=function(e){return n(e.replace(r,"ms-"))}},{148:148}],150:[function(e,t,i){"use strict";var n=e(163);t.exports=function(e,t){var i=!0;e:for(;i;){var r=e,s=t;if(i=!1,r&&s){if(r===s)return!0;if(n(r))return!1;if(n(s)){e=r,t=s.parentNode,i=!0;continue e}return r.contains?r.contains(s):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(s))}return!1}}},{163:163}],151:[function(e,t,i){"use strict";var n=e(172);t.exports=function(e){return!(t=e)||"object"!=(void 0===t?"undefined":_typeof(t))&&"function"!=typeof t||!("length"in t)||"setInterval"in t||"number"==typeof t.nodeType||!(Array.isArray(t)||"callee"in t||"item"in t)?[e]:Array.isArray(e)?e.slice():n(e);var t}},{172:172}],152:[function(e,t,i){"use strict";var n=e(147),r=e(151),s=e(157),o=e(161),a=n.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/,u={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"};t.exports=function(e,t){var i=a;a||o(!1,"createNodesFromMarkup dummy not initialized");var n,c,h=(n=e.match(l),c=n&&n[1].toLowerCase(),u.hasOwnProperty(c)?u[c]:c),p=h&&s(h);if(p){i.innerHTML=p[1]+e+p[2];for(var d=p[0];d--;)i=i.lastChild}else i.innerHTML=e;var f=i.getElementsByTagName("script");f.length&&(t||o(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),r(f).forEach(t));for(var m=r(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return m}},{147:147,151:151,157:157,161:161}],153:[function(e,t,i){"use strict";function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},t.exports=r},{}],154:[function(e,t,i){"use strict";var n={};Object.freeze(n),t.exports=n},{}],155:[function(e,t,i){"use strict";t.exports=function(e){try{e.focus()}catch(e){}}},{}],156:[function(e,t,i){"use strict";t.exports=function(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}},{}],157:[function(e,t,i){"use strict";var n=e(147),r=e(161),s=n.canUseDOM?document.createElement("div"):null,o={},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan","use","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feTile","feTurbulence"].forEach(function(e){h[e]=c,o[e]=!0}),t.exports=function(e){return s||r(!1,"Markup wrapping node not initialized"),h.hasOwnProperty(e)||(e="*"),o.hasOwnProperty(e)||(s.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",o[e]=!s.firstChild),o[e]?h[e]:null}},{147:147,161:161}],158:[function(e,t,i){"use strict";t.exports=function(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},{}],159:[function(e,t,i){"use strict";var n=/([A-Z])/g;t.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},{}],160:[function(e,t,i){"use strict";var n=e(159),r=/^ms-/;t.exports=function(e){return n(e).replace(r,"-ms-")}},{159:159}],161:[function(e,t,i){"use strict";t.exports=function(e,t,i,n,r,s,o,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,n,r,s,o,a],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},{}],162:[function(e,t,i){"use strict";t.exports=function(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},{}],163:[function(e,t,i){"use strict";var n=e(162);t.exports=function(e){return n(e)&&3==e.nodeType}},{162:162}],164:[function(e,t,i){"use strict";t.exports=function(e){var t;e||(e="");var i=arguments.length;if(i>1)for(var n=1;n<i;n++)(t=arguments[n])&&(e=(e?e+" ":"")+t);return e}},{}],165:[function(e,t,i){"use strict";var n=e(161);t.exports=function(e){var t,i={};for(t in e instanceof Object&&!Array.isArray(e)||n(!1,"keyMirror(...): Argument must be an object."),e)e.hasOwnProperty(t)&&(i[t]=t);return i}},{161:161}],166:[function(e,t,i){"use strict";t.exports=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null}},{}],167:[function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(e,t,i){if(!e)return null;var r={};for(var s in e)n.call(e,s)&&(r[s]=t.call(i,e[s],s,e));return r}},{}],168:[function(e,t,i){"use strict";t.exports=function(e){var t={};return function(i){return t.hasOwnProperty(i)||(t[i]=e.call(this,i)),t[i]}}},{}],169:[function(e,t,i){"use strict";var n;e(147).canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{147:147}],170:[function(e,t,i){"use strict";var n,r=e(169);n=r.now?function(){return r.now()}:function(){return Date.now()},t.exports=n},{169:169}],171:[function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":_typeof(e))||null===e||"object"!==(void 0===t?"undefined":_typeof(t))||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var s=n.bind(t),o=0;o<i.length;o++)if(!s(i[o])||e[i[o]]!==t[i[o]])return!1;return!0}},{}],172:[function(e,t,i){"use strict";var n=e(161);t.exports=function(e){var t=e.length;if((Array.isArray(e)||"object"!==(void 0===e?"undefined":_typeof(e))&&"function"!=typeof e)&&n(!1,"toArray: Array-like object expected"),"number"!=typeof t&&n(!1,"toArray: Object needs a length property"),0===t||t-1 in e||n(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var i=Array(t),r=0;r<t;r++)i[r]=e[r];return i}},{161:161}],173:[function(e,t,i){"use strict";var n=e(153);n=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var s=0,o="Warning: "+t.replace(/%s/g,function(){return n[s++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}},t.exports=n},{153:153}]},{},[1])(1)}),define("helpers/ReactOverride",["lodash","react"],function(e,t){"use strict";var i=function(e){var i=t.createClass(e);return i.__spec=e,i};return e.extend({},t,{createClass:i,extend:function(t,n){return i(e.extend({},t.__spec,n))}})}),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(e,t){var i,n,r=void 0===t?"undefined":_typeof(t),s=e.location,o=e.document,a=o.documentElement,l=e.jQuery,u=e.$,c={},h=[],p=h.concat,d=h.push,f=h.slice,m=h.indexOf,g=c.toString,v=c.hasOwnProperty,y="2.0.3".trim,b=function e(t,n){return new e.fn.init(t,n,i)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^-ms-/,A=/-([\da-z])/gi,C=function(e,t){return t.toUpperCase()},P=function t(){o.removeEventListener("DOMContentLoaded",t,!1),e.removeEventListener("load",t,!1),b.ready()};function _(e){var t=e.length,i=b.type(e);return!b.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}b.fn=b.prototype={jquery:"2.0.3",constructor:b,init:function(e,i,n){var r,s;if(!e)return this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e))||!r[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(r[1]){if(i=i instanceof b?i[0]:i,b.merge(this,b.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:o,!0)),T.test(r[1])&&b.isPlainObject(i))for(r in i)b.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}return(s=o.getElementById(r[2]))&&s.parentNode&&(this.length=1,this[0]=s),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,toArray:function(){return f.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,i,n,r,s,o,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"===(void 0===a?"undefined":_typeof(a))||b.isFunction(a)||(a={}),u===l&&(a=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],a!==(r=e[i])&&(c&&r&&(b.isPlainObject(r)||(s=b.isArray(r)))?(s?(s=!1,o=n&&b.isArray(n)?n:[]):o=n&&b.isPlainObject(n)?n:{},a[i]=b.extend(c,o,r)):r!==t&&(a[i]=r));return a},b.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=l),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e?c[g.call(e)]||"object":void 0===e?"undefined":_typeof(e)},isPlainObject:function(e){if("object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||o;var n=T.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=b.buildFragment([e],t,r),r&&b(r).remove(),b.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var i,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,i=n.parseFromString(e,"text/xml")}catch(e){i=t}return i&&!i.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),i},noop:function(){},globalEval:function(e){var t,i=eval;(e=b.trim(e))&&(1===e.indexOf("use strict")?((t=o.createElement("script")).text=e,o.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(E,"ms-").replace(A,C)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,r=e.length,s=_(e);if(i){if(s)for(;n<r&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(s)for(;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":y.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(_(Object(e))?b.merge(i,"string"==typeof e?[e]:e):d.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:m.call(t,e,i)},merge:function(e,i){var n=i.length,r=e.length,s=0;if("number"==typeof n)for(;s<n;s++)e[r++]=i[s];else for(;i[s]!==t;)e[r++]=i[s++];return e.length=r,e},grep:function(e,t,i){var n=[],r=0,s=e.length;for(i=!!i;r<s;r++)i!==!!t(e[r],r)&&n.push(e[r]);return n},map:function(e,t,i){var n,r=0,s=e.length,o=[];if(_(e))for(;r<s;r++)null!=(n=t(e[r],r,i))&&(o[o.length]=n);else for(r in e)null!=(n=t(e[r],r,i))&&(o[o.length]=n);return p.apply([],o)},guid:1,proxy:function(e,i){var n,r,s;return"string"==typeof i&&(n=e[i],i=e,e=n),b.isFunction(e)?(r=f.call(arguments,2),s=function(){return e.apply(i||this,r.concat(f.call(arguments)))},s.guid=e.guid=e.guid||b.guid++,s):t},access:function(e,i,n,r,s,o,a){var l=0,u=e.length,c=null==n;if("object"===b.type(n))for(l in s=!0,n)b.access(e,i,l,n[l],!0,o,a);else if(r!==t&&(s=!0,b.isFunction(r)||(a=!0),c&&(a?(i.call(e,r),i=null):(c=i,i=function(e,t,i){return c.call(b(e),i)})),i))for(;l<u;l++)i(e[l],n,a?r:r.call(e[l],l,i(e[l],n)));return s?e:c?i.call(e):u?i(e[0],n):o},now:Date.now,swap:function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=o[s];return r}}),b.ready.promise=function(t){return n||(n=b.Deferred(),"complete"===o.readyState?setTimeout(b.ready):(o.addEventListener("DOMContentLoaded",P,!1),e.addEventListener("load",P,!1))),n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),i=b(o),function(e,t){var i,n,r,s,o,a,l,u,c,h,p,d,f,m,g,v,y,w="sizzle"+-new Date,S=e.document,x=0,T=0,E=oe(),A=oe(),C=oe(),P=!1,_=function(e,t){return e===t?(P=!0,0):0},I="undefined",k=1<<31,R={}.hasOwnProperty,O=[],M=O.pop,L=O.push,D=O.push,N=O.slice,V=O.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U=F.replace("w","w#"),H="\\["+B+"*("+F+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+B+"*\\]",q=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+H.replace(3,8)+")*)|.*)\\)|)",G=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Y=new RegExp(B+"*[+~]"),X=new RegExp("="+B+"*([^\\]'\"]*)"+B+"*\\]","g"),Q=new RegExp(q),K=new RegExp("^"+U+"$"),Z={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ie=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),re=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{D.apply(O=N.call(S.childNodes),S.childNodes),O[S.childNodes.length].nodeType}catch(e){D={apply:O.length?function(e,t){L.apply(e,N.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function se(e,t,i,r){var o,a,u,c,d,g,v,b,x,T;if((t?t.ownerDocument||t:S)!==p&&h(t),i=i||[],!e||"string"!=typeof e)return i;if(1!==(c=(t=t||p).nodeType)&&9!==c)return[];if(f&&!r){if(o=$.exec(e))if(u=o[1]){if(9===c){if(!(a=t.getElementById(u))||!a.parentNode)return i;if(a.id===u)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(u))&&y(t,a)&&a.id===u)return i.push(a),i}else{if(o[2])return D.apply(i,t.getElementsByTagName(e)),i;if((u=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(u)),i}if(n.qsa&&(!m||!m.test(e))){if(b=v=w,x=t,T=9===c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(g=me(e),(v=t.getAttribute("id"))?b=v.replace(ie,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",d=g.length;d--;)g[d]=b+ge(g[d]);x=Y.test(e)&&t.parentNode||t,T=g.join(",")}if(T)try{return D.apply(i,x.querySelectorAll(T)),i}catch(e){}finally{v||t.removeAttribute("id")}}}return function(e,t,i,r){var o,a,u,c,h,p=me(e);if(!r&&1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(u=a[0]).type&&n.getById&&9===t.nodeType&&f&&s.relative[a[1].type]){if(!(t=(s.find.ID(u.matches[0].replace(ne,re),t)||[])[0]))return i;e=e.slice(a.shift().value.length)}for(o=Z.needsContext.test(e)?0:a.length;o--&&(u=a[o],!s.relative[c=u.type]);)if((h=s.find[c])&&(r=h(u.matches[0].replace(ne,re),Y.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),!(e=r.length&&ge(a)))return D.apply(i,r),i;break}}return l(e,p)(r,t,!f,i,Y.test(e)),i}(e.replace(G,"$1"),t,i,r)}function oe(){var e=[];return function t(i,n){return e.push(i+=" ")>s.cacheLength&&delete t[e.shift()],t[i]=n}}function ae(e){return e[w]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var i=e.split("|"),n=e.length;n--;)s.attrHandle[i[n]]=t}function ce(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function de(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}for(i in a=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},n=se.support={},h=se.setDocument=function(e){var t=e?e.ownerDocument||e:S,i=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,d=t.documentElement,f=!a(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){h()}),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=le(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=le(function(e){return d.appendChild(e).id=w,!t.getElementsByName||!t.getElementsByName(w).length}),n.getById?(s.find.ID=function(e,t){if(_typeof(t.getElementById)!==I&&f){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},s.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var i=_typeof(e.getAttributeNode)!==I&&e.getAttributeNode("id");return i&&i.value===t}}),s.find.TAG=n.getElementsByTagName?function(e,t){if(_typeof(t.getElementsByTagName)!==I)return t.getElementsByTagName(e)}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},s.find.CLASS=n.getElementsByClassName&&function(e,t){if(_typeof(t.getElementsByClassName)!==I&&f)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=J.test(t.querySelectorAll))&&(le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),le(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(v=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),g.push("!=",q)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),y=J.test(d.contains)||d.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=d.compareDocumentPosition?function(e,i){if(e===i)return P=!0,0;var r=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return r?1&r||!n.sortDetached&&i.compareDocumentPosition(e)===r?e===t||y(S,e)?-1:i===t||y(S,i)?1:c?V.call(c,e)-V.call(c,i):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,r=0,s=e.parentNode,o=i.parentNode,a=[e],l=[i];if(e===i)return P=!0,0;if(!s||!o)return e===t?-1:i===t?1:s?-1:o?1:c?V.call(c,e)-V.call(c,i):0;if(s===o)return ce(e,i);for(n=e;n=n.parentNode;)a.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?ce(a[r],l[r]):a[r]===S?-1:l[r]===S?1:0},t):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(X,"='$1']"),n.matchesSelector&&f&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),y(e,t)},se.attr=function(e,i){(e.ownerDocument||e)!==p&&h(e);var r=s.attrHandle[i.toLowerCase()],o=r&&R.call(s.attrHandle,i.toLowerCase())?r(e,i,!f):t;return o===t?n.attributes||!f?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null:o},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,s=0;if(P=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(_),P){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},o=se.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=o(t);return i},(s=se.selectors={cacheLength:50,createPseudo:ae,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&Q.test(n)&&(i=me(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||_typeof(e.getAttribute)!==I&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=se.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,p,d,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(d=(u=(c=g[w]||(g[w]={}))[e]||[])[0]===x&&u[1],p=u[0]===x&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[x,d,p];break}}else if(y&&(u=(t[w]||(t[w]={}))[e])&&u[0]===x)p=u[1];else for(;(h=++d&&h&&h[m]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[w]||(h[w]={}))[e]=[x,p]),h!==t)););return(p-=r)===n||p%n==0&&p/n>=0}}},PSEUDO:function(e,t){var i,n=s.pseudos[e]||s.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return n[w]?n(t):n.length>1?(i=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var r,s=n(e,t),o=s.length;o--;)e[r=V.call(e,s[o])]=!(i[r]=s[o])}):function(e){return n(e,0,i)}):n}},pseudos:{not:ae(function(e){var t=[],i=[],n=l(e.replace(G,"$1"));return n[w]?ae(function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,r,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:ae(function(e){return function(t){return se(e,t).length>0}}),contains:ae(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ae(function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var i;do{if(i=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,i){return[i<0?i+t:i]}),even:de(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:de(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:de(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:de(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[i]=he(i);for(i in{submit:!0,reset:!0})s.pseudos[i]=pe(i);function fe(){}function me(e,t){var i,n,r,o,a,l,u,c=A[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=s.preFilter;a;){for(o in i&&!(n=W.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(r=[])),i=!1,(n=z.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(G," ")}),a=a.slice(i.length)),s.filter)!(n=Z[o].exec(a))||u[o]&&!(n=u[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?se.error(e):A(e,l).slice(0)}function ge(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ve(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=T++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,a){var l,u,c,h=x+" "+o;if(a){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if((u=(c=t[w]||(t[w]={}))[n])&&u[0]===h){if(!0===(l=u[1])||l===r)return!0===l}else if((u=c[n]=[h])[1]=e(t,i,a)||r,!0===u[1])return!0}}function ye(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function be(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,u=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),u&&t.push(a)));return o}function we(e,t,i,n,r,s){return n&&!n[w]&&(n=we(n)),r&&!r[w]&&(r=we(r,s)),ae(function(s,o,a,l){var u,c,h,p=[],d=[],f=o.length,m=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)se(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:be(m,p,e,a,l),v=i?r||(s?e:f||n)?[]:o:g;if(i&&i(g,v,a,l),n)for(u=be(v,d),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[d[c]]=!(g[d[c]]=h));if(s){if(r||e){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(g[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=r?V.call(s,h):p[c])>-1&&(s[u]=!(o[u]=h))}}else v=be(v===o?v.splice(f,v.length):v),r?r(null,o,v,l):D.apply(o,v)})}function Se(e){for(var t,i,n,r=e.length,o=s.relative[e[0].type],a=o||s.relative[" "],l=o?1:0,c=ve(function(e){return e===t},a,!0),h=ve(function(e){return V.call(t,e)>-1},a,!0),p=[function(e,i,n){return!o&&(n||i!==u)||((t=i).nodeType?c(e,i,n):h(e,i,n))}];l<r;l++)if(i=s.relative[e[l].type])p=[ve(ye(p),i)];else{if((i=s.filter[e[l].type].apply(null,e[l].matches))[w]){for(n=++l;n<r&&!s.relative[e[n].type];n++);return we(l>1&&ye(p),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(G,"$1"),i,l<n&&Se(e.slice(l,n)),n<r&&Se(e=e.slice(n)),n<r&&ge(e))}p.push(i)}return ye(p)}fe.prototype=s.filters=s.pseudos,s.setFilters=new fe,l=se.compile=function(e,t){var i,n,o,a,l,c,h,d=[],f=[],m=C[e+" "];if(!m){for(t||(t=me(e)),i=t.length;i--;)(m=Se(t[i]))[w]?d.push(m):f.push(m);m=C(e,(n=f,a=0,l=(o=d).length>0,c=n.length>0,h=function(e,t,i,h,d){var f,m,g,v=[],y=0,b="0",w=e&&[],S=null!=d,T=u,E=e||c&&s.find.TAG("*",d&&t.parentNode||t),A=x+=null==T?1:Math.random()||.1;for(S&&(u=t!==p&&t,r=a);null!=(f=E[b]);b++){if(c&&f){for(m=0;g=n[m++];)if(g(f,t,i)){h.push(f);break}S&&(x=A,r=++a)}l&&((f=!g&&f)&&y--,e&&w.push(f))}if(y+=b,l&&b!==y){for(m=0;g=o[m++];)g(w,v,t,i);if(e){if(y>0)for(;b--;)w[b]||v[b]||(v[b]=M.call(h));v=be(v)}D.apply(h,v),S&&!e&&v.length>0&&y+o.length>1&&se.uniqueSort(h)}return S&&(x=A,u=T),w},l?ae(h):h))}return m},n.sortStable=w.split("").sort(_).join("")===w,n.detectDuplicates=P,h(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(j,function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}),b.find=se,b.expr=se.selectors,b.expr[":"]=b.expr.pseudos,b.unique=se.uniqueSort,b.text=se.getText,b.isXMLDoc=se.isXML,b.contains=se.contains}(e);var I,k,R,O,M,L,D={};b.Callbacks=function(e){var i,n;e="string"==typeof e?D[e]||(n=D[i=e]={},b.each(i.match(S)||[],function(e,t){n[t]=!0}),n):b.extend({},e);var r,s,o,a,l,u,c=[],h=!e.once&&[],p=function t(i){for(r=e.memory&&i,s=!0,u=a||0,a=0,l=c.length,o=!0;c&&u<l;u++)if(!1===c[u].apply(i[0],i[1])&&e.stopOnFalse){r=!1;break}o=!1,c&&(h?h.length&&t(h.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function t(i){b.each(i,function(i,n){var r=b.type(n);"function"===r?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),o?l=c.length:r&&(a=t,p(r))}return this},remove:function(){return c&&b.each(arguments,function(e,t){for(var i;(i=b.inArray(t,c,i))>-1;)c.splice(i,1),o&&(i<=l&&l--,i<=u&&u--)}),this},has:function(e){return e?b.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],l=0,this},disable:function(){return c=h=r=t,this},disabled:function(){return!c},lock:function(){return h=t,r||d.disable(),this},locked:function(){return!h},fireWith:function(e,t){return!c||s&&!h||(t=[e,(t=t||[]).slice?t.slice():t],o?h.push(t):p(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(i){b.each(t,function(t,s){var o=s[0],a=b.isFunction(e[t])&&e[t];r[s[1]](function(){var e=a&&a.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,n):n}},r={};return n.pipe=n.then,b.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=f.call(arguments),o=s.length,a=1!==o||e&&b.isFunction(e.promise)?o:0,l=1===a?e:b.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?f.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);r<o;r++)s[r]&&b.isFunction(s[r].promise)?s[r].promise().done(u(r,n,s)).fail(l.reject).progress(u(r,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),b.support=(I={},k=o.createElement("input"),R=o.createDocumentFragment(),O=o.createElement("div"),M=o.createElement("select"),L=M.appendChild(o.createElement("option")),k.type?(k.type="checkbox",I.checkOn=""!==k.value,I.optSelected=L.selected,I.reliableMarginRight=!0,I.boxSizingReliable=!0,I.pixelPosition=!1,k.checked=!0,I.noCloneChecked=k.cloneNode(!0).checked,M.disabled=!0,I.optDisabled=!L.disabled,(k=o.createElement("input")).value="t",k.type="radio",I.radioValue="t"===k.value,k.setAttribute("checked","t"),k.setAttribute("name","t"),R.appendChild(k),I.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,I.focusinBubbles="onfocusin"in e,O.style.backgroundClip="content-box",O.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle="content-box"===O.style.backgroundClip,b(function(){var t,i,n=o.getElementsByTagName("body")[0];n&&((t=o.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",n.appendChild(t).appendChild(O),O.innerHTML="",O.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",b.swap(n,null!=n.style.zoom?{zoom:1}:{},function(){I.boxSizing=4===O.offsetWidth}),e.getComputedStyle&&(I.pixelPosition="1%"!==(e.getComputedStyle(O,null)||{}).top,I.boxSizingReliable="4px"===(e.getComputedStyle(O,null)||{width:"4px"}).width,(i=O.appendChild(o.createElement("div"))).style.cssText=O.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",i.style.marginRight=i.style.width="0",O.style.width="1px",I.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),n.removeChild(t))}),I):I);var N,V,j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=b.expando+Math.random()}function U(e,i,n){var r;if(n===t&&1===e.nodeType)if(r="data-"+i.replace(B,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:j.test(n)?JSON.parse(n):n)}catch(e){}N.set(e,i,n)}else n=t;return n}F.uid=1,F.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=F.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,b.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=i;else if(b.isEmptyObject(s))b.extend(this.cache[r],t);else for(n in t)s[n]=t[n];return s},get:function(e,i){var n=this.cache[this.key(e)];return i===t?n:n[i]},access:function(e,i,n){var r;return i===t||i&&"string"==typeof i&&n===t?(r=this.get(e,i))!==t?r:this.get(e,b.camelCase(i)):(this.set(e,i,n),n!==t?n:i)},remove:function(e,i){var n,r,s,o=this.key(e),a=this.cache[o];if(i===t)this.cache[o]={};else{b.isArray(i)?r=i.concat(i.map(b.camelCase)):(s=b.camelCase(i),r=i in a?[i,s]:(r=s)in a?[r]:r.match(S)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!b.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},N=new F,V=new F,b.extend({acceptData:F.accepts,hasData:function(e){return N.hasData(e)||V.hasData(e)},data:function(e,t,i){return N.access(e,t,i)},removeData:function(e,t){N.remove(e,t)},_data:function(e,t,i){return V.access(e,t,i)},_removeData:function(e,t){V.remove(e,t)}}),b.fn.extend({data:function(e,i){var n,r,s=this[0],o=0,a=null;if(e===t){if(this.length&&(a=N.get(s),1===s.nodeType&&!V.get(s,"hasDataAttrs"))){for(n=s.attributes;o<n.length;o++)0===(r=n[o].name).indexOf("data-")&&(r=b.camelCase(r.slice(5)),U(s,r,a[r]));V.set(s,"hasDataAttrs",!0)}return a}return"object"===(void 0===e?"undefined":_typeof(e))?this.each(function(){N.set(this,e)}):b.access(this,function(i){var n,r=b.camelCase(e);if(s&&i===t)return(n=N.get(s,e))!==t?n:(n=N.get(s,r))!==t?n:(n=U(s,r,t))!==t?n:void 0;this.each(function(){var n=N.get(this,r);N.set(this,r,i),-1!==e.indexOf("-")&&n!==t&&N.set(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){N.remove(this,e)})}}),b.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=V.get(e,t),i&&(!n||b.isArray(i)?n=V.access(e,t,b.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=b.queue(e,t),n=i.length,r=i.shift(),s=b._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,function(){b.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return V.get(e,i)||V.access(e,i,{empty:b.Callbacks("once memory").add(function(){V.remove(e,[t+"queue",i])})})}}),b.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):i===t?this:this.each(function(){var t=b.queue(this,e,i);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx&&b.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,s=b.Deferred(),o=this,a=this.length,l=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)(n=V.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),s.promise(i)}});var H,q=/[\t\r\n\f]/g,G=/\r/g,W=/^(?:input|select|textarea|button)$/i;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})},addClass:function(e){var t,i,n,r,s,o=0,a=this.length,l="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];o<a;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(q," "):" ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i.className=b.trim(n)}return this},removeClass:function(e){var t,i,n,r,s,o=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];o<a;o++)if(n=1===(i=this[o]).nodeType&&(i.className?(" "+i.className+" ").replace(q," "):"")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=e?b.trim(n):""}return this},toggleClass:function(e,t){var i=void 0===e?"undefined":_typeof(e);return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):b.isFunction(e)?this.each(function(i){b(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,s=b(this),o=e.match(S)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else i!==r&&"boolean"!==i||(this.className&&V.set(this,"__className__",this.className),this.className=this.className||!1===e?"":V.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,s=this[0];return arguments.length?(r=b.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(null==(s=r?e.call(this,n,b(this).val()):e)?s="":"number"==typeof s?s+="":b.isArray(s)&&(s=b.map(s,function(e){return null==e?"":e+""})),(i=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))})):s?(i=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(s,"value"))!==t?n:"string"==typeof(n=s.value)?n.replace(G,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||r<0,o=s?null:[],a=s?r+1:n.length,l=r<0?a:s?r:0;l<a;l++)if(((i=n[l]).selected||l===r)&&(b.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!b.nodeName(i.parentNode,"optgroup"))){if(t=b(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=b.makeArray(t),o=r.length;o--;)((n=r[o]).selected=b.inArray(b(n).val(),s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}},attr:function(e,i,n){var s,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return _typeof(e.getAttribute)===r?b.prop(e,i,n):(1===a&&b.isXMLDoc(e)||(i=i.toLowerCase(),s=b.attrHooks[i]||(b.expr.match.bool.test(i)?H:void 0)),n===t?s&&"get"in s&&null!==(o=s.get(e,i))?o:null==(o=b.find.attr(e,i))?t:o:null!==n?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):void b.removeAttr(e,i))},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(S);if(s&&1===e.nodeType)for(;i=s[r++];)n=b.propFix[i]||i,b.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,i,n){var r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!b.isXMLDoc(e))&&(i=b.propFix[i]||i,s=b.propHooks[i]),n!==t?s&&"set"in s&&(r=s.set(e,n,i))!==t?r:e[i]=n:s&&"get"in s&&null!==(r=s.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||W.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),H={set:function(e,t,i){return!1===t?b.removeAttr(e,i):e.setAttribute(i,i),i}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,i){var n=b.expr.attrHandle[i]||b.find.attr;b.expr.attrHandle[i]=function(e,i,r){var s=b.expr.attrHandle[i],o=r?t:(b.expr.attrHandle[i]=t)!=n(e,i,r)?i.toLowerCase():null;return b.expr.attrHandle[i]=s,o}}),b.support.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(b.isArray(t))return e.checked=b.inArray(b(e).val(),t)>=0}},b.support.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var z=/^key/,Y=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function J(){try{return o.activeElement}catch(e){}}b.event={global:{},add:function(e,i,n,s,o){var a,l,u,c,h,p,d,f,m,g,v,y=V.get(e);if(y){for(n.handler&&(n=(a=n).handler,o=a.selector),n.guid||(n.guid=b.guid++),(c=y.events)||(c=y.events={}),(l=y.handle)||((l=y.handle=function(e){return(void 0===b?"undefined":_typeof(b))===r||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(l.elem,arguments)}).elem=e),h=(i=(i||"").match(S)||[""]).length;h--;)m=v=(u=Q.exec(i[h])||[])[1],g=(u[2]||"").split(".").sort(),m&&(d=b.event.special[m]||{},m=(o?d.delegateType:d.bindType)||m,d=b.event.special[m]||{},p=b.extend({type:m,origType:v,data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:g.join(".")},a),(f=c[m])||((f=c[m]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,s,g,l)||e.addEventListener&&e.addEventListener(m,l,!1)),d.add&&(d.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),b.event.global[m]=!0);e=null}},remove:function(e,t,i,n,r){var s,o,a,l,u,c,h,p,d,f,m,g=V.hasData(e)&&V.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(S)||[""]).length;u--;)if(d=m=(a=Q.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=b.event.special[d]||{},p=l[d=(n?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)c=p[s],!r&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(s,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));o&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||b.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)b.event.remove(e,d+t[u],i,n,!0);b.isEmptyObject(l)&&(delete g.handle,V.remove(e,"events"))}},trigger:function(i,n,r,s){var a,l,u,c,h,p,d,f=[r||o],m=v.call(i,"type")?i.type:i,g=v.call(i,"namespace")?i.namespace.split("."):[];if(l=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!X.test(m+b.event.triggered)&&(m.indexOf(".")>=0&&(m=(g=m.split(".")).shift(),g.sort()),h=m.indexOf(":")<0&&"on"+m,(i=i[b.expando]?i:new b.Event(m,"object"===(void 0===i?"undefined":_typeof(i))&&i)).isTrigger=s?2:3,i.namespace=g.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=r),n=null==n?[i]:b.makeArray(n,[i]),d=b.event.special[m]||{},s||!d.trigger||!1!==d.trigger.apply(r,n))){if(!s&&!d.noBubble&&!b.isWindow(r)){for(c=d.delegateType||m,X.test(c+m)||(l=l.parentNode);l;l=l.parentNode)f.push(l),u=l;u===(r.ownerDocument||o)&&f.push(u.defaultView||u.parentWindow||e)}for(a=0;(l=f[a++])&&!i.isPropagationStopped();)i.type=a>1?c:d.bindType||m,(p=(V.get(l,"events")||{})[i.type]&&V.get(l,"handle"))&&p.apply(l,n),(p=h&&l[h])&&b.acceptData(l)&&p.apply&&!1===p.apply(l,n)&&i.preventDefault();return i.type=m,s||i.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!b.acceptData(r)||h&&b.isFunction(r[m])&&!b.isWindow(r)&&((u=r[h])&&(r[h]=null),b.event.triggered=m,r[m](),b.event.triggered=t,u&&(r[h]=u)),i.result}},dispatch:function(e){e=b.event.fix(e);var i,n,r,s,o,a,l=f.call(arguments),u=(V.get(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=b.event.handlers.call(this,e,u),i=0;(s=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,(r=((b.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l))!==t&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,r,s,o,a=[],l=i.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<l;n++)r[s=(o=i[n]).selector+" "]===t&&(r[s]=o.needsContext?b(s,this).index(u)>=0:b.find(s,this,null,[u]).length),r[s]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,s,a=i.button;return null==e.pageX&&null!=i.clientX&&(r=(n=e.target.ownerDocument||o).documentElement,s=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[b.expando])return e;var t,i,n,r=e.type,s=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Y.test(r)?this.mouseHooks:z.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new b.Event(s),t=n.length;t--;)e[i=n[t]]=s[i];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&b.nodeName(this,"input"))return this.click(),!1},_default:function(e){return b.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=b.extend(new b.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?b.event.trigger(r,null,t):b.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},b.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?K:Z):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0==i++&&o.addEventListener(e,n,!0)},teardown:function(){0==--i&&o.removeEventListener(e,n,!0)}}}),b.fn.extend({on:function(e,i,n,r,s){var o,a;if("object"===(void 0===e?"undefined":_typeof(e))){for(a in"string"!=typeof i&&(n=n||i,i=t),e)this.on(a,i,n,e[a],s);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),!1===r)r=Z;else if(!r)return this;return 1===s&&(o=r,(r=function(e){return b().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=b.guid++)),this.each(function(){b.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,b(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":_typeof(e))){for(s in e)this.off(s,i,e[s]);return this}return!1!==i&&"function"!=typeof i||(n=i,i=t),!1===n&&(n=Z),this.each(function(){b.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return b.event.trigger(e,t,i,!0)}});var $=/^.[^:#\[\.,]*$/,ee=/^(?:parents|prev(?:Until|All))/,te=b.expr.match.needsContext,ie={children:!0,contents:!0,next:!0,prev:!0};function ne(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function re(e,t,i){if(b.isFunction(t))return b.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return b.grep(e,function(e){return e===t!==i});if("string"==typeof t){if($.test(t))return b.filter(t,e,i);t=b.filter(t,e)}return b.grep(e,function(e){return m.call(t,e)>=0!==i})}b.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<r;t++)if(b.contains(n[t],this))return!0}));for(t=0;t<r;t++)b.find(e,n[t],i);return(i=this.pushStack(r>1?b.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=b(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(b.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(re(this,e||[],!0))},filter:function(e){return this.pushStack(re(this,e||[],!1))},is:function(e){return!!re(this,"string"==typeof e&&te.test(e)?b(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=te.test(e)||"string"!=typeof e?b(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&b.find.matchesSelector(i,e))){i=s.push(i);break}return this.pushStack(s.length>1?b.unique(s):s)},index:function(e){return e?"string"==typeof e?m.call(b(e),this[0]):m.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),n=b.merge(this.get(),i);return this.pushStack(b.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,i){return b.dir(e,"parentNode",i)},next:function(e){return ne(e,"nextSibling")},prev:function(e){return ne(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,i){return b.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return b.dir(e,"previousSibling",i)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return e.contentDocument||b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(i,n){var r=b.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=b.filter(n,r)),this.length>1&&(ie[e]||b.unique(r),ee.test(e)&&r.reverse()),this.pushStack(r)}}),b.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?b.find.matchesSelector(n,e)?[n]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var r=[],s=n!==t;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&b(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,oe=/<([\w:]+)/,ae=/<|&#?\w+;/,le=/<(?:script|style|link)/i,ue=/^(?:checkbox|radio)$/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^$|\/(?:java|ecma)script/i,pe=/^true\/(.*)/,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){return b.nodeName(e,"table")&&b.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ge(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ve(e){var t=pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ye(e,t){for(var i=e.length,n=0;n<i;n++)V.set(e[n],"globalEval",!t||V.get(t[n],"globalEval"))}function be(e,t){var i,n,r,s,o,a,l,u;if(1===t.nodeType){if(V.hasData(e)&&(s=V.access(e),o=V.set(t,s),u=s.events))for(r in delete o.handle,o.events={},u)for(i=0,n=u[r].length;i<n;i++)b.event.add(t,r,u[r][i]);N.hasData(e)&&(a=N.access(e),l=b.extend({},a),N.set(t,l))}}function we(e,i){var n=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return i===t||i&&b.nodeName(e,i)?b.merge([e],n):n}function Se(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ue.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}fe.optgroup=fe.option,fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||me(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?b.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||b.cleanData(we(i)),i.parentNode&&(t&&b.contains(i.ownerDocument,i)&&ye(we(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!le.test(e)&&!fe[(oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(se,"<$1></$2>");try{for(;n<r;n++)1===(i=this[n]||{}).nodeType&&(b.cleanData(we(i,!1)),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=b.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],r=e[t++];r&&(n&&n.parentNode!==r&&(n=this.nextSibling),b(this).remove(),r.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=p.apply([],e);var n,r,s,o,a,l,u=0,c=this.length,h=this,d=c-1,f=e[0],m=b.isFunction(f);if(m||!(c<=1||"string"!=typeof f||b.support.checkClone)&&ce.test(f))return this.each(function(n){var r=h.eq(n);m&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t,i)});if(c&&(r=(n=b.buildFragment(e,this[0].ownerDocument,!1,!i&&this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(s=b.map(we(n,"script"),ge)).length;u<c;u++)a=n,u!==d&&(a=b.clone(a,!0,!0),o&&b.merge(s,we(a,"script"))),t.call(this[u],a,u);if(o)for(l=s[s.length-1].ownerDocument,b.map(s,ve),u=0;u<o;u++)a=s[u],he.test(a.type||"")&&!V.access(a,"globalEval")&&b.contains(l,a)&&(a.src?b._evalUrl(a.src):b.globalEval(a.textContent.replace(de,"")))}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var i,n=[],r=b(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),b(r[o])[t](i),d.apply(n,i.get());return this.pushStack(n)}}),b.extend({clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=b.contains(e.ownerDocument,e);if(!(b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(o=we(a),n=0,r=(s=we(e)).length;n<r;n++)Se(s[n],o[n]);if(t)if(i)for(s=s||we(e),o=o||we(a),n=0,r=s.length;n<r;n++)be(s[n],o[n]);else be(e,a);return(o=we(a,"script")).length>0&&ye(o,!l&&we(e,"script")),a},buildFragment:function(e,t,i,n){for(var r,s,o,a,l,u,c=0,h=e.length,p=t.createDocumentFragment(),d=[];c<h;c++)if((r=e[c])||0===r)if("object"===b.type(r))b.merge(d,r.nodeType?[r]:r);else if(ae.test(r)){for(s=s||p.appendChild(t.createElement("div")),o=(oe.exec(r)||["",""])[1].toLowerCase(),a=fe[o]||fe._default,s.innerHTML=a[1]+r.replace(se,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;b.merge(d,s.childNodes),(s=p.firstChild).textContent=""}else d.push(t.createTextNode(r));for(p.textContent="",c=0;r=d[c++];)if((!n||-1===b.inArray(r,n))&&(l=b.contains(r.ownerDocument,r),s=we(p.appendChild(r),"script"),l&&ye(s),i))for(u=0;r=s[u++];)he.test(r.type||"")&&i.push(r);return p},cleanData:function(e){for(var i,n,r,s,o,a,l=b.event.special,u=0;(n=e[u])!==t;u++){if(F.accepts(n)&&(o=n[V.expando])&&(i=V.cache[o])){if((r=Object.keys(i.events||{})).length)for(a=0;(s=r[a])!==t;a++)l[s]?b.event.remove(n,s):b.removeEvent(n,s,i.handle);V.cache[o]&&delete V.cache[o]}delete N.cache[n[N.expando]]}},_evalUrl:function(e){return b.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),b.fn.extend({wrapAll:function(e){var t;return b.isFunction(e)?this.each(function(t){b(this).wrapAll(e.call(this,t))}):(this[0]&&(t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(i){b(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()}});var xe,Te,Ee=/^(none|table(?!-c[ea]).+)/,Ae=/^margin/,Ce=new RegExp("^("+w+")(.*)$","i"),Pe=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),_e=new RegExp("^([+-])=("+w+")","i"),Ie={BODY:"block"},ke={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:0,fontWeight:400},Oe=["Top","Right","Bottom","Left"],Me=["Webkit","O","Moz","ms"];function Le(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=Me.length;r--;)if((t=Me[r]+i)in e)return t;return n}function De(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function Ne(t){return e.getComputedStyle(t,null)}function Ve(e,t){for(var i,n,r,s=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(s[o]=V.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&De(n)&&(s[o]=V.access(n,"olddisplay",Ue(n.nodeName)))):s[o]||(r=De(n),(i&&"none"!==i||!r)&&V.set(n,"olddisplay",r?i:b.css(n,"display"))));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function je(e,t,i){var n=Ce.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function Be(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=b.css(e,i+Oe[s],!0,r)),n?("content"===i&&(o-=b.css(e,"padding"+Oe[s],!0,r)),"margin"!==i&&(o-=b.css(e,"border"+Oe[s]+"Width",!0,r))):(o+=b.css(e,"padding"+Oe[s],!0,r),"padding"!==i&&(o+=b.css(e,"border"+Oe[s]+"Width",!0,r)));return o}function Fe(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Ne(e),o=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,s);if(r<=0||null==r){if(((r=xe(e,t,s))<0||null==r)&&(r=e.style[t]),Pe.test(r))return r;n=o&&(b.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+Be(e,t,i||(o?"border":"content"),n,s)+"px"}function Ue(e){var t=o,i=Ie[e];return i||("none"!==(i=He(e,t))&&i||((t=((Te=(Te||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Te[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),i=He(e,t),Te.detach()),Ie[e]=i),i}function He(e,t){var i=b(t.createElement(e)).appendTo(t.body),n=b.css(i[0],"display");return i.remove(),n}b.fn.extend({css:function(e,i){return b.access(this,function(e,i,n){var r,s,o={},a=0;if(b.isArray(i)){for(r=Ne(e),s=i.length;a<s;a++)o[i[a]]=b.css(e,i[a],!1,r);return o}return n!==t?b.style(e,i,n):b.css(e,i)},e,i,arguments.length>1)},show:function(){return Ve(this,!0)},hide:function(){return Ve(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){De(this)?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=xe(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,l=b.camelCase(i),u=e.style;if(i=b.cssProps[l]||(b.cssProps[l]=Le(u,l)),a=b.cssHooks[i]||b.cssHooks[l],n===t)return a&&"get"in a&&(s=a.get(e,!1,r))!==t?s:u[i];"string"===(o=void 0===n?"undefined":_typeof(n))&&(s=_e.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(b.css(e,i)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||b.cssNumber[l]||(n+="px"),b.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,r))===t||(u[i]=n))}},css:function(e,i,n,r){var s,o,a,l=b.camelCase(i);return i=b.cssProps[l]||(b.cssProps[l]=Le(e.style,l)),(a=b.cssHooks[i]||b.cssHooks[l])&&"get"in a&&(s=a.get(e,!0,n)),s===t&&(s=xe(e,i,r)),"normal"===s&&i in Re&&(s=Re[i]),""===n||n?(o=parseFloat(s),!0===n||b.isNumeric(o)?o||0:s):s}}),xe=function(e,i,n){var r,s,o,a=n||Ne(e),l=a?a.getPropertyValue(i)||a[i]:t,u=e.style;return a&&(""!==l||b.contains(e.ownerDocument,e)||(l=b.style(e,i)),Pe.test(l)&&Ae.test(i)&&(r=u.width,s=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=r,u.minWidth=s,u.maxWidth=o)),l},b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&Ee.test(b.css(e,"display"))?b.swap(e,ke,function(){return Fe(e,t,n)}):Fe(e,t,n)},set:function(e,i,n){var r=n&&Ne(e);return je(0,i,n?Be(e,t,n,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,r),r):0)}}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,t){if(t)return b.swap(e,{display:"inline-block"},xe,[e,"marginRight"])}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,t){b.cssHooks[t]={get:function(e,i){if(i)return i=xe(e,t),Pe.test(i)?b(e).position()[t]+"px":i}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Oe[n]+t]=s[n]||s[n-2]||s[0];return r}},Ae.test(e)||(b.cssHooks[e+t].set=je)});var qe=/%20/g,Ge=/\[\]$/,We=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Ye=/^(?:input|select|textarea|keygen)/i;function Xe(e,t,i,n){var r;if(b.isArray(t))b.each(t,function(t,r){i||Ge.test(e)?n(e,r):Xe(e+"["+("object"===(void 0===r?"undefined":_typeof(r))?t:"")+"]",r,i,n)});else if(i||"object"!==b.type(t))n(e,t);else for(r in t)Xe(e+"["+r+"]",t[r],i,n)}b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Ye.test(this.nodeName)&&!ze.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var i=b(this).val();return null==i?null:b.isArray(i)?b.map(i,function(e){return{name:t.name,value:e.replace(We,"\r\n")}}):{name:t.name,value:i.replace(We,"\r\n")}}).get()}}),b.param=function(e,i){var n,r=[],s=function(e,t){t=b.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){s(this.name,this.value)});else for(n in e)Xe(n,e[n],i,s);return r.join("&").replace(qe,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Qe,Ke,Ze=b.now(),Je=/\?/,$e=/#.*$/,et=/([?&])_=[^&]*/,tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,it=/^(?:GET|HEAD)$/,nt=/^\/\//,rt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,st=b.fn.load,ot={},at={},lt="*/".concat("*");try{Ke=s.href}catch(e){(Ke=o.createElement("a")).href="",Ke=Ke.href}function ut(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(S)||[];if(b.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function ct(e,t,i,n){var r={},s=e===at;function o(a){var l;return r[a]=!0,b.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function ht(e,i){var n,r,s=b.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((s[n]?e:r||(r={}))[n]=i[n]);return r&&b.extend(!0,e,r),e}Qe=rt.exec(Ke.toLowerCase())||[],b.fn.load=function(e,i,n){if("string"!=typeof e&&st)return st.apply(this,arguments);var r,s,o,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),b.isFunction(i)?(n=i,i=t):i&&"object"===(void 0===i?"undefined":_typeof(i))&&(s="POST"),a.length>0&&b.ajax({url:e,type:s,dataType:"html",data:i}).done(function(e){o=arguments,a.html(r?b("<div>").append(b.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ke,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Qe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ht(ht(e,b.ajaxSettings),t):ht(b.ajaxSettings,e)},ajaxPrefilter:ut(ot),ajaxTransport:ut(at),ajax:function(e,i){"object"===(void 0===e?"undefined":_typeof(e))&&(i=e,e=t),i=i||{};var n,r,s,o,a,l,u,c,h=b.ajaxSetup({},i),p=h.context||h,d=h.context&&(p.nodeType||p.jquery)?b(p):b.event,f=b.Deferred(),m=b.Callbacks("once memory"),g=h.statusCode||{},v={},y={},w=0,x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!o)for(o={};t=tt.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||x;return n&&n.abort(t),E(0,t),this}};if(f.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,h.url=((e||h.url||Ke)+"").replace($e,"").replace(nt,Qe[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=b.trim(h.dataType||"*").toLowerCase().match(S)||[""],null==h.crossDomain&&(l=rt.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===Qe[1]&&l[2]===Qe[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Qe[3]||("http:"===Qe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=b.param(h.data,h.traditional)),ct(ot,h,i,T),2===w)return T;for(c in(u=h.global)&&0==b.active++&&b.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!it.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Je.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=et.test(r)?r.replace(et,"$1_="+Ze++):r+(Je.test(r)?"&":"?")+"_="+Ze++)),h.ifModified&&(b.lastModified[r]&&T.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&T.setRequestHeader("If-None-Match",b.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||i.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+lt+"; q=0.01":""):h.accepts["*"]),h.headers)T.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(!1===h.beforeSend.call(p,T,h)||2===w))return T.abort();for(c in x="abort",{success:1,error:1,complete:1})T[c](h[c]);if(n=ct(at,h,i,T)){T.readyState=1,u&&d.trigger("ajaxSend",[T,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){T.abort("timeout")},h.timeout));try{w=1,n.send(v,E)}catch(e){if(!(w<2))throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,i,o,l){var c,v,y,S,x,E=i;2!==w&&(w=2,a&&clearTimeout(a),n=t,s=l||"",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,o&&(S=function(e,i,n){var r,s,o,a,l=e.contents,u=e.dataTypes;for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}a||(a=s)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,T,o)),S=function(e,t,i,n){var r,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];s=c.shift();for(;s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=u[l+" "+s]||u["* "+s]))for(r in u)if((a=r.split(" "))[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[r]:!0!==u[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(h,S,T,c),c?(h.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=x),(x=T.getResponseHeader("etag"))&&(b.etag[r]=x)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=S.state,v=S.data,c=!(y=S.error))):(y=E,!e&&E||(E="error",e<0&&(e=0))),T.status=e,T.statusText=(i||E)+"",c?f.resolveWith(p,[v,E,T]):f.rejectWith(p,[T,E,y]),T.statusCode(g),g=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[T,h,c?v:y]),m.fireWith(p,[T,E]),u&&(d.trigger("ajaxComplete",[T,h]),--b.active||b.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,i){return b.get(e,t,i,"json")},getScript:function(e,i){return b.get(e,t,i,"script")}}),b.each(["get","post"],function(e,i){b[i]=function(e,n,r,s){return b.isFunction(n)&&(s=s||r,r=n,n=t),b.ajax({url:e,type:i,dataType:s,data:n,success:r})}}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=b("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){i&&i()}}});var pt=[],dt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pt.pop()||b.expando+"_"+Ze++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(i,n,r){var s,o,a,l=!1!==i.jsonp&&(dt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&dt.test(i.data)&&"data");if(l||"jsonp"===i.dataTypes[0])return s=i.jsonpCallback=b.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(dt,"$1"+s):!1!==i.jsonp&&(i.url+=(Je.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||b.error(s+" was not called"),a[0]},i.dataTypes[0]="json",o=e[s],e[s]=function(){a=arguments},r.always(function(){e[s]=o,i[s]&&(i.jsonpCallback=n.jsonpCallback,pt.push(s)),a&&b.isFunction(o)&&o(a[0]),a=o=t}),"script"}),b.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var ft=b.ajaxSettings.xhr(),mt={0:200,1223:204},gt=0,vt={};e.ActiveXObject&&b(e).on("unload",function(){for(var e in vt)vt[e]();vt=t}),b.support.cors=!!ft&&"withCredentials"in ft,b.support.ajax=ft=!!ft,b.ajaxTransport(function(e){var i;if(b.support.cors||ft&&!e.crossDomain)return{send:function(n,r){var s,o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);i=function(e){return function(){i&&(delete vt[o],i=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status||404,a.statusText):r(mt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=vt[o=gt++]=i("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){i&&i()}}});var yt,bt,wt=/^(?:toggle|show|hide)$/,St=new RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),xt=/queueHooks$/,Tt=[function(e,i,n){var r,s,o,a,l,u,c=this,h={},p=e.style,d=e.nodeType&&De(e),f=V.get(e,"fxshow");n.queue||(null==(l=b._queueHooks(e,"fx")).unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,b.queue(e,"fx").length||l.empty.fire()})}));1===e.nodeType&&("height"in i||"width"in i)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(p.display="inline-block"));n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in i)if(s=i[r],wt.exec(s)){if(delete i[r],o=o||"toggle"===s,s===(d?"hide":"show")){if("show"!==s||!f||f[r]===t)continue;d=!0}h[r]=f&&f[r]||b.style(e,r)}if(!b.isEmptyObject(h))for(r in f?"hidden"in f&&(d=f.hidden):f=V.access(e,"fxshow",{}),o&&(f.hidden=!d),d?b(e).show():c.done(function(){b(e).hide()}),c.done(function(){var t;for(t in V.remove(e,"fxshow"),h)b.style(e,t,h[t])}),h)a=Ct(d?f[r]:0,r,c),r in f||(f[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],Et={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=St.exec(t),s=r&&r[3]||(b.cssNumber[e]?"":"px"),o=(b.cssNumber[e]||"px"!==s&&+n)&&St.exec(b.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+n||1;do{o/=a=a||".5",b.style(i.elem,e,o+s)}while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=s,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};function At(){return setTimeout(function(){yt=t}),yt=b.now()}function Ct(e,t,i){for(var n,r=(Et[t]||[]).concat(Et["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function Pt(e,t,i){var n,r,s=0,o=Tt.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=yt||At(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),s=0,o=u.tweens.length;s<o;s++)u.tweens[s].run(n);return a.notifyWith(e,[u,n,i]),n<1&&o?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:yt||At(),duration:i.duration,tweens:[],createTween:function(t,i){var n=b.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var i,n,r,s,o;for(i in e)if(n=b.camelCase(i),r=t[n],s=e[i],b.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=b.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(c,u.opts.specialEasing);s<o;s++)if(n=Tt[s].call(u,e,c,u.opts))return n;return b.map(c,Ct,u),b.isFunction(u.opts.start)&&u.opts.start.call(e,u),b.fx.timer(b.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function _t(e,t,i,n,r){return new _t.prototype.init(e,t,i,n,r)}function It(e,t){var i,n={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=Oe[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function kt(e){return b.isWindow(e)?e:9===e.nodeType&&e.defaultView}b.Animation=b.extend(Pt,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;n<r;n++)i=e[n],Et[i]=Et[i]||[],Et[i].unshift(t)},prefilter:function(e,t){t?Tt.unshift(e):Tt.push(e)}}),b.Tween=_t,_t.prototype={constructor:_t,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(b.cssNumber[i]?"":"px")},cur:function(){var e=_t.propHooks[this.prop];return e&&e.get?e.get(this):_t.propHooks._default.get(this)},run:function(e){var t,i=_t.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):_t.propHooks._default.set(this),this}},_t.prototype.init.prototype=_t.prototype,_t.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_t.propHooks.scrollTop=_t.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var i=b.fn[t];b.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(It(t,!0),e,n,r)}}),b.fn.extend({fadeTo:function(e,t,i,n){return this.filter(De).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=b.isEmptyObject(e),s=b.speed(t,i,n),o=function(){var t=Pt(this,b.extend({},e),s);(r||V.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=b.timers,o=V.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&xt.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=V.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=b.timers,o=n?n.length:0;for(i.finish=!0,b.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),b.each({slideDown:It("show"),slideUp:It("hide"),slideToggle:It("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),b.speed=function(e,t,i){var n=e&&"object"===(void 0===e?"undefined":_typeof(e))?b.extend({},e):{complete:i||!i&&t||b.isFunction(e)&&e,duration:e,easing:i&&t||t&&!b.isFunction(t)&&t};return n.duration=b.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in b.fx.speeds?b.fx.speeds[n.duration]:b.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){b.isFunction(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=_t.prototype.init,b.fx.tick=function(){var e,i=b.timers,n=0;for(yt=b.now();n<i.length;n++)(e=i[n])()||i[n]!==e||i.splice(n--,1);i.length||b.fx.stop(),yt=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){bt||(bt=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(bt),bt=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var i,n,s=this[0],o={top:0,left:0},a=s&&s.ownerDocument;return a?(i=a.documentElement,b.contains(i,s)?(_typeof(s.getBoundingClientRect)!==r&&(o=s.getBoundingClientRect()),n=kt(a),{top:o.top+n.pageYOffset-i.clientTop,left:o.left+n.pageXOffset-i.clientLeft}):o):void 0},b.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,u=b.css(e,"position"),c=b(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),s=b.css(e,"top"),l=b.css(e,"left"),("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1?(o=(n=c.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),b.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):c.css(h)}},b.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===b.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(i,"marginTop",!0),left:t.left-n.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||a;e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position");)e=e.offsetParent;return e||a})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var r="pageYOffset"===n;b.fn[i]=function(s){return b.access(this,function(i,s,o){var a=kt(i);if(o===t)return a?a[n]:i[s];a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):i[s]=o},i,s,arguments.length,null)}}),b.each({Height:"height",Width:"width"},function(e,i){b.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){b.fn[r]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return b.access(this,function(i,n,r){var s;return b.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):r===t?b.css(i,n,a):b.style(i,n,r,a)},i,o?r:t,o,null)}})}),b.fn.size=function(){return this.length},b.fn.andSelf=b.fn.addBack,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"===_typeof(module.exports)?module.exports=b:"function"==typeof define&&define.amd&&define("jquery",[],function(){return b}),"object"===(void 0===e?"undefined":_typeof(e))&&"object"===_typeof(e.document)&&(e.jQuery=e.$=b)}(window),function(){"use strict";require.config({map:{"*":{underscore:"lodash"}}})}(),define("helpers/lodashMap",function(){}),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(i,n,r){e.Backbone=t(e,r,i,n)});else if("undefined"!=typeof exports){var i=require("underscore");t(e,exports,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,n){var r=e.Backbone,s=[],o=s.slice;t.VERSION="1.1.2",t.$=n,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,i){return u(this,"on",e,[t,i])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:i,ctx:i||this}),this):this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var r=this,s=i.once(function(){r.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,n)},off:function(e,t,n){var r,s,o,a,l,c,h,p;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(l=0,c=(a=e?[e]:i.keys(this._events)).length;l<c;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=r=[],t||n)for(h=0,p=o.length;h<p;h++)s=o[h],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&r.push(s);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!u(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&c(i,t),n&&c(n,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var s=!t&&!n;for(var o in n||"object"!==(void 0===t?"undefined":_typeof(t))||(n=this),e&&((r={})[e._listenId]=e),r)(e=r[o]).off(t,n,this),(s||i.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,u=function(e,t,i,n){if(!i)return!0;if("object"===(void 0===i?"undefined":_typeof(i))){for(var r in i)e[t].apply(e,[r,i[r]].concat(n));return!1}if(l.test(i)){for(var s=i.split(l),o=0,a=s.length;o<a;o++)e[t].apply(e,[s[o]].concat(n));return!1}return!0},c=function(e,t){var i,n=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++n<r;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=e[n]).callback.apply(i.ctx,t);return}};i.each({listenTo:"on",listenToOnce:"once"},function(e,t){a[t]=function(t,n,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=i.uniqueId("l"))]=t,r||"object"!==(void 0===n?"undefined":_typeof(n))||(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,i.extend(t,a);var h=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,s,o,a,l,u,c,h;if(null==e)return this;if("object"===(void 0===e?"undefined":_typeof(e))?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;for(r in o=n.unset,l=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]),s)t=s[r],i.isEqual(h[r],t)||a.push(r),i.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete h[r]:h[r]=t;if(!l){a.length&&(this._pending=n);for(var p=0,d=a.length;p<d;p++)this.trigger("change:"+a[p],this,h[a[p]],n)}if(u)return this;if(!l)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&i.clone(this.changed);var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in e)i.isEqual(r[s],t=e[s])||((n||(n={}))[s]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?i.clone(e):{}).parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){if(!t.set(t.parse(i,e),e))return!1;n&&n(t,i,e),t.trigger("sync",t,i,e)},O(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,s,o,a=this.attributes;if(null==e||"object"===(void 0===e?"undefined":_typeof(e))?(r=e,n=t):(r={})[e]=t,n=i.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=i.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);if(n.wait&&(t=i.extend(r||{},t)),i.isObject(t)&&!l.set(t,n))return!1;u&&u(l,e,n),l.trigger("sync",l,e,n)},O(this,n),"patch"===(s=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?i.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;O(this,e);var s=this.sync("delete",this,e);return e.wait||r(),s},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||R();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1)}});i.each(["keys","values","pairs","invert","pick","omit"],function(e){h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),i[e].apply(i,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},d={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};i.extend(p.prototype,a,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,f))},remove:function(e,t){var n,r,s,o,a=!i.isArray(e);for(t||(t={}),n=0,r=(e=a?[e]:i.clone(e)).length;n<r;n++)(o=e[n]=this.get(e[n]))&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o,t));return a?e[0]:e},set:function(e,t){(t=i.defaults({},t,d)).parse&&(e=this.parse(e,t));var n,r,s,o,a,l,u,c=!i.isArray(e);e=c?e?[e]:[]:i.clone(e);var p=t.at,f=this.model,m=this.comparator&&null==p&&!1!==t.sort,g=i.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,S=t.merge,x=t.remove,T=!(m||!w||!x)&&[];for(n=0,r=e.length;n<r;n++){if(s=(a=e[n]||{})instanceof h?o=a:a[f.prototype.idAttribute||"id"],l=this.get(s))x&&(b[l.cid]=!0),S&&(a=a===o?o.attributes:a,t.parse&&(a=l.parse(a,t)),l.set(a,t),m&&!u&&l.hasChanged(g)&&(u=!0)),e[n]=l;else if(w){if(!(o=e[n]=this._prepareModel(a,t)))continue;v.push(o),this._addReference(o,t)}o=l||o,!T||!o.isNew()&&b[o.id]||T.push(o),b[o.id]=!0}if(x){for(n=0,r=this.length;n<r;++n)b[(o=this.models[n]).cid]||y.push(o);y.length&&this.remove(y,t)}if(v.length||T&&T.length)if(m&&(u=!0),this.length+=v.length,null!=p)for(n=0,r=v.length;n<r;n++)this.models.splice(p+n,0,v[n]);else{T&&(this.models.length=0);var E=T||v;for(n=0,r=E.length;n<r;n++)this.models.push(E[n])}if(u&&this.sort({silent:!0}),!t.silent){for(n=0,r=v.length;n<r;n++)(o=v[n]).trigger("add",o,this,t);(u||T&&T.length)&&this.trigger("sort",this,t)}return c?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return i.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){void 0===(e=e?i.clone(e):{}).parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},O(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?i.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;(t=t?i.clone(t):{}).collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});i.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),i[e].apply(i,t)}});i.each(["groupBy","countBy","sortBy","indexBy"],function(e){p.prototype[e]=function(t,n){var r=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,r,n)}});var m=t.View=function(e){this.cid=i.uniqueId("view"),e||(e={}),i.extend(this,i.pick(e,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];i.extend(m.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=i.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(i.isFunction(n)||(n=this[e[t]]),n){var r=t.match(g),s=r[1],o=r[2];n=i.bind(n,this),s+=".delegateEvents"+this.cid,""===o?this.$el.on(s,n):this.$el.on(s,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e.class=i.result(this,"className"));var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var s=b[e];i.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||R()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&y&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(i.extend(o,r));return n.trigger("request",n,l,r),l};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),b={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,T=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(w.prototype,a,{initialize:function(){},route:function(e,n,r){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var s=this;return t.history.route(e,function(i){var o=s._extractParameters(e,i);s.execute(r,o),s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),t.history.trigger("route",s,n,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(S,"(?:$1)?").replace(x,function(e,t){return t?e:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,_=/msie [\w.]+/,I=/\/$/,k=/#.*$/;A.started=!1,i.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(I,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(C,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,s=_.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);if(this.root=("/"+this.root+"/").replace(P,"/"),s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),i.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(k,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new A;h.extend=p.extend=w.extend=m.extend=A.extend=function(e,t){var n,r=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,t);var s=function(){this.constructor=n};return s.prototype=r.prototype,n.prototype=new s,e&&i.extend(n.prototype,e),n.__super__=r.prototype,n};var R=function(){throw new Error('A "url" property or function must be specified')},O=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}};return t}),define("helpers/backboneSync",["require","jquery","lodash","backbone"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("backbone"),r="Could not fetch model",s={},o={origSync:n.sync,scriptSync:function(e,n,o){var a,l,u,c,h,p,d,f,m=o.url||i.result(n,"url"),g=new t.Deferred,v=g.promise();return m?(a=n.id||(l=m,i.first(i.last(l.split("/")).split("."))),(u=m,c=new t.Deferred,h=c.promise(),p=document.createElement("script"),d=c.resolve.bind(c),f=c.reject.bind(c),p.addEventListener("load",d),p.addEventListener("error",f),p.src=u,h.always(function(){p.removeEventListener("load",d),p.removeEventListener("error",f),document.head.removeChild(p),p.src="",p=null}),document.head.appendChild(p),h).done(function(){var e=s[a];s[a]=null,o.success(e),g.resolve(e)}).fail(function(){o.error(r),g.reject(r)}),v):(g.reject("Must provide a url to fetch model"),v)},sync:function(e,t,i){return o["read"===e?"scriptSync":"origSync"].apply(this,arguments)}};return n.sync=o.sync,window.globalProvideData=function(e,t){var i=JSON.parse(t),n="slide"===e?i.id:e;s[n]=i},o}),define("helpers/pubSub",["require","backbone","lodash"],function(e){"use strict";var t=e("backbone");return e("lodash").extend({},t.Events)}),define("helpers/events",["require"],function(e){"use strict";var t={actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",RENDER:"captions:render",ENABLED:"captions:enabled",ENABLE:"captions:enable",ADD:"captions:add",REMOVE:"captions:remove"},controlLayout:{CHANGED:"controllayout:changed"},controlOptions:{CHANGED:"controlOptions:changed"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted"},customlink:{EVENT:"customlink:event"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{REVIEW_RETRY:"draw:reviewRetry",RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",RESOLVED_OBJECT_VISIBILITY:"layer:resolvedObjectVisibility",PLAYING:"layer:playing"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},main:{PREPARE_AUDIO:"main:prepareAudio"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen"},navcontrols:{CHANGED:"navcontrols:changed"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{COMPLETED:"quiz:completed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:resetData"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur",SHOW:"search:show"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing",FORCE_OPEN:"sidebar:forceOpen"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete"},slideWindow:{CLEAR_HISTORY:"slideWindow:clearHistory"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus"},status:{UPDATED:"status:updated"},strings:{UPDATE_STRINGS:"strings:updateStrings"},swipe:{CHANGED:"swipe:changed"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOWN:"timer:shown",HIDDEN:"timer:hidden"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar",OPENED_SIDEBAR:"topbar:openedSidebar"},topTabs:{OPEN_DROPDOWN:"topTabs:openDropDown",OPEN_PANEL:"topTabs:openPanel"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},touchHelper:{TOUCH_START:"touchHelper:touchStart"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged"},volume:{CHANGED:"volume:changed",TOGGLE:"volume:toggle",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale"},windowManager:{CREATED:"windowManager:created"}};return Object.freeze(t),Object.freeze(t.actionlink),Object.freeze(t.animation),Object.freeze(t.app),Object.freeze(t.audioClip),Object.freeze(t.captions),Object.freeze(t.controlLayout),Object.freeze(t.course),Object.freeze(t.customlink),Object.freeze(t.data),Object.freeze(t.detection),Object.freeze(t.draw),Object.freeze(t.error),Object.freeze(t.interaction),Object.freeze(t.keyManager),Object.freeze(t.layer),Object.freeze(t.layout),Object.freeze(t.loader),Object.freeze(t.media),Object.freeze(t.menuLinksListItem),Object.freeze(t.mobile),Object.freeze(t.navcontrols),Object.freeze(t.player),Object.freeze(t.popup),Object.freeze(t.presentation),Object.freeze(t.preview),Object.freeze(t.quiz),Object.freeze(t.request),Object.freeze(t.resources),Object.freeze(t.resume),Object.freeze(t.scheme),Object.freeze(t.search),Object.freeze(t.sidebar),Object.freeze(t.slide),Object.freeze(t.slideContainer),Object.freeze(t.status),Object.freeze(t.swipe),Object.freeze(t.timeline),Object.freeze(t.timer),Object.freeze(t.topbar),Object.freeze(t.topTabsItem),Object.freeze(t.tween),Object.freeze(t.variable),Object.freeze(t.volume),Object.freeze(t.window),Object.freeze(t.windowManager),t}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(e){return}var i,n=e.href||e.getAttribute("data-href"),r=n.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(r)||[""])[0],o=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],a=/^([^?]*)\??/.exec(n)[1],l=e.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&i()},i=function(){if((i=u.responseText)&&e.parentNode&&(!u.status||400>u.status||600<u.status)){if(i=t.fix(i,!0,e),r){var i=i.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+s+i+'")':/^\//.test(i)?'url("'+o+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+r+i+'")'}),n=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");i=i.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1")}(n=document.createElement("style")).textContent=i,n.media=e.media,n.disabled=e.disabled,n.setAttribute("data-href",e.getAttribute("href")),l.insertBefore(n,e),l.removeChild(e),n.media=e.media}};try{u.open("GET",n),u.send(null)}catch(e){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=i,u.open("GET",n),u.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var i=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=i}},styleAttribute:function(e){var i=e.getAttribute("style");i=t.fix(i,!1,e);e.setAttribute("style",i)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,i){(t.fixers=t.fixers||[]).splice(void 0===i?t.fixers.length:i,0,e)},fix:function(e,i,n){for(var r=0;r<t.fixers.length;r++)e=t.fixers[r](e,i,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(e){function t(e,t,n,r,s){return(e=i[e]).length&&(e=RegExp(t+"("+e.join("|")+")"+n,"gi"),s=s.replace(e,r)),s}if(window.StyleFix&&window.getComputedStyle){var i=window.PrefixFree={prefixCSS:function(e,n,r){var s=i.prefix;if(-1<i.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+s+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+s+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+s+"$2:",e),i.properties.length){var o=RegExp("\\b("+i.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,s+"$1")},e)}return n&&(e=t("selectors","","\\b",i.prefixSelector,e),e=t("atrules","@","\\b","@"+s+"$1",e)),(e=e.replace(RegExp("-"+s,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,i.prefix)},property:function(e){return(0<=i.properties.indexOf(e)?i.prefix:"")+e},value:function(e,n){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+i.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+i.prefix+"$2$3",e),0<=i.valueProperties.indexOf(n)&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+i.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+i.prefix})},prefixProperty:function(e,t){var n=i.prefix+e;return t?StyleFix.camelCase(n):n}};!function(){var e={},t=[],n=getComputedStyle(document.documentElement,null),r=document.createElement("div").style,s=function(i){if("-"===i.charAt(0)){t.push(i);var n=(i=i.split("-"))[1];for(e[n]=++e[n]||1;3<i.length;)i.pop(),n=i.join("-"),StyleFix.camelCase(n)in r&&-1===t.indexOf(n)&&t.push(n)}};if(0<n.length)for(var o=0;o<n.length;o++)s(n[o]);else for(var a in n)s(StyleFix.deCamelCase(a));var l,u;o=0;for(u in e)o<(n=e[u])&&(l=u,o=n);for(i.prefix="-"+l+"-",i.Prefix=StyleFix.camelCase(i.prefix),i.properties=[],o=0;o<t.length;o++)0===(a=t[o]).indexOf(i.prefix)&&(l=a.slice(i.prefix.length),StyleFix.camelCase(l)in r||i.properties.push(l));!("Ms"!=i.Prefix||"transform"in r||"MsTransform"in r)&&"msTransform"in r&&i.properties.push("transform","transform-origin"),i.properties.sort()}(),function(){function e(e,t){return s[t]="",s[t]=e,!!s[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};i.functions=[],i.keywords=[];var r,s=document.createElement("div").style;for(r in t){var o,a=(o=t[r]).property;!e(o=r+"("+o.params+")",a)&&e(i.prefix+o,a)&&i.functions.push(r)}for(var l in n)!e(l,a=n[l])&&e(i.prefix+l,a)&&i.keywords.push(l)}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var n={":read-only":null,":read-write":null,":any-link":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};i.selectors=[],i.atrules=[];var s,o=e.appendChild(document.createElement("style"));for(s in n){var a=s+(n[s]?"("+n[s]+")":"");!t(a)&&t(i.prefixSelector(a))&&i.selectors.push(s)}for(var l in r)!t("@"+(a=l+" "+(r[l]||"")))&&t("@"+i.prefix+a)&&i.atrules.push(l);e.removeChild(o)}(),i.valueProperties=["transition","transition-property"],e.className+=" "+i.prefix,StyleFix.register(i.prefixCSS)}}(document.documentElement),define("prefix-free",function(e){return function(){return e.PrefixFree}}(this)),define("helpers/cssPrefix",["require","prefix-free"],function(e){"use strict";var t=e("prefix-free"),i={};return{camelCase:function(e){var n,r=i[e]||(n=e,t.prefixCSS(n+":").replace(":","").replace(/-(.)/g,function(e,t){return t.toUpperCase()}));return i[e]=r,r},kebabCase:function(e){return t.prefix+e}}}),define("polyfills/audioContext",[],function(){"use strict";return window.AudioContext||window.webkitAudioContext}),define("polyfills/detection",["require","lodash","helpers/events","helpers/pubSub","helpers/cssPrefix","polyfills/audioContext"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/events"),s=e("helpers/pubSub"),o=(e("helpers/cssPrefix"),e("polyfills/audioContext")),a=window.navigator.userAgent.toLowerCase(),l=(t=document.createElement("canvas"),i=t.getContext("webgl")||t.getContext("experimental-webgl"),t=null,null!=i),u=window.globals&&window.globals.parsedParams||{},c=function(e){return"1"===u[e]},h=window.isMobile.any,p=window.isMobile.android.device,d=c("forcemobile"),f=c("devicepreview"),m=c("enableFs"),g=c("phone"),v=c("noframe"),y={isMobilePreview:d,isMobileAndNotPreview:h&&!d,isMobile:d||h,isAndroid:p,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),hideFrame:v,isWebKit:function(){return a.indexOf("webkit")>-1},isFF:function(){return a.indexOf("firefox")>-1},isIE:function(){return"ActiveXObject"in window||null!=window.MSBlobBuilder},isIOS:function(){return/(ipad|iphone)/i.test(a)},isWebView:function(){return y.isIOS()&&a.indexOf("version")<0},isUIWebView:function(){return y.isWebView()&&!window.indexedDB},iOSVersion:n.memoize(function(){if(this.isIOS()){var e=/os ([0-9]+)_/.exec(a);return e&&parseInt(e[1])}}),isIosPhoneBefore10:function(){return this.isPhone&&this.isIOS()&&this.iOSVersion()<10},isIE11:function(){return this.isIE()&&null!=window.msCrypto&&!window.ActiveXObject},isIE10:function(){return e=10,new RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent);var e},isEdge:function(){return this.isIE()&&null==window.msCrypto&&l},isFileProtocol:function(){return"file:"===document.location.protocol},hasAudioApi:function(){return o&&(!y.isFileProtocol()||y.isMobileAndNotPreview)},isTablet:window.isMobile.tablet,isTouchableTheme:"classic"!==window.globals.themeName&&window.isMobile.any,isClassic:"classic"===window.globals.themeName,isPhone:window.isMobile.phone,isMemoryDeficientDevice:window.isMobile.apple.tablet&&(768===screen.height||768===screen.width),is360:null!=window.vInterfaceObject&&window.autoSpider,forceHideOrientationWarning:!1,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:window.top!==window.self};y.isDevicePreview=y.is360&&d&&f,y.isPhonePreview=y.isDevicePreview&&g,y.enableFs=m&&y.isDevicePreview&&!g,y.isTouchableTheme&&(y.isMobile=!1),y.isDesktop=!y.isTablet&&!y.isPhone,y.isMobileOrTouchableTheme=y.isMobile||y.isTouchableTheme,y.isTouchableThemeAndPhone=y.isTouchableTheme&&y.isPhone,y.data360={toggleFullScreen:y.is360&&(y.isTablet||y.isDevicePreview&&y.enableFs)},y.heightScalar=1,y.prevOrientation=null;var b=y.isAndroid?function(){var e;y.forceHideOrientationWarning=!1,e=window.screen.height>window.screen.width?"portrait":"landscape",y.orientation!==e&&(y.forceHideOrientationWarning=!0)}:n.identity,w=y.isTouchableTheme&&y.isInIframe&&!y.isMobilePreview;w&&(document.body.style.position="fixed");var S=function(){document.querySelector(".option-pane"),document.getElementById("presentation");window.innerHeight>window.innerWidth?y.orientation="portrait":y.orientation="landscape",y.innerHeight=window.innerHeight,y.innerWidth=window.innerWidth,b(),w&&(document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"),(y.orientation!==y.prevOrientation||y.forceHideOrientationWarning)&&(y.isTouchableTheme&&("portrait"===y.orientation?(document.body.classList.remove("is-landscape"),document.body.classList.add("is-portrait")):(document.body.classList.add("is-landscape"),document.body.classList.remove("is-portrait"))),s.trigger(r.detection.ORIENTATION_CHANGE,{orientation:y.orientation}),y.prevOrientation=y.orientation)};return y.isInIframe&&!y.isMobileAndNotPreview?setInterval(S,300):(S(),window.addEventListener("resize",S)),y.isRise&&(document.body.style.background="transparent"),y}),define("polyfills/fileProtocolOverrides",["require","lodash","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection");return{formatSrcUrl:i.isFileProtocol()&&i.isIE()?function(e){return i.isIE10()?"file://"+e:document.location.origin+e}:t.identity}}),define("helpers/constants",["require"],function(e){"use strict";var t=window.globals||{},i=(window.location.protocol,window.location.host,window.location.pathname.split(/\/+/).slice(0,-1).join("/")),n=t.DATA_PATH_BASE+"/html5/data/js",r={player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(e,t){r.theme[e]=t},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[t.DATA_PATH_BASE,i].join(""),PRESENTATION_DATA_URL:[i,n].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,DESKTOP_LOADER_DELAY:200,UNIFIED_PORTRAIT_UI_SIZE:65,UNIFIED_LIGHTBOX_UI_SIZE:50,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,ANIMATION_DURATION:300,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS_XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},reviewResetTypes:{ALL:"all",INCORRECTONLY:"incorrectonly"},dynamicTabEls:{},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CONTROL",18:"ALT",20:"CAPS_LOCK",27:"ESCAPE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15"},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",TINY_AUDIO:"data:audio/mp3;base64,//MgxAAAAANIAAAAAExBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIsQnAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//MgxE8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIMR2AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/8yDEnQAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHOWVmMTRlNzg4YzVhNDQ5AAAAAAAAAAAAAAAAAAAAYjZiYWQ3ZjY2NjFkZWZhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="};return Object.freeze(r),Object.freeze(r.refs),Object.freeze(r.varTypes),Object.freeze(r.statuses),Object.freeze(r.tabIndices),Object.freeze(r.math),Object.freeze(r.keys),r}),define("helpers/utils",["require","lodash","polyfills/fileProtocolOverrides","helpers/constants","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/fileProtocolOverrides"),n=e("helpers/constants"),r=e("polyfills/detection"),s=/[\u0600-\u06FF]/,o=function(e,t){var n=m.slice(t);return n.unshift(e),i.formatSrcUrl(n.join("/"))},a=function(e){var i=t.rest(arguments);return function(){var n=t.toArray(arguments);return i[e](function(e){return e.apply(null,n)})}},l=function(e){return e+"."},u=function(e,t){return t.replace(e,"")},c=function(e,t){return e===t},h=function(e,t){return t.charAt(0)[e]()+t.slice(1)},p=function(e,t){return[e,t,e].join("")},d=function(e){return"{"===e.charAt(0)&&(e=JSON.parse(e)),e},f=function(e){return e.split("=").map(decodeURIComponent).map(d)},m={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(e,i,n){return function e(i,n,r){if(null==i||null==n)return r;if(0===n.length)return null!=i?i:r;var s,o,a=t.first(n),l=t.rest(n),u=t.isString(a),c=u&&"$"===a.charAt(0)?"prop":"get";return u&&a.indexOf("[")>-1&&(s=a.split("["),l.unshift(parseInt(s[1])),a=t.first(s)),e(a=null!=i[a]&&t.isFunction(i[a])?i[a]():null!=i[a]?i[a]:i[c]&&i[c]((o=a,"get"===c?o:o.slice(1))),l,r)}(e,t.isString(i)?i.split("."):i,n)},fix:function(e,t){return+e.toFixed(null!=t?t:5)},toSeconds:function(e){return e/1e3},toMilliseconds:function(e){return m.fix(1e3*e,0)},formatSecondsAsTime:function(e){var t,i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),r=Math.floor(e-3600*i-60*n),s=function(e){return e<10?"0"+e:e};return t=[n=s(n),r=s(r)],i>=1&&t.unshift(i),t.join(":")},hexify:function(e){return"#"+e.replace(/0x|#/,"")},opacify:function(e){return e/100},rgbify:function(e,t){var i=this.hexify(e).replace("#",""),n=parseInt(i,16),r=[n>>16&255,n>>8&255,255&n],s=null!=t,o="rgb"+(s?"a":"");return s&&r.push(t),[o,"(",r.join(","),")"].join("")},toRgba:function(e,t){return m.rgbify(e,m.opacify(t))},octToDec:function(e){return e/255},decToPct:function(e,t){var i=m.fix(100*e);return t?i+"%":i},stopPct:function(e){return m.decToPct(m.octToDec(e))},pctToDec:function(e,t){return m.fix(parseFloat(e)/100,t)},add:function(e,t){return(e||0)+(t||0)},sum:function(){return t.reduce(arguments,m.add,0)},upperCaseFirst:t.partial(h,"toUpperCase"),lowerCaseFirst:t.partial(h,"toLowerCase"),slice:t.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return o(n.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return o(n.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(e,t,i){return Math.max(Math.min(i,t),e)},isWithinRange:function(e,t,i){return i>=e&&i<=t},hasProp:function(e,t){if(null==e)return!1;for(var i,n=e,r=t.split(".");i=r.shift();){if(null==n[i])return!1;n=n[i]}return!0},not:function(e){return function(){return!e.apply(this,arguments)}},take:function(e,i,n){return function(){return i.apply(n,t.take(arguments,e))}},invertPercent:function(e){return 1-e},andify:t.partial(a,"every"),orify:t.partial(a,"some"),is:c,isTrue:t.partial(c,!0),isFalse:t.partial(c,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(e,t,i){return new e(i,t)},createSuper:function(e){return function(t){return e.prototype[t]}},cloneDeeply:function(e){return JSON.parse(JSON.stringify(e))},buildEventNamespace:function(e){return".ds"+(e||"")},namespaceEvent:function(e,t){return e+m.buildEventNamespace(t)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},hypot:function(e,t){return Math.sqrt(e*e+t*t)},dist:function(e,t,i,n){var r=e-i,s=t-n;return this.hypot(r,s)},degToRad:function(e){return e*n.math.TO_RADIANS},radToDeg:function(e){return e*n.math.TO_DEGREES},normalizeDeg:function(e){for(var t=e;t<0;)t+=360;return t%360},stripTags:function(e,i,n){var r=document.createElement("div"),s=n?["<",n,">"].join(""):"",o=s.replace("<","</");return r.innerHTML=e,i?t(r.querySelectorAll(i)).map(function(e){return[s,e.innerHTML,o].join("")}).join(""):r.textContent},stripTagsMobile:function(e,t,i){return r.isMobile?m.stripTags(e,t,i):e},camelCaseAttr:function(e,t){return(e=t?e:e.toLowerCase()).replace(/-(.)/g,function(e,t){return t.toUpperCase()})},stripPlayer:t.partial(u,l(n.refs.PLAYER)),stripChoice:t.partial(u,l(n.refs.CHOICES)),stripStatement:t.partial(u,l(n.refs.STMTS)),prefixWithPlayer:function(e){return n.refs.PLAYER+"."+m.stripPlayer(e)},parseParams:function(e){return e=e||window.location.search.substr(1),t.object(e.split("&").map(function(e){return e.split("=")}))},applyMethod:function(e,i){var n=t.slice(arguments,2);return i=t.isArray(i)?i:[i],n.unshift(i,e),t.invoke.apply(t,n)},pxify:function(e){return[e,"px"].join("")},ptify:function(e){return[e,"pt"].join("")},shallowEqual:function(e,t){if(e===t)return!0;var i;for(i in e)if(e.hasOwnProperty(i)&&(!t.hasOwnProperty(i)||e[i]!==t[i]))return!1;for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},doubleQuote:t.partial(p,'"'),quote:t.partial(p,"'"),toCssUrl:function(e){return["url(",this.quote(e),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var e;return e=this.getWindowSearch().split("&"),t.zipObject(e.map(f))},rotatePoint:function(e,t,i,n,r){r=m.degToRad(r);var s=e-i,o=t-n,a=Math.cos(r),l=Math.sin(r);return{x:a*s-l*o+i,y:l*s+a*o+n}},pointInRect:function(e,t,i){var n=i[0][0],r=i[0][1],s=i[1][0],o=i[1][1];return e>=n&&e<=s&&t>=r&&t<=o},showTimer:function(e,i){t(e.refs).pick(function(e,t){return 0===t.indexOf("timer")&&e!==i}).forOwn(function(e){e.onHide()}).value()},dateToString:function(e){if(null==e)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ",e.getDate(),", ",e.getFullYear()].join("")},timeToString:function(e){if(null==e)return"";var t=e.getHours(),i=e.getMinutes(),n="am";return i<10&&(i="0"+i),t>12&&(t-=12,n="pm"),[t,":",i," ",n].join("")},parseUrl:function(e){var i=document.createElement("a");return i.href=e,t.pick(i,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(e){return s.test(e)},ellipsize:function(e,t){return null==e||e.length<=t?e:[e.substr(0,t),"…"].join("")},generateHash:function(e){var t,i=0,n=e.length;for(t=0;t<n;t++)i=31*i+e.charCodeAt(t),i|=0;return i},multiply:t.curry(function(e,t){return e*t}),juxt:function(e){return function(){var t=arguments;return e.map(function(e){return e.apply(null,t)})}}};return m}),define("helpers/vow",["require","jquery","lodash","helpers/utils"],function(e){"use strict";var t=e("jquery"),i=e("lodash"),n=e("helpers/utils"),r="pending",s="resolved",o="rejected",a=function(e,t){return t.state()===e},l={Deferred:t.Deferred,when:t.when,after:function(){var e=new l.Deferred,t=n.slice(arguments),i=[],r=function(n){i.push(n),t.length===i.length&&e.resolve.apply(e,t)};return t.length?t.forEach(function(e){e.always(function(){r(e)})}):e.resolve(),e.promise()},isPending:i.partial(a,r),isResolved:i.partial(a,s),isRejected:i.partial(a,o),promiseToVow:function(e){var t=l.Deferred();return e.then(t.resolve).catch(t.reject),t.promise()}};return l}),define("helpers/debug",["require","helpers/pubSub","helpers/events","helpers/vow"],function(e){"use strict";var t=e("helpers/pubSub"),i=e("helpers/events");e("helpers/vow");return{initialize:function(e,t,i){this.debugMode=e.get("debugMode"),this.setGlobals(e,t,i)},setGlobals:function(e,t,i){this.debugMode&&(window.presentation=e,window.player=t,window.app=i)},throwError:function(){!0===this.debugMode&&t.trigger(i.player.ERROR)}}}),define("helpers/errorManager",["require","lodash","helpers/debug"],function(e){"use strict";var t=e("lodash"),i=e("helpers/debug"),n=t.curry(function(e,i,n,r){e([i,"::",n," - ",t.slice(arguments,3).join(" ")].join(""))},4);return{throwFatal:n(function(e){throw new Error(e)}),throwError:n(function(e){var t=i.debugMode?"error":"warn";console[t](e),i.throwError()}),throwErrorSoft:n(function(e){i.debugMode&&console.warn(e)}),warn:n(function(e){console.warn(e)}),backtick:function(e){return["`",e,"`"].join("")}}}),define("helpers/mixer",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=(i.throwError("mixer"),i.backtick,function(e,t){var i,n,s=r[e],o=t.mixins.slice(0);for(n=o.length;n--;)null!=(i=o[n])[e]&&i[e].call(t),null!=i[s]&&i[s].call(t);return this}),r={init:"componentWillMount"},s=["preInit","init","postInit"],o=t.partialRight(t.omit,s),a={mixInto:function(e,i){return t.defaults.apply(t,t(i).map(o).unshift(e).value()),e},mix:function(e){return this.mixInto(e,e.mixins),e}};return s.forEach(function(e){a[e+"MixinsOf"]=t.partial(n,e)}),a}),define("helpers/extend",["require","lodash","backbone","helpers/mixer"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/mixer"),r=t.partialRight(t.omit,"mixins"),s=i.Model.extend,o=function(e,i){var o;return e=e||{},t.isArray(e)||(e=[e]),e=e.filter(t.isPlainObject),(o=t.extend.apply(t,e.map(r))).mixins=t(e).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(t.isPlainObject).uniq().value(),n.mix(o),s.call(this,o,i)};return"Model Collection View Router History".split(" ").forEach(function(e){i[e].extend=o}),o}),define("helpers/svg/svgUtils",["require","lodash","helpers/utils","helpers/constants","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=e("helpers/cssPrefix"),s=n.XMLNS_XLINK,o=n.XMLNS,a=n.math.TWO_PI,l=function(e,i,n){var r,s,o=(s=t.slice(arguments,3),function(){return t.toArray(arguments).concat(s)});return r=i.apply(null,o(n)),r=e.apply(null,o(o,i,r,n))},u=t.partial(l,function(e,i,n){return n.children&&!n.children.skipTraversal&&(n.children=n.children.map(function(n){if(t.isString(n))return n;var r=e(i,n);return u.apply(null,r)})),n}),c={isNodeOfType:function(e,t){var i;return t&&(i=t.tagName||t.nodeType),!!i&&e.toLowerCase()===i.toLowerCase()},svgPrefix:function(e){return[n.SVG_NODE_PREFIX,e].join(n.NODE_DELIMITER)},buildTransformFromConfigFn:function(e){var t=e.args.slice();return t.unshift(e.type),c.buildTransformFn.apply(this,t)},buildTransformFn:function(e){for(var i=arguments.length,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r];return[e,"(",t.rest(n).join(", "),")"].join("")},buildTransformConfig:function(e){return{type:e,args:t.rest(arguments)}},applyTransformTo:function(e,t){return e.transform=[t],e},getTransformOf:function(e){return e.transform=e.transform||[],e.transform},transformNodeConfig:function(e,i){t.isFunction(e.beforeStart)&&e.beforeStart();var n=u.apply(null,arguments);return t.isFunction(e.afterFinish)&&(n=e.afterFinish(n)),n},getFromNodeConfig:t.partial(l,function(e,t,i,n){return null!=i&&!1!==i||!n.children||n.children.every(function(n){var r=e(t,n),s=c.getFromNodeConfig.apply(null,r);return null==s||!1===s||(i=s,!1)}),i}),getFullSvgConfig:function(e,n,a){var l={height:n.fullHeight+Math.ceil(n.strokewidth/2),width:n.fullWidth+Math.ceil(n.strokewidth/2)},u={nodeType:"svg",xmlns:o,"xmlns:xlink":s,"data-xmlns-xlink":s,version:"1.1",baseprofile:"full",height:n.fullHeight,width:n.fullWidth,viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[e],"data-commandset-id":a,"data-accepts":"events",ref:t.uniqueId("ref-")};return l[r.camelCase("transform")]=c.transformTranslate(i.pxify(n.fullX),i.pxify(n.fullY)),{nodeType:"div",className:"slideobject-maskable",style:l,children:[u]}},createSvgNode:function(e,t){var i=document.createElementNS(o,"svg");return i.setAttribute("width",e),i.setAttribute("height",t),i},getFirstTransformOfType:function(e,i){return t.find(i,{type:e})},buildUrl:function(e){return["url(#",e,")"].join("")},createElement:function(e){return document.createElementNS(o,e)},rectPath:function(e,t,i,n){var r=e+i,s=t+n;return["M",e,t,"L",r,t,r,s,e,s].join(" ")},ellipsePath:function(e,t,i,n){var r=2*i;return["M",e,t,"m",-i,0,"a",i,n,0,1,0,r,0,"a",i,n,0,1,0,-r,0].join(" ")},diamondPath:function(e,t,i,n){var r=i/2+e,s=n/2+t;return["M",r,t,"L",i+e,s,r,n+t,e,s].join(" ")},rightRoundedRectPath:function(e,t,i,n,r){return["M",e,t,"h",i-r,"a",r,r,"0 0 1",r,r,"v",n-2*r,"a",r,r,"0 0 1",-r,r,"h",r-i,"z"].join(" ")},wheelPath:function(e,t,n,r,s){if(!s)return"";r=i.degToRad(r),(s=i.degToRad(s))===a&&(s=a-1e-5);var o=s-r>Math.PI?1:0;return["M",e,t,"l",i.fix(n*Math.cos(r),4),i.fix(n*Math.sin(r),4),"A",n,n,0,o,1,i.fix(e+n*Math.cos(s),4),i.fix(t+n*Math.sin(s),4),"z"].join(" ")}};return c.getFirstTranslate=t.partial(c.getFirstTransformOfType,"translate"),c.getFirstRotate=t.partial(c.getFirstTransformOfType,"rotate"),c.getFirstScale=t.partial(c.getFirstTransformOfType,"scale"),c.buildTranslateConfig=t.partial(c.buildTransformConfig,"translate"),c.buildRotateConfig=t.partial(c.buildTransformConfig,"rotate"),c.buildScaleConfig=t.partial(c.buildTransformConfig,"scale"),c.isImageNode=t.partial(c.isNodeOfType,"image"),c.isPatternNode=t.partial(c.isNodeOfType,"pattern"),c.isDefsNode=t.partial(c.isNodeOfType,"defs"),c.isUseNode=t.partial(c.isNodeOfType,"use"),c.isPathNode=t.partial(c.isNodeOfType,"path"),c.isTextNode=t.partial(c.isNodeOfType,"text"),c.isTspanNode=t.partial(c.isNodeOfType,"tspan"),c.transformScale=t.partial(c.buildTransformFn,"scale"),c.transformRotate=t.partial(c.buildTransformFn,"rotate"),c.transformTranslate=t.partial(c.buildTransformFn,"translate"),c.transformTranslateX=t.partial(c.buildTransformFn,"translateX"),c.scaleFromCenter=function(e,t){return null==t&&(t=e),[c.transformTranslate(.5,.5),c.transformScale(e,t),c.transformTranslate(-.5,-.5)].join(" ")},c.getDefsNode=t.partial(c.getFromNodeConfig,function(e){if(c.isDefsNode(e))return e}),c}),define("helpers/scaler",["require","lodash","helpers/svg/svgUtils","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=(e("helpers/svg/svgUtils"),e("polyfills/detection")),r=e("helpers/events"),s=e("helpers/pubSub");return{scaleValue:1,initialize:function(){this.isShowAll()&&!n.isMobile?this.startScaling():window.addEventListener("resize",i.throttle(this.sendWindowScale.bind(this),16))},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){s.trigger(r.window.SCALE)},startScaling:function(){t=document.getElementById("presentation"),this.scale(),window.addEventListener("resize",i.throttle(this.scale.bind(this),16))},scale:function(){var e=this.getWindowDimensions(),i=e.height,n=e.width,r=i/t.scrollHeight,s=n/t.scrollWidth,o=Math.min(r,s);this.scaleValue=o,this.sendWindowScale()},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}}}),define("views/helpers/dom",["require","lodash","helpers/utils","helpers/scaler","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/scaler"),r=e("helpers/constants"),s=function(e,t,i){e.removeEventListener(t,i)},o=function(e,t,n){var r=[];for(t=t||i.alwaysTrue;e&&1===e.nodeType&&(r.push(e),null==n||!n(e));)e=e.parentNode;return r.slice(1).filter(t)},a=function(e,t){return t.tagName.toLowerCase()===e.toLowerCase()},l=function(e,t){var i;return null!=e.classList?e.classList.contains(t):(i=e.className.baseVal||e.className,new RegExp("\\b"+t+"\\b").test(i))},u=function(e,i,n){var r=["<",e];return i&&t.isPlainObject(i)&&t.forOwn(i,function(e,i){var n;r.push(" ",i,'="',null==(n=e)?"":t.isString(n)?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):n,'"')},r),r.push(!0===n||!0===i?" />":">"),r.join("")},c=t.partialRight(function(e,t,i){return e.classList.add(t),setTimeout(function(){e.classList.remove(t)},i)},"button-tapped",r.MOBILE_ANIMATION_DURATION),h={on:function(e,i,n,r){return e.addEventListener(i,n,!!r),t.partial(s,e,i,n)},off:s,parentNodesOf:o,closest:function(e,t,n){return(t=t||i.alwaysTrue)(e)?e:o(e,t,n)[0]},isNodeOfType:a,isInput:function(e){return a("input",e)||a("textarea",e)},isLink:t.partial(a,"a"),isVideoNode:t.partial(a,"video"),isIconNode:function(e){return l(e,"svg-icon-wrapper")},isSlideObject:function(e){return l(e,"slide-object")},setAttributes:function(e,i){return t.forOwn(i,function(t,i){e.setAttribute(i,t)}),e},setStyles:function(e,i){return t.forOwn(i,function(t,i){e.style[i]=t}),e},getScrollRecommendation:function(e,t){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.top-n.top+e.scrollTop;return n.top>i.top||n.bottom<i.bottom?r:0},resizeToFit:function(e,r,s,o){var a=!!t.isFinite(s)&&r.length>s,l=e.getBoundingClientRect().width/(n.getScale()||1),u=l,c=0,h=u/r.length;o=o||0,t(r).map(function(e,t){e.style.width="";var i=e.getBoundingClientRect().width+o;return c+=i,{el:e,width:i}}).sortBy("width").forEach(function(e,t){var n=t+1,s=Math.min(e.width,h);c>l?(e.el.style.width=i.pxify(s-o),h=(u-=s)/(r.length-n)):a&&(e.el.style.width=i.pxify(e.width+(u-c)/r.length))}).value()},hasClass:l,writeNode:u,writeCloseNode:function(e){return u(e).replace("<","</")},tappedClass:c,trigger:function(e,i,n){if(n=n||{ignoreDisabled:!0},null!=e){var r,s,o,a=(r=i,(o=document.createEvent("Event")).initEvent(r,!0,!0),t.defaults(o,s),o);return n.ignoreDisabled&&e.disabled||e.dispatchEvent(a),a}},getParentFrame:function(){try{for(var e,t=window.parent.document.getElementsByTagName("iframe"),i=t.length,n=0;n<i;n++)if((e=t[n]).contentDocument===document)return e}catch(e){}},isWithinSlide:function(e){return h.closest(e,function(e){return h.hasClass(e,"slide")})},updateMousePosition:function(e){null!=e.pageX&&null!=e.pageY&&(h.mouseX=e.pageX,h.mouseY=e.pageY)},mouseX:0,mouseY:0};return document.body.addEventListener("mousemove",function(e){h.updateMousePosition(e)}),document.body.addEventListener("touchstart",function(e){e.touches&&e.touches.length>0&&(h.mouseX=e.touches[0].pageX,h.mouseY=e.touches[0].pageY)},!0),h}),define("views/events/mouseEvents",["require"],function(e){"use strict";return{}}),define("helpers/slideObjectUtils",["require","lodash","helpers/utils","views/helpers/dom","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),r=e("polyfills/detection"),s=t.partialRight(n.hasClass,"draggable"),o=t.partialRight(n.hasClass,"hidden"),a=t.partialRight(n.hasClass,"rotatable"),l=t.partialRight(n.hasClass,"slideable-parent"),u=function(e){return n.hasClass(e,"is-scrollable")||n.hasClass(e,"scrollarea-scrollbar")},c=function(e,t){return!!t(e)||!!n.closest(e,t)},h=function(e){return e.scrollHeight>e.offsetHeight||n.hasClass(e,"scrollarea-scrollbar")},p=function(e){return e.hasAttribute("data-double-click")},d=t.partialRight(c,function(e){return u(e)&&h(e)}),f=t.partialRight(c,function(e){return a(e)}),m=t.partialRight(c,function(e){return o(e)}),g=t.partialRight(c,function(e){return s(e)}),v=t.partialRight(c,function(e){return l(e)}),y=function(e){return n.hasClass(e,"eventable")},b=t.partialRight(c,function(e){return y(e)}),w=function(e,t){var i,n;return e.objects().forEach(function(e,r){var s,o=null!=t?t.refs["obj"+r]:e.currView,a=o&&o.getFocusTarget();null!=a&&(s=a.props.model.prop("tabIndex"),a.isFocusable()&&a.isVisible()&&(null==n||n>s)&&(n=s,i=o))}),i};return{isRelated:c,needsToScroll:h,isScrollable:u,isScrollRelated:function(e){return u(e)?h(e):d(e)},isDraggable:s,isDraggableRelated:g,isEventable:y,isEventableRelated:b,isRotatable:a,isRotatableRelated:f,isSlideableRelated:v,isDoubleClickRelated:function(e){return p(e)||c(e,p)},activeMobileMenuItem:function(e,t){r.isMobile&&(0===i.getPath(e,"length",0)?document.body.classList.add(t):document.body.classList.remove(t))},isMobileSlide:function(e){return r.isMobileOrTouchableTheme&&!e.props.isMessageWindow},getGroupFocusTarget:function(e){var t=e.props.parent;if(!r.isMobileOrTouchableTheme)return t.isFocusable()?t:w(e.props.model,e)},removeEngageBorder:function(){var e=n.getParentFrame();null!=e&&e.classList.remove("webobject-engage")},getChildAtLowestTabIndex:w,isHiddenRelated:m}}),function(){var e=this.Backbone;e||void 0===require||(e=require("backbone"));var t=Array.prototype.slice;function i(e,i){e.prototype[i]=function(){var e=arguments.length?"set":"get",n=t.call(arguments);return n.unshift(i),this[e].apply(this,n)}}e.Model.shorthandify=function(e){if(!(e=e||this.prototype.shorthand))return this;"string"==typeof e&&(e=[e]);for(var t=0,n=e.length;t<n;t++)i(this,e[t]);return this},"undefined"!=typeof exports&&(exports.shorthandify=e.Model.shorthandify)}(),define("shorthand",["backbone"],function(){}),define("mixins/subscribable",["require","lodash","helpers/pubSub","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/pubSub"),n=e("helpers/errorManager").throwError("subscribable");return{componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var e in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(e)&&this.addSubscription(e,this.subscriptions[e]);return this},addSubscription:function(e,r){return t.isFunction(this[r])||n("addSubscription","this."+r,"is not a defined callback."),this.addSubscribedEvent(e).listenTo(i,e,this[r]),this},addSubscribedEvent:function(e){return this.subscribedEvents.push(e),this},removeSubscriptions:function(){return t.each(t.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(e,t){var n=this.subscribedEvents.indexOf(e);return this.stopListening(i,e,this[t]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}}}),define("mixins/ancestral",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e,i){return t.contains(t.values(i.associations),e)},n={isAncestral:!0,createParentReference:function(e){return e&&e.parent&&(this.parent=e.parent),this},getClosestAncestor:function(e,t){for(var i=t?this:this.parent;i&&!e(i);)i=i.parent;return i},getClosestAncestorWithAssoc:function(e){var n=t.partial(i,e);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(e,t,i){return this.getClosestAncestor(function(i){return i.get(e)===t},i)},forEachAncestor:function(e,t){for(var i=t?this:this.parent,n=0;null!=i;){if(!1===e(i,n++))return;i=i.parent}}};return n.getClosestAncestorByKind=t.partial(n.getClosestAncestorByAttr,"kind"),n}),define("helpers/resolver",["require","lodash","helpers/errorManager","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("helpers/constants"),r=/^RAND/,s=function(e){return r.test(e)},o={};o.string=o.object=o.boolean=function(e){return e},o.num=o.number=function(e){return s(e)?e:parseFloat(e)},o.var=o.variable=function(e,i){var n=t.identity,r=this.resolvePath(e,i,{optional:!0});return null!=r&&("number"===r.type()&&(n=parseFloat),r=n(r.value())),r},o.property=function(e,t){return this.resolvePath(e,t,{optional:!0})},o.drawid=function(e,t){return this.resolvePath(e,t,{optional:!0})},o.param=function(e,t,i){return this.getRef(i.params[e],t,i)},o.valueref=function(e,i,n){return this.getRef(t.findWhere(n.iterables,{name:e}),i,n)},o.actparam=function(e,t,i){return i[e]},o.default=function(e,t){return this.getRef(e,t)};var a,l=i.throwError("resolver"),u=l("resolvePath"),c=l("getRef"),h=l("findReference"),p=/\$/,d=/\#/,f=/\$/g,m=/\#/g,g=/^\$/,v=/^\#/,y=new RegExp("^"+n.refs.PLAYER),b=function(e){return e.replace(p,"")},w=function(e){return e.replace(d,"")},S=function(e){return p.test(e)},x=function(e){return e.split(n.PATH_DELIMITER)},T=function(e,i){var n;return t.find(e.resolveables,function(r){var s,o,a=e.get(r);return!!a&&(!(n=a.isCollection?a.get(i):a.id===i?a:a[i])&&(s=r,o=e,t.has(o.resolvers,s))&&(n=e.resolvers[r].call(e,i,a)),n)},e),n},E=function(e,t){var i,n,r="$"===t?f:m;return n=t+(i=e.replace(r,"").split(".")).pop(),i.push(n),i.join(".")},A=t.partialRight(E,"$"),C=t.partialRight(E,"#"),P={initialize:function(e){a=e},getPresentationContext:function(){return a},resolvePath:function(e,i,n){var r,s;if(e)return s=e,v.test(s)&&-1!==s.indexOf(".")?e=C(e):(r=e,g.test(r)&&-1!==r.indexOf(".")&&(e=A(e))),n=n||{},i&&t.isPlainObject(i)&&(n=i,i=void 0),this.resolvePathArray(x(e),i,n);u("Must provide a path to resolve")},resolvePathArray:function(e,i,r){var s=e.shift();switch(s){case n.refs.PLAYER:i=a;break;case n.refs.PLAYER_VARS:i=a.playerVars();break;case n.refs.PARENT:i=i.getClosestParentRef();break;case n.refs.CHILDREN:i=i.getChildren();break;case n.refs.SELF:i=i.getClosestThisRef();break;case n.refs.CURRENT_SLIDE:i=this.resolvePath(a.prop("CurrentSlideId"),a);break;default:i=P.findReference(s,i)}return null==i?r.optional?void 0:void u("Path did not resolve at:",s):e.length?t.isArray(i)?t(i).map(function(t){var i=e.slice();return P.resolvePathArray(i,t,{optional:!0})}).compact().value():P.resolvePathArray(e,i,r):i},findReference:function(e,t){if(e){var i,n,r,s,o;if(t)return t.isCollection&&t.get(e)?t.get(e):S(e)?t.prop(b(e)):(r=e,d.test(r)?(n=w(e),t.getVariableProp&&(i=t.getVariableProp(n))?i.value():t.variables().get(w(e))):t.isModel||null==t[e]?T(t,e)||(t.id===e?t:(o=e,(s=t).prop&&s.hasOwnPlayerProp(b(o))?t.prop(e):void 0)):t[e]);h("Context must be defined.")}else h("Cannot find a reference with no ID")},getRef:function(e,t,i){if(e){if(e.type)return(o[e.type]||o.default).call(this,e.value,t,i);c("Type is undefined for the provided reference")}else c("No reference passed in")}};return P.normalizePropRef=b,P.isPropRef=S,P.splitPath=x,P.joinPath=function(e){return e.join(n.PATH_DELIMITER)},P.isRelativePath=function(e){return!y.test(e)},P.isRandomToken=s,P.resolveAbsolutePathWithFilter=function(e,i){var n,r;return e=e.split("."),n=t.first(e.splice(0,1)),e.some(function(e){return n+="."+e,r=P.resolvePath(n),i(r)})?r:null},P}),define("mixins/resolveable",["require","lodash","mixins/ancestral","helpers/resolver"],function(e){"use strict";var t=e("lodash"),i=e("mixins/ancestral"),n=e("helpers/resolver"),r=i.getClosestAncestor;return{resolvePath:function(e){return n.resolvePath(e,this.getClosestThisRef())},getClosestParentRef:t.partial(r,function(e){return e.abilities.resolveAsParent}),getClosestThisRef:t.partial(r,function(e){return e.abilities.resolveAsThis},!0),getClosestEventTarget:t.partial(r,function(e){return e.abilities.beEventTarget},!0),getChildren:function(){return this.objects().slice()}}}),define("mixins/shortEventable",["require","lodash","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=i.warn("shortEventable")("bindShortEvents"),r=i.backtick,s=function(e,i){return t.mapValues(i,function(t){return e[t]})};return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var e,i,o,a,l,u,c,h=Object.keys(this.shortEvents||{}),p=h.length;for(a=0;a<p;a++){if(i="self"===(e=h[a])?this:(c=void 0,(c=(l=this)[u=e])?t.isFunction(c)?c.call(l):c:l.get?l.get(u):l.props&&l.props[u]),o=s(this,this.shortEvents[e]),!i)return void n("Cannot listen to undefined object",r(e));this.listenTo(i,o)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}),define("models/BaseModel",["require","shorthand","backbone","lodash","helpers/events","helpers/errorManager","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer","helpers/utils"],function(e){"use strict";e("shorthand");var t=e("backbone"),i=e("lodash"),n=e("helpers/events"),r=e("helpers/errorManager"),s=e("mixins/subscribable"),o=e("mixins/resolveable"),a=e("mixins/ancestral"),l=e("mixins/shortEventable"),u=e("helpers/mixer"),c=e("helpers/utils"),h=r.throwError("BaseModel"),p=function(){},d=c.createSuper(t.Model),f=t.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[s,o,a,l],autoParse:!1,isModel:!0,constructor:function(e,r){i.bindAll(this,"createAbsoluteId");var s=this.initialize;this.initialize=p,this.autoParse&&((r=r||{}).parse=!0),t.Model.call(this,e,r),this.on(n.data.UPDATED,this.createAbsoluteId),this.createParentReference(r).buildAssociations().bindAssociations().createAbsoluteId(),u.initMixinsOf(this),this.initialize=s,this.initialize.apply(this,arguments),u.postInitMixinsOf(this)},index:function(){return this.collection||h("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(e){return this.collection||h("sibling","must have a `collection` defined"),e=e||0,this.collection.at(this.index()+e)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(e){return c.isTrue(e)?c.cloneDeeply(this):d("toJSON").call(this)},buildAssociations:function(e){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.buildAssociation(t);return this},buildAssociation:function(e,t){var i=t||this.get(e),n={parent:this},r=this.associations[e];return i instanceof r||(this.attributes[e]=c.buildDataStructure(r,n,i)),this},bindAssociation:function(e){return this.on("change:"+e,function(t,r,s){var o=this.previous(e);i.isFunction(o.set)?(o.set(r,{parent:this}),o.trigger(n.data.UPDATED),o.isCollection&&o.invoke("trigger",n.data.UPDATED),this.set(e,o,{silent:!0})):this.buildAssociation(e,r)}),this},bindAssociations:function(){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.bindAssociation(e);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var e=this,t=[this.id];e=e.parent;)e.id&&t.push(e.id);return t.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId()},isType:function(e){return this.get("type")===e},isKind:function(e){return this.get("kind")===e}});f.addAssociation=function(e,t){this.prototype.associations.hasOwnProperty(e)||(this.prototype.associations[e]=t,this.shorthandify(e))};var m=f.extend;return f.extend=function(){var e=m.apply(this,arguments);return e.prototype.associations=i.extend({},e.prototype.associations,this.prototype.associations),e.shorthandify().shorthandify(i.keys(e.prototype.associations)),e},f}),define("helpers/appState",["require","lodash","helpers/constants","helpers/events","helpers/vow","models/BaseModel"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/constants"),r=e("helpers/events"),s=e("helpers/vow");return new(e("models/BaseModel").extend({shorthand:["currentLayout","currentScheme","currentVolume"],subscriptions:(t={},t[r.app.COMPLETE]="onAppComplete",t[r.controlLayout.CHANGED]="onLayoutChanged",t[r.scheme.CHANGED]="onSchemeChanged",t[r.volume.CHANGED]="onVolumeChanged",t[r.volume.TOGGLE]="onToggleVolume",t),initialize:function(){this.appCompleteDfd=new s.Deferred,this.onVolumeChanged(n.DEFAULT_VOLUME)},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(i.toArray(arguments).reduce(function(e,t){return e[t]=null,e},{})),this},onLayoutChanged:function(e,t){this.currentLayout(e),this.trigger(r.layout.CHANGED,this,e,t)},onSchemeChanged:function(e){this.currentScheme(e)},onVolumeChanged:function(e){this.volumeToggle=!1,this.currentVolume(e)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle,this.currentVolume(this.volumeToggle?0:this.lastVolume)}}))}),define("views/events/touchHelper",["require","lodash","views/helpers/dom","helpers/slideObjectUtils","polyfills/detection","helpers/appState","helpers/utils","helpers/pubSub","helpers/events"],function(e){var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/slideObjectUtils"),r=e("polyfills/detection"),s=e("helpers/appState"),o=e("helpers/utils"),a=e("helpers/pubSub"),l=e("helpers/events"),u={},c=function(){return r.isMobileOrTouchableTheme&&!r.isMobilePreview},h=["touchstart","touchmove","touchend","touchcancel"],p={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"};u.clickOrTouch=c()?"touchend":"click";var d=function(e){return c()?p[e]:e};document.addEventListener("touchstart",function(e){r.isTouchableTheme&&a.trigger(l.touchHelper.TOUCH_START,e),1===e.touches.length?u.currentTouch=e.touches[0]:e.preventDefault()},!0);var f=function(e,r){return function(s){var o,a;s.touches&&s.touches.length>1||(o=s,t.any(o.changedTouches,function(e){return e.identifier===u.currentTouch.identifier})&&e(s),!r||i.isInput(s.target)||(a=s.target,i.isNodeOfType("select",a))||n.isScrollRelated(s.target)||s.preventDefault())}};u.on=function(e,t,i,n,r){var s,o,a,l,u,c,h,p="touchstart"===t,d=f(i,!1!==r);return p?(e.addEventListener(t,d,n),function(){e.removeEventListener(t,d,n)}):(s=e,o=t,a=d,l=n,c=f(function(e){(u=e.target).addEventListener(o,a,l),u.addEventListener("touchend",h)}),h=function e(){u&&(u.removeEventListener(o,a,l),u.removeEventListener("touchend",e))},s.addEventListener("touchstart",c),function(){s.removeEventListener("touchstart",c),h()})},u.isTouchEventName=function(e){return t.contains(h,e)},u.addEventListener=function(e,t,i,n){e.addEventListener(d(t),i,!!n)},u.removeEventListener=function(e,t,i){e.removeEventListener(d(t),i)},u.getPageLoc=function(e){var t={};return e.touches&&1===e.touches.length?(t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY):(t.pageX=e.pageX,t.pageY=e.pageY),t};return u.tap=function(e,t,i){var n={callback:i};t.addEventListener("touchstart",function(e){this.started=!0,this.touchX=e.touches[0].pageX,this.touchY=e.touches[0].pageY,this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY,this.startScale=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom}.bind(n)),document.addEventListener("touchmove",function(e){e.touches&&1===e.touches.length&&(this.currTouchX=e.touches[0].pageX,this.currTouchY=e.touches[0].pageY)}.bind(n)),t.addEventListener("touchend",function(e){var t,i=s.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===i&&(t=o.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,t<10&&this.callback())}.bind(n))},u}),define("views/events/eventHelper",["require","lodash","views/helpers/dom","views/events/mouseEvents","views/events/touchHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("views/events/mouseEvents"),r=e("views/events/touchHelper"),s=function(e){return function(n,s,o,a,l,u){var c={type:e,node:n},h=function(e){var i=!o||o(e);i&&a(t.extend({},c,i,{origEvent:e}))};return r.isTouchEventName(s)?r.on(n,s,h,l,u):i.on(n,s,h,l)}},o=function(e){return e instanceof window.SVGElement&&"svg"!==e.tagName},a=function(e){return e&&null!=e.getAttribute&&"events"===e.getAttribute("data-accepts")};return{registerEvent:function(e,t){n[e]=t(s(e))},on:i.on,off:i.off,parentNodesOf:i.parentNodesOf,isNodeSvgEl:o,isTgtSvgEl:function(e){return o(e.target)},isTgtVideoEl:function(e){return i.isVideoNode(e.target)},isLeftMouseBtn:function(e){return 1===e.which},isRightMouseBtn:function(e){return 3===e.which},doesEventTargetAcceptEvents:function(e,t){return a(e.target.ownerSVGElement)||!!i.closest(e.target,a,t)},isSpacebarClick:function(e){return["click","mouseup","mousedown"].indexOf(e.type)>=0&&(null==e.pageX||0===e.pageX)&&(null==e.pageY||0===e.pageY)}}}),define("helpers/tabFocusBox",["require","lodash","views/helpers/dom","helpers/utils","helpers/pubSub","helpers/appState","helpers/scaler","polyfills/detection","helpers/errorManager","helpers/events","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=e("views/helpers/dom"),r=e("helpers/utils"),s=e("helpers/pubSub"),o=e("helpers/appState"),a=e("helpers/scaler"),l=e("polyfills/detection"),u=e("helpers/errorManager"),c=e("helpers/events"),h=e("helpers/constants"),p={sidebarOpen:!0,tryToSelect:function(e,t){var i=e.querySelector(t);return null==i&&u.throwError("tabFocusBox","invalid focus rule selector: ",t),i},focusRuleConfig:{VectorSlideObject:function(e){return p.tryToSelect(e,"svg g")},ImageSlideObject:function(e){return p.tryToSelect(e,"img")},VideoSlideObject:function(e){return p.tryToSelect(e,".video-slide-object")},ResourcesList:function(e){return e.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(e){"SlideObject"===e.displayName&&(e.props.model.forEachAncestor(function(t){"SlideObject"===r.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(t,"hidden",d),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",d)),(t.isSlideObject||t.isSlideLayer)&&e.listenTo(t,{hidden:d})}.bind(this)),e.listenTo(e.props.model,{hidden:d}))},show:function(e){null!=e&&(l.isClassic||(this.handleSearch(e),this.sidebarOpen||this.isInSidebar(e),this.handleTopTabsDrop(e)),this.update(e),this.listenForHide(e),this.lastItemFocused=e)},handleTopTabsDrop:function(e){e&&e.el&&n.hasClass(e.el,"topmenu-item")&&null!=e.el.parentNode&&n.hasClass(e.el.parentNode,"top-tabs-drop")&&s.trigger(c.topTabs.OPEN_DROPDOWN,e)},handleSearch:function(e){"INPUT"===r.getPath(e,"tagName")&&n.hasClass(e,"search-input-element")&&s.trigger(c.search.SHOW)},isInSidebar:function(e){var t;null!=e.parentNode?t=e:null!=r.getPath(e,"el.parentNode")&&(t=e.el),null!=t&&!!n.closest(t,function(e){return n.hasClass(e,"area-secondary")})&&(s.trigger(c.sidebar.FORCE_OPEN),setTimeout(function(){this.update(e)}.bind(this),h.ANIMATION_DURATION))},updateLastFocusItem:function(){this.lastItemFocused&&this.update(this.lastItemFocused)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl?this.borderEl:(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),n.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999}),this.borderEl)},slideObjectShouldUseCss:function(e){return"TextInputSlideObject"===r.getPath(e,"refs.innard.displayName")||e.decorators&&null!=e.decorators.slideable||!l.isClassic&&n.hasClass(e.el,"glossary-child")},domElShouldUseCss:function(e){return e.parentNode&&n.hasClass(e.parentNode,"search-clear")||n.hasClass(e,"lightbox-close-btn")||!l.isClassic&&n.hasClass(e,"search-input-element")||n.closest(e,function(e){return n.hasClass(e,"lightbox")})},update:function(e){var t,s,l,u,c,h,p,d,f,m=this.getOrCreateBorder(),g=0,v=0,y=1,b={left:0,top:0},w=this.defaultOffsets,S=0;if(null!=e.displayName){if(g+=(w=this.focusOffsetConfig[e.displayName]||this.defaultOffsets).x,v+=w.y,this.slideObjectShouldUseCss(e))return void this.hide();t=e.el,p=null!=r.getPath(e,"refs.innard")?e.refs.innard.displayName:e.displayName,t=(this.focusRuleConfig[p]||i.identity)(t)}else{if(this.domElShouldUseCss(e))return void this.hide();t=e}l=t.getBoundingClientRect(),(u=n.isWithinSlide(t))?(b=(s=(h=o.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),S=4,y=h.props.model.isMessageSlide()?1:h.props.model.calculateTotalScale(),s.querySelector(".slide-top-container-main").appendChild(m)):((d=document.querySelector("#app-top-container")).appendChild(m),b=d.getBoundingClientRect(),y=1/(a.getScale()||1)),0!==l.width&&0!==l.height?(c=2*S,(f=i.mapValues(this.constrainToSlide(u,h,{left:(l.left-b.left)*y+g-S,top:(l.top-b.top)*y+v-S,width:l.width*y+c+w.width,height:l.height*y+c+w.height}),r.pxify)).display="block",n.setStyles(m,f),this.isShown=!0):this.hide()},constrainToSlide:function(e,t,i){var n,r,s,o;return e&&(n=i.left+i.width-t.props.model.get("width"),o=i.top+i.height-t.props.model.get("height"),r=i.left,s=i.top,n>0&&(i.width-=n-1.2),o>0&&(i.height-=o-1.2),r<0&&(i.width+=i.left,i.left=-1.2),s<0&&(i.height+=i.top,i.top=-1.2)),i}},d=p.onAncestorHidden.bind(p);return l.isClassic||(s.on(c.topbar.CLOSED_SIDEBAR,function(){p.sidebarOpen=!1}),s.on(c.topbar.OPENED_SIDEBAR,function(){p.sidebarOpen=!0}),document.addEventListener("mousedown",function(){clearTimeout(t),p.hide()}),window.addEventListener("resize",function(){clearTimeout(t),null!=p.borderEl&&(p.borderEl.style.display="none",t=setTimeout(function(){p.borderEl.style.display="block",p.updateLastFocusItem()},h.ANIMATION_DURATION))})),p}),define("helpers/keyManager",["require","lodash","react","react-dom","helpers/utils","helpers/constants","helpers/debug","views/helpers/dom","helpers/events","helpers/pubSub","views/events/eventHelper","helpers/errorManager","helpers/tabFocusBox","helpers/slideObjectUtils"],function(e){"use strict";var t,i=e("lodash"),n=(e("react"),e("react-dom")),r=e("helpers/utils"),s=e("helpers/constants"),o=e("helpers/debug"),a=e("views/helpers/dom"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("views/events/eventHelper"),h=e("helpers/errorManager"),p=e("helpers/tabFocusBox"),d=e("helpers/slideObjectUtils"),f=h.warn("keyManager"),m=h.throwErrorSoft("keyManager"),g="classic"===r.getPath(window.globals,"themeName","classic"),v=g?"#overlay-playbutton .start-overlay div":".mobile-start-overlay .play-icon",y=function(e,t){return e.idx-t.idx},b=function(e){var t=document.activeElement,i=t.nodeName.toLowerCase(),n=t.type&&t.type.toLowerCase(),r="input"===i&&("text"===n||"number"===n||"search"===n);return e?r:"textarea"===i||r},w=s.keys,S={mainWindow:{windowId:"mainWindow",slide:[],player:[]}};u.once(l.player.MENU_OPTIONS,function(e){e.get("flow")});var x={currentIndex:-1,currentWindow:S.mainWindow,tabIndexTable:{},lastKeyPressTargets:[],initialize:function(e){var n=e.getCurrentWindow(),s=r.getPath(n,"props.model.id"),o={};this.updateKeyMap(),t=e,i.bindAll(this,"prepare","removeWindow","addWindow","onSlideChanged","enableControlsKeyShortcuts"),o[l.app.COMPLETE]=this.prepare,o[l.window.CLOSED]=this.removeWindow,o[l.window.CREATED]=this.addWindow,o[l.slide.STARTED]=this.onSlideChanged,o[l.player.ENABLE_KEYBOARD_SHORTCUTS]=this.enableControlsKeyShortcuts,o[l.slide.WILL_CHANGE]=this.onSlideWillChange,u.on(o),this.currentWindow=S[s||"mainWindow"],this.tabIndexTable=this.currentWindow.tabIndexTable={Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]}},holdFocusBox:function(){if(p.isShown){var e=r.getPath(this,"lastCurrentItem.el",this.lastCurrentItem);null==e||a.isWithinSlide(e)?this.unsetCurrentItemAndFocus():window.requestAnimationFrame(function(){d.isHiddenRelated(e)?this.unsetCurrentItemAndFocus():this.currentWindow.tabbables.forEach(function(e){e===this.lastCurrentItem&&(this.focusItem(e),p.show(e))}.bind(this))}.bind(this))}},onSlideChanged:function(e){this.holdFocusBox()},onSlideWillChange:function(){null!=document.activeElement&&i.isFunction(document.activeElement.blur)&&document.activeElement.blur()},onHideFocusBox:function(e){c.isSpacebarClick(e)||p.hide()},updateKeyMap:function(e,t){if(null!=e){var i=String.fromCharCode(e.which);null!=w[e.which]?this.keys[w[e.which]]=t:this.keys[i]=t,this.keys.keyCode=e.which}else this.keys={}},prepare:function(){i.bindAll(this,"checkKeyEvent","fixKeyUp","clearTab","onHideFocusBox","focusIsBack","checkPageFocus"),document.body.addEventListener("keydown",this.checkKeyEvent),document.body.addEventListener("keyup",this.fixKeyUp),document.body.addEventListener("mousedown",this.clearTab),document.body.addEventListener("click",this.onHideFocusBox)},pollPageFocus:function(){this.checkPageFocusId=window.setInterval(this.checkPageFocus,200)},checkPageFocus:function(){document.hasFocus()&&(this.focusIsBack(),window.clearInterval(this.checkPageFocusId))},focusIsBack:function(){document.body.removeEventListener("keydown",this.checkKeyEvent),document.body.addEventListener("keydown",this.checkKeyEvent)},getInnardOfCurrentItem:function(){return r.getPath(this,"currentItem.refs.innard")},setKeyIntercept:function(e){this.keyIntercept=e},unsetKeyIntercept:function(){this.keyIntercept=null},dealWithTabKey:function(e){var t=this.getInnardOfCurrentItem(),n=!1;return null!=i.get(t,"exitStealTab")&&t.exitStealTab(t,e.shiftKey)?(this.delayCheckKeyUp(e),n=!0):null!=i.get(t,"stealTab")?(t.stealTab(this.currentItem,e.shiftKey),this.delayCheckKeyUp(e),n=!0):(this.changeFocus(e.shiftKey),p.show(this.currentItem),e.preventDefault()),n},keyOnPlayButton:function(e,t){this.keys.TAB&&(g?p.show(t):t.getElementById("icon-bounds").setAttributeNS(null,"stroke","yellow"),t.focus(),e.preventDefault(),this.keys.TAB=!1)},checkKeyEvent:function(e){var i,n,r,s=!0;if(this.currSlide=t.getCurrentWindowSlide(),this.updateKeyMap(e,!0),null!=this.currSlide||null==(r=document.body.querySelector(v))){if(this.incrementing&&this.keys.TAB&&this.currentIndex===this.currentWindow.tabbables.length-1)return this.unsetCurrentItemAndFocus(),this.keys.TAB=!1,document.body.removeEventListener("keydown",this.checkKeyEvent),this.pollPageFocus(),!0;if(null!=this.keyIntercept)return this.keyIntercept(e,this.keys),void this.delayCheckKeyUp(e);if(this.lastShift=e.shiftKey,!1!==e.metaKey||b()||e.preventDefault(),!this.keys.TAB||!this.dealWithTabKey(e)){if(this.shouldTriggerFrameControl(e)&&u.trigger(l.keyManager.FRAME_CONTROL_KEY,this.keys),null!=this.currentItem)(x.keys.SPACE||x.keys.ENTER)&&(s=!this.getCurrentFocusController().onActionKey(this.currentItem,this.keys.ENTER)),s&&(x.keys.UP||x.keys.DOWN||x.keys.LEFT||x.keys.RIGHT)&&(s=!this.getCurrentFocusController().onTreeKey(this.currentItem,x.keys.LEFT||x.keys.DOWN,this.keys)),null!=this.currentItem&&null!=this.currentItem.onJawsKey&&((a=e).altKey&&77===a.which)?(n=this.currentItem.onJawsKey())&&(this.focusItem(n),p.show(this.currentItem),e.preventDefault()):null==this.currentItem||this.currentItem instanceof window.Node||(i=this.currentItem.props.model)&&i.isSlideObject&&!b(!0)&&this.executeKeypressEvent(this.currentItem.props.model,e);else if(null!=this.currSlide){var o=this.currSlide.slideLayers().getTopMostLayer();null!=o?this.executeKeypressEvent(o,e):this.executeKeypressEvent(this.currSlide,e)}var a;this.delayCheckKeyUp(e)}}else this.keyOnPlayButton(e,r)},delayCheckKeyUp:function(e){window.requestAnimationFrame(function(){this.checkKeyUpEvent(e)}.bind(this))},fixKeyUp:function(e){if("SPACE"===w[e.keyCode])return e.preventDefault(),e.returnValue=!1,!1},clearTab:function(e){return null==this.currentItem||null!=e&&!c.isSpacebarClick(e)||this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null),this},clearCurrentItem:function(e){this.currentItem&&(i.contains(this.currentWindow.slide,this.currentItem)||e)&&(this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(null))},reset:function(){this.resetCurrentIndex(),this.focusNextItem()},clearSlide:function(e,t){null==(t=t&&r.stripPlayer(t))||"_current"===t||t===this.currentWindow.windowId?(this.clearCurrentItem(!1),this.currentWindow.slide=[]):(i.assign(S[t],{windowId:t,slide:[],player:[]}),this.currentWindow=S[t],this.tabIndexTable=this.currentWindow.tabIndexTable),this.resetCurrentIndex(),this.updateKeyMap(),this.onBuildComplete()},getWindowId:function(e){return null!=e.props.model?e.props.model.id:"mainWindow"},addWindow:function(e){var t=this.getWindowId(e);S[t]=S[t]||{windowId:t,slide:[],player:[]},this.tabIndexTable=S[t].tabIndexTable||{Presenter:[],SidebarTab:[],TopTabsItem:[],SlideControlButton:[],PlayerControlButton:[]},this.currentWindow=S[t]},removeWindow:function(e){var i=this.getWindowId(e);this.clearTab(),S[i]=null,this.currentWindow=S[this.getWindowId(t.getCurrentWindow())],this.tabIndexTable=this.currentWindow.tabIndexTable,this.resetCurrentIndex()},addItem:function(e,t,i,n){var r=t?this.currentWindow.player:this.currentWindow.slide,s=e.idx,a=e.indexGroupName;null!=i&&(null==r[i]&&(r[i]=[]),r=r[i]),t?(a||(a=e.displayName),a&&this.tabIndexTable[a]&&this.tabIndexTable[a].push(e),this.onBuildComplete()):null==r[s]||n?r[s]=e:o.debugMode&&m("addItem","Already added an item with a tabindex of ",s)},removeItem:function(e,t,i){var n,r,s,o,a=e.idx;null!=(n=null!=i?this.currentWindow.slide[i]:t?this.currentWindow.player:this.currentWindow.slide)&&(n[a]===e?n[a]=null:null!=(r=e.indexGroupName)&&this.tabIndexTable[r]&&-1!==(o=(s=this.tabIndexTable[r]).indexOf(e))&&(s.splice(o,1),this.onBuildComplete())),null!=i&&null!=this.currentWindow[i]&&0===this.currentWindow[i].length&&(this.currentWindow.slide[i]=null)},moveFocusObject:function(e,t){var n,r=this.tabIndexTable[e.indexGroupName],s=i.find(r,e),o=i.find(r,{idx:t});r=i.without(r,s),n=i.indexOf(r,o),r.splice(n,0,s),this.tabIndexTable[e.indexGroupName]=r,this.onBuildComplete()},onBuildComplete:function(){return this.currentWindow.player=this.tabIndexTable.SlideControlButton.concat(this.tabIndexTable.Presenter).concat(this.tabIndexTable.SidebarTab).concat(this.tabIndexTable.TopTabsItem).concat(this.tabIndexTable.PlayerControlButton.sort(y)),this.buildCurrentTabbables(),this.currentWindow.tabIndexTable=this.tabIndexTable,this},buildCurrentTabbables:function(){this.currentWindow.tabbables=this.currentWindow.slide.reduce(function(e,t,n){var r=i.isArray(t)?i.compact(t):[t];return e.concat(r)}.bind(this),[]).concat(this.currentWindow.player)},changeFocus:function(e){e?this.focusPrevItem():this.focusNextItem()},getCurrentItem:function(){return this.currentItem},setCurrentItem:function(e){this.currentItem=e,null==e?p.hide():this.lastCurrentItem=e},setCurrentItemAndFocus:function(e){this.setCurrentItem(e),p.show(e)},unsetCurrentItemAndFocus:function(){this.resetCurrentIndex(),this.setCurrentItem(null),p.hide()},resetCurrentIndex:function(){return this.currentIndex=-1,this},incrementIndex:function(e){return this.incrementing=!0,e+1<this.currentWindow.tabbables.length?e+1:0},decrementIndex:function(e){return this.incrementing=!1,e-1>=0?e-1:this.currentWindow.tabbables.length-1},getCurrentTabbable:function(){var e=this.currentWindow.tabbables[this.currentIndex];return null!=e&&e.isDynamic&&e!==s.dynamicTabEls[e.idx]&&(e=s.dynamicTabEls[e.idx]||e),e},getCurrentFocusController:function(){return this.currentItem.dsFocusController?this.currentItem.dsFocusController:this.currentItem},getItemIsVisible:function(e){var t;return i.isFunction(e.isVisible)?e.isVisible()&&!a.closest(e.el,function(e){return a.hasClass(e,"hidden")})&&(!e.props.model||!e.props.model.isKind("expandinglabel")||!0===e.getPlayerProp("Expanded")):(t=n.findDOMNode(e),!a.closest(t,function(e){return a.hasClass(e,"hidden")}))},resetForModal:function(){this.clearTab().resetCurrentIndex().onBuildComplete().updateKeyMap()},setCurrentModal:function(e){if(this.buildCurrentTabbables(),null!=e){var t=d.getChildAtLowestTabIndex(e);null!=t&&(this.resetForModal(),this.focusItem(t),p.hide())}},isOutsideModal:function(e){return t.getCurrentWindowSlide().slideLayers().filter(function(e){return e.get("modal")&&e.visibleState}).length>0&&(null!=r.getPath(e,"refs.innard")&&!e.props.model.getClosestAncestorByAttr("modal",!0))},skipItem:function(e){return!this.getItemIsVisible(e)||!this.getItemIsTabbable(e)||this.isOutsideModal(e)},getItemIsTabbable:function(e){var t=r.getPath(e,"refs.innard",e);return!t.isTabbable||t.isTabbable()},focusMoveItem:function(e){var t=Math.max(0,this.currentIndex),i=this[e?"incrementIndex":"decrementIndex"].bind(this);if(0!==this.currentWindow.tabbables.length){for(this.currentIndex=i(this.currentIndex);this.skipItem(this.getCurrentTabbable());)if(this.currentIndex=i(this.currentIndex),this.currentIndex===t)return;this.implementFocus()}},focusItem:function(e,t){this.getItemIsVisible(e)&&this.getCurrentItem()!==e&&this.currentWindow.tabbables&&(this.currentIndex=this.currentWindow.tabbables.indexOf(e),this.implementFocus(t))},implementFocus:function(e){this.currentItem&&this.getCurrentFocusController().loseFocus(this.currentItem),this.setCurrentItem(this.getCurrentTabbable()),null!=this.getCurrentItem()?this.getCurrentFocusController().gainFocus(this.currentItem,e):f("implementFocus","Tried to focus on non-focusable item")},copyTabIndicies:function(e){S[e].slide=S.mainWindow.slide,this.onBuildComplete()},enableControlsKeyShortcuts:function(e){this.frameControlKeysEnabled=e},checkKeyUpEvent:function(e){this.updateKeyMap(e,!1),this.clearLastKey()},shouldTriggerFrameControl:function(e){var t=e.which;return!(b()||!this.frameControlKeysEnabled||this.keys.SHIFT||this.keys.CONTROL||this.lastKeyEvent&&this.lastKeyEvent.which===t)&&(this.lastKeyEvent=e,!e.altKey&&!e.ctrlKey&&!e.shiftKey)},executeKeypressEvent:function(e,n,r){var o,a,l,u,c,h,p,d;if(null==r&&(r=null!=(l=t.getCurrentWindowSlide())?l.slideLayers().activeLayers.slice(0):[],(u=i.findIndex(r,e))>0&&(r.length=u)),this.lastKeyPressTargets.push(e),i.contains(["CONTROL","SHIFT","ALT"],s.keys[n.keyCode])||(e.prop((h=(c=n).keyCode,p=String.fromCharCode(h),d=[],h>=48&&h<=90?d.push(p):(null!=s.keys[h]?d.push(s.keys[h]):d=d.concat(["#",h]),d.unshift("["),d.push("]")),c.altKey&&d.unshift("[ALT] + "),c.shiftKey&&d.unshift("[SHIFT] + "),c.ctrlKey&&d.unshift("[CTRL] + "),{LastKeyCodeString:d.join(""),LastKeyCode:h,LastKeyValue:p,LastKeyCtrl:c.ctrlKey,LastKeyShift:c.shiftKey,LastKeyAlt:c.altKey})),e.executePlayerEvent("onanykeypress")),e.executeFilteredPlayerEvent(function(e){return e.keycode===n.keyCode&&e.shift===n.shiftKey&&e.ctrl===n.ctrlKey&&e.alt===n.altKey},"onkeypress"),e.isSlideObject&&null==(o=e.getClosestAncestor(function(e){return e.isSlideObject}))&&((a=e.getLayer()).isBaseLayer()?r=[]:r.length=i.findIndex(r,a)+1),null==o)do{o=r.pop()}while(null!=o&&!o.isOpen);null==o&&(o=e.getClosestAncestor(function(e){return e.isSlide})),null!=o&&this.executeKeypressEvent(o,n,r)},clearLastKey:function(){this.lastKeyEvent=null,i.forEach(this.lastKeyPressTargets,function(e){e.resetPropsExcept(i.difference(e.getPlayerProps().keys(),["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"]))}),this.lastKeyPressTargets=[]}};return i.extend(x,{focusNextItem:i.partial(x.focusMoveItem,!0),focusPrevItem:i.partial(x.focusMoveItem,!1)}),x}),define("helpers/stringTabler",["require","helpers/errorManager","helpers/pubSub","helpers/events"],function(e){"use strict";var t,i=e("helpers/errorManager"),n=e("helpers/pubSub"),r=e("helpers/events");return{initialize:function(e){var i=e.layouts().get(e.get("default_layout"));t=e.stringTables().get(i.string_table).string},reInit:function(e){t=e,n.trigger(r.strings.UPDATE_STRINGS)},getString:function(e,n){var r=t[e];return null==r&&(r=e,i.throwErrorSoft("getString","could not resolve the string",i.backtick(e))),r}}}),define("views/mixins/stringable",["require","lodash","helpers/stringTabler","helpers/pubSub","helpers/events"],function(e){"use strict";var t=e("lodash"),i=e("helpers/stringTabler"),n=e("helpers/pubSub"),r=e("helpers/events");return{getInitialState:function(){return this.getStringTitles()},componentWillMount:function(){n.on(r.strings.UPDATE_STRINGS,function(){this.setState(this.getStringTitles())},this)},componentWillUnmount:function(){n.off(r.strings.UPDATE_STRINGS,null,this)},getStringTitles:function(){var e=t.result(this,"stringTitles");return e?t.transform(e,function(e,t,n){var r,s,o;e[(o=n,["i18n",o].join(""))]=(r=t,null!=(s=i.getString(r))?s:r)}):{}}}}),define("views/mixins/baseView",["require","lodash","backbone","react","react-dom","helpers/keyManager","mixins/subscribable","mixins/shortEventable","views/mixins/stringable","helpers/cssPrefix","helpers/errorManager","helpers/utils","helpers/vow","polyfills/detection"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),r=(e("react"),e("react-dom")),s=e("helpers/keyManager"),o=e("mixins/subscribable"),a=e("mixins/shortEventable"),l=e("views/mixins/stringable"),u=e("helpers/cssPrefix"),c=e("helpers/errorManager"),h=e("helpers/utils"),p=e("helpers/vow"),d=e("polyfills/detection"),f=c.backtick,m=c.throwError("baseView"),g="Must specify a "+f("displayName"),v=function(e){return i.values(e.refs)},y=function(e){return null!=e.currView},b={mixins:[n.Events,o,a,l],getInitialState:function(){return{isVisible:null==this.initialVisibility||this.initialVisibility}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||m("baseView",g),this.template||(this.template=t.getTemplate(this.displayName)),this.cssTransform=u.camelCase("transform"),this.cssTransformOrigin=u.camelCase("transform-origin"),this.cssTransitionDuration=u.camelCase("transition-duration"),this.cssTransitionProperty=u.camelCase("transition-property"),this.cssTransitionTimingFunc=u.camelCase("transition-timing-function")},componentDidMount:function(e){e||(this.el=r.findDOMNode(this),this.setOrRemoveTabManagement(!0),null==this.props.model||this.props.isInnard||(this.props.model.currView=this))},componentWillUnmount:function(){this.stopListening(),this.setOrRemoveTabManagement(!1),null==this.props.model||this.props.isInnard||(this.props.model.currView=null)},setOrRemoveTabManagement:function(e){var t;if(!d.isTouchableTheme&&(null!=this.el&&(t=d.isMobile?"touchstart":"click",this.el[e?"addEventListener":"removeEventListener"](t,this.onFocusClick,!0)),!d.isMobile&&(!this.props.model||this.props.model.get&&!1!==this.props.model.get("tabEnabled")))){var i,n=this.props.model&&this.props.model.prop&&this.props.model.prop("tabIndex"),r=!0===e?"addItem":"removeItem",o=this.props.model&&this.props.model.isKind&&this.props.model.isKind("slideframe"),a=this.props.slideFrame,l=a&&a.props.model.prop("tabIndex");n>=0&&!0!==this.props.isInnard&&!o&&(this.idx=n,s[r](this,!1,l)),this.getTabbableItems&&null!=(i=this.getTabbableItems())&&i.forEach(function(e){s[r](e,!0)})}},shouldComponentUpdate:function(e,t){return window.globals.isUpdatingPreview||(!h.shallowEqual(this.props,e)||!h.shallowEqual(this.state,t))&&(!this.shouldUpdate||this.shouldUpdate(e,t))},htmlReady:function(e){window.requestAnimationFrame(e)},afterHtmlReady:function(e){this.htmlReady(function(){this.htmlReady(e)}.bind(this))},onShown:function(e){for(var t,n=this.props.model,r=[];null!=n;)null!=n.currView&&n.currView.isVisible()||(t=new p.Deferred,n.once("shown",t.resolve),r.push(t.promise())),n=n.getClosestAncestor(y);p.after.apply(p,r).then(i.partial(this.htmlReady,e))},find:function(e){return this.el.querySelector(e)},findAll:function(e){return i.toArray(this.el.querySelectorAll(e))},findAllComponents:function(e){for(var t=0,n=v(this);t<n.length;)n.push.apply(n,v(n[t])),t++;return i.where(n,{displayName:e})},findComponent:function(e){for(var t,n=0,r=i.isString(e),s=v(this);(t=s[n])&&n<s.length;){if(r&&t.displayName===e||!r&&t===e)return t;s.push.apply(s,v(t)),n++}},render:function(){return this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(e){return e=null==e?!this.isVisible():e,this.setState({isVisible:e}),this},isVisible:function(){var e=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?!!this.props.model.isKind("shufflegroup")||e.OnStage&&!e.HiddenByLayer:this.state.isVisible},isEnabled:function(){return this.enabledHook?this.enabledHook():this.getPlayerProp&&!0===this.getPlayerProp("Enabled")},getPath:function(e){return h.getPath(this,e)},setTemplateManager:function(e){t=e},getTemplateManager:function(){return t},hex:function(e){return h.hexify(e)},quotify:function(e){return h.quote(e)},gainFocus:function(e,t){this.isMounted()&&(i.isFunction(this.stealFocus)?this.stealFocus(e,t):(t||this.setState({tabFocused:!0}),this.el.focus())),this.setLayerScroll()},loseFocus:function(e){this.isMounted()&&(i.isFunction(this.releaseFocus)?this.releaseFocus(e):(this.setState({tabFocused:!1}),this.el.blur()))},onActionKey:function(e,t){return!(i.includes(h.getPath(this,"state.ObjectState"),"_Disabled")||!i.isFunction(this.actionKeyCallback))&&this.actionKeyCallback(e,t)},onTreeKey:function(e,t,n){return!!i.isFunction(this.treeKeyCallback)&&this.treeKeyCallback(e,t,n)},previewMouseEvent:function(e){return d.isMobilePreview?e:null},onFocusClick:function(e){if(null!=this.getFocusTarget){var t=this.getFocusTarget(e);null!=t&&s.focusItem(t,!0)}},setLayerScroll:function(){i.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return b.show=i.partial(b.toggleVisibility,!0),b.hide=i.partial(b.toggleVisibility,!1),b}),define("views/SvgLibrary",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";e("lodash"),e("helpers/utils");var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"SvgLibrary",mixins:[i]})});var CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},r=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),s=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;e=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<e;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return s.create(i,t)}}),o=i.enc={},a=o.Hex={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return s.create(i,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,i=(e=e.sigBytes,[]),n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return s.create(i,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=s.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o);t=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,r=e.min(4*t,r);if(t){for(var l=0;l<t;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=r}return s.create(l,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,i){return e.create(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return h.HMAC.create(e,i).finalize(t)}}});var h=i.algo={};return i}(Math),TinCan;!function(){var e=CryptoJS,t=(i=e.lib).WordArray,i=i.Hasher,n=[],r=e.algo.SHA1=i.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=0;80>u;u++){if(16>u)n[u]=0|e[t+u];else{var c=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=c<<1|c>>>31}c=(r<<5|r>>>27)+l+n[u],c=20>u?c+(1518500249+(s&o|~s&a)):40>u?c+(1859775393+(s^o^a)):60>u?c+((s&o|s&a|o&a)-1894007588):c+((s^o^a)-899497514),l=a,a=o,o=s<<30|s>>>2,s=r,r=c}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process()}});e.SHA1=i._createHelper(r),e.HmacSHA1=i._createHmacHelper(r)}(),function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],s=0;s<i;s+=3)for(var o=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<i;a++)r.push(n.charAt(o>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var i=(e=e.replace(/\s/g,"")).length,n=this._map,r=n.charAt(64);if(r){var s=e.indexOf(r);-1!=s&&(i=s)}for(var o=[],a=0,l=0;l<i;l++)if(l%4){var u=n.indexOf(e.charAt(l-1))<<l%4*2,c=n.indexOf(e.charAt(l))>>>6-l%4*2;o[a>>>2]|=(u|c)<<24-a%4*8,a++}return t.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){"use strict";var e={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(e){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(e)}).prototype={LOG_SRC:"TinCan",log:function(e,t){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(t=t||this.LOG_SRC||"TinCan",console.log("TinCan."+t+": "+e))},init:function(e){var t;if(this.log("init"),(e=e||{}).hasOwnProperty("url")&&""!==e.url&&this._initFromQueryString(e.url),e.hasOwnProperty("recordStores")&&void 0!==e.recordStores)for(t=0;t<e.recordStores.length;t+=1)this.addRecordStore(e.recordStores[t]);e.hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),e.hasOwnProperty("actor")&&(e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),e.hasOwnProperty("registration")&&(this.registration=e.registration)},_initFromQueryString:function(t){this.log("_initFromQueryString");var i,n,r,s=TinCan.Utils.parseURL(t).params,o=["endpoint","auth"],a={},l=null;if(s.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+s.actor);try{this.actor=TinCan.Agent.fromJSON(s.actor),delete s.actor}catch(e){this.log("_initFromQueryString - failed to set actor: "+e)}}if(s.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:s.activity_id}),delete s.activity_id),(s.hasOwnProperty("activity_platform")||s.hasOwnProperty("registration")||s.hasOwnProperty("grouping"))&&(r={},s.hasOwnProperty("activity_platform")&&(r.platform=s.activity_platform,delete s.activity_platform),s.hasOwnProperty("registration")&&(r.registration=this.registration=s.registration,delete s.registration),s.hasOwnProperty("grouping")&&(r.contextActivities={},r.contextActivities.grouping=s.grouping,delete s.grouping),this.context=new TinCan.Context(r)),s.hasOwnProperty("endpoint")){for(i=0;i<o.length;i+=1)n=o[i],s.hasOwnProperty(n)&&(a[n]=s[n],delete s[n]);for(i in s)s.hasOwnProperty(i)&&(e.hasOwnProperty(i)?delete s[i]:(l=l||{})[i]=s[i]);null!==l&&(a.extended=l),a.allowFail=!1,this.addRecordStore(a)}},addRecordStore:function(e){var t;this.log("addRecordStore"),t=e instanceof TinCan.LRS?e:new TinCan.LRS(e),this.recordStores.push(t)},prepareStatement:function(e){return this.log("prepareStatement"),e instanceof TinCan.Statement||(e=new TinCan.Statement(e)),null===e.actor&&null!==this.actor&&(e.actor=this.actor),null===e.target&&null!==this.activity&&(e.target=this.activity),null!==this.context&&(null===e.context?e.context=this.context:(null===e.context.registration&&(e.context.registration=this.context.registration),null===e.context.platform&&(e.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===e.context.contextActivities?e.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===e.context.contextActivities.grouping&&(e.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===e.context.contextActivities.parent&&(e.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===e.context.contextActivities.other&&(e.context.contextActivities.other=this.context.contextActivities.other))))),e},sendStatement:function(e,t){this.log("sendStatement");var i,n,r,s=this,o=this.prepareStatement(e),a=this.recordStores.length,l=[],u=[];if(a>0)for("function"==typeof t&&(r=function(e,i){var n;s.log("sendStatement - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):s.log("sendStatement - unexpected record store count: "+a)}),n=0;n<a;n+=1)i=this.recordStores[n],l.push(i.saveStatement(o,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,o]);return{statement:o,results:l}},getStatement:function(e,t){if(this.log("getStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveStatement(e,{callback:t});this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(e,t,i){this.log("voidStatement");var n,r,s,o,a,l=this,u=this.recordStores.length,c=[],h=[];if(e instanceof TinCan.Statement&&(e=e.id),void 0!==i.actor?r=i.actor:null!==this.actor&&(r=this.actor),s=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:e}}),u>0)for("function"==typeof t&&(a=function(e,i){var n;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:e,xhr:i})):1===u?(h.push({err:e,xhr:i}),n=[h,s],t.apply(this,n)):l.log("voidStatement - unexpected record store count: "+u)}),o=0;o<u;o+=1)n=this.recordStores[o],c.push(n.saveStatement(s,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof t&&t.apply(this,[null,s]);return{statement:s,results:c}},getVoidedStatement:function(e,t){if(this.log("getVoidedStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveVoidedStatement(e,{callback:t});this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(e,t){this.log("sendStatements");var i,n,r,s=this,o=[],a=this.recordStores.length,l=[],u=[];if(0===e.length)"function"==typeof t&&t.apply(this,[null,o]);else{for(n=0;n<e.length;n+=1)o.push(this.prepareStatement(e[n]));if(a>0)for("function"==typeof t&&(r=function(e,i){var n;s.log("sendStatements - callbackWrapper: "+a),a>1?(a-=1,u.push({err:e,xhr:i})):1===a?(u.push({err:e,xhr:i}),n=[u,o],t.apply(this,n)):s.log("sendStatements - unexpected record store count: "+a)}),n=0;n<a;n+=1)i=this.recordStores[n],l.push(i.saveStatements(o,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof t&&t.apply(this,[null,o])}return{statements:o,results:l}},getStatements:function(e){this.log("getStatements");var t,i,n={};if(this.recordStores.length>0)return t=this.recordStores[0],i=(e=e||{}).params||{},e.sendActor&&null!==this.actor&&("0.9"===t.version||"0.95"===t.version?i.actor=this.actor:i.agent=this.actor),e.sendActivity&&null!==this.activity&&("0.9"===t.version||"0.95"===t.version?i.target=this.activity:i.activity=this.activity),void 0===i.registration&&null!==this.registration&&(i.registration=this.registration),n={params:i},void 0!==e.callback&&(n.callback=e.callback),t.queryStatements(n);this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(e,t){var i,n;if(this.log("getState"),this.recordStores.length>0)return n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor,activity:void 0!==t.activity?t.activity:this.activity},void 0!==t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),void 0!==t.callback&&(i.callback=t.callback),n.retrieveState(e,i);this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(e,t,i){var n,r;if(this.log("setState"),this.recordStores.length>0)return r=this.recordStores[0],n={agent:void 0!==(i=i||{}).agent?i.agent:this.actor,activity:void 0!==i.activity?i.activity:this.activity},void 0!==i.registration?n.registration=i.registration:null!==this.registration&&(n.registration=this.registration),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),void 0!==i.callback&&(n.callback=i.callback),r.saveState(e,t,n);this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(e,t){var i,n;if(this.log("deleteState"),this.recordStores.length>0)return n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor,activity:void 0!==t.activity?t.activity:this.activity},void 0!==t.registration?i.registration=t.registration:null!==this.registration&&(i.registration=this.registration),void 0!==t.callback&&(i.callback=t.callback),n.dropState(e,i);this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(e,t){var i,n;if(this.log("getActivityProfile"),this.recordStores.length>0)return n=this.recordStores[0],i={activity:void 0!==(t=t||{}).activity?t.activity:this.activity},void 0!==t.callback&&(i.callback=t.callback),n.retrieveActivityProfile(e,i);this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(e,t,i){var n,r;if(this.log("setActivityProfile"),this.recordStores.length>0)return r=this.recordStores[0],n={activity:void 0!==(i=i||{}).activity?i.activity:this.activity},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),r.saveActivityProfile(e,t,n);this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(e,t){var i,n;if(this.log("deleteActivityProfile"),this.recordStores.length>0)return n=this.recordStores[0],i={activity:void 0!==(t=t||{}).activity?t.activity:this.activity},void 0!==t.callback&&(i.callback=t.callback),n.dropActivityProfile(e,i);this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(e,t){var i,n;if(this.log("getAgentProfile"),this.recordStores.length>0)return n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor},void 0!==t.callback&&(i.callback=t.callback),n.retrieveAgentProfile(e,i);this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(e,t,i){var n,r;if(this.log("setAgentProfile"),this.recordStores.length>0)return r=this.recordStores[0],n={agent:void 0!==(i=i||{}).agent?i.agent:this.actor},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&(n.lastSHA1=i.lastSHA1),void 0!==i.contentType&&(n.contentType=i.contentType,void 0!==i.overwriteJSON&&!i.overwriteJSON&&TinCan.Utils.isApplicationJSON(i.contentType)&&(n.method="POST")),r.saveAgentProfile(e,t,n);this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(e,t){var i,n;if(this.log("deleteAgentProfile"),this.recordStores.length>0)return n=this.recordStores[0],i={agent:void 0!==(t=t||{}).agent?t.agent:this.actor},void 0!==t.callback&&(i.callback=t.callback),n.dropAgentProfile(e,i);this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=TinCan)}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},getISODateString:function(e){function t(e,t){var i,n;for(null==e&&(e=0),null==t&&(t=2),i=Math.pow(10,t-1),n=e.toString();e<i&&i>1;)n="0"+n,i/=10;return n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+t(e.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(e){var t,i,n,r,s=e.indexOf("-")>=0,o=e.indexOf("T"),a=e.indexOf("H"),l=e.indexOf("M"),u=e.indexOf("S");if(-1===o||-1!==l&&l<o||-1!==e.indexOf("D")||-1!==e.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=o,t=0):t=parseInt(e.slice(o+1,a),10),-1===l?(l=o,i=0):i=parseInt(e.slice(a+1,l),10),n=parseFloat(e.slice(l+1,u)),r=parseInt(1e3*(60*(60*t+i)+n),10),isNaN(r)&&(r=0),s&&(r*=-1),r},convertMillisecondsToISO8601Duration:function(e){var t,i,n=parseInt(e,10),r="",s="";return n<0&&(r="-",n*=-1),s=r+"PT",(t=parseInt(n/36e5,10))>0&&(s+=t+"H"),(i=parseInt(n%36e5/6e4,10))>0&&(s+=i+"M"),s+=n%36e5%6e4/1e3+"S"},getSHA1String:function(e){return CryptoJS.SHA1(e).toString(CryptoJS.enc.Hex)},getBase64String:function(e){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(e))},getLangDictionaryValue:function(e,t){var i,n=this[e];if(void 0!==t&&void 0!==n[t])return n[t];if(void 0!==n.und)return n.und;if(void 0!==n["en-US"])return n["en-US"];for(i in n)if(n.hasOwnProperty(i))return n[i];return""},parseURL:function(e){var t,i,n,r,s=/\+/g,o=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(s," "))};if(t=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(n={protocol:(i=e.match(t))[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7],params:{}}).path=n.protocol+"//"+n.host+n.pathname,""!==n.search)for(;r=o.exec(n.search.substring(1));)n.params[a(r[1])]=a(r[2]);return n},getServerRoot:function(e){var t=e.split("/");return t[0]+"//"+t[2]},getContentTypeFromHeader:function(e){return String(e).split(";")[0]},isApplicationJSON:function(e){return 0===TinCan.Utils.getContentTypeFromHeader(e).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var e=TinCan.LRS=function(e){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(e)};e.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=TinCan.versions(),n=!1;if((e=e||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!e.hasOwnProperty("endpoint")||null===e.endpoint||""===e.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(e.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),e.hasOwnProperty("allowFail")&&(this.allowFail=e.allowFail),e.hasOwnProperty("auth")?this.auth=e.auth:e.hasOwnProperty("username")&&e.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(e.username+":"+e.password)),e.hasOwnProperty("extended")&&(this.extended=e.extended),this._initByEnvironment(e),void 0!==e.version){for(this.log("version: "+e.version),t=0;t<i.length;t+=1)if(i[t]===e.version){n=!0;break}if(!n)throw this.log("[error] LRS invalid: version not supported ("+e.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+e.version+")"};this.version=e.version}else this.version=i[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(e){this.log("sendRequest");var t,i=this.endpoint+e.url,n={};if(0===e.url.indexOf("http")&&(i=e.url),null!==this.extended)for(t in e.params=e.params||{},this.extended)this.extended.hasOwnProperty(t)&&(e.params.hasOwnProperty(t)||null!==this.extended[t]&&(e.params[t]=this.extended[t]));for(t in n.Authorization=this.auth,"0.9"!==this.version&&(n["X-Experience-API-Version"]=this.version),e.headers)e.headers.hasOwnProperty(t)&&(n[t]=e.headers[t]);return this._makeRequest(i,n,e)},about:function(e){var t,i,n;if(this.log("about"),t={url:"about",method:"GET",params:{}},void 0!==(e=e||{}).callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.About.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),i=this.sendRequest(t),!n)return null===i.err&&(i.xhr=TinCan.About.fromJSON(i.xhr.responseText)),i},saveStatement:function(e,t){var i,n;this.log("saveStatement"),t=t||{};try{n=e.asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(e,null):{err:e,xhr:null})}return i={url:"statements",data:JSON.stringify(n),headers:{"Content-Type":"application/json"}},null!==e.id?(i.method="PUT",i.params={statementId:e.id}):i.method="POST",void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveStatement:function(e,t){var i,n,r;return this.log("retrieveStatement"),i={url:"statements",method:"GET",params:{statementId:e}},void 0!==(t=t||{}).callback&&(r=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=r),n=this.sendRequest(i),r||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},retrieveVoidedStatement:function(e,t){var i,n,r;return this.log("retrieveVoidedStatement"),t=t||{},i={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?i.params.statementId=e:i.params.voidedStatementId=e,void 0!==t.callback&&(r=function(e,i){var n=i;null===e&&(n=TinCan.Statement.fromJSON(i.responseText)),t.callback(e,n)},i.callback=r),n=this.sendRequest(i),r||(n.statement=null,null===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText))),n},saveStatements:function(e,t){this.log("saveStatements");var i,n,r,s=[];if(t=t||{},0===e.length)return void 0!==t.callback?void t.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<e.length;r+=1){try{n=e[r].asVersion(this.version)}catch(e){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+e),void 0!==t.callback?void t.callback(e,null):{err:e,xhr:null})}s.push(n)}return i={url:"statements",method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}},void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},queryStatements:function(e){var t,i,n;this.log("queryStatements"),(e=e||{}).params=e.params||{};try{t=this._queryStatementsRequestCfg(e)}catch(t){return this.log("[error] Query statements failed - "+t),void 0!==e.callback&&e.callback(t,{}),{err:t,statementsResult:null}}return void 0!==e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),(i=this.sendRequest(t)).config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},_queryStatementsRequestCfg:function(e){this.log("_queryStatementsRequestCfg");var t,i,n={},r={url:"statements",method:"GET",params:n},s=["agent","actor","object","instructor"],o=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(i in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],e.params.hasOwnProperty("target")&&(e.params.object=e.params.target),e.params)if(e.params.hasOwnProperty(i)&&void 0===l[i]&&void 0===u[this.version].supported[i])throw"Unrecognized query parameter configured: "+i;for(t=0;t<s.length;t+=1)void 0!==e.params[s[t]]&&(n[s[t]]=JSON.stringify(e.params[s[t]].asVersion(this.version)));for(t=0;t<o.length;t+=1)void 0!==e.params[o[t]]&&(n[o[t]]=e.params[o[t]].id);for(t=0;t<a.length;t+=1)void 0!==e.params[a[t]]&&(n[a[t]]=e.params[a[t]]);return r},moreStatements:function(e){var t,i,n,r,s;return this.log("moreStatements: "+e.url),e=e||{},r=TinCan.Utils.parseURL(e.url),s=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(s,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),t={method:"GET",url:s+r.path,params:r.params},void 0!==e.callback&&(n=function(t,i){var n=i;null===t&&(n=TinCan.StatementsResult.fromJSON(i.responseText)),e.callback(t,n)},t.callback=n),(i=this.sendRequest(t)).config=t,n||(i.statementsResult=null,null===i.err&&(i.statementsResult=TinCan.StatementsResult.fromJSON(i.xhr.responseText))),i},retrieveState:function(e,t){this.log("retrieveState");var i,n,r={},s={};if(r={stateId:e,activityId:t.activity.id},"0.9"===this.version?r.actor=JSON.stringify(t.agent.asVersion(this.version)):r.agent=JSON.stringify(t.agent.asVersion(this.version)),void 0!==t.registration&&null!==t.registration&&("0.9"===this.version?r.registrationId=t.registration:r.registration=t.registration),s={url:"activities/state",method:"GET",params:r,ignore404:!0},void 0!==t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.State({id:e,contents:n.responseText}),void 0!==n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),void 0!==n.contentType?r.contentType=n.contentType:void 0!==n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(e){this.log("retrieveState - failed to deserialize JSON: "+e)}t.callback(i,r)},s.callback=n),i=this.sendRequest(s),!n&&(i.state=null,null===i.err&&404!==i.xhr.status&&(i.state=new TinCan.State({id:e,contents:i.xhr.responseText}),void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.state.etag=i.xhr.getResponseHeader("ETag"):i.state.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),void 0!==i.xhr.contentType?i.state.contentType=i.xhr.contentType:void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.state.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.state.contentType))))try{i.state.contents=JSON.parse(i.state.contents)}catch(e){this.log("retrieveState - failed to deserialize JSON: "+e)}return i},saveState:function(e,t,i){var n,r;return this.log("saveState"),void 0===i.contentType&&(i.contentType="application/octet-stream"),"object"===(void 0===t?"undefined":_typeof(t))&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),n={stateId:e,activityId:i.activity.id},"0.9"===this.version?n.actor=JSON.stringify(i.agent.asVersion(this.version)):n.agent=JSON.stringify(i.agent.asVersion(this.version)),void 0!==i.registration&&null!==i.registration&&("0.9"===this.version?n.registrationId=i.registration:n.registration=i.registration),r={url:"activities/state",method:i.method,params:n,data:t,headers:{"Content-Type":i.contentType}},void 0!==i.callback&&(r.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1&&(r.headers["If-Match"]=i.lastSHA1),this.sendRequest(r)},dropState:function(e,t){var i,n;return this.log("dropState"),i={activityId:t.activity.id},"0.9"===this.version?i.actor=JSON.stringify(t.agent.asVersion(this.version)):i.agent=JSON.stringify(t.agent.asVersion(this.version)),null!==e&&(i.stateId=e),void 0!==t.registration&&null!==t.registration&&("0.9"===this.version?i.registrationId=t.registration:i.registration=t.registration),n={url:"activities/state",method:"DELETE",params:i},void 0!==t.callback&&(n.callback=t.callback),this.sendRequest(n)},retrieveActivityProfile:function(e,t){this.log("retrieveActivityProfile");var i,n,r={};if(r={url:"activities/profile",method:"GET",params:{profileId:e,activityId:t.activity.id},ignore404:!0},void 0!==t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:n.responseText}),void 0!==n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),void 0!==n.contentType?r.contentType=n.contentType:void 0!==n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(e){this.log("retrieveActivityProfile - failed to deserialize JSON: "+e)}t.callback(i,r)},r.callback=n),i=this.sendRequest(r),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.ActivityProfile({id:e,activity:t.activity,contents:i.xhr.responseText}),void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),void 0!==i.xhr.contentType?i.profile.contentType=i.xhr.contentType:void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(e){this.log("retrieveActivityProfile - failed to deserialize JSON: "+e)}return i},saveActivityProfile:function(e,t,i){var n;return this.log("saveActivityProfile"),void 0===i.contentType&&(i.contentType="application/octet-stream"),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),"object"===(void 0===t?"undefined":_typeof(t))&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={url:"activities/profile",method:i.method,params:{profileId:e,activityId:i.activity.id},data:t,headers:{"Content-Type":i.contentType}},void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropActivityProfile:function(e,t){var i;return this.log("dropActivityProfile"),i={url:"activities/profile",method:"DELETE",params:{profileId:e,activityId:t.activity.id}},void 0!==t.callback&&(i.callback=t.callback),this.sendRequest(i)},retrieveAgentProfile:function(e,t){this.log("retrieveAgentProfile");var i,n,r={};if(r={method:"GET",params:{profileId:e},ignore404:!0},"0.9"===this.version?(r.url="actors/profile",r.params.actor=JSON.stringify(t.agent.asVersion(this.version))):(r.url="agents/profile",r.params.agent=JSON.stringify(t.agent.asVersion(this.version))),void 0!==t.callback&&(n=function(i,n){var r=n;if(null===i)if(404===n.status)r=null;else if(r=new TinCan.AgentProfile({id:e,agent:t.agent,contents:n.responseText}),void 0!==n.getResponseHeader&&null!==n.getResponseHeader("ETag")&&""!==n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(n.responseText),void 0!==n.contentType?r.contentType=n.contentType:void 0!==n.getResponseHeader&&null!==n.getResponseHeader("Content-Type")&&""!==n.getResponseHeader("Content-Type")&&(r.contentType=n.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(e){this.log("retrieveAgentProfile - failed to deserialize JSON: "+e)}t.callback(i,r)},r.callback=n),i=this.sendRequest(r),!n&&(i.profile=null,null===i.err&&404!==i.xhr.status&&(i.profile=new TinCan.AgentProfile({id:e,agent:t.agent,contents:i.xhr.responseText}),void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("ETag")&&""!==i.xhr.getResponseHeader("ETag")?i.profile.etag=i.xhr.getResponseHeader("ETag"):i.profile.etag=TinCan.Utils.getSHA1String(i.xhr.responseText),void 0!==i.xhr.contentType?i.profile.contentType=i.xhr.contentType:void 0!==i.xhr.getResponseHeader&&null!==i.xhr.getResponseHeader("Content-Type")&&""!==i.xhr.getResponseHeader("Content-Type")&&(i.profile.contentType=i.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(i.profile.contentType))))try{i.profile.contents=JSON.parse(i.profile.contents)}catch(e){this.log("retrieveAgentProfile - failed to deserialize JSON: "+e)}return i},saveAgentProfile:function(e,t,i){var n;return this.log("saveAgentProfile"),void 0===i.contentType&&(i.contentType="application/octet-stream"),void 0!==i.method&&"POST"===i.method||(i.method="PUT"),"object"===(void 0===t?"undefined":_typeof(t))&&TinCan.Utils.isApplicationJSON(i.contentType)&&(t=JSON.stringify(t)),n={method:i.method,params:{profileId:e},data:t,headers:{"Content-Type":i.contentType}},"0.9"===this.version?(n.url="actors/profile",n.params.actor=JSON.stringify(i.agent.asVersion(this.version))):(n.url="agents/profile",n.params.agent=JSON.stringify(i.agent.asVersion(this.version))),void 0!==i.callback&&(n.callback=i.callback),void 0!==i.lastSHA1&&null!==i.lastSHA1?n.headers["If-Match"]=i.lastSHA1:n.headers["If-None-Match"]="*",this.sendRequest(n)},dropAgentProfile:function(e,t){var i,n;return this.log("dropAgentProfile"),n={method:"DELETE",params:i={profileId:e}},"0.9"===this.version?(n.url="actors/profile",i.actor=JSON.stringify(t.agent.asVersion(this.version))):(n.url="agents/profile",i.agent=JSON.stringify(t.agent.asVersion(this.version))),void 0!==t.callback&&(n.callback=t.callback),this.sendRequest(n)}},e.syncEnabled=null}(),function(){"use strict";var e=TinCan.AgentAccount=function(e){this.log("constructor"),this.homePage=null,this.name=null,this.init(e)};e.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["name","homePage"];for(void 0!==(e=e||{}).accountServiceHomePage&&(e.homePage=e.accountServiceHomePage),void 0!==e.accountName&&(e.name=e.accountName),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){this.log("toString");var e="";return null!==this.name||null!==this.homePage?(e+=null!==this.name?this.name:"-",e+=":",e+=null!==this.homePage?this.homePage:"-"):e="AgentAccount: unidentified",e},asVersion:function(e){this.log("asVersion: "+e);var t={};return"0.9"===(e=e||TinCan.versions()[0])?(t.accountName=this.name,t.accountServiceHomePage=this.homePage):(t.name=this.name,t.homePage=this.homePage),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Agent=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(e)};e.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(e=e||{}).lastName||void 0!==e.firstName?(e.name="",void 0!==e.firstName&&e.firstName.length>0&&(e.name=e.firstName[0],e.firstName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),void 0!==e.lastName&&e.lastName.length>0&&(e.name+=e.lastName[0],e.lastName.length>1&&(this.degraded=!0))):void 0===e.familyName&&void 0===e.givenName||(e.name="",void 0!==e.givenName&&e.givenName.length>0&&(e.name=e.givenName[0],e.givenName.length>1&&(this.degraded=!0)),""!==e.name&&(e.name+=" "),void 0!==e.familyName&&e.familyName.length>0&&(e.name+=e.familyName[0],e.familyName.length>1&&(this.degraded=!0))),"object"===_typeof(e.name)&&null!==e.name&&(e.name.length>1&&(this.degraded=!0),e.name=e.name[0]),"object"===_typeof(e.mbox)&&null!==e.mbox&&(e.mbox.length>1&&(this.degraded=!0),e.mbox=e.mbox[0]),"object"===_typeof(e.mbox_sha1sum)&&null!==e.mbox_sha1sum&&(e.mbox_sha1sum.length>1&&(this.degraded=!0),e.mbox_sha1sum=e.mbox_sha1sum[0]),"object"===_typeof(e.openid)&&null!==e.openid&&(e.openid.length>1&&(this.degraded=!0),e.openid=e.openid[0]),"object"===_typeof(e.account)&&null!==e.account&&void 0===e.account.homePage&&void 0===e.account.name&&(0===e.account.length?delete e.account:(e.account.length>1&&(this.degraded=!0),e.account=e.account[0])),e.hasOwnProperty("account")&&(e.account instanceof TinCan.AgentAccount?this.account=e.account:this.account=new TinCan.AgentAccount(e.account)),t=0;t<n.length;t+=1)e.hasOwnProperty(n[t])&&null!==e[n[t]]&&(i=e[n[t]],"mbox"===n[t]&&-1===i.indexOf("mailto:")&&(i="mailto:"+i),this[n[t]]=i)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(e){this.log("asVersion: "+e);var t={objectType:this.objectType};return"0.9"===(e=e||TinCan.versions()[0])?(null!==this.mbox?t.mbox=[this.mbox]:null!==this.mbox_sha1sum?t.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?t.openid=[this.openid]:null!==this.account&&(t.account=[this.account.asVersion(e)]),null!==this.name&&(t.name=[this.name])):(null!==this.mbox?t.mbox=this.mbox:null!==this.mbox_sha1sum?t.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?t.openid=this.openid:null!==this.account&&(t.account=this.account.asVersion(e)),null!==this.name&&(t.name=this.name)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Group=function(e){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(e)};e.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(e){var t;if(this.log("init"),e=e||{},TinCan.Agent.prototype.init.call(this,e),void 0!==e.member)for(t=0;t<e.member.length;t+=1)e.member[t]instanceof TinCan.Agent?this.member.push(e.member[t]):this.member.push(new TinCan.Agent(e.member[t]))},toString:function(e){this.log("toString");var t=TinCan.Agent.prototype.toString.call(this,e);return t!==this.objectType+": unidentified"&&(t=this.objectType+": "+t),t},asVersion:function(e){var t,i;if(this.log("asVersion: "+e),e=e||TinCan.versions()[0],t=TinCan.Agent.prototype.asVersion.call(this,e),this.member.length>0)for(t.member=[],i=0;i<this.member.length;i+=1)t.member.push(this.member[i].asVersion(e));return t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},t=TinCan.Verb=function(e){this.log("constructor"),this.id=null,this.display=null,this.init(e)};t.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,r=["id","display"];if("string"==typeof t){for(n in this.id=t,this.display={und:this.id},e)if(e.hasOwnProperty(n)&&e[n]===t){this.id=n;break}}else{for(t=t||{},i=0;i<r.length;i+=1)t.hasOwnProperty(r[i])&&null!==t[r[i]]&&(this[r[i]]=t[r[i]]);null===this.display&&void 0!==e[this.id]&&(this.display={und:e[this.id]})}},toString:function(e){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",e):this.id},asVersion:function(t){var i;return this.log("asVersion"),"0.9"===(t=t||TinCan.versions()[0])?i=e[this.id]:(i={id:this.id},null!==this.display&&(i.display=this.display)),i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Result=function(e){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["completion","duration","extensions","response","success"];for((e=e||{}).hasOwnProperty("score")&&null!==e.score&&(e.score instanceof TinCan.Score?this.score=e.score:this.score=new TinCan.Score(e.score)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(e){this.log("asVersion");var t,i={},n=["success","duration","response","extensions"],r=["score"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return null!==this.completion&&("0.9"===e?this.completion&&(i.completion="Completed"):i.completion=this.completion),i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Score=function(e){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(e)};e.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["scaled","raw","min","max"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i={},n=["scaled","raw","min","max"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.InteractionComponent=function(e){this.log("constructor"),this.id=null,this.description=null,this.init(e)};e.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","description"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},asVersion:function(e){this.log("asVersion");var t,i,n={id:this.id},r=["description"];for(e=e||TinCan.versions()[0],t=0;t<r.length;t+=1)null!==this[i=r[t]]&&(n[i]=this[i]);return n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},t=TinCan.ActivityDefinition=function(e){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(e)};t.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(t){this.log("init");var i,n,r,s=["name","description","moreInfo","extensions","correctResponsesPattern"],o=[];if((t=t||{}).hasOwnProperty("type")&&null!==t.type){for(r in e)e.hasOwnProperty(r)&&e[r]===t.type&&(t.type=e[r]);this.type=t.type}if(t.hasOwnProperty("interactionType")&&null!==t.interactionType&&(this.interactionType=t.interactionType,"choice"===t.interactionType||"sequencing"===t.interactionType?o.push("choices"):"likert"===t.interactionType?o.push("scale"):"matching"===t.interactionType?(o.push("source"),o.push("target")):"performance"===t.interactionType&&o.push("steps"),o.length>0))for(i=0;i<o.length;i+=1)if(r=o[i],t.hasOwnProperty(r)&&null!==t[r])for(this[r]=[],n=0;n<t[r].length;n+=1)t[r][n]instanceof TinCan.InteractionComponent?this[r].push(t[r][n]):this[r].push(new TinCan.InteractionComponent(t[r][n]));for(i=0;i<s.length;i+=1)t.hasOwnProperty(s[i])&&null!==t[s[i]]&&(this[s[i]]=t[s[i]])},toString:function(e){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",e):null!==this.description?this.getLangDictionaryValue("description",e):""},asVersion:function(t){this.log("asVersion");var i,n,r,s={},o=["name","description","interactionType","correctResponsesPattern","extensions"],a=["choices","scale","source","target","steps"];for(t=t||TinCan.versions()[0],null!==this.type&&(s.type="0.9"===t?e[this.type]:this.type),i=0;i<o.length;i+=1)null!==this[r=o[i]]&&(s[r]=this[r]);for(i=0;i<a.length;i+=1)if(null!==this[r=a[i]])for(s[r]=[],n=0;n<this[r].length;n+=1)s[r].push(this[r][n].asVersion(t));return 0!==t.indexOf("0.9")&&null!==this.moreInfo&&(s.moreInfo=this.moreInfo),s},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var i=JSON.parse(e);return new t(i)}}(),function(){"use strict";var e=TinCan.Activity=function(e){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(e)};e.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for((e=e||{}).hasOwnProperty("definition")&&(e.definition instanceof TinCan.ActivityDefinition?this.definition=e.definition:this.definition=new TinCan.ActivityDefinition(e.definition)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){this.log("toString");var t="";return null!==this.definition&&""!==(t=this.definition.toString(e))?t:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(e){this.log("asVersion");var t={id:this.id,objectType:this.objectType};return e=e||TinCan.versions()[0],null!==this.definition&&(t.definition=this.definition.asVersion(e)),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ContextActivities=function(e){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(e)};e.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,r,s=["category","parent","grouping","other"];for(e=e||{},t=0;t<s.length;t+=1)if(n=s[t],e.hasOwnProperty(n)&&null!==e[n])if("[object Array]"===Object.prototype.toString.call(e[n]))for(i=0;i<e[n].length;i+=1)this.add(n,e[n][i]);else r=e[n],this.add(n,r)},add:function(e,t){if("category"===e||"parent"===e||"grouping"===e||"other"===e)return null===this[e]&&(this[e]=[]),t instanceof TinCan.Activity||(t="string"==typeof t?{id:t}:t,t=new TinCan.Activity(t)),this[e].push(t),this[e].length-1},asVersion:function(e){this.log("asVersion");var t,i,n={},r=["parent","grouping","other"];for(e=e||TinCan.versions()[0],t=0;t<r.length;t+=1)if(null!==this[r[t]]&&this[r[t]].length>0)if("0.9"===e||"0.95"===e)this[r[t]].length>1&&this.log("[warning] version does not support multiple values in: "+r[t]),n[r[t]]=this[r[t]][0].asVersion(e);else for(n[r[t]]=[],i=0;i<this[r[t]].length;i+=1)n[r[t]].push(this[r[t]][i].asVersion(e));if(null!==this.category&&this.category.length>0){if("0.9"===e||"0.95"===e)throw this.log("[error] version does not support the 'category' property: "+e),new Error(e+" does not support the 'category' property");for(n.category=[],t=0;t<this.category.length;t+=1)n.category.push(this.category[t].asVersion(e))}return n}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Context=function(e){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(e)};e.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i,n,r=["registration","revision","platform","language","extensions"],s=["instructor","team"];for(e=e||{},t=0;t<r.length;t+=1)i=r[t],e.hasOwnProperty(i)&&null!==e[i]&&(this[i]=e[i]);for(t=0;t<s.length;t+=1)i=s[t],e.hasOwnProperty(i)&&null!==e[i]&&(void 0!==(n=e[i]).objectType&&"Person"!==n.objectType||(n.objectType="Agent"),"Agent"!==n.objectType||n instanceof TinCan.Agent?"Group"!==n.objectType||n instanceof TinCan.Group||(n=new TinCan.Group(n)):n=new TinCan.Agent(n),this[i]=n);e.hasOwnProperty("contextActivities")&&null!==e.contextActivities&&(e.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=e.contextActivities:this.contextActivities=new TinCan.ContextActivities(e.contextActivities)),e.hasOwnProperty("statement")&&null!==e.statement&&(e.statement instanceof TinCan.StatementRef?this.statement=e.statement:e.statement instanceof TinCan.SubStatement?this.statement=e.statement:"StatementRef"===e.statement.objectType?this.statement=new TinCan.StatementRef(e.statement):"SubStatement"===e.statement.objectType?this.statement=new TinCan.SubStatement(e.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(e){this.log("asVersion");var t,i={},n=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(e=e||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==e&&"0.95"!==e)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+e),new Error(e+" does not support SubStatements in the 'statement' property");for(t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return i}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementRef=function(e){this.log("constructor"),this.id=null,this.init(e)};e.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(){return this.log("toString"),this.id},asVersion:function(e){this.log("asVersion");var t={objectType:this.objectType,id:this.id};return"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.SubStatement=function(e){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(e)};e.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["timestamp"];for((e=e||{}).hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&(void 0!==e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:(void 0===e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i,n=["timestamp"],r=["actor","verb","result","context"];for(t={objectType:this.objectType},e=e||TinCan.versions()[0],i=0;i<n.length;i+=1)null!==this[n[i]]&&(t[n[i]]=this[n[i]]);for(i=0;i<r.length;i+=1)null!==this[r[i]]&&(t[r[i]]=this[r[i]].asVersion(e));return null!==this.target&&(t.object=this.target.asVersion(e)),"0.9"===e&&(t.objectType="Statement"),t}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.Statement=function(e,t){this.log("constructor"),void 0===(t="number"==typeof t?{storeOriginal:t}:t||{}).storeOriginal&&(t.storeOriginal=null),void 0===t.doStamp&&(t.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(e,t)};e.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(e,t){this.log("init");var i,n=["id","stored","timestamp","version","inProgress","voided"];for(e=e||{},t.storeOriginal&&(this.originalJSON=JSON.stringify(e,null,t.storeOriginal)),e.hasOwnProperty("object")&&(e.target=e.object),e.hasOwnProperty("actor")&&(void 0!==e.actor.objectType&&"Person"!==e.actor.objectType||(e.actor.objectType="Agent"),"Agent"===e.actor.objectType?e.actor instanceof TinCan.Agent?this.actor=e.actor:this.actor=new TinCan.Agent(e.actor):"Group"===e.actor.objectType&&(e.actor instanceof TinCan.Group?this.actor=e.actor:this.actor=new TinCan.Group(e.actor))),e.hasOwnProperty("authority")&&(void 0!==e.authority.objectType&&"Person"!==e.authority.objectType||(e.authority.objectType="Agent"),"Agent"===e.authority.objectType?e.authority instanceof TinCan.Agent?this.authority=e.authority:this.authority=new TinCan.Agent(e.authority):"Group"===e.authority.objectType&&(e.actor instanceof TinCan.Group?this.authority=e.authority:this.authority=new TinCan.Group(e.authority))),e.hasOwnProperty("verb")&&(e.verb instanceof TinCan.Verb?this.verb=e.verb:this.verb=new TinCan.Verb(e.verb)),e.hasOwnProperty("target")&&(e.target instanceof TinCan.Activity||e.target instanceof TinCan.Agent||e.target instanceof TinCan.Group||e.target instanceof TinCan.SubStatement||e.target instanceof TinCan.StatementRef?this.target=e.target:(void 0===e.target.objectType&&(e.target.objectType="Activity"),"Activity"===e.target.objectType?this.target=new TinCan.Activity(e.target):"Agent"===e.target.objectType?this.target=new TinCan.Agent(e.target):"Group"===e.target.objectType?this.target=new TinCan.Group(e.target):"SubStatement"===e.target.objectType?this.target=new TinCan.SubStatement(e.target):"StatementRef"===e.target.objectType?this.target=new TinCan.StatementRef(e.target):this.log("Unrecognized target type: "+e.target.objectType))),e.hasOwnProperty("result")&&(e.result instanceof TinCan.Result?this.result=e.result:this.result=new TinCan.Result(e.result)),e.hasOwnProperty("context")&&(e.context instanceof TinCan.Context?this.context=e.context:this.context=new TinCan.Context(e.context)),i=0;i<n.length;i+=1)e.hasOwnProperty(n[i])&&null!==e[n[i]]&&(this[n[i]]=e[n[i]]);t.doStamp&&this.stamp()},toString:function(e){return this.log("toString"),(null!==this.actor?this.actor.toString(e):"")+" "+(null!==this.verb?this.verb.toString(e):"")+" "+(null!==this.target?this.target.toString(e):"")},asVersion:function(e){this.log("asVersion");var t,i={},n=["id","timestamp"],r=["actor","verb","result","context","authority"];for(e=e||TinCan.versions()[0],t=0;t<n.length;t+=1)null!==this[n[t]]&&(i[n[t]]=this[n[t]]);for(t=0;t<r.length;t+=1)null!==this[r[t]]&&(i[r[t]]=this[r[t]].asVersion(e));return null!==this.target&&(i.object=this.target.asVersion(e)),"0.9"!==e&&"0.95"!==e||null!==this.voided&&(i.voided=this.voided),"0.9"===e&&null!==this.inProgress&&(i.inProgress=this.inProgress),i},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.StatementsResult=function(e){this.log("constructor"),this.statements=null,this.more=null,this.init(e)};e.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(e){this.log("init"),(e=e||{}).hasOwnProperty("statements")&&(this.statements=e.statements),e.hasOwnProperty("more")&&(this.more=e.more)}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i,n,r,s=[];try{i=JSON.parse(t)}catch(t){e.prototype.log("fromJSON - JSON.parse error: "+t)}if(i){for(r=0;r<i.statements.length;r+=1){try{n=new TinCan.Statement(i.statements[r],4)}catch(t){e.prototype.log("fromJSON - statement instantiation failed: "+t+" ("+JSON.stringify(i.statements[r])+")"),n=new TinCan.Statement({id:i.statements[r].id},4)}s.push(n)}i.statements=s}return new e(i)}}(),function(){"use strict";var e=TinCan.State=function(e){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.ActivityProfile=function(e){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for((e=e||{}).hasOwnProperty("activity")&&(e.activity instanceof TinCan.Activity?this.activity=e.activity:this.activity=new TinCan.Activity(e.activity)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.AgentProfile=function(e){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(e)};e.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["id","contents","etag","contentType"];for((e=e||{}).hasOwnProperty("agent")&&(e.agent instanceof TinCan.Agent?this.agent=e.agent:this.agent=new TinCan.Agent(e.agent)),t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]]);this.updated=!1}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var e=TinCan.About=function(e){this.log("constructor"),this.version=null,this.init(e)};e.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(e){this.log("init");var t,i=["version"];for(e=e||{},t=0;t<i.length;t+=1)e.hasOwnProperty(i[t])&&null!==e[i[t]]&&(this[i[t]]=e[i[t]])}},e.fromJSON=function(t){e.prototype.log("fromJSON");var i=JSON.parse(t);return new e(i)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"!=typeof window?(window.JSON||(window.JSON={parse:function parse(sJSON){return eval("("+sJSON+")")},stringify:function(e){var t,i,n="";if(e instanceof Object){if(e.constructor===Array){for(t=0;t<e.length;t+=1)n+=this.stringify(e[t])+",";return"["+n.substr(0,n.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(i in e)e.hasOwnProperty(i)&&(n+='"'+i.replace(/"/g,"\\$&")+'":'+this.stringify(e[i])+",");return"{"+n.substr(0,n.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(e,t,i){var n,r,s;return log("requestComplete: "+i.finished+", xhr.status: "+e.status,LOG_SRC),s=void 0===e.status?i.fakeStatus:1223===e.status?204:e.status,i.finished?n:(i.finished=!0,r=t.ignore404&&404===s,s>=200&&s<400||r?t.callback?void t.callback(null,e):n={err:null,xhr:e}:(n={err:s,xhr:e},log(0===s?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+s+")":"[warning] There was a problem communicating with the Learning Record Store. ("+s+" | "+e.responseText+")",LOG_SRC),t.callback&&t.callback(s,e),n))},__IEModeConversion=function(e,t,i,n){var r;for(r in t)t.hasOwnProperty(r)&&i.push(r+"="+encodeURIComponent(t[r]));return void 0!==n.data&&i.push("content="+encodeURIComponent(n.data)),t["Content-Type"]="application/x-www-form-urlencoded",e+="?method="+n.method,n.method="POST",n.params={},i.length>0&&(n.data=i.join("&")),e},nativeRequest=function(e,t,i){log("sendRequest using XMLHttpRequest",LOG_SRC);var n,r,s,o,a=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==i.callback,h=e;for(r in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),i.params)i.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(i.params[r]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=2048){if(void 0!==t["Content-Type"]&&"application/json"!==t["Content-Type"])return o=new Error("Unsupported content type for IE Mode request"),void 0!==i.callback&&i.callback(o,null),{err:o,xhr:null};if(void 0===i.method)return o=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==i.callback&&i.callback(o,null),{err:o,xhr:null};e=__IEModeConversion(e,t,l,i)}else e=h;for(r in(n="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(i.method,e,c),t)t.hasOwnProperty(r)&&n.setRequestHeader(r,t[r]);void 0!==i.data&&(i.data+=""),s=i.data,c&&(n.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+n.readyState,LOG_SRC),4===n.readyState&&requestComplete.call(a,n,i,u)});try{n.send(s)}catch(e){log("sendRequest caught send exception: "+e,LOG_SRC)}return c?n:requestComplete.call(this,n,i,u)},xdrRequest=function(e,t,i){log("sendRequest using XDomainRequest",LOG_SRC);var n,r,s,o,a,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==t["Content-Type"]&&"application/json"!==t["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),i.callback?(i.callback(a,null),null):{err:a,xhr:null};for(s in e+="?method="+i.method,i.params)i.params.hasOwnProperty(s)&&u.push(s+"="+encodeURIComponent(i.params[s]));for(s in t)t.hasOwnProperty(s)&&u.push(s+"="+encodeURIComponent(t[s]));void 0!==i.data&&u.push("content="+encodeURIComponent(i.data)),r=u.join("&"),(n=new XDomainRequest).open("POST",e),i.callback?(n.onload=function(){c.fakeStatus=200,requestComplete.call(l,n,i,c)},n.onerror=function(){c.fakeStatus=400,requestComplete.call(l,n,i,c)},n.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,n,i,c)}):(n.onload=function(){c.fakeStatus=200},n.onerror=function(){c.fakeStatus=400},n.ontimeout=function(){c.fakeStatus=0}),n.onprogress=function(){},n.timeout=0;try{n.send(r)}catch(e){log("sendRequest caught send exception: "+e,LOG_SRC)}if(!i.callback){for(o=1e4+Date.now(),log("sendRequest - until: "+o+", finished: "+c.finished,LOG_SRC);Date.now()<o&&null===c.fakeStatus;)__delay();return requestComplete.call(l,n,i,c)}return n},TinCan.LRS.prototype._initByEnvironment=function(e){var t,i,n;if(log("_initByEnvironment",LOG_SRC),e=e||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(t=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(n=location.port,i=location.protocol.toLowerCase()===t[1],""===n&&(n="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!i||location.hostname.toLowerCase()!==t[2]||n!==(null!==t[3]&&void 0!==t[3]&&""!==t[3]?t[3]:"http:"===t[1]?"80":"https:"===t[1]?"443":""))if(env.hasCORS){if(env.useXDR&&i)this._makeRequest=xdrRequest;else if(env.useXDR&&!i){if(!e.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!e.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var e=new XMLHttpRequest,t=window.location+"?forcenocache="+TinCan.Utils.getUUID();e.open("GET",t,!1),e.send(null)},TinCan.LRS.syncEnabled=!0):log("'window' not defined",LOG_SRC)}(),define("tincan",function(){}),define("helpers/external/tinCan",["require","lodash","helpers/vow","helpers/utils","helpers/events","helpers/pubSub","tincan"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/vow"),r=e("helpers/utils"),s=e("helpers/events"),o=e("helpers/pubSub"),a=(e("tincan"),window.TinCan),l=a.Utils.convertMillisecondsToISO8601Duration,u=a.Utils.getUUID,c="choice",h="matching",p="sequencing",d="http://adlnet.gov/expapi/activities/course",f="http://adlnet.gov/expapi/activities/cmi.interaction",m="http://",g=/file/.test(window.location.protocol),v=function(e){var t={id:e.id,description:{}};return t.description.und=e.lmstext,t},y={};y[c]=y[p]=function(e,t){e.choices=t.choices().map(v)},y[h]=function(e,t){e.target=t.choices().map(v),e.source=t.statements().map(v)};var b={likert:"likert"};b.sequence=p,b.multiplechoice=b.truefalse=b.hotspot=b.wordbank=b.multipleresponse=c,b.numeric="numeric",b.fillin="fill-in",b.matching=h;var w={};return w.multiplechoice=w.hotspot=w.wordbank=w.sequence=w.truefalse=w.multipleresponse=function(e){var t=e&&e.choiceResponse,i=null!=t?t:e;return r.stripChoice(i)},w.essay=w.fillin=w.numeric=i.identity,w.matching=function(e){return[r.stripStatement(e.statementResponse),r.stripChoice(e.choiceResponse)].join("[.]")},{queue:[],tinCan:null,resumer:null,scoring:null,version:0,setTotalSlides:i.noop,reportStatus:i.noop,initialize:function(e,t,i,n,s){if(window.globals.tinCanPresent||s){this.setPreso(n);var o=r.queryStringToObj();return this.urlParams=o,this.version=t,null!=o.activity_id&&(m=o.activity_id.replace(/\/$/,"")),this.scoring=i||{},this.tinCan=g||s?new a:new a({url:window.location.toString().replace("&tincan=true","")}),this.sendData=s?this.sendStatementLocal:this.sendStatement,this}},setPreso:function(e){t=e},setResumer:function(e){this.resumer=e},createConfig:function(e){return null==this.urlParams.activity_id&&(e.activity={id:"http://"+t.get("courseId")}),e},getItem:function(){this.resumeDfd=new n.Deferred;var e=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState("resume",e),g&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(e,t){var n=this.createConfig({callback:i.noop});this.tinCan.setState("resume",t,n)},sendResumeReady:function(e,t){null==e&&this.resumeDfd.resolve(t&&t.contents)},courseStarted:function(e){var t=this.getStmtObj({type:d,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb("attempted")});e||(t.result={completion:!1}),this.queueStatement(t)},quizComplete:function(e){var t=e.get("lmstext"),i=this.getStmtObj(e.id,{type:"http://adlnet.gov/expapi/activities/objective",name:t,description:t,verb:this.getVerb(this.getCompletedVerb(e))});e.get("issurvey")||(i.result={score:{scaled:e.prop("PercentScore")/100,raw:e.prop("Score"),min:0,max:e.maxPoints},success:e.isPassed()}),this.queueStatement(i)},courseComplete:function(e,t){if(!t){var i=this.getStmtObj({type:d,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb(this.getCompletedVerb(e))});i.result={duration:l(this.resumer.getCourseTime()),completion:!0},e.isSurvey()||e.isAction()||(i.result.score={scaled:e.getPercentScore()},i.result.success=e.isPassed()),this.queueStatement(i)}},manualCourseComplete:function(e,t){this.courseComplete(t,!1)},viewedComplete:function(e){var t=this.getStmtObj({type:d,name:e.get("lmstext"),description:e.get("description"),verb:this.getVerb("completed")}),i={};i[this.formatUri("viewcount")]=e.viewedSlides,t.result={completion:!0,duration:l(this.resumer.getCourseTime()),extensions:i},this.queueStatement(t)},slideViewed:function(e){var t=e.get("title"),i=this.getStmtObj(e.id,{type:"http://adlnet.gov/expapi/activities/module",name:t,description:t,verb:this.getVerb("experienced")});this.queueStatement(i)},interactionAnswered:function(e,t){this[t.isType("likert")?"logLikert":"logQuestion"](e,t)},logLikert:function(e,t){t.hasResponses()&&t.responses.forEach(function(i,n){var s=t.statements()[n].lmstext,o=r.stripStatement(i.statementResponse),a=[t.parent.id,t.id,o],l={scale:t.choices().map(v),interactionType:b.likert},u=this.getStmtObj(a,{type:f,name:s,description:s,verb:this.getVerb("answered"),parent:this.formatUri(e.id)});this.setDefinitions(u,l),u.result={response:r.stripChoice(i.choiceResponse)},this.queueStatement(u)}.bind(this))},logQuestion:function(e,t){if(t.hasResponses()){var n,r=t.get("lmstext"),s=t.type(),o=b[s],a=w[s],l=y[o]||i.noop,u={interactionType:o},d={response:t.responses.map(a).join("[,]")},m=[t.parent.id,t.id],g=this.getStmtObj(m,{type:f,name:r,description:r,verb:this.getVerb("answered"),parent:this.formatUri(e.id)});((n=o)===h||n===p||n===c)&&(u.correctResponsesPattern=[this.getCorrectResponses(t)]),l(u,t),this.setDefinitions(g,u),t.get("issurvey")||(d.success=t.isPassing(),d.score={raw:t.prop("Score")}),g.result=d,this.queueStatement(g)}},formatUri:function(){var e=i.compact(arguments),t=[m],n=this.version<1?".":"/";return t.concat(e).join(n)},getCorrectResponses:function(e){var t=e.prop("CorrectResponse"),i=e.isType("sequence");return t.map(function(e){var t=e.id;return i?t=e.choice.id:e.choice&&e.statement&&(t=[e.statement.id,e.choice.id].join("[.]")),t}).join("[,]")},getVerb:function(e){var t=new a.Verb(e);return t.display["en-US"]=t.display.und,delete t.display.und,t},getCompletedVerb:function(e){return this.scoring.isType("survey")?"completed":e.isPassed()?"passed":"failed"},setDefinitions:function(e,t){i.extend(e.object.definition,t)},getStmtObj:function(e,t){i.isPlainObject(e)&&(t=e,e=void 0);var n={name:{},description:{}};return n.name.und=t.name||"",n.description.und=t.description||"",n.type=t.type,i.isArray(e)||(e=[e]),{id:u(),object:{id:this.formatUri.apply(this,e),definition:n},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:t.parent||m,objectType:"Activity"}]}},verb:t.verb,objectType:"Activity"}},queueStatement:function(e){0===this.queue.length?this.sendData(e):this.queue.unshift(e)},popQueue:function(){this.queue.length>0&&this.sendData(this.queue.pop())},sendStatement:function(e){this.tinCan.sendStatement(e,this.popQueue.bind(this))},sendStatementLocal:function(e){o.trigger(s.tincan.STATEMENT,e),this.popQueue()}}}),define("external/Emitter",["require"],function(e){function t(e){if(e)return function(e){for(var i in t.prototype)e[i]=t.prototype[i];return e}(e)}return t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){var i=this;function n(){i.off(e,n),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length},t}),define("external/superagent",["require","external/Emitter"],function(e){var t=e("external/Emitter"),i=function(e,t,i){for(var n=0,r=e.length,s=3==arguments.length?i:e[n++];n<r;)s=t.call(null,s,e[n],++n,e);return s},n="undefined"==typeof window?this||self:window;function r(){}function s(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}p.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var o="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function a(e){return e===Object(e)}function l(e){if(!a(e))return e;var t=[];for(var i in e)null!=e[i]&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function u(e){for(var t,i={},n=e.split("&"),r=0,s=n.length;r<s;++r)t=n[r].split("="),i[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return i}function c(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,i,n,r,s=e.split(/\r?\n/),a={};s.pop();for(var l=0,u=s.length;l<u;++l)t=(i=s[l]).indexOf(":"),n=i.slice(0,t).toLowerCase(),r=o(i.slice(t+1)),a[n]=r;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(e,i){var n=this;t.call(this),this._query=this._query||[],this.method=e,this.url=i,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new c(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300||0===t.status)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(e||i,t)})}function p(e,t){return"function"==typeof t?new h("GET",e).end(t):1==arguments.length?new h("GET",e):new h(e,t)}return p.serializeObject=l,p.parseString=u,p.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},p.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},c.prototype.get=function(e){return this.header[e.toLowerCase()]},c.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=t.split(/ *; */).shift();var n=i(t.split(/ *; */),function(e,t){var i=t.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(e[n]=r),e},{});for(var r in n)this[r]=n[r]},c.prototype.parseBody=function(e){var t=p.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},c.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},c.prototype.toError=function(){var e=this.req,t=e.method,i=e.url,n="cannot "+t+" "+i+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=t,r.url=i,r},p.Response=c,t(h.prototype),h.prototype.use=function(e){return e(this),this},h.prototype.timeout=function(e){return this._timeout=e,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.set=function(e,t){if(a(e)){for(var i in e)this.set(i,e[i]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},h.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},h.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},h.prototype.type=function(e){return this.set("Content-Type",p.types[e]||e),this},h.prototype.accept=function(e){return this.set("Accept",p.types[e]||e),this},h.prototype.auth=function(e,t){var i=btoa(e+":"+t);return this.set("Authorization","Basic "+i),this},h.prototype.query=function(e){return"string"!=typeof e&&(e=l(e)),e&&this._query.push(e),this},h.prototype.field=function(e,t){return this._formData||(this._formData=new n.FormData),this._formData.append(e,t),this},h.prototype.attach=function(e,t,i){return this._formData||(this._formData=new n.FormData),this._formData.append(e,t,i),this},h.prototype.send=function(e){var t=a(e),i=this.getHeader("Content-Type");if(t&&a(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(i||this.type("form"),i=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==i?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||s(e)?this:(i||this.type("json"),this)},h.prototype.callback=function(e,t){var i=this._callback;this.clearTimeout(),i(e,t)},h.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},h.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(e){var t=this,i=this.xhr=p.getXHR(),n=this._query.join("&"),o=this._timeout,a=this._formData||this._data;this._callback=e||r,i.onreadystatechange=function(){if(4==i.readyState){try{i.status}catch(e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(i.onprogress=l);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=l)}catch(e){}if(o&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},o)),n&&(n=p.serializeObject(n),this.url+=~this.url.indexOf("?")?"&"+n:"?"+n),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!s(a)){var u=p.serialize[this.getHeader("Content-Type")];u&&(a=u(a))}for(var c in this.header)null!=this.header[c]&&i.setRequestHeader(c,this.header[c]);return this.emit("request",this),i.send(a),this},p.Request=h,p.get=function(e,t,i){var n=p("GET",e);return"function"==typeof t&&(i=t,t=null),t&&n.query(t),i&&n.end(i),n},p.head=function(e,t,i){var n=p("HEAD",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},p.del=function(e,t){var i=p("DELETE",e);return t&&i.end(t),i},p.patch=function(e,t,i){var n=p("PATCH",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},p.post=function(e,t,i){var n=p("POST",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},p.put=function(e,t,i){var n=p("PUT",e);return"function"==typeof t&&(i=t,t=null),t&&n.send(t),i&&n.end(i),n},p}),function(e){"use strict";var t,i,n=e.GreenSockGlobals||e;if(!n.TweenLite){var r,s,o,a,l,u=function(e){var t,i=e.split("."),r=n;for(t=0;i.length>t;t++)r[i[t]]=r=r[i[t]]||{};return r},c=u("com.greensock"),h=1e-10,p=[].slice,d=function(){},f=(t=Object.prototype.toString,i=t.call([]),function(e){return null!=e&&(e instanceof Array||"object"==(void 0===e?"undefined":_typeof(e))&&!!e.push&&t.call(e)===i)}),m={},g=e._gsDefine=function(t,i,r,s){return new function t(i,r,s,o){this.sc=m[i]?m[i].sc:[],m[i]=this,this.gsClass=null,this.func=s;var a=[];this.check=function(l){for(var c,h,p,d,f=r.length,g=f;--f>-1;)(c=m[r[f]]||new t(r[f],[])).gsClass?(a[f]=c.gsClass,g--):l&&c.sc.push(this);if(0===g&&s)for(p=(h=("com.greensock."+i).split(".")).pop(),d=u(h.join("."))[p]=this.gsClass=s.apply(s,a),o&&(n[p]=d,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return d}):"undefined"!=typeof module&&module.exports&&(module.exports=d)),f=0;this.sc.length>f;f++)this.sc[f].check()},this.check(!0)}(t,i,r,s)},v=c._class=function(e,t,i){return t=t||function(){},g(e,[],function(){return t},i),t};g.globals=n;var y=[0,0,1,1],b=[],w=v("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?y.concat(t):y},!0),S=w.map={},x=w.register=function(e,t,i,n){for(var r,s,o,a,l=t.split(","),u=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=l[u],r=n?v("easing."+s,null,!0):c.easing[s]||{},o=h.length;--o>-1;)a=h[o],S[s+"."+a]=S[a+s]=r[a]=e.getRatio?e:e[a]||new e};for((o=w.prototype)._calcEnd=!1,o.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},s=(r=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--s>-1;)o=r[s]+",Power"+s,x(new w(null,null,1,s),o,"easeOut",!0),x(new w(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),x(new w(null,null,3,s),o,"easeInOut");S.linear=c.easing.Linear.easeIn,S.swing=c.easing.Quad.easeInOut;var T=v("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(o=T.prototype).addEventListener=function(e,t,i,n,r){r=r||0;var s,o,u=this._listeners[e],c=0;for(null==u&&(this._listeners[e]=u=[]),o=u.length;--o>-1;)(s=u[o]).c===t&&s.s===i?u.splice(o,1):0===c&&r>s.pr&&(c=o+1);u.splice(c,0,{c:t,s:i,up:n,pr:r}),this!==a||l||a.wake()},o.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},o.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for(t=r.length,i=this._eventTarget;--t>-1;)(n=r[t]).up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i)};var E=e.requestAnimationFrame,A=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},P=C();for(s=(r=["ms","moz","webkit","o"]).length;--s>-1&&!E;)E=e[r[s]+"RequestAnimationFrame"],A=e[r[s]+"CancelAnimationFrame"]||e[r[s]+"CancelRequestAnimationFrame"];v("Ticker",function(e,t){var i,n,r,s,o,u=this,c=C(),h=!1!==t&&E,p=function e(t){P=C(),u.time=(P-c)/1e3;var a,l=u.time-o;(!i||l>0||!0===t)&&(u.frame++,o+=l+(l>=s?.004:s-l),a=!0),!0!==t&&(r=n(e)),a&&u.dispatchEvent("tick")};T.call(u),u.time=u.frame=0,u.tick=function(){p(!0)},u.sleep=function(){null!=r&&(h&&A?A(r):clearTimeout(r),n=d,r=null,u===a&&(l=!1))},u.wake=function(){null!==r&&u.sleep(),n=0===i?d:h&&E?E:function(e){return setTimeout(e,0|1e3*(o-u.time)+1)},u===a&&(l=!0),p(2)},u.fps=function(e){return arguments.length?(s=1/((i=e)||60),o=this.time+s,void u.wake()):i},u.useRAF=function(e){return arguments.length?(u.sleep(),h=e,void u.fps(i)):h},u.fps(e),setTimeout(function(){h&&(!r||5>u.frame)&&u.useRAF(!1)},1500)}),(o=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var _=v("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,B){l||a.wake();var i=this.vars.useFrames?j:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=_.ticker=new c.Ticker,(o=_.prototype)._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;(function e(){l&&C()-P>2e3&&a.wake(),setTimeout(e,2e3)})(),o.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},o.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},o.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},o.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},o.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},o.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},o.render=function(){},o.invalidate=function(){return this},o.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},o._enabled=function(e,t){return l||a.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(){return this._enabled(!1,!1)},o.kill=function(e,t){return this._kill(e,t),this},o._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},o._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},o.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},o.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},o.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},o.totalTime=function(e,t,i){if(l||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&this.render(e,t,!1)}return this},o.progress=o.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},o.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},o.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||h,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},o.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){l||e||a.wake();var t=this._timeline,i=t.rawTime(),n=i-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?i:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var I=v("core.SimpleTimeline",function(e){_.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(o=I.prototype=new _).constructor=I,o.kill()._gc=!1,o._first=o._last=null,o._sortChildren=!1,o.add=o.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},o._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},o.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},o.rawTime=function(){return l||a.wake(),this._totalTime};var k=v("TweenLite",function(t,i,n){if(_.call(this,i,n),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var r,s,o,a=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?V[k.defaultOverwrite]:"number"==typeof l?l>>0:V[l],(a||t instanceof Array||t.push&&f(t))&&"number"!=typeof t[0])for(this._targets=o=p.call(t,0),this._propLookup=[],this._siblings=[],r=0;o.length>r;r++)(s=o[r])?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(p.call(s,0))):(this._siblings[r]=F(s,this,!1),1===l&&this._siblings[r].length>1&&U(s,this,null,1,this._siblings[r])):"string"==typeof(s=o[r--]=k.selector(s))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=F(t,this,!1),1===l&&this._siblings.length>1&&U(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0),R=function(t){return t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(o=k.prototype=new _).constructor=k,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=!1,k.version="1.11.8",k.defaultEase=o._ease=new w(null,null,1,1),k.defaultOverwrite="auto",k.ticker=a,k.autoSleep=!0,k.selector=e.$||e.jQuery||function(t){return e.$?(k.selector=e.$,e.$(t)):e.document?e.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var O=k._internals={isArray:f,isSelector:R},M=k._plugins={},L=k._tweenLookup={},D=0,N=O.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=_._rootFramesTimeline=new I,B=_._rootTimeline=new I;B._startTime=a.time,j._startTime=a.frame,B._active=j._active=!0,_._updateRoot=function(){if(B.render((a.time-B._startTime)*B._timeScale,!1,!1),j.render((a.frame-j._startTime)*j._timeScale,!1,!1),!(a.frame%120)){var e,t,i;for(i in L){for(e=(t=L[i].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete L[i]}if((!(i=B._first)||i._paused)&&k.autoSleep&&!j._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",_._updateRoot);var F=function(e,t,i){var n,r,s=e._gsTweenID;if(L[s||(e._gsTweenID=s="t"+D++)]||(L[s]={target:e,tweens:[]}),t&&((n=L[s].tweens)[r=n.length]=t,i))for(;--r>-1;)n[r]===t&&n.splice(r,1);return L[s].tweens},U=function(e,t,i,n,r){var s,o,a,l;if(1===n||n>=4){for(l=r.length,s=0;l>s;s++)if((a=r[s])!==t)a._gc||a._enabled(!1,!1)&&(o=!0);else if(5===n)break;return o}var u,c=t._startTime+h,p=[],d=0,f=0===t._duration;for(s=r.length;--s>-1;)(a=r[s])===t||a._gc||a._paused||(a._timeline!==t._timeline?(u=u||H(t,0,f),0===H(a,u,f)&&(p[d++]=a)):c>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>c&&((f||!a._initted)&&2e-10>=c-a._startTime||(p[d++]=a)));for(s=d;--s>-1;)a=p[s],2===n&&a._kill(i,e)&&(o=!0),(2!==n||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(o=!0);return o},H=function(e,t,i){for(var n=e._timeline,r=n._timeScale,s=e._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(s/=r)>t?s-t:i&&s===t||!e._initted&&2e-10>s-t?h:(s+=e.totalDuration()/e._timeScale/r)>t+h?0:s-t-h};o._init=function(){var e,t,i,n,r=this.vars,s=this._overwrittenProps,o=this._duration,a=r.immediateRender,l=r.ease;if(r.startAt){if(this._startAt&&this._startAt.render(-1,!0),r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=k.to(this.target,0,r.startAt),a)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(r.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{for(n in i={},r)N[n]&&"autoCSS"!==n||(i[n]=r[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=k.to(this.target,0,i),r.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof w?r.easeParams instanceof Array?l.config.apply(l,r.easeParams):l:"function"==typeof l?new w(l,r.easeParams):S[l]||k.defaultEase:k.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s);if(t&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},o._initProps=function(t,i,n,r){var s,o,a,l,u,c;if(null==t)return!1;for(s in this.vars.css||t.style&&t!==e&&t.nodeType&&M.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)N[i]||i in t&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!M[i]||M[i]&&M[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,t),this.vars){if(c=this.vars[s],N[s])c&&(c instanceof Array||c.push&&f(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(M[s]&&(l=new M[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=u={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},u.s=u.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),u.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-u.s||0;u&&u._next&&(u._next._prev=u)}return r&&this._kill(r,t)?this._initProps(t,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&U(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,r)):a},o.render=function(e,t,i){var n,r,s,o,a=this._time,l=this._duration;if(e>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===l&&(o=this._rawPrevTime,this._startTime===this._timeline._duration&&(e=0),(0===e||0>o||o===h)&&o!==e&&(i=!0,o>h&&(r="onReverseComplete")),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:h);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&this._rawPrevTime>0&&this._rawPrevTime!==h)&&(r="onReverseComplete",n=this._reversed),0>e?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=o=!t||e||this._rawPrevTime===e?e:h)):this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,c=this._easeType,p=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>e/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==a&&e>=0&&(this._active=!0),0===a&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),r&&(this._gc||(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||b),0===l&&this._rawPrevTime===h&&o!==h&&(this._rawPrevTime=0)))}},o._kill=function(e,t){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._enabled(!1,!1);var i,n,r,s,o,a,l,u;if(t="string"!=typeof t?t||this._targets||this.target:k.selector(t)||t,(f(t)||R(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){for(r in l=e||o,u=e!==n&&"all"!==n&&e!==o&&("object"!=(void 0===e?"undefined":_typeof(e))||!e._tempKill),l)(s=o[r])&&(s.pg&&s.t._kill(l)&&(a=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[r]),u&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},o.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},o._enabled=function(e,t){if(l||a.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=F(n[i],this,!0);else this._siblings=F(this.target,this,!0)}return _.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(e?"_onEnable":"_onDisable",this)},k.to=function(e,t,i){return new k(e,t,i)},k.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new k(e,t,i)},k.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new k(e,t,n)},k.delayedCall=function(e,t,i,n,r){return new k(t,0,{delay:e,onComplete:t,onCompleteParams:i,onCompleteScope:n,onReverseComplete:t,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},k.set=function(e,t){return new k(e,0,t)},k.getTweensOf=function(e,t){if(null==e)return[];var i,n,r,s;if(e="string"!=typeof e?e:k.selector(e)||e,(f(e)||R(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(k.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(i=(n=F(e).concat()).length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},k.killTweensOf=k.killDelayedCallsTo=function(e,t,i){"object"==(void 0===t?"undefined":_typeof(t))&&(i=t,t=!1);for(var n=k.getTweensOf(e,t),r=n.length;--r>-1;)n[r]._kill(i,e)};var q=v("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=q.prototype},!0);if(o=q.prototype,q.version="1.10.1",q.API=2,o._firstPT=null,o._addTween=function(e,t,i,n,r,s){var o,a;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:r||t,r:s},a._next&&(a._next._prev=a),a):void 0},o.setRatio=function(e){for(var t,i=this._firstPT;i;)t=i.c*e+i.s,i.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},o._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},k._onPluginEvent=function(e,t){var i,n,r,s,o,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=t._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(i=!0),a=a._next;return i},q.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===q.API&&(M[(new e[t])._propName]=e[t]);return!0},g.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){q.call(this,i,n),this._overwriteProps=r||[]},!0===e.global),a=o.prototype=new q(i);for(t in a.constructor=o,o.API=e.API,s)"function"==typeof e[t]&&(a[s[t]]=e[t]);return o.version=e.version,q.activate([o]),o},r=e._gsQueue){for(s=0;r.length>s;s++)r[s]();for(o in m)m[o].func||e.console.log("GSAP encountered missing dependency: com.greensock."+o)}l=!1}}(window),define("tween-lite",function(e){return function(){return e.TweenLite}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,r=window.GreenSockGlobals||window,s=r.com.greensock,o=2*Math.PI,a=Math.PI/2,l=s._class,u=function(t,i){var n=l("easing."+t,function(){},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,n},c=e.register||function(){},h=function(e,t,i,n){var r=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return c(r,e),r},p=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},d=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e){return new n(e)},n},f=h("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,i){return new m(e,t,i)},(g=(t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0)).prototype=new e).constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},(g=(i=l("easing.RoughEase",function(t){for(var i,n,r,s,o,a,l=(t=t||{}).taper||"none",u=[],c=0,h=0|(t.points||20),d=h,f=!1!==t.randomize,m=!0===t.clamp,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=f?Math.random():1/h*d,n=g?g.getRatio(i):i,"none"===l?r=v:"out"===l?r=(s=1-i)*s*v:"in"===l?r=i*i*v:.5>i?r=.5*(s=2*i)*s*v:r=.5*(s=2*(1-i))*s*v,f?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(e,t){return e.x-t.x}),a=new p(1,1,null),d=h;--d>-1;)o=u[d],a=new p(o.x,o.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0)).prototype=new e).constructor=i,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new i(e)},i.ease=new i,h("Bounce",u("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),h("Elastic",(n=function(t,i,n){var r=l("easing."+t,function(e,t){this._p1=e||1,this._p2=t||n,this._p3=this._p2/o*(Math.asin(1/this._p1)||0)},!0),s=r.prototype=new e;return s.constructor=r,s.getRatio=i,s.config=function(e,t){return new r(e,t)},r})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*o/this._p2)+1},.3),n("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2)},.3),n("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*o/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*o/this._p2)+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*a)}),u("SineIn",function(e){return 1-Math.cos(e*a)}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("ease-pack",function(e){return function(){return e.EasePack}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,r,s,o=function t(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=t.prototype.setRatio},a={},l=o.prototype=new e("css");l.constructor=o,o.version="1.11.8",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.suffixMap={top:l="px",right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,c,h,p,d,f,m,g,v,y=/(?:\d|\-\d|\.\d|\-\.\d)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,S=/[^\d\-\.]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/,E=/opacity:([^;]*)/,A=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,P=/([A-Z])/g,_=/-([a-z])/gi,I=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(e,t){return t.toUpperCase()},R=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,D=Math.PI/180,N=180/Math.PI,V={},j=document,B=j.createElement("div"),F=j.createElement("img"),U=o._internals={_specialProps:a},H=navigator.userAgent,q=(g=H.indexOf("Android"),v=j.createElement("div"),h=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===g||Number(H.substr(g+8,1))>3),d=h&&6>Number(H.substr(H.indexOf("Version/")+8,1)),p=-1!==H.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)&&(f=parseFloat(RegExp.$1)),v.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(m=v.getElementsByTagName("a")[0])&&/^0.55/.test(m.style.opacity)),G=function(e){return T.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(e){window.console&&console.log(e)},z="",Y="",X=function(e,t){var i,n,r=(t=t||B).style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+e];);return n>=0?(z="-"+(Y=3===n?"ms":i[n]).toLowerCase()+"-",Y+e):null},Q=j.defaultView?j.defaultView.getComputedStyle:function(){},K=o.getStyle=function(e,t,i,n,r){var s;return q||"opacity"!==t?(!n&&e.style[t]?s=e.style[t]:(i=i||Q(e,null))?s=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(P,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):G(e)},Z=U.convertToPixels=function(e,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var a,l,u,c=R.test(i),h=e,p=B.style,d=0>n;if(d&&(n=-n),"%"===r&&-1!==i.indexOf("border"))a=n/100*(c?e.clientWidth:e.clientHeight);else{if(p.cssText="border:0 solid red;position:"+K(e,"position")+";line-height:0;","%"!==r&&h.appendChild)p[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(l=(h=e.parentNode||j.body)._gsCache,u=t.ticker.frame,l&&c&&l.time===u)return l.width*n/100;p[c?"width":"height"]=n+r}h.appendChild(B),a=parseFloat(B[c?"offsetWidth":"offsetHeight"]),h.removeChild(B),c&&"%"===r&&!1!==o.cacheWidths&&((l=h._gsCache=h._gsCache||{}).time=u,l.width=a/n*100),0!==a||s||(a=Z(e,i,n,r,!0))}return d?-a:a},J=U.calculateOffset=function(e,t,i){if("absolute"!==K(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=K(e,"margin"+n,i);return e["offset"+n]-(Z(e,t,parseFloat(r),r.replace(x,""))||0)},$=function(e,t){var i,n,r={};if(t=t||Q(e,null))if(i=t.length)for(;--i>-1;)r[t[i].replace(_,k)]=t.getPropertyValue(t[i]);else for(i in t)r[i]=t[i];else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===r[i]&&(r[i.replace(_,k)]=t[i]);return q||(r.opacity=G(e)),n=Pe(e,t,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,Ae&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},ee=function(e,t,i,n,r){var s,o,a,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(s=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[o]||""===t[o].replace(S,"")?s:0:J(e,o),void 0!==u[o]&&(a=new fe(u,o,u[o],a)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}},te={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],ne=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=te[t],s=r.length;for(i=i||Q(e,null);--s>-1;)n-=parseFloat(K(e,"padding"+r[s],i,!0))||0,n-=parseFloat(K(e,"border"+r[s]+"Width",i,!0))||0;return n},re=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],r=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==r.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===r.charAt(1),t.ox=parseFloat(n.replace(S,"")),t.oy=parseFloat(r.replace(S,""))),n+" "+r+(i.length>2?" "+i[2]:"")},se=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},oe=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},ae=function(e,t,i,n){var r,s,o;return null==e?o=t:"number"==typeof e?o=e:(360,r=e.split("_"),s=Number(r[0].replace(S,""))*(-1===e.indexOf("rad")?1:N)-("="===e.charAt(1)?0:t),r.length&&(n&&(n[i]=t+s),-1!==e.indexOf("short")&&((s%=360)!==s%180&&(s=0>s?s+360:s-360)),-1!==e.indexOf("_cw")&&0>s?s=(s+3599999999640)%360-360*(0|s/360):-1!==e.indexOf("ccw")&&s>0&&(s=(s-3599999999640)%360-360*(0|s/360))),o=t+s),1e-6>o&&o>-1e-6&&(o=0),o},le={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ue=function(e,t,i){return 0|255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},ce=function(e){var t,i,n,r,s,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),le[e]?le[e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+(t=e.charAt(1))+t+(i=e.charAt(2))+i+(n=e.charAt(3))+n),[(e=parseInt(e.substr(1),16))>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(y),r=Number(e[0])%360/360,s=Number(e[1])/100,t=2*(o=Number(e[2])/100)-(i=.5>=o?o*(s+1):o+s-o*s),e.length>3&&(e[3]=Number(e[3])),e[0]=ue(r+1/3,t,i),e[1]=ue(r,t,i),e[2]=ue(r-1/3,t,i),e):((e=e.match(y)||le.transparent)[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):le.black},he="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in le)he+="|"+l+"\\b";he=RegExp(he+")","gi");var pe=function(e,t,i,n){if(null==e)return function(e){return e};var r,s=t?(e.match(he)||[""])[0]:"",o=e.split(s).join("").match(w)||[],a=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=o.length,h=c>0?o[0].replace(y,""):"";return c?r=t?function(e){var t,p,d,f;if("number"==typeof e)e+=h;else if(n&&L.test(e)){for(f=e.replace(L,"|").split("|"),d=0;f.length>d;d++)f[d]=r(f[d]);return f.join(",")}if(t=(e.match(he)||[s])[0],d=(p=e.split(t).join("").match(w)||[]).length,c>d--)for(;c>++d;)p[d]=i?p[0|(d-1)/2]:o[d];return a+p.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,p;if("number"==typeof e)e+=h;else if(n&&L.test(e)){for(s=e.replace(L,"|").split("|"),p=0;s.length>p;p++)s[p]=r(s[p]);return s.join(",")}if(p=(t=e.match(w)||[]).length,c>p--)for(;c>++p;)t[p]=i?t[0|(p-1)/2]:o[p];return a+t.join(u)+l}:function(e){return e}},de=function(e){return e=e.split(","),function(t,i,n,r,s,o,a){var l,u=(i+"").split(" ");for(a={},l=0;4>l;l++)a[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(t,a,s,o)}},fe=(U._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,s=this.data,o=s.proxy,a=s.firstMPT;a;)t=o[a.v],a.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),a.t[a.p]=t,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===e)for(a=s.firstMPT;a;){if((i=a.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;a=a._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),me=(U._parseToProxy=function(e,t,i,n,r,s){var o,a,l,u,c,h=n,p={},d={},f=i._transform,m=V;for(i._transform=null,V=t,n=c=i.parse(e,t,n,r),V=m,s&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(1>=n.type&&(d[a=n.p]=n.s+n.c,p[a]=n.s,s||(u=new fe(n,"s",a,u,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,d[a=n.p+"_"+l]=n.data[l],p[a]=n[l],s||(u=new fe(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:u,pt:c}},U.CSSPropTween=function(e,t,n,r,o,a,l,u,c,h,p){this.t=e,this.p=t,this.s=n,this.c=r,this.n=l||t,e instanceof me||s.push(this.n),this.r=u,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===p?n+r:p,o&&(this._next=o,o._prev=this)}),ge=o.parseComplex=function(e,t,i,n,r,s,o,a,l,c){o=new me(e,t,0,0,o,c?2:1,null,!1,a,i=i||s||"",n),n+="";var h,p,d,f,m,g,v,w,S,x,T,E,A=i.split(", ").join(",").split(" "),P=n.split(", ").join(",").split(" "),_=A.length,I=!1!==u;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(A=A.join(" ").replace(L,", ").split(" "),P=P.join(" ").replace(L,", ").split(" "),_=A.length),_!==P.length&&(_=(A=(s||"").split(" ")).length),o.plugin=l,o.setRatio=c,h=0;_>h;h++)if(f=A[h],m=P[h],(w=parseFloat(f))||0===w)o.appendXtra("",w,se(m,w),m.replace(b,""),I&&-1!==m.indexOf("px"),!0);else if(r&&("#"===f.charAt(0)||le[f]||C.test(f)))E=","===m.charAt(m.length-1)?"),":")",f=ce(f),m=ce(m),(S=f.length+m.length>6)&&!q&&0===m[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(P[h]).join("transparent")):(q||(S=!1),o.appendXtra(S?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],S?",":E,!0),S&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>m.length?1:m[3])-f,E,!1)));else if(g=f.match(y)){if(!(v=m.match(b))||v.length!==g.length)return o;for(d=0,p=0;g.length>p;p++)T=g[p],x=f.indexOf(T,d),o.appendXtra(f.substr(d,x-d),Number(T),se(v[p],T),"",I&&"px"===f.substr(x+T.length,2),0===p),d=x+T.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==n.indexOf("=")&&o.data){for(E=o.xs0+o.data.s,h=1;o.l>h;h++)E+=o["xs"+h]+o.data["xn"+h];o.e=E+o["xs"+h]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},ve=9;for((l=me.prototype).l=l.pr=0;--ve>0;)l["xn"+ve]=0,l["xs"+ve]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,i,n,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&a?" "+e:e||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=t+i,o.rxp["xn"+a]=r,o["xn"+a]=t,o.plugin||(o.xfirst=new me(o,"xn"+a,t,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=r,o)):(o["xs"+a]+=t+(n||""),o)};var ye=function(e,t){t=t||{},this.p=t.prefix&&X(e)||e,a[e]=a[this.p]=this,this.format=t.formatter||pe(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},be=U._registerComplexSpecialProp=function(e,t,i){"object"!=(void 0===t?"undefined":_typeof(t))&&(t={parser:i});var n,r=e.split(","),s=t.defaultValue;for(i=i||[s],n=0;r.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||s,new ye(r[n],t)},we=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";be(e,{parser:function(e,i,n,r,s,o,l){var u=(window.GreenSockGlobals||window).com.greensock.plugins[t];return u?(u._cssRegister(),a[n].parse(e,i,n,r,s,o,l)):(W("Error: "+t+" js file not loaded."),s)}})}};(l=ye.prototype).parseComplex=function(e,t,i,n,r,s){var o,a,l,u,c,h=this.keyword;if(this.multi&&(L.test(i)||L.test(t)?(a=t.replace(L,"|").split("|"),l=i.replace(L,"|").split("|")):h&&(a=[t],l=[i])),l){for(u=l.length>a.length?l.length:a.length,o=0;u>o;o++)t=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,h&&(t.indexOf(h)!==(c=i.indexOf(h))&&((i=-1===c?l:a)[o]+=" "+h));t=a.join(", "),i=l.join(", ")}return ge(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,s)},l.parse=function(e,t,i,n,s,o){return this.parseComplex(e.style,this.format(K(e,this.p,r,!1,this.dflt)),this.format(t),s,o)},o.registerSpecialProp=function(e,t,i){be(e,{parser:function(e,n,r,s,o,a){var l=new me(e,r,0,0,o,2,r,!1,i);return l.plugin=a,l.setRatio=t(e,n,s._tween,r),l},priority:i})};var Se="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective".split(","),xe=X("transform"),Te=z+"transform",Ee=X("transformOrigin"),Ae=null!==X("perspective"),Ce=U.Transform=function(){this.skewY=0},Pe=U.getTransform=function(e,t,i,n){if(e._gsTransform&&i&&!n)return e._gsTransform;var r,s,a,l,u,c,h,p,d,f,m,g,v,y=i&&e._gsTransform||new Ce,b=0>y.scaleX,w=179.99,S=w*D,x=Ae&&(parseFloat(K(e,Ee,t,!1,"0 0 0").split(" ")[2])||y.zOrigin)||0;for(xe?r=K(e,Te,t,!0):e.currentStyle&&(r=(r=e.currentStyle.filter.match(O))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),y.x||0,y.y||0].join(","):""),a=(s=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;--a>-1;)l=Number(s[a]),s[a]=(u=l-(l|=0))?(0|1e5*u+(0>u?-.5:.5))/1e5+l:l;if(16===s.length){var T=s[8],E=s[9],A=s[10],C=s[12],P=s[13],_=s[14];if(y.zOrigin&&(C=T*(_=-y.zOrigin)-s[12],P=E*_-s[13],_=A*_+y.zOrigin-s[14]),!i||n||null==y.rotationX){var I,k,R,M,L,V,j,B=s[0],F=s[1],U=s[2],H=s[3],q=s[4],G=s[5],W=s[6],z=s[7],Y=s[11],X=Math.atan2(W,A),Q=-S>X||X>S;y.rotationX=X*N,X&&(I=q*(M=Math.cos(-X))+T*(L=Math.sin(-X)),k=G*M+E*L,R=W*M+A*L,T=q*-L+T*M,E=G*-L+E*M,A=W*-L+A*M,Y=z*-L+Y*M,q=I,G=k,W=R),X=Math.atan2(T,B),y.rotationY=X*N,X&&(V=-S>X||X>S,k=F*(M=Math.cos(-X))-E*(L=Math.sin(-X)),R=U*M-A*L,E=F*L+E*M,A=U*L+A*M,Y=H*L+Y*M,B=I=B*M-T*L,F=k,U=R),X=Math.atan2(F,G),y.rotation=X*N,X&&(j=-S>X||X>S,B=B*(M=Math.cos(-X))+q*(L=Math.sin(-X)),k=F*M+G*L,G=F*-L+G*M,W=U*-L+W*M,F=k),j&&Q?y.rotation=y.rotationX=0:j&&V?y.rotation=y.rotationY=0:V&&Q&&(y.rotationY=y.rotationX=0),y.scaleX=(0|1e5*Math.sqrt(B*B+F*F)+.5)/1e5,y.scaleY=(0|1e5*Math.sqrt(G*G+E*E)+.5)/1e5,y.scaleZ=(0|1e5*Math.sqrt(W*W+A*A)+.5)/1e5,y.skewX=0,y.perspective=Y?1/(0>Y?-Y:Y):0,y.x=C,y.y=P,y.z=_}}else if(!(Ae&&!n&&s.length&&y.x===s[4]&&y.y===s[5]&&(y.rotationX||y.rotationY)||void 0!==y.x&&"none"===K(e,"display",t))){var Z=s.length>=6,J=Z?s[0]:1,$=s[1]||0,ee=s[2]||0,te=Z?s[3]:1;y.x=s[4]||0,y.y=s[5]||0,c=Math.sqrt(J*J+$*$),h=Math.sqrt(te*te+ee*ee),p=J||$?Math.atan2($,J)*N:y.rotation||0,d=ee||te?Math.atan2(ee,te)*N+p:y.skewX||0,f=c-Math.abs(y.scaleX||0),m=h-Math.abs(y.scaleY||0),Math.abs(d)>90&&270>Math.abs(d)&&(b?(c*=-1,d+=0>=p?180:-180,p+=0>=p?180:-180):(h*=-1,d+=0>=d?180:-180)),g=(p-y.rotation)%180,v=(d-y.skewX)%180,(void 0===y.skewX||f>2e-5||-2e-5>f||m>2e-5||-2e-5>m||g>-w&&w>g&&!1|1e5*g||v>-w&&w>v&&!1|1e5*v)&&(y.scaleX=c,y.scaleY=h,y.rotation=p,y.skewX=d),Ae&&(y.rotationX=y.rotationY=y.z=0,y.perspective=parseFloat(o.defaultTransformPerspective)||0,y.scaleZ=1)}for(a in y.zOrigin=x,y)2e-5>y[a]&&y[a]>-2e-5&&(y[a]=0);return i&&(e._gsTransform=y),y},_e=function(e){var t,i,n=this.data,r=-n.rotation*D,s=r+n.skewX*D,o=(0|Math.cos(r)*n.scaleX*1e5)/1e5,a=(0|Math.sin(r)*n.scaleX*1e5)/1e5,l=(0|Math.sin(s)*-n.scaleY*1e5)/1e5,u=(0|Math.cos(s)*n.scaleY*1e5)/1e5,c=this.t.style,h=this.t.currentStyle;if(h){i=a,a=-l,l=-i,t=h.filter,c.filter="";var p,d,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==h.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+a+", M21="+l+", M22="+u,b=n.x,w=n.y;if(null!=n.ox&&(b+=(p=(n.oxp?.01*m*n.ox:n.ox)-m/2)-(p*o+(d=(n.oyp?.01*g*n.oy:n.oy)-g/2)*a),w+=d-(p*l+d*u)),v?y+=", Dx="+((p=m/2)-(p*o+(d=g/2)*a)+b)+", Dy="+(d-(p*l+d*u)+w)+")":y+=", sizingMethod='auto expand')",c.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(M,y):y+" "+t,(0===e||1===e)&&1===o&&0===a&&0===l&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||T.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var S,E,A,C=8>f?1:-1;for(p=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>a?-a:a)*g))/2+b),n.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>l?-l:l)*m))/2+w),ve=0;4>ve;ve++)A=(i=-1!==(S=h[E=ie[ve]]).indexOf("px")?parseFloat(S):Z(this.t,E,parseFloat(S),S.replace(x,""))||0)!==n[E]?2>ve?-n.ieOffsetX:-n.ieOffsetY:2>ve?p-n.ieOffsetX:d-n.ieOffsetY,c[E]=(n[E]=Math.round(i-A*(0===ve||2===ve?1:C)))+"px"}}},Ie=U.set3DTransformRatio=function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,f,m,g,v,y,b,w,S,x,T=this.data,E=this.t.style,A=T.rotation*D,C=T.scaleX,P=T.scaleY,_=T.scaleZ,I=T.perspective;if(p){1e-4>C&&C>-1e-4&&(C=_=2e-5),1e-4>P&&P>-1e-4&&(P=_=2e-5),!I||T.z||T.rotationX||T.rotationY||(I=0)}if(A||T.skewX)e=v=Math.cos(A),r=y=Math.sin(A),T.skewX&&(A-=T.skewX*D,v=Math.cos(A),y=Math.sin(A),"simple"===T.skewType&&(b=Math.tan(T.skewX*D),v*=b=Math.sqrt(1+b*b),y*=b)),t=-y,s=v;else{if(!(T.rotationY||T.rotationX||1!==_||I))return void(E[xe]="translate3d("+T.x+"px,"+T.y+"px,"+T.z+"px)"+(1!==C||1!==P?" scale("+C+","+P+")":""));e=s=1,t=r=0}c=1,i=n=o=a=l=u=h=d=f=0,m=I?-1/I:0,g=T.zOrigin,(A=T.rotationY*D)&&(v=Math.cos(A),l=c*-(y=Math.sin(A)),d=m*-y,i=e*y,o=r*y,c*=v,m*=v,e*=v,r*=v),(A=T.rotationX*D)&&(b=t*(v=Math.cos(A))+i*(y=Math.sin(A)),w=s*v+o*y,S=u*v+c*y,x=f*v+m*y,i=t*-y+i*v,o=s*-y+o*v,c=u*-y+c*v,m=f*-y+m*v,t=b,s=w,u=S,f=x),1!==_&&(i*=_,o*=_,c*=_,m*=_),1!==P&&(t*=P,s*=P,u*=P,f*=P),1!==C&&(e*=C,r*=C,l*=C,d*=C),g&&(n=i*(h-=g),a=o*h,h=c*h+g),n=(b=(n+=T.x)-(n|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+n:n,a=(b=(a+=T.y)-(a|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+a:a,h=(b=(h+=T.z)-(h|=0))?(0|1e5*b+(0>b?-.5:.5))/1e5+h:h,E[xe]="matrix3d("+[(0|1e5*e)/1e5,(0|1e5*r)/1e5,(0|1e5*l)/1e5,(0|1e5*d)/1e5,(0|1e5*t)/1e5,(0|1e5*s)/1e5,(0|1e5*u)/1e5,(0|1e5*f)/1e5,(0|1e5*i)/1e5,(0|1e5*o)/1e5,(0|1e5*c)/1e5,(0|1e5*m)/1e5,n,a,h,I?1+-h/I:1].join(",")+")"},ke=U.set2DTransformRatio=function(e){var t,i,n,r,s=this.data,o=this.t.style;return s.rotationX||s.rotationY||s.z||s.force3D?(this.setRatio=Ie,void Ie.call(this,e)):void(s.rotation||s.skewX?(t=s.rotation*D,i=t-s.skewX*D,1e5,n=1e5*s.scaleX,r=1e5*s.scaleY,o[xe]="matrix("+(0|Math.cos(t)*n)/1e5+","+(0|Math.sin(t)*n)/1e5+","+(0|Math.sin(i)*-r)/1e5+","+(0|Math.cos(i)*r)/1e5+","+s.x+","+s.y+")"):o[xe]="matrix("+s.scaleX+",0,0,"+s.scaleY+","+s.x+","+s.y+")")};be("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType",{parser:function(e,t,i,n,s,a,l){if(n._transform)return s;var u,c,h,p,d,f,m,g=n._transform=Pe(e,r,!0,l.parseTransform),v=e.style,y=Se.length,b=l,w={};if("string"==typeof b.transform&&xe)h=v.cssText,v[xe]=b.transform,v.display="block",u=Pe(e,null,!1),v.cssText=h;else if("object"==(void 0===b?"undefined":_typeof(b))){if(u={scaleX:oe(null!=b.scaleX?b.scaleX:b.scale,g.scaleX),scaleY:oe(null!=b.scaleY?b.scaleY:b.scale,g.scaleY),scaleZ:oe(b.scaleZ,g.scaleZ),x:oe(b.x,g.x),y:oe(b.y,g.y),z:oe(b.z,g.z),perspective:oe(b.transformPerspective,g.perspective)},null!=(m=b.directionalRotation))if("object"==(void 0===m?"undefined":_typeof(m)))for(h in m)b[h]=m[h];else b.rotation=m;u.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:g.rotation,g.rotation,"rotation",w),Ae&&(u.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",w),u.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",w)),u.skewX=null==b.skewX?g.skewX:ae(b.skewX,g.skewX),u.skewY=null==b.skewY?g.skewY:ae(b.skewY,g.skewY),(c=u.skewY-g.skewY)&&(u.skewX+=c,u.rotation+=c)}for(Ae&&null!=b.force3D&&(g.force3D=b.force3D,f=!0),g.skewType=b.skewType||g.skewType||o.defaultSkewType,(d=g.force3D||g.z||g.rotationX||g.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==b.scale||(u.scaleZ=1);--y>-1;)((p=u[i=Se[y]]-g[i])>1e-6||-1e-6>p||null!=V[i])&&(f=!0,s=new me(g,i,g[i],p,s),i in w&&(s.e=w[i]),s.xs0=0,s.plugin=a,n._overwriteProps.push(s.n));return((p=b.transformOrigin)||Ae&&d&&g.zOrigin)&&(xe?(f=!0,i=Ee,p=(p||K(e,i,r,!1,"50% 50%"))+"",(s=new me(v,i,0,0,s,-1,"transformOrigin")).b=v[i],s.plugin=a,Ae?(h=g.zOrigin,p=p.split(" "),g.zOrigin=(p.length>2&&(0===h||"0px"!==p[2])?parseFloat(p[2]):h)||0,s.xs0=s.e=v[i]=p[0]+" "+(p[1]||"50%")+" 0px",(s=new me(g,"zOrigin",0,0,s,-1,s.n)).b=h,s.xs0=s.e=g.zOrigin):s.xs0=s.e=v[i]=p):re(p+"",g)),f&&(n._transformType=d||3===this._transformType?3:2),s},prefix:!0}),be("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),be("borderRadius",{defaultValue:"0px",parser:function(e,t,i,s,o){t=this.format(t);var a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),a=t.split(" "),l=0;T.length>l;l++)this.p.indexOf("border")&&(T[l]=X(T[l])),-1!==(h=c=K(e,T[l],r,!1,"0px")).indexOf(" ")&&(h=(c=h.split(" "))[0],c=c[1]),p=u=a[l],d=parseFloat(h),y=h.substr((d+"").length),(b="="===p.charAt(1))?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=Z(e,"borderLeft",d,y),S=Z(e,"borderTop",d,y),"%"===v?(h=w/m*100+"%",c=S/g*100+"%"):"em"===v?(h=w/(x=Z(e,"borderLeft",1,"em"))+"em",c=S/x+"em"):(h=w+"px",c=S+"px"),b&&(p=parseFloat(h)+f+v,u=parseFloat(c)+f+v)),o=ge(E,T[l],h+" "+c,p+" "+u,!1,"0px",o);return o},prefix:!0,formatter:pe("0px 0px 0px 0px",!1,!0)}),be("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,o){var a,l,u,c,h,p,d="background-position",m=r||Q(e,null),g=this.format((m?f?m.getPropertyValue(d+"-x")+" "+m.getPropertyValue(d+"-y"):m.getPropertyValue(d):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&((p=K(e,"backgroundImage").replace(I,""))&&"none"!==p)){for(a=g.split(" "),l=v.split(" "),F.setAttribute("src",p),u=2;--u>-1;)(c=-1!==(g=a[u]).indexOf("%"))!==(-1!==l[u].indexOf("%"))&&(h=0===u?e.offsetWidth-F.width:e.offsetHeight-F.height,a[u]=c?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=a.join(" ")}return this.parseComplex(e.style,g,v,s,o)},formatter:re}),be("backgroundSize",{defaultValue:"0 0",formatter:re}),be("perspective",{defaultValue:"0px",prefix:!0}),be("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),be("transformStyle",{prefix:!0}),be("backfaceVisibility",{prefix:!0}),be("userSelect",{prefix:!0}),be("margin",{parser:de("marginTop,marginRight,marginBottom,marginLeft")}),be("padding",{parser:de("paddingTop,paddingRight,paddingBottom,paddingLeft")}),be("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,o){var a,l,u;return 9>f?(l=e.currentStyle,u=8>f?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(a=this.format(K(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,a,t,s,o)}}),be("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),be("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),be("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,o){return this.parseComplex(e.style,this.format(K(e,"borderTopWidth",r,!1,"0px")+" "+K(e,"borderTopStyle",r,!1,"solid")+" "+K(e,"borderTopColor",r,!1,"#000")),this.format(t),s,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(he)||["#000"])[0]}}),be("borderWidth",{parser:de("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),be("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new me(s,o,0,0,r,-1,i,!1,0,s[o],t)}});var Re=function(e){var t,i=this.t,n=i.filter||K(this.data,"filter"),r=0|this.s+this.c*e;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!K(this.data,"filter")):(i.filter=n.replace(A,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("opacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(T,"opacity="+r))};be("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,o){var a=parseFloat(K(e,"opacity",r,!1,"1")),l=e.style,u="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),u&&1===a&&"hidden"===K(e,"visibility",r)&&0!==t&&(a=0),q?s=new me(l,"opacity",a,t-a,s):((s=new me(l,"opacity",100*a,100*(t-a),s)).xn1=u?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=o,s.setRatio=Re),u&&((s=new me(l,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Oe=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(P,"-$1").toLowerCase())):e.removeAttribute(t))},Me=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.className=0===e?this.b:this.e;for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Oe(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};be("className",{parser:function(e,t,n,s,o,a,l){var u,c,h,p,d,f=e.className,m=e.style.cssText;if((o=s._classNamePT=new me(e,n,0,0,o,2)).setRatio=Me,o.pr=-11,i=!0,o.b=f,c=$(e,r),h=e._gsClassPT){for(p={},d=h.data;d;)p[d.p]=1,d=d._next;h.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:f.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),s._tween._duration&&(e.className=o.e,u=ee(e,c,$(e),l,p),e.className=f,o.data=u.firstMPT,e.style.cssText=m,o=o.xfirst=s.parse(e,u.difs,o,a)),o}});var Le=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,r,s=this.t.style,o=a.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(n=(t=this.e.split(",")).length;--n>-1;)i=t[n],a[i]&&(a[i].parse===o?r=!0:i="transformOrigin"===i?Ee:a[i].p),Oe(s,i);r&&(Oe(s,xe),this.t._gsTransform&&delete this.t._gsTransform)}};for(be("clearProps",{parser:function(e,t,n,r,s){return(s=new me(e,n,0,0,s,2)).setRatio=Le,s.e=t,s.pr=-10,s.data=r._tween,i=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ve=l.length;ve--;)we(l[ve]);(l=o.prototype)._firstPT=null,l._onInitTween=function(e,t,a){if(!e.nodeType)return!1;this._target=e,this._tween=a,this._vars=t,u=t.autoRound,i=!1,n=t.suffixMap||o.suffixMap,r=Q(e,""),s=this._overwriteProps;var l,p,f,m,g,v,y,b,w,S=e.style;if(c&&""===S.zIndex&&(("auto"===(l=K(e,"zIndex",r))||""===l)&&(S.zIndex=0)),"string"==typeof t&&(m=S.cssText,l=$(e,r),S.cssText=m+";"+t,l=ee(e,l,$(e)).difs,!q&&E.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,S.cssText=m),this._firstPT=p=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,xe?h&&(c=!0,""===S.zIndex&&(("auto"===(y=K(e,"zIndex",r))||""===y)&&(S.zIndex=0)),d&&(S.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):S.zoom=1,f=p;f&&f._next;)f=f._next;b=new me(e,"transform",0,0,null,2),this._linkCSSP(b,null,f),b.setRatio=w&&Ae?Ie:xe?ke:_e,b.data=this._transform||Pe(e,r,!0),s.pop()}if(i){for(;p;){for(v=p._next,f=m;f&&f.pr>p.pr;)f=f._next;(p._prev=f?f._prev:g)?p._prev._next=p:m=p,(p._next=f)?f._prev=p:g=p,p=v}this._firstPT=m}return!0},l.parse=function(e,t,i,s){var o,l,c,h,p,d,f,m,g,v,y=e.style;for(o in t)d=t[o],(l=a[o])?i=l.parse(e,d,o,this,i,s,t):(p=K(e,o,r)+"",g="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||g&&C.test(d)?(g||(d=((d=ce(d)).length>3?"rgba(":"rgb(")+d.join(",")+")"),i=ge(y,o,p,d,!0,"transparent",i,0,s)):!g||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(f=(c=parseFloat(p))||0===c?p.substr((c+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(c=ne(e,o,r),f="px"):"left"===o||"top"===o?(c=J(e,o,r),f="px"):(c="opacity"!==o?0:1,f="")),(v=g&&"="===d.charAt(1))?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),m=d.replace(x,"")):(h=parseFloat(d),m=g&&d.substr((h+"").length)||""),""===m&&(m=o in n?n[o]:f),d=h||0===h?(v?h+c:h)+m:t[o],f!==m&&""!==m&&(h||0===h)&&c&&(c=Z(e,o,c,f),"%"===m?(c/=Z(e,o,100,"%")/100,!0!==t.strictUnits&&(p=c+"%")):"em"===m?c/=Z(e,o,1,"em"):"px"!==m&&(h=Z(e,o,h,m),m="px"),v&&(h||0===h)&&(d=h+c+m)),v&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==y[o]&&(d||"NaN"!=d+""&&null!=d)?(i=new me(y,o,h||c||0,0,i,-1,o,!1,0,p,d)).xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p:W("invalid "+o+" tween value: "+t[o]):(i=new me(y,o,c,h-c,i,0,o,!1!==u&&("px"===m||"zIndex"===o),0,p,d)).xs0=m):i=ge(y,o,p,d,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},l.setRatio=function(e){var t,i,n,r=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(e),r=r._next},l._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2,this._transform=this._transform||Pe(this._target,r,!0)},l._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},l._kill=function(t){var i,n,r,s=t;if(t.autoAlpha||t.alpha){for(n in s={},t)s[n]=t[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return t.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),e.prototype._kill.call(this,s)};var De=function e(t,i,n){var r,s,o,a;if(t.slice)for(s=t.length;--s>-1;)e(t[s],i,n);else for(s=(r=t.childNodes).length;--s>-1;)a=(o=r[s]).type,o.style&&(i.push($(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||e(o,i,n)};return o.cascadeTo=function(e,i,n){var r,s,o,a=t.to(e,i,n),l=[a],u=[],c=[],h=[],p=t._internals.reservedProps;for(e=a._targets||a.target,De(e,u,h),a.render(i,!0),De(e,c),a.render(0,!0),a._enabled(!0),r=h.length;--r>-1;)if((s=ee(h[r],u[r],c[r])).firstMPT){for(o in s=s.difs,n)p[o]&&(s[o]=n[o]);l.push(t.to(h[r],i,s))}return l},e.activate([o]),o},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css-plugin",function(e){return function(){return e.CSSPlugin}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=180/Math.PI,t=[],i=[],n=[],r={},s=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},o=function(e,t,i,n){var r={a:e},s={},o={},a={c:n},l=(e+t)/2,u=(t+i)/2,c=(i+n)/2,h=(l+u)/2,p=(u+c)/2,d=(p-h)/8;return r.b=l+(e-l)/4,s.b=h+d,r.c=s.a=(r.b+s.b)/2,s.c=o.a=(h+p)/2,o.b=p-d,a.b=c+(n-c)/4,o.c=a.a=(o.b+a.b)/2,[r,s,o,a]},a=function(e,r,s,a,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x=e.length-1,T=0,E=e[0].a;for(u=0;x>u;u++)c=(d=e[T]).a,h=d.d,p=e[T+1].d,l?(b=t[u],S=.25*((w=i[u])+b)*r/(a?.5:n[u]||.5),g=h-((f=h-(h-c)*(a?.5*r:0!==b?S/b:0))+(((m=h+(p-h)*(a?.5*r:0!==w?S/w:0))-f)*(3*b/(b+w)+.5)/4||0))):g=h-((f=h-.5*(h-c)*r)+(m=h+.5*(p-h)*r))/2,f+=g,m+=g,d.c=v=f,d.b=0!==u?E:E=d.a+.6*(d.c-d.a),d.da=h-c,d.ca=v-c,d.ba=E-c,s?(y=o(c,E,v,h),e.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,E=m;(d=e[T]).b=E,d.c=E+.4*(d.d-E),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=E-d.a,s&&(y=o(d.a,E,d.c,d.d),e.splice(T,1,y[0],y[1],y[2],y[3]))},l=function(e,n,r,o){var a,l,u,c,h,p,d=[];if(o)for(l=(e=[o].concat(e)).length;--l>-1;)"string"==typeof(p=e[l][n])&&"="===p.charAt(1)&&(e[l][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if(0>(a=e.length-2))return d[0]=new s(e[0][n],0,0,e[-1>a?0:1][n]),d;for(l=0;a>l;l++)u=e[l][n],c=e[l+1][n],d[l]=new s(u,0,0,c),r&&(h=e[l+2][n],t[l]=(t[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return d[l]=new s(e[l][n],0,0,e[l+1][n]),d},u=function(e,s,o,u,c,h){var p,d,f,m,g,v,y,b,w={},S=[],x=h||e[0];for(d in c="string"==typeof c?","+c+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==s&&(s=1),e[0])S.push(d);if(e.length>1){for(b=e[e.length-1],y=!0,p=S.length;--p>-1;)if(d=S[p],Math.abs(x[d]-b[d])>.05){y=!1;break}y&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}for(t.length=i.length=n.length=0,p=S.length;--p>-1;)d=S[p],r[d]=-1!==c.indexOf(","+d+","),w[d]=l(e,d,r[d],h);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),i[p]=Math.sqrt(i[p]);if(!u){for(p=S.length;--p>-1;)if(r[d])for(v=(f=w[S[p]]).length-1,m=0;v>m;m++)g=f[m+1].da/i[m]+f[m].da/t[m],n[m]=(n[m]||0)+g*g;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=S.length,m=o?4:1;--p>-1;)f=w[d=S[p]],a(f,s,o,u,r[d]),y&&(f.splice(0,m),f.splice(f.length-m,m));return w},c=function(e,t,i){for(var n,r,s,o,a,l,u,c,h,p,d,f=1/i,m=e.length;--m>-1;)for(p=e[m],s=p.a,o=p.d-s,a=p.c-s,l=p.b-s,n=r=0,c=1;i>=c;c++)n=r-(r=((u=f*c)*u*o+3*(h=1-u)*(u*a+h*l))*u),t[d=m*i+c-1]=(t[d]||0)+n*n},h=window._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.2",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,r,o,a,l,h=t.values||[],p={},d=h[0],f=t.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null,d)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof e[n],p[n]=r?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),l||p[n]!==h[0][n]&&(l=p);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?u(h,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,l):function(e,t,i){var n,r,o,a,l,u,c,h,p,d,f,m={},g="cubic"===(t=t||"soft")?3:2,v="soft"===t,y=[];if(v&&i&&(e=[i].concat(e)),null==e||g+1>e.length)throw"invalid Bezier data";for(p in e[0])y.push(p);for(u=y.length;--u>-1;){for(m[p=y[u]]=l=[],d=0,h=e.length,c=0;h>c;c++)n=null==i?e[c][p]:"string"==typeof(f=e[c][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&h-1>c&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(h=d-g+1,d=0,c=0;h>c;c+=g)n=l[c],r=l[c+1],o=l[c+2],a=2===g?0:l[c+3],l[d++]=f=3===g?new s(n,r,o,a):new s(n,(2*r+n)/3,(2*r+o)/3,o);l.length=d}return m}(h,t.type,p),this._segCount=this._beziers[n].length,this._timeRes){var m=function(e,t){var i,n,r,s,o=[],a=[],l=0,u=0,h=(t=t>>0||6)-1,p=[],d=[];for(i in e)c(e[i],o,t);for(r=o.length,n=0;r>n;n++)l+=Math.sqrt(o[n]),d[s=n%t]=l,s===h&&(u+=l,p[s=n/t>>0]=d,a[s]=u,l=0,d=[]);return{length:u,lengths:a,segments:p}}(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;3>a;a++)n=f[o][a],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=f[o][2],this._initialRotations[o]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,r,s,o,a,l,u,c,h,p=this._segCount,d=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,t*=this._length,r=this._li,t>this._l2&&p-1>r){for(u=p-1;u>r&&t>=(this._l2=c[++r]););this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(this._l1>t&&r>0){for(;r>0&&(this._l1=c[--r])>=t;);0===r&&this._l1>t?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,t-=this._l1,r=this._si,t>this._s2&&h.length-1>r){for(u=h.length-1;u>r&&t>=(this._s2=h[++r]););this._s1=h[r-1],this._si=r}else if(this._s1>t&&r>0){for(;r>0&&(this._s1=h[--r])>=t;);0===r&&this._s1>t?this._s1=0:r++,this._s2=h[r],this._si=r}a=(r+(t-this._s1)/(this._s2-this._s1))*this._prec}else a=(t-(i=0>t?0:t>=1?p-1:p*t>>0)*(1/p))*p;for(n=1-a,r=this._props.length;--r>-1;)s=this._props[r],l=(a*a*(o=this._beziers[s][i]).da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._round[s]&&(l=Math.round(l)),d[s]?f[s](l):f[s]=l;if(this._autoRotate){var g,v,y,b,w,S,x,T=this._autoRotate;for(r=T.length;--r>-1;)s=T[r][2],S=T[r][3]||0,x=!0===T[r][4]?1:e,o=this._beziers[T[r][0]],g=this._beziers[T[r][1]],o&&g&&(o=o[i],g=g[i],v=o.a+(o.b-o.a)*a,v+=((b=o.b+(o.c-o.b)*a)-v)*a,b+=(o.c+(o.d-o.c)*a-b)*a,y=g.a+(g.b-g.a)*a,y+=((w=g.b+(g.c-g.b)*a)-y)*a,w+=(g.c+(g.d-g.c)*a-w)*a,l=m?Math.atan2(w-y,b-v)*x+S:this._initialRotations[r],d[s]?f[s](l):f[s]=l)}}}),p=h.prototype;h.bezierThrough=u,h.cubicToQuadratic=o,h._autoCSS=!0,h.quadraticToCubic=function(e,t,i){return new s(e,(2*t+e)/3,(2*t+i)/3,i)},h._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,o,a,l){t instanceof Array&&(t={values:t}),l=new h;var u,c,p,d=t.values,f=d.length-1,m=[],g={};if(0>f)return a;for(u=0;f>=u;u++)p=i(e,d[u],o,a,l,f!==u),m[u]=p.end;for(c in t)g[c]=t[c];return g.values=m,(a=new r(e,"bezier",0,0,p.pt,2)).data=p,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=p.end.left?[["left","top","rotation",u,!1]]:null!=p.end.x&&[["x","y","rotation",u,!1]]),g.autoRotate&&(o._transform||o._enableTransforms(!1),p.autoRotate=o._target._gsTransform),l._onInitTween(p.proxy,g,o._tween),a}})}},p._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;--n>-1;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},p._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("bezier-plugin",function(e){return function(){return e.BezierPlugin}}(this)),define("helpers/GsapTweenLite",["require","tween-lite","ease-pack","css-plugin","bezier-plugin"],function(e){"use strict";var t=e("tween-lite");return e("ease-pack"),e("css-plugin"),e("bezier-plugin"),t.defaultOverwrite=!1,t}),define("helpers/external/ao",["require","lodash","external/superagent","polyfills/detection","helpers/utils","helpers/resolver","helpers/GsapTweenLite","helpers/vow","views/helpers/dom"],function(e){"use strict";var t,i,n=e("lodash"),r=e("external/superagent"),s=e("polyfills/detection"),o=e("helpers/utils"),a=(e("helpers/resolver"),e("helpers/GsapTweenLite")),l=e("helpers/vow"),u=e("views/helpers/dom"),c=0,h="SavePlayerData",p="SaveResume",d="GetResumeInfo",f="RefreshSession",m="GetSessionId",g=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),v="</soap:Body></soap:Envelope>",y=window.location.origin,b=n.first(window.location.toString().split("#")),w="http://articulate.com",S=function(e){var t=n.rest(arguments);return[e].concat(t).join("/")},x="",T={GetResumeInfo:"sendResumeReady",GetSessionId:"onSessionId",RefreshSession:"dontDoAnything",SaveResume:"dontDoAnything",SavePlayerData:"dontDoAnything"},E={queue:[],priorityQueue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(e,t){if(window.globals.aoSupport)return this.activityId=e,this.scoring=t||{},this.sessionId=Date.now().toString(),window.addEventListener("pagehide",this.onBeforeUnload.bind(this)),this},setTotalSlides:function(e){this.totalSlides=e},setResumer:function(e){this.resumer=e,this.queueRequest(m)},interactionAnswered:function(e,t){this.updateResults(),this.sendResultsData()},quizComplete:function(e){this.updateResults(),this.sendResultsData()},courseComplete:function(e){this.updateResults(),this.sendResultsData()},manualCourseComplete:function(e,t){this.updateCompleteOnly(),this.sendResultsData()},courseStarted:n.noop,reportStatus:n.noop,viewedComplete:n.noop,slideViewed:function(e){var t=[u.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(e){t.push(e)}),t.push(u.writeCloseNode("viewdata")),this.updateViewData(t.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(e){return e.reduce(function(e,t){return e.push(u.writeNode("slide",{id:o.stripPlayer(t.absoluteId),viewgroupid:t.getViewGroupId()},!0)),e},[])},setViewedResults:function(){var e=[u.writeNode("results"),u.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),u.writeCloseNode("results")].join("");this.updateResultsData(e)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var e=[u.writeNode("results"),u.writeNode("summary",this.getSummaryAttributes(),!0),u.writeNode("quizzes")];return null!=this.scoring.quiz&&e.push(this.scoring.quiz.getAoSoapXml()),e.push(u.writeCloseNode("quizzes"),u.writeCloseNode("results")),this.updateResultsData(e.join("")),this}},updateCompleteOnly:function(){return this.updateResultsData([u.writeNode("results"),u.writeNode("summary",{status:this.scoring.prop("Status")},!0),u.writeCloseNode("results")].join("")),this},getSummaryAttributes:function(e){return e={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(e.score=this.scoring.prop("PercentScore"),e.possibleScore=100),e.duration=this.resumer.getCourseTime(),e.status=this.scoring.prop("Status")),e},onSessionId:function(e){this.sessionId=e.querySelector("GetSessionIdResponse").textContent,this.createRefreshInterval()},killRefreshInterval:function(){a.killDelayedCallsTo(this.onIntervalComplete)},createRefreshInterval:function(){a.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(f).createRefreshInterval()},dontDoAnything:n.noop,getItem:function(){return this.resumeDfd=new l.Deferred,this.queueRequest(d),this.resumeDfd.promise()},setItem:function(e,t){t!==this.lastData&&(this.lastData=t,this.updateResumeData(t))},sendResumeReady:function(e){var t=e.querySelector("GetResumeInfoResponse");this.resumeDfd.resolve(t.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(e){var i;t=["<resumeData>",e,"</resumeData>"].join(""),i=['<playerdata sessionid="',this.sessionId,'">',t,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(p,i),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(e){i=e,this.prepareHtmlUpdate()},updateResultsData:function(e){x=e,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',c,'">',t,i,x,"</playerdata>"].join("")},sendResultsData:function(){var e=this.getPlayerData();c++,this.queueRequest(h,e,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(e){this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,this[s.isIE()?"sendSyncRequest":"sendRequest"]({command:this.hasResultsData()?h:p,xmlData:this.htmlUpdate}))},queueRequest:function(e,t,i){var n=i?this.priorityQueue:this.queue,r={command:e,xmlData:t};return 0===this.queue.length&&0===this.priorityQueue.length&&!1===this.awaitingResponse?this.sendRequest(r):n.unshift(r),this},requestCallback:function(e,t,i){var n;this.awaitingResponse=!1,t||(n=(new window.DOMParser).parseFromString(i.text,"application/xml")),this[e](n),this.popQueue()},popQueue:function(){var e=this.priorityQueue.pop()||this.queue.pop();null!=e&&this.sendRequest(e)},sendRequest:function(e,t){s.isIE()&&this.hasEnded&&this.sendSyncRequest(e);var i=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),o=this.createSoapRequest(e),a=T[e.command];this.awaitingResponse=!0,r.post(i).set("Content-Type","text/xml").set("soapaction",n).send(o).end(this.requestCallback.bind(this,a))},createActionUrl:n.partial(S,w),createBaseUrl:n.partial(S,y),createSoapRequest:function(e){return[g,"<command ".replace("command",e.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",w),"<contentUrl>",window.escape(b),"</contentUrl>",null!=e.xmlData?e.xmlData:"","</command>".replace("command",e.command),v].join("")},sendSyncRequest:function(e){var t=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",e.command),n=this.createSoapRequest(e),r=new window.XMLHttpRequest;r.open("POST",t,!1),r.setRequestHeader("SOAPAction",i),r.send(n)}};return window.handleBeforeUnload=E.onBeforeUnload.bind(E),E}),define("helpers/external/lmsInteractionMethods",["require","lodash","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/constants"),function(e){return null==e&&(e=""),window.CreateResponseIdentifier(e.substr(0,1),e)}),n=function(e,t){return e.push(i(t)),e},r=function(e,t,i){var n=t.statement.lmstext||t.statement,r=t.choice.lmstext||t.choice,s=window.CreateResponseIdentifier(i.toString(),n),o=window.CreateResponseIdentifier(n.charAt(0),r);return e.push(new window.MatchingResponse(s,o)),e},s=function(e){return null==e.choice&&""===e?e="_":""===e.choice&&(e.choice="_"),e},o={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},a=function(e){var i=t.first(e).toUpperCase();return o[i]||e},l=function(e){return null!=e&&"true"===e.lmstext.toLowerCase()},u=function(e,t){var i,n=t,r=[t.prop("AttemptCount")-1,e.getAttempts()];do{(i=n.get("lmsId"))&&r.push(i)}while(n=n.parent);return r.reverse().join("_")},c={truefalse:function(e,i,n){window.RecordTrueFalseInteraction(u(e,i),l(t.first(i.getResponseValues())),a(i.prop("Status")),l(t.first(i.getCorrectValues())),i.get("lmstext"),e.prop("Weight"),n,e.get("lmstext"))},multiEtc:function(e,r,o,l){var c,h,p,d;o.isType("sequence")?(h=function(e,t,n){return e.push(i(t.statement.lmstext),i(t.choice.lmstext)),e},p=o.getResponseValues().reduce(h,[]),d=s(o.getCorrectValues()).reduce(h,[])):(c=function(e){return t.isString(e)?e:null!=e.choice?e.choice.lmstext:e.lmstext},p=o.getResponseValues().map(c).reduce(n,[]),d=s(o.getCorrectValues().map(c)).reduce(n,[])),window[e](u(r,o),p,a(o.prop("Status")),d,o.get("lmstext"),r.prop("Weight"),l,r.get("lmstext"))},numeric:function(e,t,i,n){window.RecordFillInInteraction(u(e,t),t.getResponseValues(),a(t.prop("Status")),n||t.getCorrectValues(),t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},fillin:function(e,t,i){var n=t.getCorrectValues().map(function(e){return e.lmstext}).join("|#|");c.numeric(e,t,i,n)},matching:function(e,t,i){var n=t.getResponseValues().reduce(r,[]),o=t.getCorrectValues();o=s(o).reduce(r,[]),window.RecordMatchingInteraction(u(e,t),n,a(t.prop("Status")),o,t.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},likert:function(e,i,n){var r=t.flatten(i.getResponseValues().map(function(e){return[e.statement.lmstext,e.choice.lmstext]})).join("|#|");window.RecordLikertInteraction(u(e,i),window.CreateResponseIdentifier(r.substr(0,1),r),a(i.prop("Status")),"",i.get("lmstext"),e.prop("Weight"),n,e.get("lmstext"))}};return c.wordbank=c.hotspot=c.multiplechoice=c.multipleresponse=t.partial(c.multiEtc,"RecordMultipleChoiceInteraction"),c.sequence=t.partial(c.multiEtc,"RecordSequencingInteraction"),c.essay=c.numeric,c}),define("helpers/external/lms",["require","lodash","helpers/external/lmsInteractionMethods","helpers/GsapTweenLite","helpers/vow","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/external/lmsInteractionMethods"),n=e("helpers/GsapTweenLite"),r=e("helpers/vow"),s=e("helpers/utils"),o={complete:function(e){e.api.SetReachedEnd()},incomplete:function(e){e.api.ResetStatus()},fail:function(e){e.api.SetFailed()},pass:function(e){e.api.SetPassed()}},a={queue:[],resumer:null,scoring:null,api:null,lessonCompleted:!1,setTotalSlides:t.noop,courseStarted:t.noop,quizComplete:t.noop,slideViewed:t.noop,initialize:function(e,t){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scoring=t,this.courseId=e,window.addEventListener("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var e=t.isFunction(this.api.Start);return e&&this.api.Start(),e},setResumer:function(e){this.resumer=e},getItem:function(e){var t;if(this.resumeDfd=this.resumeDfd||new r.Deferred,null!=this.api.IsLoaded&&this.api.IsLoaded()?(t=this.api.GetDataChunk(),this.resumeDfd.resolve(t),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):n.delayedCall(.5,this.getItem,void 0,this),null!=e)return this.resumeDfd.promise()},listenToResumer:function(){var e=this;this.resumer.resumeDfd.always(function(){"rejected"===this.state()&&(e.lastStatus="incomplete",o.incomplete(e))})},setItem:function(e,t){this.resumeData=t,this.sendDataCall||(this.sendDataCall=n.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){var e=parseInt(s.getPath(window,"FORCED_COMMIT_TIME",6e4),10);e>0&&n.delayedCall(s.toSeconds(e),this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall=null,n.killDelayedCallsTo(this.sendData),this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(e,t){this.scoring&&(0,i[t.type()])(e,t,this.resumer.getCourseTime())},reportStatus:function(){return this.updateScore(),this.updateStatus(),this},updateStatus:function(){var e=this.scoring.prop("Status"),i=o[e]||t.noop;return this.lastStatus&&this.lastStatus===e||(this.lastStatus=e,i(this)),this},updateScore:function(){if(!this.scoring.isView()&&!this.scoring.isAction()&&this.scoring.quiz.attempted()){var e=this.scoring.prop("PercentScore");this.lastScore!==e&&(this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return o[this.scoring.getStatus()](this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(){return this.reportStatus().forceCommit(),this}};return a.manualCourseComplete=a.courseComplete,a}),define("helpers/resume/localStorageHelper",["require","lodash","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n="path=/",r=function(e){return e.split("=")},s=function(e){return e[0]},o={setCookie:function(e,t){var i=[e,t].join("=");return document.cookie=[i,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),n].join("; "),this},getCookies:function(e){return document.cookie.split("; ").map(r).filter(function(t){return 0===t[0].indexOf(e)})},getItem:function(e){var n=new i.Deferred,r=t(this.getCookies(e)).sortBy(s).reduce(function(e,t){return e+t[1]},"");return n.resolve(r),n.promise()},setItem:function(e,t){for(var i,n,r=0;t.length>0;)n=[e,r++].join("_"),i=t.slice(0,4048),this.setCookie(n,i),t=t.slice(4048);return this}},a={getItem:function(e){var t=new i.Deferred,n=window.localStorage.getItem(e);return t.resolve(n),t.promise()},setItem:function(e,t){var i;try{i=window.localStorage.setItem(e,t)}catch(e){console.warn(e)}return i}},l={setResumer:t.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!t.isUndefined(window.localStorage)}catch(e){return!1}},getStorage:function(){return t.extend(l,this.hasStorage()?a:o)}}}),define("helpers/resume/Chunk",["require","lodash","models/BaseModel"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n="abcdefghijklmnopqrstuvwxyz",r=t.union(t.range(10).map(function(e){return e.toString()}),n.split(""),n.toUpperCase().split(""),"_$".split("")),s=/([^a-zA-Z0-9_$])/,o=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(e){var t,i=1,n=0;"~"===this.fullString().charAt(0)&&(n=2,i=parseInt(this.fullString().charAt(1))),t=n+i,this.encodedLength(this.fullString().slice(n,t)),this.strLength(parseInt(o.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(t,t+this.strLength())),this.remainder(this.fullString().slice(t+this.strLength()))},getDecodedValue:function(e){var t=this.encodedString();return s.test(t)||(t=o[e](t)),t},reChunk:function(){return new o({fullString:this.remainder()})}}),a=o.prototype;return a.getSignedValue=t.partial(a.getDecodedValue,"fromSignedString64"),a.getUnsignedValue=t.partial(a.getDecodedValue,"fromUnsignedString64"),o.EMPTY_CHUNK=0,o.create=function(e){null==e&&(e="");var t="",i=e.toString().length,n=o.toUnsignedString64(i);return i>63&&(t+="~"+n.length),t+=n+e},o.packData=function(e){return[o.create(o.toUnsignedString64(e.length)),e].join("")},o.toUnsignedString64=function(e,i,n){var s="",a=!0,l=e;for(n=n||o.EMPTY_CHUNK;l>0||a;)a=!1,s+=r[63&l],l>>=6;return s+=t.times(i-s.length,t.partial(t.identity,n)).join("")},o.toSignedString64=function(e,t){var i,n=e,r=e<0,s=1,a=0;for(t=t||-1;Math.pow(64,s)/2<=Math.abs(e);)s++;if(i=Math.max(t,s),r){for(;-e>=Math.pow(64,a)/2;)a++;n=Math.pow(64,a)+e}return o.toUnsignedString64(n,i,r?"$":"0")},o.fromUnsignedString64=function(e){return e.toString().split("").reduce(function(e,t,i){var n;return e+=(n=t,r.indexOf(n)<<6*i)},0)},o.fromSignedString64=function(e){var t=o.fromUnsignedString64(e.toString()),i=Math.pow(64,e.length)/2;return t>=i&&(t-=2*i),t},o}),define("helpers/resume/courseStateHelper",["require","lodash","helpers/utils","helpers/vow","helpers/resume/Chunk"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("helpers/vow"),o=e("helpers/resume/Chunk"),a={initialize:function(){var e,t,i={},r=window.vRestoreStateData;if(this.hasData=!n.isEmpty(r),this.hasData){for(e=new o({fullString:r}),this.resumeData=e.encodedString(),e=e.reChunk(),t=(e=new o({fullString:e.encodedString()})).encodedString();t.length>0;)e=e.reChunk(),i[t]=e.encodedString(),t=(e=e.reChunk()).encodedString();this.slideStateData=i}},setResumer:function(e){t=e},setWindowManager:function(e){i=e},getSlideStateData:function(e){if(this.hasData)return this.slideStateData[r.stripPlayer(e)]},clearSlideStateData:function(e){this.slideStateData[r.stripPlayer(e)]=null},getState:function(){return n.map([o.packData(t.collectResumeData()),this.getActiveSlideStates()],o.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var e=new s.Deferred;return e.resolve(),e.promise()},setItem:n.noop,setResumer:n.noop}},getActiveSlideStates:function(){return i.windows.map(function(e){var t=e.getCurrentSlide();return null==t?"":(t.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),n.map([r.stripPlayer(t.absoluteId),t.getResumeData()],o.create).join(""))}).join("")}};return a.initialize(),a}),define("helpers/PostMessaging",["require","helpers/vow","helpers/errorManager"],function(e){"use strict";var t=e("helpers/vow"),i=e("helpers/errorManager"),n={},r="request",s="response",o=[r,s];window.addEventListener("message",function(e){var t,r=i.throwError("PostMessaging");if(null!=e.data){try{t=JSON.parse(e.data)}catch(e){return}var s;null!=(s=t)&&null!=s.id&&null!=s.type&&-1!==o.indexOf(s.type)&&(null!=n[t.connectionId]?n[t.connectionId](t,e):r("No listener exists for connectionId: ",t.connectionId))}},!1);return function(e,o){var a,l,u,c,h,p=i.throwError("PostMessaging"),d={},f=0,m=new t.Deferred,g=o,v=function(e,i,n,s,o){var a=++f,l=new t.Deferred,u={type:i,connectionId:g};return d[a]=l,i===r?(u.method=n,u.params=s,u.id=a):(u.id=n,u.data=s,u.status=null!=o?o:"SUCCESS"),e.postMessage(JSON.stringify(u),"*"),l.always(function(){delete d[a]}).fail(function(e){delete d[a],p(e.message)}),l.promise()},y=function(e){a=function(t,i){return m.then(function(){return v(e,r,t,i)})},l=function(t,i,n){return m.then(function(){return v(e,s,t,i,n)})}},b=function(t,i){var n,o,a;if(t.type===r)if("connect"===t.method)y(i.source),v(i.source,s,t.id),m.resolve();else if(null!=e[t.method])try{o=e[t.method].apply(void 0,Array.isArray(t.params)?t.params:[t.params]),null!=(a=o)&&"function"==typeof a.then?o.then(function(e){l(t.id,e)}):l(t.id,o)}catch(e){l(t.id,e.message,"ERROR")}else l(t.id,["No handler for this method ",t.method].join(""),"ERROR");else{if(null!=(n=d[t.id]))return void("SUCCESS"===t.status?n.resolve(t.data,i):n.reject(t.data,i));l(t.id,["No pending requests for this response id ",t.id].join(""),"ERROR")}};h=b,n[c=g]=h,u=function(){delete n[c]},this.ready=function(){return m},this.connect=function(e){return y(e),v(e,r,"connect").then(m.resolve),m},this.request=function(){if(null!=a)return a.apply(void 0,arguments);p("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){u(),window.removeEventListener("message",b,!1)}}}),define("helpers/webObjectHelper",["require","lodash","polyfills/detection","helpers/utils","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow","helpers/PostMessaging"],function(e){"use strict";var t,i,n=e("lodash"),r=e("polyfills/detection"),s=e("helpers/utils"),o=e("helpers/errorManager"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("helpers/vow"),c=e("helpers/PostMessaging"),h=new u.Deferred,p=o.throwError("webObjectHelper"),d=!1;(new u.Deferred).reject().promise();l.once(a.data.INITIALIZED,function(){d=!0});var f={setVolume:function(e){l.trigger(a.volume.CHANGED,e)},executeFilteredPlayerEvent:function(e){if(!d)throw new Error("data is not yet initialized");t.executeFilteredPlayerEvent(m(e),"onhostevent")}},m=function(e){return function(t){return t.eventname===e||t.eventName===e}},g=function(){return h.then(function(){return i.request("getResumeData").then(function(e){return e}).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})};return{initialize:function(e){t=e,r.isWebObject?((i=new c(f,s.queryStringToObj().id)).ready().then(h.resolve),i.connect(window.parent)):h.reject()},tearDown:function(){null!=i&&i.tearDown()},triggerHostEvent:function(e){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",e)},getResumer:function(e){return n.extend({},e,{getItem:g,setItem:function(t,n){return function(e){i.request("setResumeData",e).fail(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}(n),e.setItem.apply(e,arguments)}})}}}),define("helpers/resume/resumer",["require","lodash","helpers/appState","helpers/events","helpers/pubSub","helpers/external/tinCan","helpers/external/ao","helpers/external/lms","helpers/resume/localStorageHelper","helpers/resume/Chunk","helpers/vow","helpers/errorManager","polyfills/detection","helpers/resume/courseStateHelper","helpers/webObjectHelper"],function(e){"use strict";var t,i,n,r,s=e("lodash"),o=e("helpers/appState"),a=e("helpers/events"),l=e("helpers/pubSub"),u=e("helpers/external/tinCan"),c=e("helpers/external/ao"),h=e("helpers/external/lms"),p=e("helpers/resume/localStorageHelper"),d=e("helpers/resume/Chunk"),f=e("helpers/vow"),m=e("helpers/errorManager"),g=e("polyfills/detection"),v=e("helpers/resume/courseStateHelper"),y=e("helpers/webObjectHelper"),b=(m.warn("resumer"),function(e){return e.match(/.{2}/g)}),w=function(e){return e.getViewGroupId()},S={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(e,n){return s.bindAll(this,"savePresentationData"),t=e,i=e.resume()||{},this.resumeDfd=new f.Deferred,this.hasOverlay=n,this.resumeDfd.fail(function(){this.setViewedSlidesFromString("")}.bind(this)),v.setResumer(this),this.setProperLms(),l.on(a.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=(new f.Deferred).resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!r},setProperLms:function(){var e=t.get("scoring"),n=t.get("courseId");return this.hasLms=!0,window.globals.tinCanPresent||g.isRise?r=u.initialize(n,t.get("tincanVersion"),e,t,g.isRise):window.globals.aoSupport?r=c.initialize(n,e):window.globals.lmsPresent?(r=h.initialize(n,e),this.hasLms=this.isResumable()):!0===i.flashresume?(this.hasLms=!1,r=p.getStorage()):v.shouldShimLMS()?(this.hasLms=!1,r=v.getLMSShim()):this.hasLms=!1,g.isWebObject&&null!=r&&(r=y.getResumer(r)),null==r||!this.hasLms||i.lmsresume&&!g.isRise||this.neverResumeLms(r),this},neverResumeLms:function(e){e.setItem=s.noop,e.getItem=function(){var e=new f.Deferred;return e.resolve(),e.promise()}},informExternals:function(){return r.setResumer(this),this},setListeners:function(){var e={};return e[a.slide.VIEWED]=this.slideViewed.bind(this),e[a.slideWindow.CLEAR_HISTORY]=this.clearResumeData.bind(this),e[a.actionlink.EVENT]=this.onActionLink.bind(this),this.hasLms&&(e[a.interaction.EVALUATED]=this.onInteractionEvaluated,e[a.quiz.COMPLETED]=r.quizComplete.bind(r),e[a.course.COMPLETED]=r.courseComplete.bind(r),e[a.course.MANUALLY_COMPLETED]=r.manualCourseComplete.bind(r),e[a.course.VIEWED]=r.viewedComplete.bind(r),e[a.status.UPDATED]=r.reportStatus.bind(r)),l.on(e),this},onInteractionEvaluated:function(e,t){e.hasScoring()&&r.interactionAnswered(e,t)},closePlayer:function(){t.isPreview()?l.trigger(a.preview.NOTIFY,"PREVIEW_CLOSE_WND"):null!=r&&s.isFunction(r.lmsUnload)?r.lmsUnload():window.top.window.open("","_self","").close()},setWindowManager:function(e){n=e,v.setWindowManager(e),this.lmsDfd.done(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=t.scenes().map(function(e,t){return d.EMPTY_CHUNK}),this},callForLightboxClose:function(){return l.trigger(a.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),l.trigger(a.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),l.trigger(a.resume.SET_DATA),this},check:function(e){(this.hasOverlay||g.isClassic||!g.isDesktop||this.mobileStartAsPrompt)&&(this.hasOverlay||g.isPhonePreview||g.isMobileAndNotPreview||!g.isClassic&&!t.isPreview())?o.getAppCompletePromise().done(function(){var t=g.isClassic&&g.isDesktop?e:{rejectDeferred:e,mobileStartAsPrompt:this.mobileStartAsPrompt};l.trigger(a.request.START,t)}.bind(this)):e()},initResumeData:function(){this.lmsDfd=r.getItem(i.id).done(function(e){var t=!1;v.hasData&&(e=v.resumeData),null!=e&&e.length&&(t=this.processResumeData(e)),t?i.prompt&&!g.isClassic?(this.mobileStartAsPrompt=!0,this.checkAndResolve()):this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(e){var t,i=!1,n=new d({fullString:e});return(t=n).remainder().length===t.getUnsignedValue()?(this.resumeData=n.reChunk(),i=!0):m.warn("processResumeData","the data is the incorrect length, resume not attempted"),i},checkApplyResumeData:function(){return i.prompt&&!v.hasData&&o.getAppCompletePromise().done(function(){l.trigger(a.request.NEXT_SLIDE,i.slideId,i.window)}),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!v.hasData||this.checkAndResolve()},applyResumeData:function(e){var t=e?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[t]()},slideViewed:function(e){e.get("trackViews")&&(this.addSlideToViewedList(e),this.hasLms&&r.slideViewed(e))},onActionLink:function(e){var i=s.findIndex(t.get("actionlinks"),{id:e});-1!==i&&(this.viewedActionLinks[e]=i)},addSlideToViewedList:function(e){this.viewedSlides.push(e),this.viewedSlides=s.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=s.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(e,t){return e+d.toUnsignedString64(t.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(e){if(e.length){var i=t.getFlatSlides(),n=t.get("scoring");this.totalViewedSlides=s(b(e)).map(d.fromUnsignedString64).map(function(e){var t=i[e-1];return null!=t&&n.incrementViewed(t),t}.bind(this)).compact().value()}this.hasLms&&t.getDrawPromise().done(function(){r.setTotalSlides(t.getUniqueSlides().length)})},getUniqueSlides:function(e){return s.uniq(this[e],w)},getViewedActionLinksString:function(){return s.reduce(this.viewedActionLinks,function(e,t){return e+d.toUnsignedString64(t,2)},"")},setViewedActionLinksFromString:function(e){if(e.length>0){var i=t.get("actionlinks");null!=i&&(this.viewedActionLinks=b(e).map(d.fromUnsignedString64).reduce(function(e,t){var n=i[t];return null!=n&&(e[n.id]=t),e},{}))}},collectResumeData:function(){return[d.create(this.getViewedSlidesString()),d.create(n.getResumeData()),t.variables().length>0?d.create(t.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),t.quizzes().getResumeData(),t.timers().length>0?t.timers().getResumeData():"",d.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(e){if(!this.isResumable()||f.isPending(this.resumeDfd))return this;var t=n.getCurrentWindowSlide();this.saveSceneData(e),null!=t&&(this.resumeData=this.collectResumeData(),r.setItem(i.id,d.packData(this.resumeData)))},saveSceneData:function(e){null!=e&&(this.sceneResume[e.index()]=d.create(e.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.done(this.setResumeData.bind(this)),this},setResumeData:function(){var e,i,r,s=this.resumeData.encodedString(),o=t.variables().length>0,a=this.resumeData.reChunk(),l=o?a.reChunk():null,u=o?l.reChunk():a.reChunk();o&&t.variables().setResumeData(l.encodedString()),e=this.setSceneResumeData(u),i=t.quizzes().setResumeData(e),t.timers().length>0&&t.timers().setResumeData(i),r=i,t.createSlideIndices(),this.setViewedSlidesFromString(s),this.setViewedActionLinksFromString(r.encodedString()),n.setResumeData(a.encodedString())},setSceneResumeData:function(e){return this.sceneResume=t.scenes().map(function(t){var i=e.encodedString();return t.setResumeData(i),e=e.reChunk(),d.create(i)}),e},courseStarted:function(e){this.courseStartTime=Date.now(),this.hasLms&&r.courseStarted(e)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){t.scenes().forEach(function(e){e.clearResumeData()}),t.getUniqueSlides().forEach(function(e){e.clearResumeData()}),n.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&r.setItem(i.id,"")}};return S.getUniqueViewedSlides=s.partial(S.getUniqueSlides,"viewedSlides"),S.getUniqueTotalSlides=s.partial(S.getUniqueSlides,"totalViewedSlides"),S.checkAndReject=s.partial(S.check,S.rejectDeferred.bind(S)),S.checkAndResolve=s.partial(S.check,S.resolveDeferred.bind(S)),S}),define("helpers/slidesController",["require","lodash","backbone","mixins/subscribable","helpers/pubSub","helpers/utils","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),r=e("mixins/subscribable"),s=(e("helpers/pubSub"),e("helpers/utils")),o=e("helpers/resolver");return i.extend({initialize:function(e){t=e,this.addSubscriptions()},ensureSlideIsSlide:function(e){return e.isScene&&(e=this.getStartingSlide(e)),e.isSlideDraw&&(e=s.getPath(e.slides(),"first")),e},getSlide:function(e,i){var n=o.isRelativePath(e)?i:t,r=o.resolvePath(e,n,{optional:!0});return null!=r&&(r=this.ensureSlideIsSlide(r)),r},getRef:function(e){var i=t.slideMap().slideRefs();return i.get(e.fullId())||i.get(e.id)},getStartingSlide:function(e){return o.resolvePath(e.startingSlide(),t)},getEntrypoint:function(){return t.entryPoint()},loadSlide:function(e,n){var r=i.isString(e)?this.getSlide(e,n):e,s=r.load(this.getRef(r));return t.slideMap().setCurrentSlide(r.absoluteId),s},getSlideFromIndices:function(e,i){return t.scenes().at(e).slides().at(i)},getDrawFromIndices:function(e,i,n){return t.scenes().at(i).slidedraws().at(e).slides().at(n)}},n.Events,r)}),function(){"use strict";var e=10,t=16,i=4.5,n=1.5,r=[0,0,0,.5],s=!1,o={};window.captionator=o,o.CaptionatorCueStructure=function(e,t){var i=this;this.isTimeDependent=!1,this.cueSource=e,this.options=t,this.processedCue=null,this.toString=function(n){if(!1!==t.processCueHTML){var r=function e(t,r){if(null===i.processedCue){var s,o,a="";for(s in t)s.match(/^\d+$/)&&t.hasOwnProperty(s)&&((o=t[s])instanceof Object&&o.children&&o.children.length?"v"===o.token?a+='<q data-voice="'+o.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+o.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+o.voice.replace(/[\"]/g,"")+'">'+e(o.children,r+1)+"</q>":"c"===o.token?a+="<span class='webvtt-span webvtt-class-span "+o.classes.join(" ")+"'>"+e(o.children,r+1)+"</span>":o.timeIn>0?null==n||n>0&&n>=o.timeIn?a+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+e(o.children,r+1)+"</span>":n<o.timeIn&&(a+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+o.token+"' data-timestamp-seconds='"+o.timeIn+"'>"+e(o.children,r+1)+"</span>"):a+=o.rawToken+e(o.children,r+1)+"</"+o.token+">":(o instanceof String||"string"==typeof o||"number"==typeof o)&&(a+=o));return!i.isTimeDependent&&0===r&&(i.processedCue=a),a}return i.processedCue};return r(this,0)}return e},this.getPlain=function(i){if(!1!==t.processCueHTML){return function e(t,n){var r,s,o="";for(r in t)r.match(/^\d+$/)&&t.hasOwnProperty(r)&&((s=t[r])instanceof Object&&s.children&&s.children.length?s.timeIn>0?(null==i||i>0&&i>=s.timeIn)&&(o+=e(s.children,n+1)):o+=e(s.children,n+1):(s instanceof String||"string"==typeof s||"number"==typeof s)&&(o+=s));return o}(this,0)}return e.replace(/<[^>]*>/gi,"")}},o.CaptionatorCueStructure.prototype=[],o.TextTrack=function(e,t,i,n,r,s){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=e||"",this.internalMode=o.TextTrack.OFF,this.cues=new o.TextTrackCueList(this),this.activeCues=new o.ActiveTextTrackCueList(this.cues,this),this.kind=t||"subtitles",this.label=i||"",this.language=n||"",this.src=r||"",this.readyState=o.TextTrack.NONE,this.internalDefault=s||!1,this.getMode=function(){return this.internalMode},this.setMode=function(e){if(-1===[o.TextTrack.OFF,o.TextTrack.HIDDEN,o.TextTrack.SHOWING].indexOf(e))throw new Error("Illegal mode value for track: "+e);e!==this.internalMode&&(this.internalMode=e,this.readyState===o.TextTrack.NONE&&this.src.length>0&&e>o.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(this.videoNode),e===o.TextTrack.OFF&&(this.cues.length=0,this.readyState=o.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(e,t){var i,n=new XMLHttpRequest;if(this.readyState===o.TextTrack.LOADED)t instanceof Function&&t(i);else{this.src=e,this.readyState=o.TextTrack.LOADING;var r=this;n.open("GET",e,!0),n.onreadystatechange=function(e){if(4===n.readyState)if(200===n.status){var s=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(s.processCueHTML=!1,s.sanitiseCueHTML=!1),i=o.parseCaptions(n.responseText,s),r.readyState=o.TextTrack.LOADED,r.cues.loadCues(i),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,o.rebuildCaptions(r.videoNode),r.onload.call(this),t instanceof Function&&t.call(r,i)}else r.readyState=o.TextTrack.ERROR,r.onerror()};try{n.send(null)}catch(e){r.readyState=o.TextTrack.ERROR,r.onerror(e)}}},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(e)},this.removeCue=function(){}},o.TextTrack.NONE=0,o.TextTrack.LOADING=1,o.TextTrack.LOADED=2,o.TextTrack.ERROR=3,o.TextTrack.OFF=0,o.TextTrack.HIDDEN=1,o.TextTrack.SHOWING=2,o.TextTrackCue=function(e,t,i,n,r,s,a){if(this.id=e,this.track=a instanceof o.TextTrack?a:null,this.startTime=parseFloat(t),this.endTime=parseFloat(i)>=this.startTime?parseFloat(i):this.startTime,this.text="string"==typeof n||n instanceof o.CaptionatorCueStructure?n:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!s,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;(r=r.split(/\s+/).filter(function(e){return e.length>0}))instanceof Array&&r.forEach(function(e){var t={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};t[(e=e.split(":"))[0]]&&(l[t[e[0]]]=e[1]),t[e[0]]in u&&(u[t[e[0]]]=e[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var e=document.createDocumentFragment(),t=document.createElement("div");return t.innerHTML=String(this.text),Array.prototype.forEach.call(t.childNodes,function(t){e.appendChild(t.cloneNode(!0))}),e},this.isActive=function(){var e=0;if(this.track instanceof o.TextTrack&&(this.track.mode===o.TextTrack.SHOWING||this.track.mode===o.TextTrack.HIDDEN)&&this.track.readyState===o.TextTrack.LOADED)try{if(e=this.track.videoNode.currentTime,this.startTime<=e&&this.endTime>=e)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(e){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},o.TextTrackCueList=function(e){this.track=e instanceof o.TextTrack?e:null,this.getCueById=function(e){return this.filter(function(t){return t.id===e})[0]},this.loadCues=function(e){for(var t=0;t<e.length;t++)e[t].track=this.track,Array.prototype.push.call(this,e[t])},this.addCue=function(e){if(!(e&&e instanceof o.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(e.track!==this.track&&e.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,e)},this.toString=function(){return"[TextTrackCueList]"}},o.TextTrackCueList.prototype=[],o.ActiveTextTrackCueList=function(e,t){this.refreshCues=function(){if(e.length){var i=this,n=!1,r=[].slice.call(this,0);if(this.length=0,e.forEach(function(e){e.active&&(i.push(e),i[i.length-1]!==r[i.length-1]&&(n=!0))}),n)try{t.oncuechange()}catch(e){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},o.ActiveTextTrackCueList.prototype=new o.TextTrackCueList(null);o.rebuildCaptions=function(e){var t,i=e.textTracks||[],n=(e._captionatorOptions instanceof Object&&e._captionatorOptions,e.currentTime),r=[],s=[];(i.forEach(function(e,t){e.mode===o.TextTrack.SHOWING&&e.readyState===o.TextTrack.LOADED&&(s=(s=[].slice.call(e.activeCues,0)).sort(function(e,t){return e.startTime>t.startTime?-1:1}),r=r.concat(s))}),t=r.map(function(e){return e.track.id+"."+e.id+":"+e.text.toString(n).length}),!o.compareArray(t,e._captionator_previousActiveCues)||e._captionator_dirtyBit)&&(e._captionator_dirtyBit=!1,e._captionator_availableCueArea=null,e._captionator_previousActiveCues=t,o.styleCueCanvas(e),[].slice.call(e._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(e._containerObject.getElementsByTagName("div"),0)).forEach(function(e){e.cueObject&&!e.cueObject.active&&(e.cueObject.rendered=!1,e.cueObject.domNode=null,e.parentElement.removeChild(e))}),r.forEach(function(t){var i,r;"metadata"!==t.track.kind&&t.mode!==o.TextTrack.HIDDEN&&(t.rendered?(r=(i=t.domNode).getElementsByClassName("captionator-cue-inner")[0],t.text.toString(n)!==i.currentText&&(i.currentText=t.text.toString(n),r.innerHTML=i.currentText,r.spanified=!1)):(i=document.createElement("div"),(r=document.createElement("span")).className="captionator-cue-inner",i.id=String(t.id).length?t.id:o.generateID(),i.className="captionator-cue",i.appendChild(r),i.cueObject=t,t.domNode=i,i.setAttribute("lang",t.track.language),i.currentText=t.text.toString(n),r.innerHTML=i.currentText,t.rendered=!0,"descriptions"===t.track.kind?e._descriptionContainerObject.appendChild(i):e._containerObject.appendChild(i)),"descriptions"!==t.track.kind&&o.styleCue(i,t,e))}))},o.captionify=function(a,l,u){var c=[],h=0;if((u=u instanceof Object?u:{}).minimumFontSize&&"number"==typeof u.minimumFontSize&&(e=u.minimumFontSize),u.minimumLineHeight&&"number"==typeof u.minimumLineHeight&&(t=u.minimumLineHeight),u.fontSizeVerticalPercentage&&"number"==typeof u.fontSizeVerticalPercentage&&(i=u.fontSizeVerticalPercentage),u.lineHeightRatio&&"number"!=typeof u.lineHeightRatio&&(n=u.lineHeightRatio),u.cueBackgroundColour&&u.cueBackgroundColour instanceof Array&&(r=u.cueBackgroundColour),HTMLVideoElement||a instanceof function(e){this.targetObject=e,this.currentTime=0;this.addEventListener=function(e,t,i){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.attachEvent=function(e,t){"timeupdate"===e&&t instanceof Function&&(this.timeupdateEventHandler=t)},this.updateTime=function(e){isNaN(e)||(this.currentTime=e)}}||u.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||u.forceCaptionify){if(!s&&u.exportObjects&&(window.TextTrack=o.TextTrack,window.TextTrackCueList=o.TextTrackCueList,window.ActiveTextTrackCueList=o.ActiveTextTrackCueList,window.TextTrackCue=o.TextTrackCue,s=!0),a&&!1!==a&&null!=a)if(a instanceof Array)for(h=0;h<a.length;h++)"string"==typeof a[h]?c=c.concat([].slice.call(document.querySelectorAll(a[h]),0)):a[h].constructor===HTMLVideoElement&&c.push(a[h]);else"string"==typeof a?c=[].slice.call(document.querySelectorAll(a),0):a.constructor===HTMLVideoElement&&c.push(a);else c=[].slice.call(document.getElementsByTagName("video"),0);return!!c.length&&(c.forEach(function(e){e.addTextTrack=function(t,i,n,r,s,a,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(t="string"==typeof t?t:"",n="string"==typeof n?n:"",r="string"==typeof r?r:"",l="boolean"==typeof l&&l,!c.filter(function(e){return i===e}).length)throw o.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(u=new o.TextTrack(t,i,n,r,s,null))&&(e.textTracks instanceof Array||(e.textTracks=[]),e.textTracks.push(u),u)},o.processVideoElement(c[h],l,u)}),!0)}return!1}return!1},o.parseCaptions=function(e,t){t=t instanceof Object?t:{};var i="",n=[],r="",s=[],a=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,p=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,d=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,f=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,m=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(e){var v=function(e){var i,n,r,s,a,l=new o.CaptionatorCueStructure(e,t),u=[],h=[],p=0,d=function(e){return!!e.replace(/[^a-z0-9]+/gi,"").length};for(i in r=l,u=e.split(/(<\/?[^>]+>)/gi))if(u.hasOwnProperty(i))if("<"===(n=u[i]).substr(0,1)){if("/"===n.substr(1,1)){var f=n.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var m=0;for(p=h.length-1;p>=0;p--){if(m=p,h[p][h[p].length-1].token===f)break}r=h[m],h=h.slice(0,m)}}else if(n.substr(1).match(c)||n.match(/^<v\s+[^>]+>/i)||n.match(/^<c[a-z0-9\-\_\.]+>/)||n.match(/^<(b|i|u|ruby|rt)>/)||!1!==t.sanitiseCueHTML){var g={token:n.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:n,children:[]};"v"===g.token?g.voice=n.match(/^<v\s*([^>]+)>/i)[1]:"c"===g.token?g.classes=n.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(d):!(s=g.rawToken.match(c))||(l.isTimeDependent=!0,a=s.slice(1),g.timeIn=parseInt(60*(a[0]||0)*60,10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0))),r.push(g),h.push(r),r=g.children}}else!1!==t.sanitiseCueHTML&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),t.ignoreWhitespace||(n=n.replace(/\n+/g,"<br />"))),r.push(n);return l},y=function(e){var t,i=0;return"string"!=typeof e?0:((t=g.exec(e))&&(t=t.slice(1),i=parseInt(60*(t[0]||0)*60,10)+parseInt(60*(t[1]||0),10)+parseInt(t[2]||0,10)+parseFloat("0."+(t[3]||0))),i)};if(n=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(e)){var b=document.createElement("ttml");return b.innerHTML=e,[].slice.call(b.querySelectorAll("[begin],[end]"),0).map(function(e,i){var n,r,s,a=String(e.getAttribute("begin")),l=String(e.getAttribute("end")),u=e.getAttribute("id")||i;return r=y(a),s=y(l),n=!1===t.processCueHTML?e.innerHTML:v(e.innerHTML),new o.TextTrackCue(u,r,s,n,{},!1,null)})}return e.split(/\n+/g).reduce(function(e,t,i,n){return e||!!p.exec(t)},!1)?(n=n.split(/\n+/g),i="LRC"):n=n.split(/\n\n+/g),n=n.filter(function(e){return e.match(/^WEBVTT(\s*FILE)?/gi)?(i="WebVTT",!1):!!e.replace(/\s*/gi,"").length}).map(function(e,n){var c,g,y,b,w,S,x,T,E,A,C="";if(T=d.exec(e))return s=(s=T.slice(2).join("")).split(/\s+/g).filter(function(e){return e&&!!e.length}),null;if(T=f.exec(e))return r+=T[T.length-1],null;if(T=m.exec(e))return null;for(c="LRC"===i?[e.substr(0,e.indexOf("]")+1),e.substr(e.indexOf("]")+1)]:e.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(x=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):n,S=0;S<c.length;S++){var P=c[S];(E=u.exec(P))||(E=a.exec(P))||(E=l.exec(P))?(w=E.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),y=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(C=w[8])):(E=h.exec(P))?(w=E.slice(1),y=(g=parseFloat(w[0]))+parseFloat(w[1]),w[2]&&(C=w[2])):!(E=p.exec(P))||(w=E.slice(1,E.length-1),y=g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0))),c=c.slice(0,S).concat(c.slice(S+1));break}if(!g&&!y)return null;var _=s.reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},{});for(var I in _=C.split(/\s+/g).filter(function(e){return e&&!!e.length}).reduce(function(e,t,i,n){return e[t.split(":")[0]]=t.split(":")[1],e},_),C="",_)_.hasOwnProperty(I)&&(C+=C.length?" ":"",C+=I+":"+_[I]);return b=!1===t.processCueHTML?c.join("\n"):v(c.join("\n")),(A=new o.TextTrackCue(x,g,y,b,C,!1,null)).styleData=r,A}).filter(function(e){return null!==e}),"LRC"===i&&(n.forEach(function(e,t){var i,r=0;t>0&&(r=e.startTime,(i=n[--t]).endTime<r&&(i.endTime=r))}),n=n.filter(function(e){return e.text.toString().replace(/\s*/,"").length>0})),n}throw new Error("Required parameter captionData not supplied.")},o.processVideoElement=function(e,t,i){var n=[],r=navigator.language||navigator.userLanguage;t||r.split("-")[0];if(i=i instanceof Object?i:{},!e.captioned){e._captionatorOptions=i,e.className+=(e.className.length?" ":"")+"captioned",e.captioned=!0,0===e.id.length&&(e.id=o.generateID());[].slice.call(e.querySelectorAll("track"),0).forEach(function(r){var s=null;s=r.querySelectorAll("source").length>0?r.querySelectorAll("source"):r.getAttribute("src");var a=e.addTextTrack(r.getAttribute("id")||o.generateID(),r.getAttribute("kind"),r.getAttribute("label"),r.getAttribute("srclang").split("-")[0],s,r.getAttribute("type"),r.hasAttribute("default"));r.track=a,a.trackNode=r,a.videoNode=e,n.push(a);var l=!1;("subtitles"===a.kind||"captions"===a.kind)&&t===a.language&&i.enableCaptionsByDefault&&(n.filter(function(e){return("captions"===e.kind||"subtitles"===e.kind)&&t===e.language&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"chapters"===a.kind&&t===a.language&&(n.filter(function(e){return"chapters"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),"descriptions"===a.kind&&!0===i.enableDescriptionsByDefault&&t===a.language&&(n.filter(function(e){return"descriptions"===e.kind&&e.mode===o.TextTrack.SHOWING}).length||(l=!0)),!0===l&&n.forEach(function(e){e.trackNode.hasAttribute("default")&&e.mode===o.TextTrack.SHOWING&&(e.mode=o.TextTrack.HIDDEN)}),r.hasAttribute("default")&&(n.filter(function(e){return!(!e.trackNode.hasAttribute("default")||e.trackNode===r)}).length||(l=!0,a.internalDefault=!0)),!0===l&&(a.mode=o.TextTrack.SHOWING)}),e.addEventListener("timeupdate",function(e){var t=e.target;try{t.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(e){}i.renderer instanceof Function?i.renderer.call(o,t):o.rebuildCaptions(t)},!1),window.addEventListener("resize",function(t){e._captionator_dirtyBit=!0,o.rebuildCaptions(e)},!1),!0===i.enableHighResolution&&window.setInterval(function(){try{e.textTracks.forEach(function(e){e.activeCues.refreshCues.apply(e.activeCues)})}catch(e){}i.renderer instanceof Function?i.renderer.call(o,e):o.rebuildCaptions(e)},20)}return e},o.getNodeMetrics=function(e){var t,i,n=window.getComputedStyle(e,null),r=e,s=e.offsetTop,o=e.offsetLeft,a=0;for(t=parseInt(n.getPropertyValue("width"),10),i=parseInt(n.getPropertyValue("height"),10);r=r.offsetParent;)s+=r.offsetTop,o+=r.offsetLeft;if(e.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(e._captionatorOptions){var u=e._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:o,top:s,width:t,height:i,controlHeight:a}},o.applyStyles=function(e,t){for(var i in t)({}).hasOwnProperty.call(t,i)&&(e.style[i]=t[i])},o.checkDirection=function(e){var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",i=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+t+"]");return new RegExp("^[^"+t+"]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(e)?"rtl":i.test(e)?"ltr":""},o.styleCue=function(s,a,l){var u,c,h,p,d,f,m,g,v,y,b,w,S,x,T,E,A=0,C=0,P=0,_=0,I=0,k=0,R=0,O=0,M=0,L=0,D=0,N=l._captionatorOptions||{},V=50,j=0,B=0,F=!0,U="";a.track.language;if(T=o.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:T.height-T.controlHeight,right:T.width,top:0,left:0,height:T.height-T.controlHeight,width:T.width}),"horizontal"===a.direction&&(o.applyStyles(s,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),j=parseInt(s.offsetWidth,10),B=(B=Math.floor(j/l._captionator_availableCueArea.width*100))<=100?B:100),d=(d=T.height*(i/100)/96*72)>=e?d:e,f=Math.floor(d/72*96),m=(m=Math.floor(d*n))>t?m:t,b=Math.ceil(m/72*96),w=b,b*Math.floor(T.height/b)<T.height&&(b=Math.floor(T.height/Math.floor(T.height/b)),m=Math.ceil(b/96*72)),b*Math.floor(T.width/b)<T.width&&(w=Math.ceil(T.width/Math.floor(T.width/b))),v=Math.floor(l._captionator_availableCueArea.height/b),y=Math.floor(l._captionator_availableCueArea.width/w),0===parseFloat(String(a.size).replace(/[^\d\.]/gi,""))?!0===N.sizeCuesByTextBoundingBox?u=B:(u=100,F=!1):(F=!1,u=(u=parseFloat(String(a.size).replace(/[^\d\.]/gi,"")))<=100?u:100),h="horizontal"===a.direction?Math.floor(.01*T.width):0,p="horizontal"===a.direction?0:Math.floor(.01*T.height),"auto"===a.linePosition?a.linePosition="horizontal"===a.direction?v:y:String(a.linePosition).match(/\%/)&&(a.snapToLines=!1,a.linePosition=parseFloat(String(a.linePosition).replace(/\%/gi,""))),"horizontal"===a.direction)_=b,"auto"!==a.textPosition&&F&&(u-(V=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")))>B?u-=V:u=B),P=!0===a.snapToLines?l._captionator_availableCueArea.width*(u/100):T.width*(u/100),"auto"===a.textPosition?A=(l._captionator_availableCueArea.right-P)/2+l._captionator_availableCueArea.left:(V=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),A=(l._captionator_availableCueArea.right-P)*(V/100)+l._captionator_availableCueArea.left),!0===a.snapToLines?C=(v-1)*b+l._captionator_availableCueArea.top:(g=T.controlHeight+b+2*p,C=(T.height-g)*(a.linePosition/100));else{if(C=l._captionator_availableCueArea.top,A=l._captionator_availableCueArea.right-w,P=w,_=l._captionator_availableCueArea.height*(u/100),k=function e(t){if(t.spanified)return t.characterCount;var i,n,r,s,a=function(e){return!!e.length},l="<span class='captionator-cue-character'>",u=0,c=function(e){u++,o.applyStyles(e,{display:"block",lineHeight:"auto",height:f+"px",width:w+"px",textAlign:"center"})};for(i in t.childNodes)t.childNodes.hasOwnProperty(i)&&!t.childNodes[i].nospan&&(3===(n=t.childNodes[i]).nodeType?(s=document.createDocumentFragment(),r=n.nodeValue,s.appendChild(document.createElement("span")),s.childNodes[0].innerHTML=l+r.split(/(.)/).filter(a).join("</span>"+l)+"</span>",[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0).forEach(c),n.parentNode.replaceChild(s,n)):1===t.childNodes[i].nodeType&&(u+=e(t.childNodes[i])));return t.characterCount=u,t.spanified=!0,u}(s),R=[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0),I=Math.floor((_-2*p)/f),P=Math.ceil(k/I)*w,O=Math.ceil(k/I),M=(k-I*(O-1))*f,!0===a.snapToLines)A="vertical-lr"===a.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-P;else{var H=P+2*h;A="vertical-lr"===a.direction?(T.width-H)*(a.linePosition/100):T.width-H-(T.width-H)*(a.linePosition/100)}"auto"===a.textPosition?C=(l._captionator_availableCueArea.bottom-_)/2+l._captionator_availableCueArea.top:(a.textPosition=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),C=(l._captionator_availableCueArea.bottom-_)*(a.textPosition/100)+l._captionator_availableCueArea.top),L=0,D=0,S=0,x=0,R.forEach(function(e,t){S="vertical-lr"===a.direction?w*L:P-w*(L+1),"start"===a.alignment||"start"!==a.alignment&&L<O-1?x=D*f+p:"end"===a.alignment?x=D*f-f+(_+2*p-M):"middle"===a.alignment&&(x=(_-2*p-M)/2+D*f),e.setAttribute("aria-hidden","true"),o.applyStyles(e,{position:"absolute",top:x+"px",left:S+"px"}),D>=I-1?(D=0,L++):D++}),s.accessified||(U=a.text.getPlain(l.currentTime),(E=document.createElement("div")).innerHTML=U,E.nospan=!0,s.appendChild(E),s.accessified=!0,o.applyStyles(E,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===a.direction&&(c="rtl"===o.checkDirection(String(a.text))?{start:"right",middle:"center",end:"left"}[a.alignment]:{start:"left",middle:"center",end:"right"}[a.alignment]),o.applyStyles(s,{position:"absolute",overflow:"hidden",width:P+"px",height:_+"px",top:C+"px",left:A+"px",padding:p+"px "+h+"px",textAlign:c,backgroundColor:"rgba("+r.join(",")+")",direction:o.checkDirection(String(a.text)),lineHeight:m+"pt",boxSizing:"border-box"}),"vertical"===a.direction||"vertical-lr"===a.direction)A-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(A+P)?l._captionator_availableCueArea.right=A:l._captionator_availableCueArea.left=A+P,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(s.scrollHeight>1.2*s.offsetHeight)if(a.snapToLines){for(var q=0;s.scrollHeight>1.2*s.offsetHeight;)_+=b,s.style.height=_+"px",q++;C-=q*b,s.style.top=C+"px"}else{s.scrollHeight;_=s.scrollHeight+p,g=T.controlHeight+_+2*p,C=(T.height-g)*(a.linePosition/100),s.style.height=_+"px",s.style.top=C+"px"}C-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(C+_)&&l._captionator_availableCueArea.bottom>C?l._captionator_availableCueArea.bottom=C:l._captionator_availableCueArea.top<C+_&&(l._captionator_availableCueArea.top=C+_),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},o.styleCueCanvas=function(r){var s,a,l,u,c,h,p=r._captionatorOptions instanceof Object?r._captionatorOptions:{};if(!(r instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(r._containerObject&&(c=(l=r._containerObject).id),r._descriptionContainerObject&&(h=(u=r._descriptionContainerObject).id),u?u.parentNode||document.body.appendChild(u):((u=document.createElement("div")).className="captionator-cue-descriptive-container",h=o.generateID(),u.id=h,r._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),o.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if((l=document.createElement("div")).className="captionator-cue-canvas",c=o.generateID(),l.id=c,p.appendCueCanvasTo){var d=null;if(p.appendCueCanvasTo instanceof HTMLElement)d=p.appendCueCanvasTo;else if("string"==typeof p.appendCueCanvasTo)try{var f=document.querySelectorAll(p.appendCueCanvasTo);if(!(f.length>0))throw null;d=f[0]}catch(e){d=document.body,p.appendCueCanvasTo=!1}else d=document.body,p.appendCueCanvasTo=!1;d.appendChild(l)}else document.body.appendChild(l);r._containerObject=l}var m=o.getNodeMetrics(r);s=(s=m.height*(i/100)/96*72)>=e?s:e,a=(a=Math.floor(s*n))>t?a:t,o.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:m.height-m.controlHeight+"px",width:m.width+"px",top:(p.appendCueCanvasTo?0:m.top)+"px",left:(p.appendCueCanvasTo?0:m.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:s+"pt",lineHeight:a+"pt",boxSizing:"border-box"})},o.createDOMException=function(e,t,i){try{document.querySelectorAll("div/[]")}catch(r){var n=function(e,t,i){this.code=e,this.message=t,this.name=i};return n.prototype=r,new n(e,t,i)}},o.compareArray=function(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!1;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}return!1},o.generateID=function(e){var t="";for(e=e||10;t.length<e;)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+t}}(),define("captionator",function(e){return function(){return e.captionator}}(this)),define("helpers/captionsManager",["require","helpers/backboneSync","helpers/events","helpers/pubSub","helpers/utils","polyfills/detection","captionator","lodash"],function(e){"use strict";var t,i,n,r=e("helpers/backboneSync"),s=e("helpers/events"),o=e("helpers/pubSub"),a=e("helpers/utils"),l=(e("polyfills/detection"),e("captionator")),u=e("lodash"),c={},h=!0,p=!1,d=[],f='"Open Sans Full", Helvetica, Arial, sans-serif',m=[],g={},v=function(e){return null!=e.captions()},y=function(e){var t,i,r=e.isVideo(),s=r?e.props.playerProps.parent.get("isBaseLayer"):e.props.model.parent.get("isBaseLayer");return t=e.props.slideVisible&&(e.props.objectVisible||s),r?e.props.slideObjectModel.prop("HiddenByLayer")&&(t=!1):null!=(i=n.getCurrentWindowSlide().slideLayers().getTopMostLayer())&&!0===s&&!0===i.get("pauseParent")&&(t=!1),t},b=function(){var e=n.getCurrentWindowSlide(),t=!0;null==e||e.isMessageSlide()||(m=g[e.id]||[],p&&(t=m.some(y),m.length>0&&t?o.trigger(s.captions.SHOW_BUTTON):o.trigger(s.captions.HIDE_BUTTON)))},w=function(e){null!=i&&i.value()!==e?i.changeValue(e):(h=e,o.trigger(s.captions.ENABLED,h))},S=function(e){w(e.value())},x=function(e){var t=e.getCueAsSource();return null!=t&&!u.isEmpty(t.trim())};return{initialize:function(e,u,d,m){var g=a.getPath(u,"controlOptions.controls.font");t=null!=g?['"',g,'", ',f].join(""):f,n=d,p=a.getPath(u,"controlOptions.controls.closed_captions"),null!=m?(h=(i=m).value(),i.on("change:value",S)):h=!1,c={},e.filter(v).map(function(e){r.scriptSync("read",{id:"caption"},{url:e.captions(),success:function(t){null!=t&&(c[e.id]=l.parseCaptions(decodeURI(t.data)).filter(x))},error:function(e){console.error(e)}})}),o.on(s.slide.STARTED,b),o.on(s.layer.PLAYING,b),o.on(s.captions.ENABLE,w)},isCaptionButtonToggled:function(){return h},canShowCaptionButton:function(){return p},mount:function(e,t){c[e.getAssetId()]&&(null==g[t]&&(g[t]=[]),g[t].push(e))},unmount:function(e,t){var i=u.findIndex(g[t],function(t){return t.getAssetId()===e.getAssetId()});-1!==i&&g[t].splice(i,1)},hasCaptions:function(e){return Array.isArray(e)||(e=[e]),e.some(function(e){return null!=c[e]})},getCaptions:function(e){return c[e]},getCaptionFont:function(){return t},reloadCaptions:b,excludeMedia:function(e){-1===d.indexOf(e)&&d.push(e)},includeMedia:function(e){var t=d.indexOf(e);-1!==t&&d.splice(t,1)}}}),define("views/presentation/mixins/slideWindow",["require","lodash","helpers/resume/Chunk","helpers/vow","helpers/constants","helpers/pubSub","helpers/events","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/vow"),r=e("helpers/constants"),s=e("helpers/pubSub"),o=e("helpers/events"),a=e("polyfills/detection");return{componentWillUpdate:function(e,t){this.state.currentSlide&&this.state.currentSlide!==t.currentSlide&&this.state.currentSlide.beforeSlideOut(),t.currentSlide&&t.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&t.currentSlide.resetBeforeView()},componentWillMount:function(){a.isClassic||s.on(o.resume.RESET_DATA,this.onResetData)},onResetData:function(){this.clearNextPush=function(){this.resetHistoryResumeData(),this.setState({history:[]}),s.trigger(o.slideWindow.CLEAR_HISTORY)}},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.isMainWindow?r.refs.FRAME:this.props.model.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().done(function(e){e.forceTransition()})},getCurrentSlide:function(){return t.last(this.state?this.state.history:[])},getPrevSlide:function(){var e=this.state.history;return e.length>1?e[e.length-2]:null},getPrevHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1===t?null:e[t]},getPrevHistoryGroupIndex:function(){var e=this.getCurrentSlide(),i=this.state.history;return null==e?-1:t.findLastIndex(i,function(t){return e.get("historyGroupId")!==t.get("historyGroupId")})},canGoForward:function(e){return t.last(this.state.history)!==e},pushHistory:function(e){return null!=this.clearNextPush&&(this.clearNextPush(),this.clearNextPush=null),this.canGoForward(e)&&this.refreshHistory(e),this},popHistory:function(){return null!=this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var e=this.state.history,t=this.getPrevHistoryGroupIndex();return-1!==t&&(e=e.slice(0,t+1),this.updateHistoryState(e)),this},refreshHistory:function(e){var t=this.state.history.slice();return e?t.push(e):t.pop(),this.updateHistoryState(t),this},updateHistoryState:function(e){var i=t.last(e);i.prop("WindowId",this.isMainWindow?r.refs.FRAME:this.props.model.id),this.setState({history:e,currentSlide:i})},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this.slideContainer.prepareToUpdateSlide(e),this},replaceSlideWith:function(e){return this.slideContainer.replaceSlideWith(e),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},resetHistoryResumeData:function(){this.state.history.forEach(function(e){return e.resetResume()})},getHistoryResumeData:function(){return this.state.history.map(function(e){return e.getWindowResumeRef()}).join("")},getResumeData:function(){var e=this.props.model,t=null==e?0:e.index()+1;return[i.create(i.toUnsignedString64(t)),this.getCurrentSlide().getWindowResumeRef(),i.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(e){var t=this.state.history;t.unshift.apply(t,e)},isWaitingForSlideLoad:function(){return n.isPending(this.slideLoadingPromise)},setSlideLoading:function(e){return this.slideLoadingPromise=e,this}}}),define("helpers/playerGlobals",["require"],function(e){"use strict";var t={presentation:null};return Object.seal(t),t}),define("views/presentation/LightBox",["require","lodash","react","react-dom","helpers/constants","views/mixins/baseView","helpers/appState","helpers/captionsManager","helpers/pubSub","views/presentation/mixins/slideWindow","polyfills/detection","helpers/events","helpers/utils","helpers/playerGlobals","helpers/scaler"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("react-dom"),s=e("helpers/constants"),o=e("views/mixins/baseView"),a=e("helpers/appState"),l=e("helpers/captionsManager"),u=e("helpers/pubSub"),c=e("views/presentation/mixins/slideWindow"),h=e("polyfills/detection"),p=e("helpers/events"),d=e("helpers/utils"),f=(e("helpers/playerGlobals"),e("helpers/scaler")),m=n.createClass({displayName:"LightBox",mixins:[o,c],subscriptions:(t={},t[p.slideContainer.POSITIONED]="onSlideContainerPositioned",t[p.slide.HAS_MOUNTED]="onSlideContainerPositioned",t),getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){this.setState({caption:e})},hasCaption:function(){return!!this.state.caption},componentDidUpdate:function(){this.positionControls()},shouldPositionToPreso:function(){return!h.isMobile&&h.isClassic&&!f.isShowAll()},componentDidMount:function(){this.shouldPositionToPreso()&&u.on(p.app.PRESENTATION_POSITION,this.onPresentationPosition)},onPresentationPosition:function(e){var t=this.refs.lightBox;window.innerWidth<e.width||window.innerHeight<e.height?(t.style.left=d.pxify(e.left+e.width/2),t.style.top=d.pxify(e.top+e.height/2)):(t.style.left="",t.style.top="")},componentWillMount:function(){this.listenTo(a,p.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(a,a.currentLayout()||{},this.props.model.id),!1===l.canShowCaptionButton()?this.setState({caption:!1}):(this.showCaptionButton=i.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=i.partial(this.toggleCaptionButton,!1),u.on(p.captions.SHOW_BUTTON,this.showCaptionButton),u.on(p.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){u.off(p.captions.SHOW_BUTTON,this.showCaptionButton),u.off(p.captions.HIDE_BUTTON,this.hideCaptionButton),u.off(p.app.PRESENTATION_POSITION,this.onPresentationPosition)},actionKeyCallback:function(e){return e===this.refs.close&&this.close(),!0},getTabbableItems:function(){return this.refs.close.dsFocusController=this,[i.assign(this.refs.close,{idx:s.tabIndices.LIGHTBOX_CLOSE,indexGroupName:"SlideControlButton"})]},shouldUpdate:function(e,t){return this.state.currentSlide!==t.currentSlide||this.state.caption!==t.caption?(this.updateSizeCalculations(t.currentSlide),!0):this.state.showCloseBtn!==t.showCloseBtn},updateSizeCalculations:function(e){this.slideScale=this.calcSlideScale(e),this.slideWrapperHeight=this.calcSlideWrapperHeight(e)},getWrapperDimensions:function(){var e=this.refs.lightbox;return null==e?{width:0,height:0}:{width:e.offsetWidth,height:e.offsetHeight}},positionControlsDesktop:function(){return this},calcSlideWrapperHeight:function(e){return e.get("height")*this.slideScale},calcSlideScale:function(e){var t=e.get("width");return this.getAdjustedWindowWidth()/t},getAdjustedWindowWidth:function(){return this.props.model.get("width")-this.getWindowOffsetWidth()},getWindowOffsetWidth:function(){var e=window.getComputedStyle(this.find(".lightbox"));return 2*(parseFloat(e.paddingTop)+parseFloat(e.borderTopWidth))},close:function(e){u.trigger(p.window.CLOSING,this.getPath("props.model.id"))},stealFocus:function(e){var t=r.findDOMNode(e);t.focus(),t.classList.add("focused")},releaseFocus:function(e){var t=r.findDOMNode(e);t.blur(),t.classList.remove("focused")},onLayoutChanged:function(e,t,i){i===this.props.model.id&&this.setState({showCloseBtn:t.close_btn})},positionControlsMobile:function(){var e,t,n,s=this.refs.optionPane,o=this.refs.slideContainer.curSlide;return null!=s.offsetParent&&null!=o&&(s.getBoundingClientRect(),e=r.findDOMNode(o).getBoundingClientRect(),t=s.offsetParent.getBoundingClientRect(),(n="landscape"===h.orientation&&h.isClassic?{top:d.pxify(Math.max(-t.top,e.top-t.top)),left:d.pxify(Math.min(t.right,e.right-t.left)),width:"",height:d.pxify(Math.min(window.innerHeight,e.height+i.min([0,e.top,document.body.clientHeight])))}:{top:d.pxify(Math.min(t.bottom,e.bottom-t.top)),left:d.pxify(Math.max(-t.left,e.left-t.left)),width:d.pxify(Math.min(window.innerWidth,e.width+i.min([0,e.left,document.body.clientWidth]))),height:""}).opacity=1,i.extend(s.style,n)),this},onSlideContainerPositioned:function(){this.htmlReady(function(){this.positionControls()}.bind(this))}}),g=m.prototype;return g.positionControls=g[h.isMobile?"positionControlsMobile":"positionControlsDesktop"],m}),define("views/presentation/MessageWindow",["require","lodash","react","views/mixins/baseView","views/presentation/mixins/slideWindow","polyfills/detection","helpers/constants","helpers/stringTabler","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("views/presentation/mixins/slideWindow"),s=e("polyfills/detection"),o=e("helpers/constants"),a=e("helpers/stringTabler"),l=e("helpers/utils"),u=t.memoize(t.partial(l.quote,o.MOBILE_FONT));return i.createClass({displayName:"MessageWindow",mixins:[n,r],windowType:function(){return this.state.currentSlide?t.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',a.getString("continueresponsive"),'"; } ',".is-mobile .message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',a.getString("restart"),'"; }'].join(""),document.body.appendChild(e)},getScrollAreaText:function(){return this.findAll('[aria-label]:not([aria-label=""]):not(.slide-object-button)').map(function(e){return e.getAttribute("aria-label")}).join(" ")},adjustForMobileLayout:function(){var e;s.isMobile&&(e=this.find(".message-window-heading"),t.union([e],e.querySelectorAll("*")).forEach(function(e){e.style.fontFamily=u()}),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var e=this.getScrollAreaText();this.setState({mobileText:e})}.bind(this))))}})}),define("helpers/windowManager",["require","lodash","helpers/utils","helpers/constants","backbone","react","react-dom","helpers/resume/resumer","helpers/resume/Chunk","mixins/subscribable","helpers/events","helpers/pubSub","helpers/appState","helpers/slidesController","views/presentation/LightBox","helpers/keyManager","views/presentation/MessageWindow","helpers/errorManager"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("helpers/constants"),o=e("backbone"),a=e("react"),l=e("react-dom"),u=e("helpers/resume/resumer"),c=e("helpers/resume/Chunk"),h=e("mixins/subscribable"),p=e("helpers/events"),d=e("helpers/pubSub"),f=e("helpers/appState"),m=e("helpers/slidesController"),g=e("views/presentation/LightBox"),v=e("helpers/keyManager"),y=e("views/presentation/MessageWindow"),b=e("helpers/errorManager"),w=100,S=b.warn("windowManager"),x=function(e,t){return a.createElement(e,t)},T=function(e,t){return e.classList.add("opaque"),E(e),d.trigger(p.window.CREATED,t),l.render(t,e)},E=function(e){e.style.zIndex=w++},A=function(e,i,n){return T(document.querySelector("#overlay-container"+(e?"-controls":"")),x(g,{hasControls:e,state:f,model:t.windows().get(i),isRtl:document.documentElement.classList.contains("text-direction-rtl")}))},C=function(e){return"MessageWnd"===e},P={LightboxControlsWnd:n.partial(A,!0),LightboxWnd:n.partial(A,!1),LightboxTab:n.partial(A,!0),MessageWnd:function(e,i){return T(document.querySelector("#overlay"),x(y,{model:t.windows().get(e)}))}},_=n.extend({subscriptions:(i={},i[p.window.MAIN_CREATED]="onMainWindowCreated",i[p.window.CLOSING]="onCloseWindowById",i[p.request.NEXT_SLIDE]="onRequestingNextSlide",i[p.request.PREV_SLIDE]="onRequestingPrevSlide",i[p.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",i[p.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",i),initialize:function(e){t=e,this.windows=[],this.addSubscriptions(),d.trigger(p.windowManager.CREATED,this)},getCurrentWindow:function(){return n.last(this.windows)},getCurrentWindowId:function(){return _.getCurrentWindow().getId()},getMainWindow:function(){return n.first(this.windows)},getCurrentWindowSlide:function(){var e=this.getCurrentWindow();return e&&e.state.currentSlide},removeWindow:function(e){return this.windows=n.without(this.windows,e),this},removeAllButMainWindow:function(){this.windows.forEach(function(e){var t=e.getId();t!==s.refs.FRAME&&d.trigger(p.window.CLOSING,t)})},addWindow:function(e){return this.removeWindow(e),this.windows.push(e),this},getOrCreateWindow:function(e,t){var i,n=this.getCurrentWindow(),r=this.findWindowById(e);return r?(r!==n&&E(r.el.parentElement),r):(n&&(i=n.getCurrentSlide())&&i.onPauseTimeline(),P[e.split("_")[0]](e,t))},findWindowById:function(e){return"_current"===e||null==e?this.getCurrentWindow():n.find(this.windows,function(t){return t.getId()===e})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(e,t){var i=t.props.model.windowId;e.replaceSlideWith(t);var n=function(t){var r=this.findWindowById(i);t===e&&(null!=r&&r.rebuildCurSlide(),d.off(p.window.CLOSED,n))}.bind(this);return d.on(p.window.CLOSED,n),this},isMultiWindowSlide:function(e){return n.initial(this.windows).some(function(t){return(t.getCurrentSlide()||{}).absoluteId===e.absoluteId})},onMainWindowCreated:function(e){this.addWindow(e),u.setWindowManager(this)},onCloseWindowById:function(e){var t,i,n=this.findWindowById(e);this.getMainWindow();n&&(n.el&&(t=n.el.parentNode)&&(t.classList.remove("opaque"),l.unmountComponentAtNode(t)),this.removeWindow(n),d.trigger(p.window.CLOSED,n),null!=(i=this.getCurrentWindowSlide())&&(i.onPlayTimeline(),d.trigger(p.slide.STARTED,i.id)),u.savePresentationData())},loadSlide:function(e,t,i){var s=n.isString(e)?e:e.absoluteId,o=m.loadSlide(e,this.getCurrentWindowSlide()).done(t.bind(this));return d.trigger(p.slide.HAS_CHANGED,r.stripPlayer(s),i),o},onRequestingPrevSlide:function(){var e=this.getCurrentWindow().getPrevSlide();null!=e&&this.onRequestingSlide(e.absoluteId,null,"pop")},onRequestingPrevHistoryGroup:function(){var e=this.getCurrentWindow().getPrevHistoryGroup();null!=e&&this.onRequestingSlide(e.absoluteId,null,"popGroup")},onRequestingNextDrawSlide:function(){var e,t=this.getCurrentWindowSlide(),i=t.getSlideDraw();i&&((e=i.getNextSlideId(t))?this.onRequestingNextSlide(e):i.performExitAction())},onRequestingNextSlide:function(e,t){var i=this.getCurrentWindowSlide();i||(e=e||m.getEntrypoint()),e?this.onRequestingSlide(e,t,"push"):i.executePlayerEvent("onnextslide")},isNewLightBox:function(e,t){return!(C(e)||!P[e]||e===t.displayName)},onRequestingSlide:function(e,i,n){var s,o,a,l,c,h,f,g,y,w=this,x=this.getCurrentWindowSlide(),T=this.getCurrentWindow(),E=this.isNewLightBox(i,T);if(v.clearCurrentItem(),v.currentIndex=-1,null!=T&&T.forceTransition(),null==(l=m.getSlide(e,this.getCurrentWindowSlide()))){if(t.parent.isPreview())return void d.trigger(p.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");S("onRequestingSlide","could not resolve slide",b.backtick(e),"so defaulting to entry point"),l=m.getSlide(m.getEntrypoint())}if((a=null!=x&&x.absoluteId===l.absoluteId||r.getPath(this.findWindowById(i),"getCurrentSlide")===l)&&!E)l.restart();else{if(null!=x&&(c=x,h=l,f=E||C(i),y={_ActTargetSlideId:h.absoluteId,_ActTargetSlideNavIndex:h.get("navIndex")},c.executePlayerEvent("onbeforeslidejump",y),(g=!y.cancel)&&d.trigger(p.slide.WILL_CHANGE,c,h,f),!g))return;if(null!=x&&!x.slideReady)return this.findWindowById(i)===this.getCurrentWindow()&&(x.destroyed=!0),void d.once(p.slide.READY,function(){w.onRequestingSlide(e,i,n)});s=this.getOrCreateWindow(i),this.addWindow(s),o=this.loadSlide(l,function(e){w.updateWindowHistory(s,"push"===n?e:null,"popGroup"===n)}),a&&E&&d.trigger(p.loader.HIDE),s.setSlideLoading(o),null!=x&&s!==T&&o.done(function(){u.savePresentationData()})}},updateWindowHistory:function(e,t,i){var n,r=!!t;n=null!=(t=t||e[i?"getPrevHistoryGroup":"getPrevSlide"]())&&this.isMultiWindowSlide(t)&&null!==t.currView,e.prepareToUpdateSlide(n),r?e.pushHistory(t):e[i?"popHistoryGroup":"popHistory"](),n&&(t.onPlayTimeline(),this.moveSlideToOtherWindow(e,t.currView))},getResumeData:function(){return this.windows.reduce(function(e,t){return e+c.create(t.getResumeData())},"")},setResumeData:function(e){var t=new c({fullString:e}),i=t.encodedString();for(this.resumeWindowQueue=[];i.length;)this.setWindowAndHistory(i),i=(t=t.reChunk()).encodedString()},setWindowAndHistory:function(e){var t=new c({fullString:e}),i=t.getUnsignedValue(),n=this.resolveSlideFromResumeData(t.remainder()),r=new c({fullString:n.data}),s=this.createSlideHistoryArray(r.encodedString());0===s.length&&s.push(n.slide),this.restoreOrQueueWindow(i,s)},restoreOrQueueWindow:function(e,t){this.restoringWindow?this.resumeWindowQueue.push({idx:e,history:t}):(this.restoringWindow=!0,this.setLoadedWindow(e,t))},setLoadedWindow:function(e,t){var i=this.getWindowFromIndex(e,t),n=t.pop(),r=this.loadSlide(n.absoluteId,function(e){var n;i.setPreviousHistory(t),this.updateWindowHistory(i,e),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(e.pauseForResume=!0,n=this.resumeWindowQueue.shift(),this.setLoadedWindow(n.idx,n.history))});i.setSlideLoading(r)},getWindowFromIndex:function(e,i){var n,r;return 0===e?n=this.getMainWindow():(r=t.windows().at(e-1).id,n=this.getOrCreateWindow(r),this.addWindow(n)),n},createSlideHistoryArray:function(e){for(var t,i=[];e.length;)t=this.resolveSlideFromResumeData(e),i.push(t.slide),e=t.data;return i},resolveSlideFromResumeData:function(e){return this["1"===e.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](e.slice(1))},getSlideFromResumeData:function(e){var t=new c({fullString:e}),i=t.reChunk(),n=t.getUnsignedValue(),r=i.getUnsignedValue();return{slide:m.getSlideFromIndices(r,n),data:i.remainder()}},getDrawFromResumeData:function(e){var t=new c({fullString:e}),i=t.reChunk(),n=i.reChunk(),r=t.getUnsignedValue(),s=i.getUnsignedValue(),o=n.getUnsignedValue();return{slide:m.getDrawFromIndices(o,s,r),data:n.remainder()}}},o.Events,h);return f.windowManager=_,_}),define("views/player/mixins/appStateable",["require","lodash","views/helpers/dom","helpers/events","helpers/appState","backbone","helpers/utils","helpers/constants","helpers/windowManager","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/dom"),n=e("helpers/events"),r=e("helpers/appState"),s=(e("backbone"),e("helpers/utils"),e("helpers/constants")),o=(e("helpers/windowManager"),e("helpers/vow"));return{componentDidMount:function(){this.layoutProps=[],this.liveCallbacks={};var e=t.isFunction(this.stateableValues)?this.stateableValues():this.stateableValues,o=i.closest(this.el,function(e){return!!e.getAttribute("data-window-id")});t.forOwn(e,function(e,t){e&&(this.liveCallbacks[t]=e),this.layoutProps.push(t)}.bind(this)),this.windowId=null!=o?o.getAttribute("data-window-id"):s.refs.FRAME,this.listenTo(r,n.layout.CHANGED,this.onLayoutChanged),this.onLayoutChanged(r,r.currentLayout()||{},this.windowId)},componentWillUnmount:function(){this.stopListening()},onLayoutChanged:function(e,i,n){var r=[];n===this.windowId&&this.isMounted()&&(null!=this.beforeStateableValuesUpdated&&this.beforeStateableValuesUpdated(i),this.layoutProps.forEach(function(e){var n=this.getLayoutPropVal(i,e);if(null!=n){var s,a,l={},u=this.liveCallbacks[e],c=!!(n&&null!=n.enabled?n.enabled:n);null!=u?u(c):(l["stateable_"+((s=e.split(".")).length>1?t.last(s):t.first(s))]=c,a=new o.Deferred,r.push(a.promise()),this.setState(l,a.resolve))}}.bind(this)),this.stateableValuesUpdated&&o.after.apply(o,r).then(t.partial(this.stateableValuesUpdated,i)))},getLayoutPropVal:function(e,i){return t.reduce(i.split("."),function(e,t){return e[t]},e)}}}),define("views/player/Topbar",["require","lodash","views/helpers/dom","react","views/player/mixins/appStateable","views/mixins/baseView","helpers/utils"],function(e){"use strict";e("lodash");var t=e("views/helpers/dom"),i=e("react"),n=e("views/player/mixins/appStateable"),r=e("views/mixins/baseView"),s=e("helpers/utils");return i.createClass({displayName:"Topbar",mixins:[r,n],componentDidMount:function(){this.afterHtmlReady(this.adjustLayout)},componentDidUpdate:function(){this.adjustLayout()},stateableValuesUpdated:function(e){this.htmlReady(this.adjustLayout)},hasLinkLeft:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkLeft")},hasLinkRight:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.tabs.linkRight")},hasTitle:function(){return!!this.getPath("props.model.controlOptions.sidebarOptions.titleEnabled")},hasTimer:function(){return this.getPath("props.timers").length>0},hasElapsedAndTotalTime:function(){return!!this.getPath("props.model.controlOptions.controls.elapsedandtotaltime")},adjustLayout:function(){if(this.hasLinkRight()||this.hasLinkLeft()){var e=".topmenu-item:not(.hidden) .topmenu-tab",i=this.find(".presentation-title"),n=this.hasElapsedAndTotalTime(),r=this.find(".top-tabs"),s=this.findAll(".top-tabs-right "+e),o=this.findAll(".top-tabs-left "+e),a=this.findAll(".top-tabs-left .topmenu-item .topmenu-tab, .top-tabs-right .topmenu-item .topmenu-tab"),l=i&&this.hasSpaceForTitle(i,o,s);this.el.classList[l?"add":"remove"]("centered-title"),this.el.classList[a.length&&(i||n)?"add":"remove"]("extended-height"),t.resizeToFit(r,a,void 0,-2)}},hasSpaceForTitle:function(e,t,i){return!t.length&&(!i.length||e.getBoundingClientRect().right<i[0].getBoundingClientRect().left)},onTimerShow:function(e){s.showTimer(this,e)}})}),define("views/player/StartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/pubSub","helpers/events"],function(e){"use strict";e("lodash");var t,i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),s=e("helpers/pubSub"),o=e("helpers/events");return i.createClass({displayName:"StartOverlay",mixins:[n],subscriptions:(t={},t[o.request.START]="onStart",t),getInitialState:function(){return{visible:!1}},onStart:function(e){this.rejectDeferred=e,this.overlay=document.querySelector("#overlay-playbutton"),this.overlay.classList.add("opaque"),this.setState({visible:!0})},onClick:function(){s.trigger(o.loader.UNMUTE),r.isMobileOrTouchableTheme||this.overlay.classList.remove("opaque"),s.once(o.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.rejectDeferred(),this.setState({visible:!1})}})}),define("views/mixins/propertizable",["require","lodash","helpers/constants"],function(e){"use strict";e("lodash"),e("helpers/constants").PLAYER_PROPS_KEYPATH;return{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var e=this.props.model;return this.playerPropsModel={},e&&e.createPlayerProps&&(this.playerPropsModel=e.playerProps||e.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(e){return this.state[e]},setPlayerProp:function(e,t){return this.props.model.prop(e,t)}}}),define("views/mixins/mouseable",["require","lodash","views/events/mouseEvents"],function(e){"use strict";var t=e("lodash"),i=e("views/events/mouseEvents");return{componentWillMount:function(){this.offs=[]},registerEvent:function(e,t,n){n=n||this.el,this.offs.push(i[e](n,t,this))},componentWillUnmount:function(){t(this.offs).flatten().invoke("teardown").value(),this.offs=[]}}}),define("helpers/audio/AudioClipBase",["require","lodash","backbone","helpers/errorManager","helpers/events","helpers/pubSub","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/errorManager"),r=e("helpers/events"),s=e("helpers/pubSub"),o=e("helpers/vow"),a=r.detection,l=function(e){this.deferredOp=t.noop,this.dfd=o.Deferred(),this.dfd.done(function(){this.deferredOp(),this.deferredOp=t.noop}.bind(this)),this.dfd.fail(function(e){n.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',e)}.bind(this)),this.url=e,this.startAt=0,this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),t.bindAll(this,"onVisibilityHidden","onVisibilityShown"),this.initialize()};l.prepare=t.noop,l.checkNeedsApproval=t.noop;var u=l.prototype;return t.extend(u,i.Events,{initialize:function(){this.detectionSubscriptions={},this.detectionSubscriptions[a.VISIBILITY_HIDDEN]=this.onVisibilityHidden,this.detectionSubscriptions[a.VISIBILITY_SHOWN]=this.onVisibilityShown,s.on(this.detectionSubscriptions)},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger(r.audioClip.ENDED)},onTimeUpdate:function(e){this.isPlaying&&this.trigger(r.audioClip.TIME_UPDATE,e)},onVisibilityHidden:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShown:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(e){o.isResolved(this.dfd)?e():this.deferredOp=e},play:function(e){return null!=e&&(this.startAt=e),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(e){return this.startAt=e,this.isPlaying&&this.play(),this},destroy:function(){return s.off(this.detectionSubscriptions),this}}),l}),define("polyfills/fills/rangeSliders",["require","lodash"],function(e){"use strict";var t=e("lodash"),i="allowTheChangeEventToPropagate",n=function(e,n){var r=document.createEvent("Event");r.initEvent("change",!0,!0),t.defaults(r,n),Object.defineProperty(r,i,{value:!0}),e.dispatchEvent(r),document.removeEventListener("mouseup",e.fireChangeEvent)};return{patchEvents:function(){document.addEventListener("change",function(e){var r,s;e[i]||"range"!==e.target.getAttribute("type")||(e.stopPropagation(),(r=document.createEvent("Event")).initEvent("input",!0,!0),t.defaults(r,e),e.target.dispatchEvent(r),document.removeEventListener("mouseup",e.target.fireChangeEvent),s=t.partial(n,e.target),e.target.fireChangeEvent=s,document.addEventListener("mouseup",s))},!0)}}}),define("polyfills/vendorOverrides",["require","lodash","react","react-dom","polyfills/detection","helpers/events","helpers/svg/svgUtils","polyfills/fills/rangeSliders","tween-lite","helpers/windowManager","helpers/captionsManager","helpers/constants","helpers/stringTabler","helpers/vow","helpers/utils","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=(e("react"),e("react-dom"),e("polyfills/detection")),n=e("helpers/events"),r=e("helpers/svg/svgUtils"),s=e("polyfills/fills/rangeSliders"),o=e("tween-lite"),a=(e("helpers/windowManager"),e("helpers/captionsManager")),l=e("helpers/constants"),u=e("helpers/stringTabler"),c=e("helpers/vow"),h=e("helpers/utils"),p=e("helpers/pubSub"),d={crispScale:t.identity,unscaleZoom:t.identity,CRISP_SCALE:1,transformZ:"",feDropShadow:!0,tspanFilters:!0},f=function(e){e.style.display="inline-block";e.offsetHeight;e.style.display=""};return i.isWebKit()&&(d.forceSingleRepaint=function(e){f(e)},window.navigator.platform.includes("Win")&&document.body.classList.add("is-windows"),!i.isDesktop||1!==window.devicePixelRatio||"show all"!==window.globals.scale&&i.isClassic||(d.CRISP_SCALE=1.005,d.crispScale=t.identity,d.unscaleZoom=t.identity),d.forceRepaint=function(e,t){return o.to(e,t,{onUpdate:function(){f(e)},onComplete:function(){f(e)}})},d.fixTspan=function(e){var i=h.getPath(e,"x","").split(" ").length;return e.y=t.times(i,t.constant(e.y)).join(" "),e},d.handleWillChange=function(e){e.willChange="opacity"}),i.isIE()&&!i.isEdge()&&(d.getDxAdjustment=function(e){return e.runs.reduce(function(e,i){return e+i.spans.reduce(function(e,i){return e+t.sum(i.dx)},0)},0)/2}),i.isIE()&&(d.tspanFilters=!1,d.feDropShadow=!1,d.forceSingleRepaint=function(e){f(e)},s.patchEvents(),d.mouseOver=function(){return"mouseover"},d.elementsFromPoint=function(e,i,n){return t(document.msElementsFromPoint(e,i)).filter(n).value()},d.forceLayoutLtr=function(e){e.direction="ltr",e.unicodeBidi="bidi-override"},d.removeCharPositions=function(e){return r.isTspanNode(e)&&(e.x=[t.first(e.x.split(" "))]),e},d.stopColorProps=function(e){return{stopColor:h.toRgba(e.rgb,e.alpha)}}),i.isMobile&&(d.positionCaptions=function(e){if("portrait"===i.orientation){var t=document.querySelector(".slide-container").getBoundingClientRect(),n=window.innerHeight,r=(n-l.MOBILE_UI_SIZE-t.bottom)/2,s=t.bottom+r,o=Math.max(0,s+e.offsetHeight/2-n+l.MOBILE_UI_SIZE);e.style.top=h.pxify(s-o),e.classList.add("caption--centered")}else e.classList.remove("caption--centered"),e.style.top="auto"},p.on(n.detection.ORIENTATION_CHANGE,function(){var e=document.querySelector(".caption");null!=e&&d.positionCaptions(e)})),i.isAndroid&&(d.getAudioInitEvent=function(){return"click"}),i.isIOS()&&(d.transformZ=" translateZ(0)",d.destroyAudioContext=t.noop,d.detectVisibilityChange=function(){var e,t=(new Date).getTime(),i=!1,r=!1;setInterval(function(){var s=(new Date).getTime(),o=s-t,a=i;t=s,i=o>=900,!a&&i?e=s:a&&i&&!r&&s-e>=2e3?(r=!0,p.trigger(n.detection.VISIBILITY_HIDDEN)):a&&!i&&(r=!1,p.trigger(n.detection.VISIBILITY_SHOWN))},500)},d.onOpenWindow=function(e,t,i){var n=h.getPath(t,"eventType"),r=h.getPath(t,"context.currView.el");"onpress"===n&&null!=r?r.addEventListener("touchend",function e(){i(),r.removeEventListener("touchend",e)}):i()},d.handleWillChange=function(e){e.willChange="unset"},i.isUIWebView()&&(d.registerAudioInitEvent=function(e,t,i,n){if(n.props.model.isKind("button"))return[{teardown:e(t,"click",function(){return!0},i)}]},d.getAudioInitEvent=function(){return"click"})),i.isIosPhoneBefore10()&&(d.buildCaptionTracks=function(e,t){var i,n,r,s;a.hasCaptions(t)&&(i=e,null!=(n=a.getCaptions(t))&&n.length>0&&((r=i.addTextTrack("captions",u.getString("closed_captions"),"")).mode=a.isCaptionButtonToggled()?"showing":"hidden",n.forEach(function(e){(s=new window.VTTCue(e.startTime,e.endTime,e.text.cueSource)).line=12,r.addCue(s)})))},d.onCaptionsEnabled=function(e){p.on(n.captions.ENABLE,e)},d.offCaptionsEnabled=function(e){p.off(n.captions.ENABLE,e)}),i.isFF()&&(d.shouldAlternateSvgImage=function(){return!1}),d.moveVarTextOutOfSvg=function(e){var i=[],n={nodeType:"variableText"},s=function(e){var r;return i=i.concat((r=e,t.remove(r.children,n))),e};return s.afterFinish=function(e){if(0===i.length)return e;var t={nodeType:"div",className:"textlib-wrapper"};return t.children=i.slice(),t.children.push(e),t},r.transformNodeConfig(s,e)},d.unwrapForeignObjectVarText=function(e){return e.children[0]},null==document.fonts&&(d.loadFonts=function(e,i){return c.when.apply(c,_toConsumableArray(e.map(function(e){var n=new c.Deferred,r=Date.now(),s=t.times(3,function(){var e=document.createElement("div");return t.extend(e.style,{display:"inline-block",fontSize:"40px",left:0,pointerEvents:"none",posistion:"absolute",top:0,visibility:"hidden",whiteSpace:"nowrap"}),e.setAttribute("aria-hidden","true"),e.innerText="BESbswy",document.body.appendChild(e),e});s[0].style.fontFamily=e.name+", serif",s[1].style.fontFamily=e.name+", sans-serif",s[2].style.fontFamily=e.name+", monospace";return function i(){t.uniq(s.map(t.property("offsetWidth"))).length<=2?n.resolve():Date.now()-r>=1e3?n.reject('Timed out loading "'+e.name+'"'):setTimeout(i,50)}(),n.promise().always(function(){s.forEach(function(e){null!=e.parentNode&&e.parentNode.removeChild(e)})}).fail(i("loadFonts"))})))}),d}),define("helpers/audio/AudioClipApi",["require","lodash","external/superagent","helpers/audio/AudioClipBase","polyfills/audioContext","helpers/vow","helpers/utils","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("external/superagent"),o=e("helpers/audio/AudioClipBase"),a=e("polyfills/audioContext"),l=(e("helpers/vow"),e("helpers/utils")),u=e("polyfills/detection"),c=e("polyfills/vendorOverrides"),h=l.createSuper(o),p={},d={},f=!1,m=function(){return"suspended"===v.context().state},g=c.destroyAudioContext||function(){null!=t&&clearTimeout(t),t=setTimeout(function(){null!=i&&(i.close(),i=null)},3e4)},v=function(){o.apply(this,arguments)};r.extend(v,o,{context:function(){return null==i&&(i=a&&new a,m()&&document.body.addEventListener("mousedown",function e(){i.onstatechange(),document.body.removeEventListener("mousedown",e)}),i.onstatechange=function(){null!=i&&m()&&i.resume()}),null!=t&&(clearTimeout(t),t=null),i},prepare:function(e){var t,i=!0,n=u.isFF()?"window.setTimeout":function(e){return e()};this.playInaudibleBeep(),m()&&null!=(t=v.context().resume())?window.requestAnimationFrame(function(){t.then(function(){i=!1,m()&&(f=!0),e()}).catch(function(){i=!1,f=!0,e()}),n(function(){i&&(f=m(),e())},250)}):e()},checkNeedsApproval:function(){return f},playInaudibleBeep:function(){var e=new y,t=function(){e.destroy(),this.prepareScratchBuffer()}.bind(this);return e.play(),u.isAndroid?setTimeout(t,30):t(),this},prepareScratchBuffer:function(){var e=this.context();n=e.createBuffer(1,1,22050)}}),v.prototype=new o,r.extend(v.prototype,{constructor:v,initialize:function(){h("initialize").apply(this,arguments),this.contextStartTime=0,this.dfd.fail(function(){v.wipeFromBuffer(this.url)}.bind(this))},load:function(){return null!=p[this.url]?(this.buffer=p[this.url],this.dfd.resolve()):s.get(this.url).on("request",function(){this.xhr.responseType="arraybuffer"}).end(function(e,t){e?this.dfd.reject(e):this.decode(t.xhr.response)}.bind(this)),this},decode:function(e){v.context().decodeAudioData(e,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(e){e?(p[this.url]=this.buffer=e,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),h("onEnded").apply(this,arguments)},createGain:function(){var e=v.context();this.gainNode=e.createGain(),this.gainNode.connect(e.destination),this.gainNode.gain.value=this.volume},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var e=v.context();this.source=e.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(e){}this.source.disconnect();try{this.source.buffer=n}catch(e){}this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),250)},deferredPlay:function(){var e=v.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?(this.createGain(),this.createSource(),this.contextStartTime=e.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt)),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){return this.isPlaying?v.context().currentTime-this.contextStartTime+this.startAt||0:this.startAt},getDuration:function(){return l.getPath(this.buffer,"duration")},setVolume:function(e){return this.volume=e,null!=this.gainNode&&(this.gainNode.gain.value=e),this},destroy:function(e){return null==e&&(e=!u.isMobileOrTouchableTheme),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),e||v.wipeFromBuffer(this.url),h("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=r.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),this.onEndedOnceDelegate=null},markAsPlaying:function(){d[this.url]=!0},unmarkAsPlaying:function(){d[this.url]=null,r.every(d,r.isNull)&&(d={},g())}}),v.wipeFromBuffer=function(e){p[e]=null};var y=function(){v.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return y.prototype=new v,r.extend(y.prototype,{constructor:y,createSource:function(){var e=v.context();this.source=e.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),v}),define("helpers/assetManager",["require","lodash","helpers/errorManager","helpers/vow","helpers/audio/AudioClipApi"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/errorManager"),r=e("helpers/vow"),s=e("helpers/audio/AudioClipApi"),o=n.throwError("assetManager"),a=n.backtick,l={audio:1,video:2};return{initialize:function(e){return t=e,this},getAsset:function(e){var i=t.get(e);return i||o("getAsset","No asset with id of",a(e)),i},getAssetUrl:function(e){return this.getAsset(e).url()},offloadAssets:function(e){e.forEach(function(e){var t=this.getAsset(e);"audio"===t.type()&&s.wipeFromBuffer(t.url())}.bind(this))},prioritizeAssets:function(e){var t=e.map(this.getAsset.bind(this));return i.sortBy(t,function(e){return l[e.type()]||0})},loadAssets:function(e,t){i.isArray(e)||o("loadAssets","Must pass in an array of asset ids");var n=i.invoke(this.prioritizeAssets(e),"load",t),s=r.after.apply(null,n);return s.dfds=i.pluck(n,"dfd"),s}}}),define("views/helpers/bitmaskHelper",["require"],function(e){"use strict";var t=/([XO])/g,i=function(e,t,i){return(e.x-i.x)*(t.y-i.y)-(e.y-i.y)*(t.x-i.x)},n=function(e){var t,n,r=e.length,s=[],o=[];for(e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}),t=0;t<r;t++){for(;s.length>=2&&i(s[s.length-2],s[s.length-1],e[t])<=0;)s.pop();for(s.push(e[t]),n=r-(t+1);o.length>=2&&i(o[o.length-2],o[o.length-1],e[n])<=0;)o.pop();o.push(e[n])}return o.pop(),s.pop(),s.concat(o)};return{buildImage:function(e,i,r,s,o){var a,l,u,c,h,p,d,f,m,g=0,v=(h=s,p=o,(d=document.createElement("canvas")).width=h,d.height=p,d),y=v.getContext("2d"),b=y.createImageData(s,o),w=e.split(t),S=w.length,x=0,T="O",E=-1,A=!1,C=[];for(a=0;a<S;a+=2)for(E+=(u=parseInt(w[a],16))+1,(c="X"===w[a+1]?255:0)!==T&&(255===c?(A=!0,C.push({x:(x+1)%s+i,y:Math.floor((x+1)/s)+r})):A&&C.push({x:x%s+i,y:Math.floor(x/s)+r})),x=E,T=c,l=0;l<=u;l++)b.data[g]=c,b.data[g+3]=c,g+=4;return y.putImageData(b,0,0),{canvas:v,bb:(f=C,m=n(f),{getBounds:function(e){var t,i=m.length,n=e.transformPoint(m[0].x,m[0].y),r=n.x,s=r,o=n.y,a=o;for(t=1;t<i;t++)(n=e.transformPoint(m[t].x,m[t].y)).x<r?r=n.x:n.x>s&&(s=n.x),n.y<o?o=n.y:n.y>a&&(a=n.y);return[r,o,s,a]}})}}}}),define("helpers/TransMatrix",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/constants","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),r=e("helpers/constants"),s=e("polyfills/vendorOverrides"),o=r.math.TO_RADIANS,a=function(){this.reset()};return t.extend(a.prototype,{adjustByViewProps:function(e){return this.translate(e.RawXPos,e.RawYPos).scale(e.ScaleX,e.ScaleY,e.rotateXPos,e.rotateYPos).rotate(e.Rotation,e.rotateXPos,e.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(e,t){return this.tx+=e*this.a+t*this.b,this.ty+=e*this.c+t*this.d,this},scale:function(e,t,i,n){var r=i||n;return r&&this.translate(i,n),this.a*=e,this.c*=e,this.b*=t,this.d*=t,r&&this.translate(-i,-n),this},rotate:function(e,t,i){e*=o;var n=Math.cos(e),r=Math.sin(e),s=t-t*n+i*r,a=i-t*r-i*n,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=n*l+r*u,this.b=-r*l+n*u,this.c=n*c+r*h,this.d=-r*c+n*h,this.tx+=s*l+a*u,this.ty+=s*c+a*h,this},skew:function(e,t,i,n){var r=i||n,s=this.a,a=this.c;return e=Math.tan(e*o),t=Math.tan(t*o),r&&this.translate(i,n),this.a+=t*this.b,this.c+=t*this.d,this.b+=e*s,this.d+=e*a,r&&this.translate(-i,-n),this},transform:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},copy:function(){var e=new a;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},invert:function(){var e=1/(this.a*this.d-this.b*this.c),t=this.d*e,i=-this.b*e,n=-this.c*e,r=this.a*e,s=e*(this.b*this.ty-this.d*this.tx),o=e*(this.c*this.tx-this.a*this.ty);return this.a=t,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=o,this},toCssTransform:function(e){var t=n.fix(this.a,6),r=n.fix(this.b,6),o=n.fix(this.c,6),a=n.fix(this.d,6),l=n.fix(this.tx,6),u=n.fix(this.ty,6);return i.buildTransformFn("matrix",t,o,r,a,l,u)+(e?"":s.transformZ)},getScale:function(){return{x:n.hypot(this.a,this.c),y:n.hypot(this.b,this.d)}},transformPoint:function(e,t){return{x:e*this.a+t*this.b+this.tx,y:e*this.c+t*this.d+this.ty}},unTransformPoint:function(e,t){return this.copy().invert().transformPoint(e,t)},decompose:function(){var e,t,i,n=this.a,r=this.b,s=this.c,o=this.d;return i=n*o-r*s,Math.abs(i)<=1e-12?null:(r/=e=Math.sqrt(n*n+r*r),(n/=e)*(o/=t=Math.sqrt(s*s+o*o))<r*(s/=t)&&(n=-n,r=-r,e=-e),{scaling:{x:e,y:t},rotation:180*-Math.atan2(r,n)/Math.PI})},append:function(e){var t=this.a,i=this.b,n=this.c,r=this.d,s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;return this.a=s*t+a*i,this.b=o*t+l*i,this.c=s*n+a*r,this.d=o*n+l*r,this.tx+=u*t+c*i,this.ty+=u*n+c*r,this},isEqual:function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},isOnlyTranslated:function(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d}}),a}),define("views/helpers/transformHelper",["require","lodash","helpers/utils","helpers/TransMatrix","polyfills/vendorOverrides"],function(e){"use strict";e("lodash");var t=e("helpers/utils"),i=e("helpers/TransMatrix"),n=e("polyfills/vendorOverrides"),r=function(e,i){parseFloat(t.getPath(e,"el.style.zoom"));var n,r,s,o=e.state,a=o.rotateXPos,l=o.rotateYPos,u=null!=e.decorators&&null!=e.decorators.rotatable;return null!=e.tweenedConfig&&null!=e.tweenedConfig.props&&(o=e.tweenedConfig.props),e.dragging?(n=(s=e.decorators.draggable.getDraggingPosition()).x,r=s.y):(n=o.RawXPos,r=o.RawYPos),i.translate(n,r),100!==o.ScaleX&&100!==o.ScaleY&&i.scale(o.ScaleX/100,o.ScaleY/100,a,l),0!==o.Rotation&&i.rotate(o.Rotation,a,l),u&&u.lastSetRotation&&i.rotate(u.lastSetRotation,u.rotateXPos,u.rotateYPos),i},s=function(e,t,n){for(var s,o,a,l,u,c=[],h=e,p=null!=n?n.copy():new i;h!==t;)h.props.isInnard||c.push(h),h=null!=(l=h.reparentedContainer)?(u=l.props.model).isSlideLayer||u.isSlide?void 0:l:h.props.parent;for(s=c.length-1;s>=0;s--)h=c[s],p=r(h,p),a=h.props.model,s>0&&a.isKind("scrollarea")&&(o=h.getPlayerProp("Position"))&&p.translate(0,-o);return p},o={setMatrixDirty:function(e){var t,i;if(e.props.model.transformDirty=!0,null!=e.allRefs)for(t=e.allRefs.length,i=0;i<t;i++)null!=e.allRefs[i].currView?this.setMatrixDirty(e.allRefs[i].currView):e.allRefs[i].transformDirty=!0},getMatrix:function(e){var t=e.props.model;return!1===t.transformDirty?t.currTransform:(t.transformDirty=!1,t.currTransform=s(e))},getRelativeMatrix:function(e,t,i){return s(e,t,i)},localPtToGlobal:function(e,t,i,n){n=n||this.getSlideMetrics(e);var r=e.props.model.isSlideObject?this.localPtToSlide(e,t,i):{x:t,y:i};return{x:n.left+r.x*n.scaleX,y:n.top+r.y*n.scaleY}},globalPtToLocal:function(e,t,i,n){var r=e.props.model;return r.isSlide&&(r=r.getBaseLayer()),r.isSlideLayer?this.globalPtToLayer(r.currView,t,i,n):this.globalPtToSlideObject(e,t,i,n)},globalPtToLayer:function(e,t,i,n){return{x:(t-(n=n||this.getSlideMetrics(e)).left)/n.scaleX,y:(i-n.top)/n.scaleY}},globalPtToSlideObject:function(e,t,i,n){var r=e.props.model.getLayer().currView,s=this.globalPtToLayer(r,t,i,n),o=this.getMatrix(e).copy().invert().transformPoint(s.x,s.y);return{x:o.x,y:o.y}},localPtToSlide:function(e,t,i){return this.getMatrix(e).transformPoint(t,i)},parentPtToSlide:function(e,t,i){for(var n,r=e.props.parent;null!=r&&(r.props.isInnard||r.props.model.isKind("shufflegroup"));)r=r.props.parent;return null!=r&&r.el.contains(e.el)?(n=this.getMatrix(r),r.props.model.isKind("scrollarea")&&(n=n.copy()).translate(0,-(r.getPlayerProp("Position")||0)),n.transformPoint(t,i)):{x:t,y:i}},localPtToLocal:function(e,t,i,n){var r=this.localPtToSlide(e,i,n);return this.slidePtToSlideObject(t,r.x,r.y)},slidePtToSlideObject:function(e,t,i){return o.getMatrix(e).copy().invert().transformPoint(t,i)},getSlideMetrics:function(e){var t,i=n.CRISP_SCALE,r=(t=e.props.model).isSlide?t.getBaseLayer().currView:t.isSlideLayer?t.currView:t.getLayer().currView,s=r.el.getBoundingClientRect();return{scaleX:s.width/r.props.width*i,scaleY:s.height/r.props.height*i,left:s.left*i,top:s.top*i,right:s.right,bottom:s.bottom,width:s.right-s.left,height:s.bottom-s.top}}};return o}),define("views/helpers/canvg/globals",["require"],function(e){"use strict";return{}}),define("views/helpers/canvg/SvgPoint",["require","lodash"],function(e){"use strict";var t=function(e,t){this.x=e,this.y=t};return e("lodash").extend(t.prototype,{angleTo:function(e){return Math.atan2(e.y-this.y,e.x-this.x)},applyTransform:function(e){var t=this.x*e[0]+this.y*e[2]+e[4],i=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=i}}),t}),define("views/helpers/canvg/SvgProperty",["require","lodash","./globals"],function(e){"use strict";var t=e("lodash"),i=e("./globals"),n=Math.PI/180,r=/px$/,s=/pt$/,o=/pc$/,a=/cm$/,l=/mm$/,u=/in$/,c=/%$/,h=/deg$/,p=/rad$/,d=/grad$/,f=/#([^\)'"]+)/,m=function(e,t){this.name=e,this.value=t};return t.extend(m.prototype,{getValue:function(){return this.value},hasValue:function(){return null!=this.value&&""!==this.value},numValue:function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(c)&&(e/=100),e},valueOrDefault:function(e){return this.hasValue()?this.value:e},numValueOrDefault:function(e){return this.hasValue()?this.numValue():e},getDefinition:function(){var e=this.value.match(f);return e&&(e=e[1]),e||(e=this.value),i.defs[e]},isUrlDefinition:function(){return 0===this.value.indexOf("url(")},getDPI:function(e){return 96},getUnits:function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},toPixels:function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(r))return this.numValue();if(n.match(s))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(o))return 15*this.numValue();if(n.match(a))return this.numValue()*this.getDPI(e)/2.54;if(n.match(l))return this.numValue()*this.getDPI(e)/25.4;if(n.match(u))return this.numValue()*this.getDPI(e);if(n.match(c))return this.numValue()*i.viewPort.ComputeSize(e);var h=this.numValue();return t&&h<1?h*i.viewPort.ComputeSize(e):h},toRadians:function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(h)?this.numValue()*n:e.match(p)?this.numValue():e.match(d)?this.numValue()*(Math.PI/200):this.numValue()*n}}),m}),define("views/helpers/canvg/utils",["require","./SvgPoint","./SvgProperty"],function(e){"use strict";var t=e("./SvgPoint"),i=e("./SvgProperty"),n=/-?(\d+(\.\d+)?|\.\d+)(?=\D|$)/gm,r=/[\s\r\t\n]+/gm,s=/^\s+|\s+$/g,o=/^xMid/,a=/YMid$/,l=/^xMax/,u=/YMax$/,c={kappa:(Math.sqrt(2)-1)/3*4,trim:function(e){return e.replace(s,"")},compressSpaces:function(e){return e.replace(r," ")},ToNumberArray:function(e){for(var t=(e||"").match(n)||[],i=0;i<t.length;i++)t[i]=parseFloat(t[i]);return t},CreatePoint:function(e){var i=this.ToNumberArray(e);return new t(i[0],i[1])},CreatePath:function(e){for(var i=this.ToNumberArray(e),n=[],r=0;r<i.length;r+=2)n.push(new t(i[r],i[r+1]));return n},parseXml:function(e){var t;return window.DOMParser?(new window.DOMParser).parseFromString(e,"text/xml"):(e=e.replace(/<!DOCTYPE svg[^>]*>/,""),(t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t)},aspectRatio:function(e,t,n,r,s,h,p,d,f,m){var g=(t=(t=c.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",v=t.split(" ")[1]||"meet",y=n/r,b=s/h,w=Math.min(y,b),S=Math.max(y,b);"meet"===v&&(r*=w,h*=w),"slice"===v&&(r*=S,h*=S),f=new i("refX",f),m=new i("refY",m),f.hasValue()&&m.hasValue()?e.translate(-w*f.toPixels("x"),-w*m.toPixels("y")):(g.match(o)&&("meet"===v&&w===b||"slice"===v&&S===b)&&e.translate(n/2-r/2,0),g.match(a)&&("meet"===v&&w===y||"slice"===v&&S===y)&&e.translate(0,s/2-h/2),g.match(l)&&("meet"===v&&w===b||"slice"===v&&S===b)&&e.translate(n-r,0),g.match(u)&&("meet"===v&&w===y||"slice"===v&&S===y)&&e.translate(0,s-h)),"none"===g?e.scale(y,b):"meet"===v?e.scale(w,w):"slice"===v&&e.scale(S,S),e.translate(null==p?0:-p,null==d?0:-d)}};return c}),define("views/helpers/canvg/SvgViewPort",["require","lodash"],function(e){"use strict";var t=function(){this.viewPorts=[]};return e("lodash").extend(t.prototype,{Clear:function(){this.viewPorts=[]},SetCurrent:function(e,t){this.viewPorts.push({width:e,height:t})},RemoveCurrent:function(){this.viewPorts.pop()},Current:function(){return this.viewPorts[this.viewPorts.length-1]},width:function(){return this.Current().width},height:function(){return this.Current().height},ComputeSize:function(e){return null!=e&&"number"==typeof e?e:"x"===e?this.width():"y"===e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}),t}),define("views/helpers/canvg/BoundingBox",["require","lodash","./SvgPoint","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("./SvgPoint"),n=e("helpers/TransMatrix"),r=new n,s={left:function(){return this.update(),this.bounds[0]},top:function(){return this.update(),this.bounds[1]},width:function(){return this.update(),this.bounds[2]-this.bounds[0]},height:function(){return this.update(),this.bounds[3]-this.bounds[1]},applyTransform:function(e){var t,n,r,s=this.points.length;for(t=0;t<s;t++)n=this.points[t],r=new i(n[0],n[1]),e.applyToPoint(r),this.points[t]=[r.x,r.y]},getBounds:function(e){return this.update(e),this.bounds.slice()},addPoint:function(e,t){this.dirty=!0,this.points.push([e,t])},addBezierCurve:function(e,t,i,n,r,s,o,a){this.dirty=!0,this.beziers.push([e,t,i,n,r,s,o,a])},addQuadraticCurve:function(e,t,i,n,r,s){var o=e+2/3*(i-e),a=t+2/3*(n-t),l=o+1/3*(r-e),u=a+1/3*(s-t);this.addBezierCurve(e,t,o,a,l,u,r,s)},addChildBoundingBox:function(e){null!=e&&this.children.push(e)},hasMatrixChanged:function(e){return!e.isEqual(this.lastMatrix)},update:function(e){e=e||r,this.dirty?this.calculateBounds(e):this.hasMatrixChanged(e)&&(e.isOnlyTranslated(this.lastMatrix)?this.translateLastBounds(e):this.calculateBounds(e))},translateLastBounds:function(e){var t=e.tx-this.lastMatrix.tx,i=e.ty-this.lastMatrix.ty;this.lastMatrix=e.copy(),this.bounds[0]+=t,this.bounds[1]+=i,this.bounds[2]+=t,this.bounds[3]+=i},getPointBounds:function(e){var t,i,n,r,s,o,a,l=e.length;if(l>0)for(t=n=e[0][0],i=r=e[0][1],a=1;a<l;a++)(s=e[a][0])<t?t=s:s>n&&(n=s),(o=e[a][1])<i?i=o:o>r&&(r=o);return[t,i,n,r]},addBezierBounds:function(e,t){var i,n,r=e.length;if(r>0)for(null==t[0]&&(t[0]=t[2]=e[0][0],t[1]=t[3]=e[0][1]),i=0;i<r;i++)n=e[i],this.addBezierBoundingPoints(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t);return t},addChildBounds:function(e,t){var i,n,r=this.children.length;for(i=0;i<r;i++)null!=(n=this.children[i].getBounds(t))[0]&&(null==e[0]?e=n:(n[0]<e[0]?e[0]=n[0]:n[2]>e[2]&&(e[2]=n[2]),n[1]<e[1]?e[1]=n[1]:n[3]>e[3]&&(e[3]=n[3])));return e},transformPoints:function(e,t){var i,n,r=[],s=e.length;for(r.length=s,n=0;n<s;n++)i=t.transformPoint(e[n][0],e[n][1]),r[n]=[i.x,i.y];return r},transformBeziers:function(e,t){var i,n,r,s,o,a,l=[],u=e.length;for(l.length=u,i=0;i<u;i++)n=e[i],r=t.transformPoint(n[0],n[1]),s=t.transformPoint(n[2],n[3]),o=t.transformPoint(n[4],n[5]),a=t.transformPoint(n[6],n[7]),l[i]=[r.x,r.y,s.x,s.y,o.x,o.y,a.x,a.y];return l},calculateBounds:function(e){var t,i=this.points,n=this.beziers;e.isEqual(r)||(i=this.transformPoints(i,e),n=this.transformBeziers(n,e)),t=this.getPointBounds(i),t=this.addBezierBounds(n,t),t=this.addChildBounds(t,e),this.dirty=!1,this.bounds=t,this.lastMatrix=e.copy()},addBezierBoundingPoints:function(e,t,i,n,r,s,o,a,l){var u,c,h,p,d,f,m,g=[e,t],v=[i,n],y=[r,s],b=[o,a],w=function(e,t){if(e>0&&e<1){var i=1-e,n=i*i,r=e*e,s=i*n*g[t]+3*n*e*v[t]+3*i*r*y[t]+e*r*b[t];0===t?s<l[0]?l[0]=s:s>l[2]&&(l[2]=s):s<l[1]?l[1]=s:s>l[3]&&(l[3]=s)}},S=function(e){e[0]<l[0]?l[0]=e[0]:e[0]>l[2]&&(l[2]=e[0]),e[1]<l[1]?l[1]=e[1]:e[1]>l[3]&&(l[3]=e[1])};for(S(g),S(b),m=0;m<=1;m++)c=6*g[m]-12*v[m]+6*y[m],h=3*v[m]-3*g[m],0===(u=-3*g[m]+9*v[m]-9*y[m]+3*b[m])?0!==c&&w(-h/c,m):(p=c*c-4*h*u)>=0&&(w((-c+(d=Math.sqrt(p)))/(f=2*u),m),w((-c-d)/f,m))}};return function(){this.points=[],this.beziers=[],this.children=[],this.dirty=!0,this.lastMatrix=r,t.assign(this,s)}}),define("views/helpers/canvg/SvgElementBase",["require","lodash","./globals","./utils","./SvgProperty","./BoundingBox"],function(e){"use strict";var t=e("lodash"),i=e("./globals"),n=e("./utils"),r=e("./SvgProperty"),s=e("./BoundingBox"),o={attribute:function(e,t){var n=this.attributes[e];return null!=n?n:(t&&(n=new r(e,""),this.attributes[e]=n),n||i.emptyProperty)},getHrefAttribute:function(){for(var e in this.attributes)if("href"===e||e.match(/:href$/))return this.attributes[e];return i.emptyProperty},style:function(e,t,n){var s=this.styles[e];if(null!=s)return s;var o=this.attribute(e);if(null!=o&&o.hasValue())return this.styles[e]=o,o;if(n){var a=this.parent;if(null!=a){var l=a.style(e);if(null!=l&&l.hasValue())return l}}return t&&(s=new r(e,""),this.styles[e]=s),s||i.emptyProperty},render:function(e){if("none"!==this.style("display").value&&"hidden"!==this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},setContext:t.noop,clearContext:t.noop,renderChildren:function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},addChild:function(e,t){var n=e;t&&(n=i.createElement(e)),n.parent=this,"title"!==n.type&&this.children.push(n)},flattenBoundingBox:function(e){var t,i,n;if(null!=this.updateBoundingBox&&this.updateBoundingBox(),null!=this.bb&&(this.bb.points.length>0&&e.points.push.apply(e.points,this.bb.points),this.bb.beziers.length>0&&e.beziers.push.apply(e.beziers,this.bb.beziers)),null!=this.children)for(n=this.children.length,t=0;t<n;t++)null!=(i=this.children[t]).flattenBoundingBox&&i.flattenBoundingBox(e);return e},getBoundingBox:function(){var e,t,i,n=new s;if(null!=this.bb&&n.addChildBoundingBox(this.bb),null!=this.children)for(i=this.children.length,e=0;e<i;e++)null!=(t=this.children[e]).getBoundingBox&&n.addChildBoundingBox(t.getBoundingBox());return n}};return function(e){var s,a;if(this.attributes={},this.styles={},this.children=[],t.assign(this,o),null!=e&&1===e.nodeType){for(a=e.attributes.length,s=0;s<a;s++){var l=e.attributes[s],u=l.nodeName;this.attributes[u]=new r(u,l.value)}if(this.attribute("style").hasValue()){var c=this.attribute("style").value.split(";");for(s=0;s<c.length;s++)if(""!==n.trim(c[s])){var h=c[s].split(":"),p=n.trim(h[0]),d=n.trim(h[1]);this.styles[p]=new r(p,d)}}for(this.attribute("id").hasValue()&&null==i.defs[this.attribute("id").value]&&(i.defs[this.attribute("id").value]=this),s=0;s<e.childNodes.length;s++){var f=e.childNodes[s];1===f.nodeType&&this.addChild(f,!0)}}}}),define("views/helpers/canvg/SvgTransform",["require","./utils","./SvgProperty"],function(e){"use strict";var t=e("./utils"),i=e("./SvgProperty"),n=/\)([a-zA-Z])/g,r=/\)(\s?,\s?)/g,s=/\s(?=[a-z])/;return function(e){var o=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new i("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],i=this.m[2],n=this.m[4],r=this.m[1],s=this.m[3],o=this.m[5],a=1/(t*(1*s-0*o)-i*(1*r-0*o)+n*(0*r-0*s));e.transform(a*(1*s-0*o),a*(0*o-1*r),a*(0*n-1*i),a*(1*t-0*n),a*(i*o-n*s),a*(n*r-t*o))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=o.Type.matrix,this.base(e),this.angle=new i("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var a=t.trim(t.compressSpaces(e)).replace(n,") $1").replace(r,") ").split(s),l=a.length,u=0;u<l;u++){var c=a[u].split("("),h=t.trim(c[0]),p=c[1].replace(")","");this.transforms.push(new this.Type[h](p))}}}),define("views/helpers/canvg/RenderedElementBase",["require","./utils","./globals","./SvgTransform","./SvgElementBase","./BoundingBox"],function(e){"use strict";e("./utils");var t=e("./globals"),i=e("./SvgTransform"),n=e("./SvgElementBase"),r=(e("./BoundingBox"),function(e){this.base=n,this.base(e),this.setStrokeStyles=function(e){if(e.strokeStyle=t.options.col||"blue",this.style("stroke-width").hasValue()){var i=this.style("stroke-width").toPixels();e.lineWidth=0===i?.001:i}this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value)},this.setContext=function(e){var n=this.style("fill"),r=this.style("stroke"),s=r.hasValue()&&"none"!==r.value;(n.hasValue()&&"none"!==n.value?e.fillStyle=t.options.col||"red":e.fillStyle="rgba(0,0,0,0)",s?this.setStrokeStyles(e):e.strokeStyle="",this.style("transform",!1,!0).hasValue())&&new i(this.style("transform",!1,!0).value).apply(e);if(this.style("clip-path",!1,!0).hasValue()){var o=this.style("clip-path",!1,!0).getDefinition();null!=o&&o.apply(e)}}});return r.prototype=new n,r}),define("views/helpers/canvg/PathElementBase",["require","./utils","./BoundingBox","./globals","./RenderedElementBase"],function(e){"use strict";e("./utils"),e("./BoundingBox");var t=e("./globals"),i=e("./RenderedElementBase"),n=function(e){this.base=i,this.base(e),this.path=function(e){null!=e&&e.beginPath()},this.renderChildren=function(e){this.path(e),""!==e.fillStyle&&("inherit"!==this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!==e.strokeStyle&&(e.lineWidth>t.maxStroke&&(t.maxStroke=e.lineWidth),e.stroke())}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgMissing",["require","./globals","./utils","./SvgElementBase"],function(e){"use strict";e("./globals"),e("./utils");var t=e("./SvgElementBase"),i=function(e){};return i.prototype=new t,i}),define("views/helpers/canvg/SvgRect",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";e("./globals"),e("./utils");var t=e("./BoundingBox"),i=e("./PathElementBase"),n=function(e){var n,r,s,o,a,l,u,c,h,p;this.base=i,this.base(e),null!=e&&(n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=n+s,l=r+o,u=this.attribute("rx").toPixels("x"),c=this.attribute("ry").toPixels("y"),h=this.attribute("rx").hasValue(),p=this.attribute("ry").hasValue(),h&&!p?c=u:!h&&p&&(u=c),u=Math.min(u,s/2),c=Math.min(c,o/2),this.bb=new t,u>0||c>0?(this.bb.addQuadraticCurve(a-u,r,a,r,a,r+c),this.bb.addQuadraticCurve(a,l-c,a,l,a-u,l),this.bb.addQuadraticCurve(n+u,l,n,l,n,l-c),this.bb.addQuadraticCurve(n,r+c,n,r,n+u,r)):(this.bb.addPoint(n,r),this.bb.addPoint(a,r),this.bb.addPoint(a,l),this.bb.addPoint(n,l))),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(n+u,r),e.lineTo(a-u,r),e.quadraticCurveTo(a,r,a,r+c),e.lineTo(a,l-c),e.quadraticCurveTo(a,l,a-u,l),e.lineTo(n+u,l),e.quadraticCurveTo(n,l,n,l-c),e.lineTo(n,r+c),e.quadraticCurveTo(n,r,n+u,r),e.closePath())}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgCircle",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";e("./globals");var t=e("./utils"),i=e("./BoundingBox"),n=e("./PathElementBase"),r=t.kappa,s=function(e){var t,s,o,a;this.base=n,this.base(e),null!=e&&(t=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y"),o=this.attribute("r").toPixels(),a=r*o,this.bb=new i,this.bb.addBezierCurve(t,s-o,t+a,s-o,t+o,s-a,t+o,s),this.bb.addBezierCurve(t+o,s,t+o,s+a,t+a,s+o,t,s+o),this.bb.addBezierCurve(t,s+o,t-a,s+o,t-o,s+a,t-o,s),this.bb.addBezierCurve(t-o,s,t-o,s-a,t-a,s-o,t,s-o)),this.path=function(e){null!=e&&(e.beginPath(),e.arc(t,s,o,0,2*Math.PI,!0),e.closePath())}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgEllipse",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";e("./globals");var t=e("./utils"),i=e("./BoundingBox"),n=e("./PathElementBase"),r=t.kappa,s=function(e){var t,s,o,a,l,u,c,h,p,d,f;if(this.base=n,this.base(e),null!=e)for(t=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y"),l=[[o+(d=r*t),a-s,o+t,a-(f=r*s),o+t,a],[o+t,a+f,o+d,a+s,o,a+s],[o-d,a+s,o-t,a+f,o-t,a],[o-t,a-f,o-d,a-s,o,a-s]],this.bb=new i,h=o,p=a,c=0;c<4;c++)u=l[c],this.bb.addBezierCurve(h,p,u[0],u[1],u[2],u[3],u[4],u[5]),h=u[4],p=u[5];this.path=function(e){if(null!=e){for(e.beginPath(),e.moveTo(o,a-s),c=0;c<4;c++)u=l[c],e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);e.closePath()}}};return s.prototype=new n,s}),define("views/helpers/canvg/SvgLine",["require","./globals","./utils","./SvgPoint","./BoundingBox","./PathElementBase"],function(e){"use strict";e("./globals"),e("./utils"),e("./SvgPoint");var t=e("./BoundingBox"),i=e("./PathElementBase"),n=function(e){var n,r,s,o;this.base=i,this.base(e),null!=e&&(n=this.attribute("x1").toPixels("x"),r=this.attribute("y1").toPixels("y"),s=this.attribute("x2").toPixels("x"),o=this.attribute("y2").toPixels("y"),this.bb=new t,this.bb.addPoint(n,r),this.bb.addPoint(s,o)),this.path=function(e){null!=e&&(e.beginPath(),e.moveTo(n,r),e.lineTo(s,o))}};return n.prototype=new i,n}),define("views/helpers/canvg/SvgPolyline",["require","./globals","./utils","./BoundingBox","./PathElementBase"],function(e){"use strict";e("./globals");var t=e("./utils"),i=e("./BoundingBox"),n=e("./PathElementBase"),r=function(e){if(this.base=n,this.base(e),null!=e){this.points=t.CreatePath(this.attribute("points").value);var r,s=this.points.length;for(this.bb=new i,r=0;r<s;r++)this.bb.addPoint(this.points[r].x,this.points[r].y)}this.path=function(e){if(null!=e){e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(var t=1;t<this.points.length;t++)e.lineTo(this.points[t].x,this.points[t].y)}}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgPolygon",["require","./globals","./utils","./SvgPolyline"],function(e){"use strict";e("./globals"),e("./utils");var t=e("./SvgPolyline"),i=function(e){this.base=t,this.base(e),this.basePath=this.path,this.path=function(e){null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath())}};return i.prototype=new t,i}),define("views/helpers/canvg/PathParser",["require","lodash","./globals","./utils","./SvgPoint"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgPoint")),n=/^[A-Za-z]$/,r=function(e){this.tokens=e.split(" ")};return t.assign(r.prototype,{reset:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new i(0,0),this.control=new i(0,0),this.current=new i(0,0)},isEnd:function(){return this.i>=this.tokens.length-1},isCommandOrEnd:function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(n)},isRelativeCommand:function(){return this.command===this.command.toLowerCase()},getToken:function(){return this.tokens[++this.i]},getScalar:function(){return parseFloat(this.getToken())},nextCommand:function(){this.previousCommand=this.command,this.command=this.getToken()},getPoint:function(){var e=new i(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},getAsControlPoint:function(){return this.control=this.getPoint()},getAsCurrentPoint:function(){return this.current=this.getPoint()},getReflectedControlPoint:function(){var e=this.previousCommand.toLowerCase();return"c"!==e&&"s"!==e&&"q"!==e&&"t"!==e?this.current:new i(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},makeAbsolute:function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e}}),r}),define("views/helpers/canvg/SvgPath",["require","helpers/constants","helpers/TransMatrix","./globals","./utils","./SvgPoint","./BoundingBox","./PathParser","./PathElementBase"],function(e){"use strict";var t=e("helpers/constants"),i=e("helpers/TransMatrix"),n=(e("./globals"),e("./utils")),r=e("./SvgPoint"),s=e("./BoundingBox"),o=e("./PathParser"),a=e("./PathElementBase"),l=/,/gm,u=/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,c=/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,h=/([0-9])([+\-])/gm,p=/(\.[0-9]*)(\.)/gm,d=/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,f=t.math.TO_DEGREES,m=t.math.TO_RADIANS,g=function(e,t){var i=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.sqrt(t.x*t.x+t.y*t.y);return(e.x*t.x+e.y*t.y)/(i*n)},v=function(e,t,i){return i=i||g(e,t),(e.x*t.y<e.y*t.x?-1:1)*Math.acos(i)},y=function(e,n,r,s,o,a,l,u){u&&(l=-l);var c,h=Math.ceil(Math.abs(l)/t.math.QUARTER_PI),p=l/h,d=p/2,m=Math.cos(d),g=t.math.HALF_PI+a,v=[],y=0!==r?(new i).rotate(r*f,e,n):{transformPoint:function(e,t){return{x:e,y:t}}};for(c=0;c<h;c++)g+=p,v.push([y.transformPoint(e+Math.sin(g-d)*(s/m),n-Math.cos(g-d)*(o/m)),y.transformPoint(e+Math.sin(g)*s,n-Math.cos(g)*o)]);return v},b={m:function(e,t,i){var n=e.getAsCurrentPoint();for(t.addPoint(n.x,n.y),null!=i&&i.moveTo(n.x,n.y),e.start=e.current;!e.isCommandOrEnd();)n=e.getAsCurrentPoint(),t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)},z:function(e,t,i){null!=i&&i.closePath(),e.current=e.start},l:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.getAsCurrentPoint();t.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)}},h:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new r((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},v:function(e,t,i){for(;!e.isCommandOrEnd();){var n=new r(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar());e.current=n,t.addPoint(e.current.x,e.current.y),null!=i&&i.lineTo(e.current.x,e.current.y)}},c:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,r=e.getPoint(),s=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,r.x,r.y,s.x,s.y,o.x,o.y),null!=i&&i.bezierCurveTo(r.x,r.y,s.x,s.y,o.x,o.y)}},s:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,r=e.getReflectedControlPoint(),s=e.getAsControlPoint(),o=e.getAsCurrentPoint();t.addBezierCurve(n.x,n.y,r.x,r.y,s.x,s.y,o.x,o.y),null!=i&&i.bezierCurveTo(r.x,r.y,s.x,s.y,o.x,o.y)}},q:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,r=e.getAsControlPoint(),s=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,r.x,r.y,s.x,s.y),null!=i&&i.quadraticCurveTo(r.x,r.y,s.x,s.y)}},t:function(e,t,i){for(;!e.isCommandOrEnd();){var n=e.current,r=e.getReflectedControlPoint();e.control=r;var s=e.getAsCurrentPoint();t.addQuadraticCurve(n.x,n.y,r.x,r.y,s.x,s.y),null!=i&&i.quadraticCurveTo(r.x,r.y,s.x,s.y)}},a:function(e,t,i){for(;!e.isCommandOrEnd();){var n,r,s,o,a,l,u,c,h,p,d,f,b,w=e.current,S=e.getScalar(),x=e.getScalar(),T=e.getScalar()*m,E=Math.sin(T),A=Math.cos(T),C=e.getScalar(),P=e.getScalar(),_=e.getAsCurrentPoint(),I=A*(w.x-_.x)/2+E*(w.y-_.y)/2,k=-E*(w.x-_.x)/2+A*(w.y-_.y)/2,R=k*k,O=I*I,M=O/(S*S)+R/(x*x),L=0;for(M>1&&(S*=n=Math.sqrt(M),x*=n),r=S*S,s=x*x,o=(C===P?-1:1)*Math.sqrt((r*s-r*R-s*O)/(r*R+s*O)),isNaN(o)&&(o=0),a={x:o*S*k/x,y:o*-x*I/S},l={x:(w.x+_.x)/2+A*a.x-E*a.y,y:(w.y+_.y)/2+E*a.x+A*a.y},c={x:(-I-a.x)/S,y:(-k-a.y)/x},h=v({x:1,y:0},u={x:(I-a.x)/S,y:(k-a.y)/x}),(p=g(u,c))<=-1?L=Math.PI:p<1&&(L=v(u,c,p)),d=y(l.x,l.y,T,S,x,h,L,1-P!=0),b=0;b<d.length;b++)f=d[b],t.addQuadraticCurve(w.x,w.y,f[0].x,f[0].y,f[1].x,f[1].y),null!=i&&i.quadraticCurveTo(f[0].x,f[0].y,f[1].x,f[1].y),w=f[1]}}},w=function(e){this.base=a,this.base(e);var t=this.attribute("d").value;t=(t=(t=(t=(t=(t=t.replace(l," ")).replace(u,"$1 $2").replace(u,"$1 $2")).replace(c,"$1 $2")).replace(h,"$1 $2")).replace(p,"$1 $2").replace(p,"$1 $2")).replace(d,"$1 $3 $4 "),t=n.compressSpaces(t),t=n.trim(t),this.PathParser=new o(t),this.path=function(e){var t=this.PathParser;for(t.reset(),this.bb=new s,null!=e&&e.beginPath();!t.isEnd();){t.nextCommand();var i=t.command.toLowerCase();b[i](t,this.bb,e)}},this.getBoundingBoxBase=this.getBoundingBox,this.getBoundingBox=function(){return null==this.bb&&this.path(),this.getBoundingBoxBase()},this.updateBoundingBox=function(){null==this.bb&&this.path()}};return w.prototype=new a,w}),define("views/helpers/canvg/SvgDefs",["require","lodash","./globals","./utils","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgImage",["require","./globals","./utils","./SvgTransform","./SvgRect"],function(e){"use strict";var t=e("./globals"),i=(e("./utils"),e("./SvgTransform")),n=e("./SvgRect"),r=function(e){this.base=n,this.base(e),this.style("transform",!1,!0).hasValue()&&this.bb.applyTransform(new i(this.style("transform",!1,!0).value)),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),null!=e&&(e.fillStyle=t.options.col||"red",e.strokeStyle="")}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgGNode",["require","./RenderedElementBase"],function(e){"use strict";var t=e("./RenderedElementBase"),i=function(e){this.base=t,this.base(e)};return i.prototype=new t,i}),define("views/helpers/canvg/SvgSymbol",["require","lodash","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./RenderedElementBase")),n=function(e){this.base=i,this.base(e),this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgSvg",["require","./globals","./utils","./RenderedElementBase"],function(e){"use strict";var t=e("./globals"),i=e("./utils"),n=e("./RenderedElementBase"),r=function(e){this.base=n,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.viewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.viewPort.width(),r=t.viewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var s=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(s=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),"visible"!==this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(s,o),e.lineTo(n,o),e.lineTo(n,r),e.lineTo(s,r),e.closePath(),e.clip())}if(t.viewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var a=i.ToNumberArray(this.attribute("viewBox").value),l=a[0],u=a[1];n=a[2]+(this.root?1:0),r=a[3]+(this.root?1:0),i.aspectRatio(e,this.attribute("preserveAspectRatio").value,t.viewPort.width(),n,t.viewPort.height(),r,l,u,this.attribute("refX").value,this.attribute("refY").value),t.viewPort.RemoveCurrent(),t.viewPort.SetCurrent(a[2],a[3])}}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgUse",["require","./globals","./utils","./BoundingBox","./SvgSvg","./SvgProperty","./RenderedElementBase"],function(e){"use strict";e("./globals"),e("./utils"),e("./BoundingBox");var t=e("./SvgSvg"),i=e("./SvgProperty"),n=e("./RenderedElementBase"),r=function(e){this.base=n,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var r=this.getHrefAttribute().getDefinition();this.path=function(e){null!=r&&r.path(e)},this.getBoundingBox=function(){if(null!=r)return r.getBoundingBox()},this.updateBoundingBox=function(){null!=r&&r.getBoundingBox()},this.renderChildren=function(e){if(null!=r){var n=r;"symbol"===r.type&&((n=new t).type="svg",n.attributes.viewBox=new i("viewBox",r.attribute("viewBox").value),n.attributes.preserveAspectRatio=new i("preserveAspectRatio",r.attribute("preserveAspectRatio").value),n.attributes.overflow=new i("overflow",r.attribute("overflow").value),n.children=r.children),"svg"===n.type&&(this.attribute("width").hasValue()&&(n.attributes.width=new i("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(n.attributes.height=new i("height",this.attribute("height").value)));var s=n.parent;n.parent=null,n.render(e),n.parent=s}}};return r.prototype=new n,r}),define("views/helpers/canvg/SvgMask",["require","lodash","./globals","./utils","./BoundingBox","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./utils"),e("./BoundingBox"),e("./SvgElementBase")),n=function(e){this.base=i,this.base(e),this.apply=function(e,t){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0===r&&0===s){var o=this.getBoundingBox();i=Math.floor(o.left()),n=Math.floor(o.top()),r=Math.floor(o.width()),s=Math.floor(o.height())}var a=t.attribute("mask").value;t.attribute("mask").value="";var l=document.createElement("canvas");l.width=i+r,l.height=n+s;var u=l.getContext("2d");this.renderChildren(u);var c=document.createElement("canvas");c.width=i+r,c.height=n+s;var h=c.getContext("2d");t.render(h),h.globalCompositeOperation="destination-in",c.width>0&&(h.fillStyle=u.createPattern(l,"no-repeat"),h.fillRect(0,0,i+r,n+s),e.fillStyle=h.createPattern(c,"no-repeat"),e.fillRect(0,0,i+r,n+s)),t.attribute("mask").value=a},this.render=t.noop};return n.prototype=new i,n}),define("views/helpers/canvg/SvgClipPath",["require","lodash","./globals","./SvgTransform","./SvgElementBase"],function(e){"use strict";var t=e("lodash"),i=(e("./globals"),e("./SvgTransform")),n=e("./SvgElementBase"),r=function(e){this.base=n,this.base(e),this.apply=function(e){var n=window.CanvasRenderingContext2D,r=n.prototype.beginPath,s=n.prototype.closePath;n.prototype.beginPath=t.noop,n.prototype.closePath=t.noop,r.call(e);for(var o=0;o<this.children.length;o++){var a=this.children[o];if(null!=a.path){var l=null;a.style("transform",!1,!0).hasValue()&&(l=new i(a.style("transform",!1,!0).value)).apply(e),a.path(e),n.prototype.closePath=s,l&&l.unapply(e)}}s.call(e),e.clip(),n.prototype.beginPath=r,n.prototype.closePath=s},this.render=t.noop};return r.prototype=new n,r}),define("views/helpers/canvg/elementFactory",["require","./globals","./utils","./SvgMissing","./SvgProperty","./SvgRect","./SvgCircle","./SvgEllipse","./SvgLine","./SvgPolyline","./SvgPolygon","./SvgPath","./SvgDefs","./SvgImage","./SvgGNode","./SvgSymbol","./SvgSvg","./SvgUse","./SvgMask","./SvgClipPath"],function(e){"use strict";e("./globals"),e("./utils");var t=e("./SvgMissing"),i=(e("./SvgProperty"),e("./SvgRect")),n=e("./SvgCircle"),r=e("./SvgEllipse"),s=e("./SvgLine"),o=e("./SvgPolyline"),a=e("./SvgPolygon"),l=e("./SvgPath"),u=e("./SvgDefs"),c=e("./SvgImage"),h=e("./SvgGNode"),p=e("./SvgSymbol"),d=e("./SvgSvg"),f={rect:i,circle:n,ellipse:r,line:s,polyline:o,polygon:a,path:l,defs:u,image:c,g:h,symbol:p,use:e("./SvgUse"),mask:e("./SvgMask"),svg:d,clipPath:e("./SvgClipPath")},m=/^[^:]+:/,g=/\-/g;return{createElement:function(e){var i=e.nodeName.replace(m,"").replace(g,""),n=new(f[i]||t)(e);return n.type=e.nodeName,n}}}),define("views/helpers/canvg/fastCanvg",["require","./globals","./utils","./SvgViewPort","./SvgPoint","./SvgProperty","./SvgElementBase","./RenderedElementBase","./PathElementBase","./SvgTransform","./BoundingBox","./elementFactory"],function(e){"use strict";var t=e("./globals"),i=e("./utils"),n=e("./SvgViewPort"),r=(e("./SvgPoint"),e("./SvgProperty")),s=(e("./SvgElementBase"),e("./RenderedElementBase"),e("./PathElementBase"),e("./SvgTransform"),e("./BoundingBox")),o=e("./elementFactory"),a=function(e){var t,i,n=e.flattenBoundingBox(new s);return 0===n.points.length&&0===n.beziers.length&&0===n.children.length&&(t=e.attribute("width"),i=e.attribute("height"),t.value&&i.value&&(t=t.toPixels("x"),i=i.toPixels("y"),n.points=[[0,0],[0,i],[t,i],[t,0]])),n};return function(e,s,l){return e="string"==typeof e?document.getElementById(e):e,t.defs={},t.options=l,t.createElement=o.createElement,t.emptyProperty=new r("EMPTY",""),t.viewPort=new n,t.maxStroke=0,function(e,i){var n=t.createElement(i.documentElement),r=e.getContext("2d");n.root=!0,t.viewPort.Clear(),e.parentNode&&t.viewPort.SetCurrent(e.parentNode.clientWidth,e.parentNode.clientHeight),n.style("width").hasValue()&&(e.width=n.style("width").toPixels("x")+1,e.style.width=e.width+"px"),n.style("height").hasValue()&&(e.height=n.style("height").toPixels("y")+1,e.style.height=e.height+"px");var s=e.clientWidth||e.width,o=e.clientHeight||e.height;return t.viewPort.SetCurrent(s,o),n.render(r),{bb:a(n),sw:t.maxStroke}}(e,void 0!==s.documentElement?s:i.parseXml(s.trim()))}}),define("views/helpers/bitmapHelper",["require","lodash","helpers/constants","views/helpers/bitmaskHelper","views/helpers/transformHelper","helpers/TransMatrix","views/helpers/canvg/fastCanvg","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("views/helpers/bitmaskHelper"),r=e("views/helpers/transformHelper"),s=e("helpers/TransMatrix"),o=e("views/helpers/canvg/fastCanvg"),a=e("helpers/utils"),l=/xlink\:href="(.*?)"/g,u=/data-reactid="(.*?)"/g,c=/&nbsp;/g,h=/xmlns:(.*?)=".*?" \1:/g,p={data:[0,0,0,0]},d={},f=function(e){var t,i,r,s=(e.props.model.getCurrentStateData()||{}).html5data||{};return null!=s.mask?{canvas:(i=n.buildImage(s.mask,s.xPos,s.yPos,s.width,s.height)).canvas,bb:i.bb,sw:0}:{canvas:t=document.createElement("canvas"),bb:(r=o(t,e.find("svg").parentNode.innerHTML.replace(l,"").replace(c," ").replace(u,"").replace(h,""),{col:"#ff0000"})).bb,sw:r.sw}},m=function(e){var t=e.props.model,i=t.getSlide().id,n=t.absoluteId+e.state.ObjectState,r=(d[i]||{})[n];return null!=r?r:(null==d[i]&&(d[i]={}),d[i][n]=f(e),d[i][n])},g=function(e){return null!=e.getClosestAncestorByKind("expandinglabel",!0)},v={svgHit:function(e,t){var i=m(e),n=i.bb.getBounds(t),r=i.sw/2;return n[0]-=r,n[1]-=r,n[2]+=r,n[3]+=r,n},groupHit:function(e,i){var n=e.props.model,s=n.isStateGroupSlideObject&&n.getIsExpandingLabel();return t.reduce(e.allRefs,function(t,n){var o=n.currView,a=r.getRelativeMatrix(o,e,i),l=b.getBounds(o,a);return s&&g(n)||l.every(isNaN)?t:(t[0]=Math.min(t[0],l[0]),t[1]=Math.min(t[1],l[1]),t[2]=Math.max(t[2],l[2]),t[3]=Math.max(t[3],l[3]),t)},[1/0,1/0,-1/0,-1/0])},rectHit:function(e,t){var i=e.props.model.getCurrentStateMetrics(),n=i.xPos,r=i.yPos,s=n+i.width,o=r+i.height,a=[t.transformPoint(n,r),t.transformPoint(s,r),t.transformPoint(n,o),t.transformPoint(s,o)];return[Math.min(a[0].x,a[1].x,a[2].x,a[3].x),Math.min(a[0].y,a[1].y,a[2].y,a[3].y),Math.max(a[0].x,a[1].x,a[2].x,a[3].x),Math.max(a[0].y,a[1].y,a[2].y,a[3].y)]},slideHit:function(e){return[0,0,e.props.model.get("width"),e.props.model.get("height")]}},y={svgHit:function(e){return m(e).canvas},groupHit:function(e){var i=b.getLocalRotatedBounds(e,0),n=b.getBounds(e),r=Math.round(n[0]),s=Math.round(n[1]),o=Math.ceil(i[2]-i[0]),a=Math.ceil(i[3]-i[1]),l=document.createElement("canvas"),u=l.getContext("2d"),c=e.props.model,h=c.isStateGroupSlideObject&&c.getIsExpandingLabel();return l.width=o,l.height=a,u.translate(-r,-s),t.forEach(e.allRefs,function(e){h&&g(e)||!e.currView.trulyVisible||b.drawToTarget(e.currView,u)}),u.translate(r,s),l},rectHit:function(e){var t=e.props.model.getCurrentStateMetrics(),i=document.createElement("canvas"),n=i.getContext("2d");return i.width=t.width,i.height=t.height,n.fillStyle="#ff0000",n.fillRect(0,0,i.width,i.height),i},slideHit:function(e){return null}},b={getImageData:function(e,t,i,n,r){return a.isNumeric(t)&&a.isNumeric(i)&&a.isNumeric(n)&&a.isNumeric(r)?e.getImageData(t,i,n,r):p},getBounds:function(e,t){return t=t||r.getMatrix(e),v[e.props.model.getHitType()](e,t)},getLocalRotatedBounds:function(e,t){var i=(new s).rotate(t,e.state.rotateXPos,e.state.rotateYPos);return v[e.props.model.getHitType()](e,i)},getCanvas:function(e){return y[e.props.model.getHitType()](e)},drawToTarget:function(e,t){var n,o=e.props.model,a=r.getMatrix(e)||new s,l=e.props.model.getHitType(),u=null!=o.getCurrentStateMetrics?o.getCurrentStateMetrics():{xPos:0,yPos:0},c=null==u.mask?u.strokewidth:0,h=u.xPos-c,p=u.yPos-c;t.save(),t.transform(a.a,a.c,a.b,a.d,a.tx,a.ty),l===i.SLIDE_HIT||l===i.RECT_HIT?(n=b.getLocalRotatedBounds(e,0),t.fillStyle="#ff0000",t.fillRect(n[0],n[1],n[2]-n[0],n[3]-n[1])):(l===i.GROUP_HIT&&(n=b.getLocalRotatedBounds(e,0),h=Math.round(n[0]),p=Math.round(n[1])),t.drawImage(b.getCanvas(e),h,p)),t.restore()},clearBitmapCache:function(){d={}},clearSlideCache:function(e){d[e]=null}};return b}),define("helpers/svg/masks/Mask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("views/helpers/dom"),r=(e("helpers/TransMatrix"),e("helpers/utils"),function(e,t){this.maskProps=t,this.shapeProps=e,this.createSvg(e),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return t.extend(r.prototype,{setupAnimation:t.noop,animate:t.noop,getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(e){return this.width=e.rotatedBounds.right-e.rotatedBounds.left+2,this.height=e.rotatedBounds.bottom-e.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=t.uniqueId("mask-"),this.maskNode=i.createSvgNode(this.width,this.height),this.clipPath=i.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.maskNode.appendChild(this.clipPath),this.clipShape=n.setAttributes(i.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(e),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=i.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(e){var t=i.transformRotate(-e.globalRotation.x,e.regPoint.x-e.rotatedBounds.left,e.regPoint.y-e.rotatedBounds.top),n=i.transformTranslate(e.rotatedBounds.left-e.maskableOffset.x,e.rotatedBounds.top-e.maskableOffset.y);this.clipShape.setAttribute("transform",[n,t].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),r}),define("helpers/svg/masks/CheckerboardMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){var e,t,i,n,r,s,o="across"===this.direction,a=o?5:10,l=o?14:7,u=function(e){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*e*this.finalHeight+this.finalHeight}:{x:2*e*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=o,this.finalWidth=this.width/a,this.finalHeight=this.height/l,this.points=[],e=70;e--;)i=(t=e%10)%a,n=Math.floor(e/a),this.isHorizontal?(r=t<a?0:this.finalWidth/2,s=0):(r=0,s=i%2?this.finalHeight/2:0),this.points[e]={x:i*this.finalWidth+r,y:n*this.finalHeight+s};for(e=this.isHorizontal?l:a;e--;)this.points.push(u(e))},animate:function(e){var t=this.isHorizontal?e:1,n=this.isHorizontal?1:e,r=this.points.map(function(e){return i.rectPath(e.x,e.y,this.finalWidth*t,this.finalHeight*n)}.bind(this));this.clipShape.setAttribute("d",r.join(" "))}}),r}),define("helpers/svg/masks/CircleMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(e){e*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*e,this.halfHeight*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(e){this.drawCircle(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/BoxMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(e){var t=this.halfWidth-this.halfWidth*e,n=this.halfHeight-this.halfHeight*e,r=this.width*e,s=this.height*e;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(t,n,r,s)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(e){this.drawBox(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/FullMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=(e("helpers/utils"),function(e,t){n.call(this,e,t)});return t.extend(r.prototype,n.prototype,{drawBox:function(e,t,n,r){this.width,this.shapeProps.size.x,this.height,this.shapeProps.size.y;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.rectPath(-(n.x-t.x),-(n.y-t.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),r}),define("helpers/svg/masks/DiamondMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{drawDiamond:function(e){var t=r.invertPercent(e),n=this.width*t-this.halfWidth,s=this.height*t-this.halfHeight;e*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,i.diamondPath(n,s,this.width*e,this.height*e)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(e){this.drawDiamond(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/BlindsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=function(e,t){n.call(this,e,t)};return t.extend(r.prototype,n.prototype,{setupAnimation:function(){var e;this.numBlinds=6,e="horizontal"===this.direction?"height":"width",this.blindThickness=this[e]/this.numBlinds},animate:function(e){for(var t,n=[];n.length<this.numBlinds;)t=n.length*this.blindThickness,n.push("horizontal"===this.direction?i.rectPath(0,t,this.width,this.blindThickness*e):i.rectPath(t,0,this.blindThickness*e,this.height));this.clipShape.setAttribute("d",n.join(" "))}}),r}),define("helpers/svg/masks/RandomBarsMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("views/helpers/dom"),e("helpers/svg/masks/Mask")),n=e("helpers/utils"),r=function(e,t,i,n,r){return e?["M",0,r*t,"h",i,"v",t,"h",-i,"Z"].join(" "):["M",r*t,0,"v",n,"h",t,"v",-n,"Z"].join(" ")},s=function(e,t){i.call(this,e,t)};return t.extend(s.prototype,i.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var e,i,n,s="horizontal"===this.direction,o=s?this.height:this.width,a=(n=o,Math.max(1,Math.ceil(n)/1e3)),l=(e=o,i=a,Math.ceil(e/i)),u=o/l,c=t.partial(r,s,u,this.width,this.height),h=t.range(l).map(c);return this.barPaths=t.shuffle(h),this.barPaths},animate:function(e){var t=Math.round(n.invertPercent(e)*this.getBarPaths().length),i=this.getBarPaths().slice(t).join(" ")||"M 0 0";this.clipShape.setAttribute("d",this.invertRect+i)}}),s}),define("helpers/svg/masks/SplitMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!e:e,this.adjustScale=this.isExit()?r.invertPercent:t.identity},getAnimateFn:function(){return this.isOut?function(e){var t;e=this.adjustScale(e),t=r.invertPercent(e),this.clipShape.setAttribute("d",this.isVertical?i.rectPath(t*this.halfWidth,0,this.width*e,this.height):i.rectPath(0,t*this.halfHeight,this.width,this.height*e))}:function(e){var t,n,r=[];e=this.adjustScale(e),this.isVertical?(t=e*this.halfWidth,n=this.height):(t=this.width,n=e*this.halfHeight),r.push(i.rectPath(0,0,t,n)),t*=-1,n*=-1,r.push(i.rectPath(this.width,this.height,t,n)),this.clipShape.setAttribute("d",r.join(" "))}}}),s}),define("helpers/svg/masks/WheelMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t,i,n){var s=360*n-90;return t+e(r.degToRad(s))*i},o=t.partial(s,Math.cos),a=t.partial(s,Math.sin),l=t.partial(o,.5),u=t.partial(a,.5),c=function(e,t){n.call(this,e,t)};return t.extend(c.prototype,n.prototype,{setupAnimation:function(){var e=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[e,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?i.rectPath(0,0,1.1,1.1):""},animate:function(e){var t,i,n,r,s,o;this.clipShape.setAttribute("d",1===e?(t=0,i=0,n=this.width,r=this.height,["M",t,i,"L",s=t+n,i,s,o=i+r,t,o].join(" ")):this.invertRect+this.calcArcPath(e))},createArcAnimationFunc:function(){var e=this.width,i=this.height,n=this.direction,s=parseInt(this.maskProps.spokes,10),o=r.hypot(e,i),a=o/e/2,c=o/i/2,h=t.range(s).map(function(e){var t=e/s,i=Object.freeze({x:.5,y:.5}),r=Object.freeze({x:l(a,t),y:u(c,t)});return{initRotDec:t,m:i,l:r,a:Object.defineProperties({},{rx:{value:a},ry:{value:c},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===n?1:-1},x:{value:r.x,writable:!0},y:{value:r.y,writable:!0}}),update:function(e){var t=e+this.initRotDec;return this.a.x=l(a,t),this.a.y=u(c,t),this},toPathCommands:function(){return t=(e=this).m,i=e.l,n=e.a,["M",t.x,t.y,"L",i.x,i.y,"A",n.rx,n.ry,n.xRot,n.lgArc,n.sweep,n.x,n.y].join(" ");var e,t,i,n}}});return function(e){return h.map(function(t){return t.update(e/s).toPathCommands()}).join(" ")}}}),c}),define("helpers/svg/masks/DissolveMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e,n,r,s,o,a=(n=this.width,r=this.height,s=Math.ceil(n/255),o=Math.ceil(r/255),{width:Math.max(9,s),height:Math.max(9,o)}),l=Math.ceil(this.height/a.height),u=Math.ceil(this.width/a.width);for(this.grains=[],this.numGrains=l*u,e=this.numGrains;e--;){var c=e%u*a.width,h=Math.floor(e/u)*a.height;this.grains[e]=i.rectPath(c,h,a.width,a.height)}this.grains=t.shuffle(this.grains),this.pathData=""},animate:function(e){for(var t=r.invertPercent(e)*this.numGrains;this.grains.length>t;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),s}),define("helpers/svg/masks/PlusMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{drawPlus:function(e){var t=r.invertPercent(e),n={x:0,y:0,width:this.halfWidth,height:this.halfHeight},s={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},o={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},a={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};n.width=t*this.halfWidth,n.height=t*this.halfHeight,s.x=this.halfWidth+this.halfWidth*e,s.height=n.height,o.width=t*this.halfWidth,o.y=this.halfHeight+this.halfHeight*e,a.x=this.halfWidth+this.halfWidth*e,a.y=o.y,this.clipShape.setAttribute("d",[this.invertRect,i.rectPath(0,0,this.width,this.height),this.inRect,i.rectPath(n.x,n.y,n.width,n.height),i.rectPath(s.x,s.y,s.width,s.height),i.rectPath(o.x,o.y,o.width,o.height),i.rectPath(a.x,a.y,a.width,a.height)].join(" "))},getAnimateFn:function(e){return"out"===this.direction?this.drawPlus:function(e){this.drawPlus(r.invertPercent(e))}}}),s}),define("helpers/svg/masks/WipeMask",["require","lodash","helpers/svg/svgUtils","views/helpers/dom","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("views/helpers/dom"),e("helpers/svg/masks/Mask")),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){t.bindAll(this),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(e,t){t.y=this.height*r.invertPercent(e)},fromTop:function(e,t){t.height=this.height*e},fromLeft:function(e,t){t.width=this.width*e},fromRight:function(e,t){t.x=this.width*r.invertPercent(e)},animate:function(e){var t={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](e,t),this.clipShape.setAttribute("d",this.invertRect+i.rectPath(t.x,t.y,t.width,t.height))}}),s}),define("helpers/svg/masks/StripsMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){var e,t=this.width,i=this.height,n=(e=i,Math.max(10,Math.min(30,e,Math.ceil(e/20)))),r=this.getDirection();this.fromTop="leftdown"===r||"rightdown"===r,this.fromLeft="rightdown"===r||"rightup"===r,this.boxSize=n,this.maxWidth=(Math.ceil(i/n)+Math.ceil(t/n))*n},animate:function(e){for(var t,n,s="",o=this.boxSize,a=this.fromTop?0:this.height,l=this.fromTop?o:-o,u=(this.isExit()?r.invertPercent(e):e)*this.maxWidth;u>0&&a>-o&&a<=this.height;)n=Math.min(u,this.width),t=this.fromLeft?0:this.width-n,s+=i.rectPath(t,a,n,o),a+=l,u-=o;this.clipShape.setAttribute("d",s)}}),s}),define("helpers/svg/masks/WedgeMask",["require","lodash","helpers/svg/svgUtils","helpers/svg/masks/Mask","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/svg/masks/Mask"),r=e("helpers/utils"),s=function(e,t){n.call(this,e,t)};return t.extend(s.prototype,n.prototype,{setupAnimation:function(){this.radius=Math.ceil(r.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?90:270},animate:function(e){var t=180*(this.isExit()?r.invertPercent(e):e),n=180!==t?i.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-t,this.startingAngle+t):i.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",n)}}),s}),define("views/helpers/TweenHelper",["require","lodash","helpers/utils","views/helpers/bitmapHelper","helpers/TransMatrix","views/helpers/dom","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/errorManager","helpers/svg/masks/CheckerboardMask","helpers/svg/masks/CircleMask","helpers/svg/masks/BoxMask","helpers/svg/masks/FullMask","helpers/svg/masks/DiamondMask","helpers/svg/masks/BlindsMask","helpers/svg/masks/RandomBarsMask","helpers/svg/masks/SplitMask","helpers/svg/masks/WheelMask","helpers/svg/masks/DissolveMask","helpers/svg/masks/PlusMask","helpers/svg/masks/WipeMask","helpers/svg/masks/StripsMask","helpers/svg/masks/WedgeMask","helpers/cssPrefix","polyfills/detection","backbone","tween-lite","ease-pack"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/bitmapHelper"),r=e("helpers/TransMatrix"),s=e("views/helpers/dom"),o=e("helpers/svg/svgUtils"),a=e("polyfills/vendorOverrides"),l=e("helpers/errorManager"),u=e("helpers/svg/masks/CheckerboardMask"),c=e("helpers/svg/masks/CircleMask"),h=e("helpers/svg/masks/BoxMask"),p=e("helpers/svg/masks/FullMask"),d=e("helpers/svg/masks/DiamondMask"),f=e("helpers/svg/masks/BlindsMask"),m=e("helpers/svg/masks/RandomBarsMask"),g=e("helpers/svg/masks/SplitMask"),v=e("helpers/svg/masks/WheelMask"),y=e("helpers/svg/masks/DissolveMask"),b=e("helpers/svg/masks/PlusMask"),w=e("helpers/svg/masks/WipeMask"),S=e("helpers/svg/masks/StripsMask"),x=e("helpers/svg/masks/WedgeMask"),T=e("helpers/cssPrefix"),E=e("polyfills/detection"),A=e("backbone");e("tween-lite"),e("ease-pack");var C=T.camelCase("transform"),P=["position","rotation","scale","skew","alpha","mask","colors"],_={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},I={checkerboard:u,circle:c,box:h,diamond:d,blinds:f,randombars:m,split:g,wheel:v,dissolve:y,plus:b,wipe:w,full:p,strips:S,wedge:x},k={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},R={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},O=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],M=l.throwError("TweenHelper"),L=a.forceSingleRepaint||t.noop,D=function(e,t,i,n){this.view=e,this.secondaryView=n,this.model=this.view.props.model,this.isReverse=t,this.config=i,this.duration=i.duration,this.startTime=0,this.tweens=i.tweens,this.listenTo(this.model,{moveTo:this.updateDefaultPosition}),this.initialize(),this.handleMobileVideo()};return t.extend(D.prototype,A.Events,{initialize:function(){this.defaults=this.getDefaults()},handleMobileVideo:function(){E.isMobileOrTouchableTheme&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=t.noop)},stepAnimation:function(e){this.isReverse&&(e=this.duration-e)<0&&(e=0),this.applyTweenedConfig(this.getTweenedConfig(e)),E.isIE()&&L(this.view.el)},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var e={matrix:new r,props:{},style:{}};e.props.ScaleX=this.defaults.scale.x,e.props.ScaleY=this.defaults.scale.y,e.props.RawXPos=this.defaults.position.x,e.props.RawYPos=this.defaults.position.y,e.props.Rotation=this.defaults.rotation.x,e.props.Alpha=this.defaults.alpha.x,e.matrix.translate(this.defaults.position.x,this.defaults.position.y),e.matrix.rotate(this.defaults.rotation.x,0,0),e.matrix.scale(i.pctToDec(this.defaults.scale.x),i.pctToDec(this.defaults.scale.y)),e.style.opacity=i.pctToDec(this.defaults.alpha.x),e.style[C]=e.matrix.toCssTransform(),this.applyTweenedConfig(e)},updateDefaultPosition:function(e,t){this.defaults.position.x=e,this.defaults.position.y=t},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var e,t,i=this.model.get("width"),n=this.model.get("height");return t={regPoint:{x:i/2,y:n/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:i,y:n},maskableOffset:{x:0,y:0},alpha:{x:100}},this.hasSecondary()&&(e=this.secondaryView.props.model,t.secondarySize={x:e.get("width"),y:e.get("height")}),t},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var e=this.model.playerProps,t=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:e.get("RawXPos"),y:e.get("RawYPos")},scale:{x:e.get("ScaleX"),y:e.get("ScaleY")},rotation:{x:e.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:t.width-(2*t.xPos-1),y:t.height-(2*t.yPos-1)},alpha:{x:e.get("Alpha")},maskableOffset:{x:t.xPos-t.strokewidth,y:t.yPos-t.strokewidth}}},getTweenedConfig:function(e,i){var n={},s=0,o=this.tweens.length,a={matrix:new r,props:{Rotation:0},style:{}};for(i=!1!==i;s<o;)this.tweens[s].delay<=e&&t.extend(n,this.tweens[s].tweenAttrs),s++;return P.forEach(function(t){this[_[t]](e,n[t],a,i)}.bind(this)),a.style[C]=a.matrix.toCssTransform(),a},applyTweenedConfig:function(e){this.view.tweenedConfig=e,t.extend(this.view.el.style,e.style),a.unscaleZoom(this.view.el.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(e.props)},adjustRotateble:function(e){var t,i=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){t=this.view.decorators.rotatable;var n=this.model.prop("Rotation");e.rotate(n,0,0),e.rotate(t.lastSetRotation,t.rotateXPos-i.x,t.rotateYPos-i.y),e.rotate(-n,0,0)}},applyTranslation:function(e,t,i,n){var r,s=this.getAttrPointAtTime(e,t,this.defaults.position,!!t&&t.autoRotation);i.props.RawXPos=s.x,i.props.RawYPos=s.y,i.matrix.translate(s.x,s.y),t&&t.autoRotation&&(null==this.initRotation&&(this.initRotation=0===e?s.angle:this.getAttrPointAtTime(0,t,this.defaults.position,t.autoRotation).angle),r=e>=t.duration+t.delay&&t.closedPath?0:s.angle-this.initRotation,i.matrix.rotate(r,0,0),i.props.Rotation=r)},applyScale:function(e,t,n,r){var s=this.getAttrPointAtTime(e,t,this.defaults.scale),o=this.view.animationOverride&&this.view.animationOverride.scale;n.props.ScaleX=s.x,n.props.ScaleY=s.y,null!=o?o(n.props):(n.matrix.rotate(-this.defaults.globalRotation.x,0,0),n.matrix.scale(i.pctToDec(s.x),i.pctToDec(s.y)),n.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(e,t,i,n){var r=this.getAttrPointAtTime(e,t,this.defaults.rotation).x;n&&this.adjustRotateble(i.matrix),i.matrix.rotate(r,0,0),i.props.Rotation+=r},applyAlpha:function(e,t,n,r){if(t){var s=this.getAttrPointAtTime(e,t,this.defaults.alpha).x;n.style.opacity=i.pctToDec(s),n.props.Alpha=s}},getAttrPointAtTime:function(e,t,n,r){if(null==t)return n;var s,o,a,l,u=e-t.delay;return 0===t.duration&&(u<0||0===u&&this.isReverse)?s=0:(o=t.ease,a=u,l=t.duration,s=a>=l?1:i.clamp(0,1,EaseLookup.find(o).getRatio(a/l))),t.getPointAtTime(s,r)},applySkew:function(e,t,n,r){if(null!=t){var s=this.getAttrPointAtTime(e,t,{x:0,y:0}),o=R[t.corner],a=t.useGlobalAxes?{x:this.defaults.size.x*o.x,y:this.defaults.size.y*o.y}:{x:t.regPoint.x,y:t.regPoint.y},l=t.useGlobalAxes?this.defaults.globalRotation.x:0,u=t.getSecondaryPoint();a.x-=this.defaults.regPoint.x,a.y-=this.defaults.regPoint.y,n.matrix.rotate(-l,0,0),n.matrix.scale(i.pctToDec(u.x),i.pctToDec(u.y),a.x,a.y),n.matrix.skew(-s.x,s.y,a.x,a.y),n.matrix.rotate(l,0,0)}},applyColor:function(e,t,n,r){var s;t&&this.model.isSlide&&r&&(null==this.overlay&&this.createColorOverlay(),s=this.getAttrPointAtTime(e,t,0).x,this.overlay.style.opacity=i.pctToDec(s))},applyMask:function(e,t,n,r){if(null!=t&&r&&!this.model.isKind("video")){var s;if(E.isMobileOrTouchableTheme&&-1!==O.indexOf(t.maskType))return!this.isReverse&&t.maskProps.isExit&&(e=this.duration-e,this.isReverse=!0),s=i.decToPct(this.getAttrPointAtTime(e,t,this.isReverse?1:0).x),n.style.opacity=i.pctToDec(s),void(n.props.Alpha=s);var o,a=this.getAttrPointAtTime(e,t,0).x;null==this.mask&&(null==I[t.maskType]&&(M("The mask type ",t.maskType," does not exist"),t.maskType="split"),this.createMask(t)),"full"===t.maskType&&(o=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||o.matrix.transformPoint(0,0)),this.mask.animate(a,this.ptFinal,n.matrix.transformPoint(0,0)),L(this.maskedEl),this.maskedEl.classList.contains("slide-object-stategroup")&&this.repaintStateGroup(this.maskedEl)}},repaintStateGroup:function(e){var i=e.getElementsByClassName("slideobject-maskable");if(!t.isEmpty(i))for(var n=0;n<i.length;n++)L(i[n])},createMask:function(e){var t,i=this.view.el.firstElementChild;this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),t=this.model.isSlideObject?n.getLocalRotatedBounds(this.view,this.defaults.globalRotation.x):[0,0,this.defaults.size.x,this.defaults.size.y],this.defaults.rotatedBounds={left:t[0],top:t[1],right:t[2],bottom:t[3]},this.mask=new I[e.maskType](this.defaults,e.maskProps),this.maskedEl=s.hasClass(i,"slideobject-maskable")?i:this.view.el,this.maskedEl.style.WebkitClipPath=o.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=o.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(e){var t,n=this.defaults.secondarySize,r=k[this.config.pushDir];t=o.transformTranslate(i.pxify(r.x*(n.x+e.RawXPos*r.x)),i.pxify(r.y*(n.y+e.RawYPos*r.y))),this.secondaryView.el.style.transform=t,a.unscaleZoom(this.secondaryView.el.style)},createColorOverlay:function(){this.overlay=s.setAttributes(document.createElement("div"),{class:"slide-overlay"}),s.setStyles(this.overlay,{width:i.pxify(this.defaults.size.x),height:i.pxify(this.defaults.size.y)}),this.view.el.appendChild(this.overlay)},kill:function(){this.stopListening(),null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),D}),define("collections/BaseCollection",["require","backbone","lodash","models/BaseModel","mixins/subscribable","mixins/resolveable","mixins/ancestral","mixins/shortEventable","helpers/mixer"],function(e){"use strict";var t=e("backbone"),i=e("lodash"),n=e("models/BaseModel"),r=e("mixins/subscribable"),s=e("mixins/resolveable"),o=e("mixins/ancestral"),a=e("mixins/shortEventable"),l=e("helpers/mixer");return t.Collection.extend({mixins:[r,s,o,a],model:n,isCollection:!0,constructor:function(e,n){var r=this.initialize;this.initialize=i.noop,t.Collection.apply(this,arguments),this.createParentReference(n),l.initMixinsOf(this),this.initialize=r,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)}})}),define("models/presentation/TextLibItem",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection").extend({model:t.extend({idAttribute:null})});return t.extend({shorthand:["type","vartext","xPos","yPos","width","height","valign"],associations:{linkdata:i}})}),define("collections/presentation/TextLib",["require","collections/BaseCollection","models/presentation/TextLibItem"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/TextLibItem");return t.extend({model:i})}),define("helpers/curveHelper",["require","lodash","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/constants"),r=n.math.TO_DEGREES,s=function(e,t){return i.dist(e.x,e.y,t.x,t.y)},o=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*r},a=[void 0,void 0,function(e,t){return{x:t[0].x+(t[1].x-t[0].x)*e,y:t[0].y+(t[1].y-t[0].y)*e}},function(e,t){var i=1-e,n=i*i,r=2*i*e,s=e*e;return{x:n*t[0].x+r*t[1].x+s*t[2].x,y:n*t[0].y+r*t[1].y+s*t[2].y}},function(e,t){var i=1-e,n=e*e,r=i*i,s=r*i,o=3*e*r,a=3*n*i,l=n*e;return{x:s*t[0].x+o*t[1].x+a*t[2].x+l*t[3].x,y:s*t[0].y+o*t[1].y+a*t[2].y+l*t[3].y}}];return{getDistance:function(e,i){return 2===e.length?s(e[0],e[1]):(t.isArray(i)||(i=this.getSamplePoints(e,i||10)),t.last(i).distance)},getSamplePoints:function(e,t){if(2===e.length)return null;t=t||10;for(var i,n,r=0,o=[],a=e[0],l=1/t,u=0;u<=t;u++)i=l*u,n=this.getPointAtTime(i,e),r+=s(a,n),o.push({time:i,distance:r}),a=n;return o},curveToLines:function(e,i){if(2===e.length)return t.clone(e,!0);var n,r,o,l,u,c,h,p,d=[],f=0,m=a[e.length];for(null==i&&(r=m(0,e),o=m(.25,e),l=m(.5,e),u=m(.75,e),c=m(1,e),p=s(r,o)+s(o,l)+s(l,u)+s(u,c),i=Math.min(parseInt(p/2),20)),h=1/i,n=0;n<i;n++)d.push(m(f,e)),f+=h;return d.push(m(1,e)),d},getPointAtTime:function(e,t){return a[t.length](e,t)},getNormalizedPointAtTime:function(e,i,n,r){var s,a,l,u,c,h,p,d;return 2===i.length?(a=this.getPointAtTime(e,i),r&&(a.angle=o(i[0],i[1])),a):(t.isArray(n)||(n=this.getSamplePoints(i,n||10)),c=0,h=1,u=this.getDistance(i,n)*e,((s=t.sortedIndex(n,{distance:u},"distance"))>n.length-1||u!==n[s].distance)&&s--,p=n[s],d=n[s+1],s<n.length-1&&(h=p.time+((u-p.distance)/(d.distance-p.distance)||0)*(d.time-p.time)),a=this.getPointAtTime(h,i),r&&((h+=.01)>1&&(h-=.02,c=-180),l=this.getPointAtTime(h,i),a.angle=o(a,l)+c),a)}}}),define("models/presentation/tweens/TweenAttribute",["require","lodash","helpers/utils","models/BaseModel","collections/presentation/TextLib","helpers/resolver","helpers/curveHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("models/BaseModel"),r=(e("collections/presentation/TextLib"),e("helpers/resolver")),s=e("helpers/curveHelper"),o={exponetial:"Expo",bounce:"Bounce",circular:"Circ",cubic:"Cubic",linear:"Linear",quadratic:"Quad",quadradic:"Quad",quartic:"Quart",quintic:"Quint",sine:"Sine"},a={easein:"easeIn",easeout:"easeOut",easeinout:"easeInOut",none:"none"},l="cubic",u="line",c=t.partialRight(i.fix,2),h=/^[/$#]/;return n.extend({initialize:function(){t.bindAll(this,"getAttrConfig")},getAttrConfig:function(e){return this.hasDuration()?(null==this.points&&this.initPath(),this.buildConfig(e)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],t.forEach(this.get("path"),function(e,t){this.buildSegment(e,t)}.bind(this))},buildSegment:function(e,t){var i=e.type||u,n={points:[]},r=this.ptResolvers.length,o=function(){n.samples=s.getSamplePoints(n.points),n.distance=s.getDistance(n.points,n.samples)};this.buildSinglePoint(n,this.getSegmentPoint(e,"anchora")),i!==u&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controla")),i===l&&this.buildSinglePoint(n,this.getSegmentPoint(e,"controlb")),this.buildSinglePoint(n,this.getSegmentPoint(e,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(n,e),r===this.ptResolvers.length?o():this.segmentResolvers.push(o),this.segments.push(n)},getSegmentPoint:t.noop,extendConfig:t.identity,extendAfterUpdate:t.identity,buildSinglePoint:function(e,t){var i;this.isStaticPoint(t)?e.points.push(this.getAbsolutePoint(t)):(i=e.points.length,this.ptResolvers.push(function(){e.points[i]=this.getAbsolutePoint(t)}.bind(this)),e.points.push(null))},isStaticPoint:function(e){return this.isStaticValue(e.x)&&this.isStaticValue(e.dx)&&this.isStaticValue(e.y)&&this.isStaticValue(e.dy)},isStaticValue:function(e){return!t.isString(e)||!h.test(e)},getAbsolutePoint:function(e){return{x:c(this.getAbsoluteCoordinate(e.x,e.dx)),y:c(this.getAbsoluteCoordinate(e.y,e.dy))}},getAbsoluteCoordinate:function(e,t){return this.getValue(e)+this.getValue(t)},getValue:function(e){var n,s=this.getClosestThisRef();return i.isNumeric(e)?parseFloat(e):t.isString(e)?(n=r.resolvePath(e,s),parseFloat(n.isVar?n.value():n)):e},buildConfig:function(e){var t={delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return t.update=this.updateConfig.bind(this,t),this.extendConfig(t)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){return[o[this.get("easing")],a[this.get("easingdir")]].join(".")},updateConfig:function(e){var i=0;this.ptResolvers.forEach(function(e){e()}),this.segmentResolvers.forEach(function(e){e()}),this.segments.forEach(function(e){e.start=i,i+=e.distance}),this.totalDistance=i,this.getIsRelative()||(e.update=t.noop),this.extendAfterUpdate(e)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(e,i){var n,r,o=this.totalDistance*e,a=t.sortedIndex(this.segments,{start:o},"start");return(a>this.segments.length-1||o!==this.segments[a].start)&&a--,r=(e-((n=this.segments[a]).start/this.totalDistance||0))/(n.distance/this.totalDistance||1),this.lastSegmentInfo={index:a,adjustedTime:r},s.getNormalizedPointAtTime(r,n.points,n.samples,i)}})}),define("models/presentation/tweens/TweenAlpha",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}})}),define("models/presentation/tweens/TweenPosition",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash");return e("models/presentation/tweens/TweenAttribute").extend({extendConfig:function(e){return e.autoRotation=!!this.get("relativerotation"),e},extendAfterUpdate:function(e){e.autoRotation&&(e.closedPath=this.isClosedPath())},isClosedPath:function(){var e=this.segments[0].points[0],i=t.last(t.last(this.segments).points);return e.x===i.x&&e.y===i.y},getSegmentPoint:function(e,t){return e[t]}})}),define("models/presentation/tweens/TweenRotation",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return t.extend({getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:0,dy:0}}})}),define("models/presentation/tweens/TweenScale",["require","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}};return t.extend({extendConfig:function(e){return e.useGlobalAxes=!!this.get("useglobalaxes"),e},getSegmentPoint:function(e,t){var n=i[t];return{x:e[n.x],dx:e[n.dx],y:e[n.y],dy:e[n.dy]}}})}),define("models/presentation/tweens/TweenSkew",["require","models/presentation/tweens/TweenAttribute","helpers/curveHelper"],function(e){"use strict";var t=e("models/presentation/tweens/TweenAttribute"),i=e("helpers/curveHelper"),n={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},r={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}};return t.extend({extendConfig:function(e){var t=this.get("regpoint");return e.useGlobalAxes=!!this.get("useglobalaxes"),e.regPoint={x:parseFloat(t.x)+parseFloat(t.dx),y:parseFloat(t.y)+parseFloat(t.dy)},e.corner=this.get("corner")||"bottomright",e.getSecondaryPoint=this.getSecondaryPoint.bind(this),e},getSegmentPoint:function(e,t){var i=n[t];return{x:e[i.x],dx:e[i.dx],y:e[i.y],dy:e[i.dy]}},getSecondarySegmentPoint:function(e,t){var i=r[t];return{x:e[i.x],dx:0,y:e[i.y],dy:0}},extendSegmentConfig:function(e,t){var i={points:[]};this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchora")),this.buildSinglePoint(i,this.getSecondarySegmentPoint(t,"anchorb")),e.secondaryPoints=i.points},getSecondaryPoint:function(){var e=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return i.getNormalizedPointAtTime(e.adjustedTime,this.segments[e.index].secondaryPoints)}})}),define("models/presentation/tweens/TweenMask",["require","lodash","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash");return e("models/presentation/tweens/TweenAttribute").extend({extendConfig:function(e){return e.maskType=this.get("type"),e.maskProps=t.reduce(this.get("settings"),function(e,t){return e[t.name]=t.value,e},{}),e.maskProps.isExit="exit"===this.get("effecttype"),e},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}})}),define("models/presentation/tweens/TweenColor",["require","lodash","helpers/utils","models/presentation/tweens/TweenAttribute"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils");return e("models/presentation/tweens/TweenAttribute").extend({initialize:function(){var e=this.get("path")[0];this.startTintPercent=parseInt(e.starttintpercent),this.endTintPercent=parseInt(e.endtintpercent),this.startBrightness=parseInt(e.startbrightness),this.endBrightness=parseInt(e.endbrightness)},getAttrConfig:function(e){return{delay:e,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:t.noop}},getPointAtTime:function(e){return{x:i.clamp(0,100,this.startTintPercent+e*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+e*(this.endBrightness-this.startBrightness))),y:0}}})}),define("collections/presentation/TweenColors",["require","lodash","collections/BaseCollection","models/presentation/tweens/TweenColor"],function(e){"use strict";e("lodash");var t=e("collections/BaseCollection"),i=e("models/presentation/tweens/TweenColor");return t.extend({model:i,getAttrConfig:function(e){return 0===this.length?null:this.at(0).getAttrConfig(e)}})}),define("models/presentation/Tween",["require","lodash","helpers/utils","models/BaseModel","models/presentation/tweens/TweenAlpha","models/presentation/tweens/TweenPosition","models/presentation/tweens/TweenRotation","models/presentation/tweens/TweenScale","models/presentation/tweens/TweenSkew","models/presentation/tweens/TweenMask","collections/presentation/TweenColors"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("models/BaseModel")),n=e("models/presentation/tweens/TweenAlpha"),r=e("models/presentation/tweens/TweenPosition"),s=e("models/presentation/tweens/TweenRotation"),o=e("models/presentation/tweens/TweenScale"),a=e("models/presentation/tweens/TweenSkew"),l=e("models/presentation/tweens/TweenMask"),u=e("collections/presentation/TweenColors");return i.extend({associations:{scale:o,position:r,rotation:s,alpha:n,mask:l,colors:u,skew:a},initialize:function(){t.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var e=t.reduce(this.associations,function(e,t,i){var n=this[i]().getAttrConfig(this.delay);return null!=n&&(e[i]=n),e},{},this);return{delay:this.delay,duration:this.get("duration"),tweenAttrs:e}}})}),define("collections/presentation/Tweens",["require","collections/BaseCollection","models/presentation/Tween"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Tween");return t.extend({model:i,buildTweens:function(){return this.invoke("build")}})}),define("models/presentation/Animation",["require","lodash","models/BaseModel","collections/presentation/Tweens"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("collections/presentation/Tweens");return i.extend({shorthand:["duration"],associations:{tweens:n},buildConfig:function(){var e={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens(),updateConfig:function(){e.tweens.forEach(function(e){t.forOwn(e.tweenAttrs,function(e){e.update()})})}};return e},getConfig:function(){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),this.config}})}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],s(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));s(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=i._internals.isSelector,s=i._internals.isArray,o=[],a=window._gsDefine.globals,l=function(e){var t,i={};for(t in e)i[t]=e[t];return i},u=function(e,t,i,n){e._timeline.pause(e._startTime),t&&t.apply(n||e._timeline,i||o)},c=o.slice,h=n.prototype=new t;return n.version="1.11.8",h.constructor=n,h.kill()._gc=!1,h.to=function(e,t,n,r){var s=n.repeat&&a.TweenMax||i;return t?this.add(new s(e,t,n),r):this.set(e,n,r)},h.from=function(e,t,n,r){return this.add((n.repeat&&a.TweenMax||i).from(e,t,n),r)},h.fromTo=function(e,t,n,r,s){var o=r.repeat&&a.TweenMax||i;return t?this.add(o.fromTo(e,t,n,r),s):this.set(e,r,s)},h.staggerTo=function(e,t,s,o,a,u,h,p){var d,f=new n({onComplete:u,onCompleteParams:h,onCompleteScope:p,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),r(e)&&(e=c.call(e,0)),o=o||0,d=0;e.length>d;d++)s.startAt&&(s.startAt=l(s.startAt)),f.to(e[d],t,l(s),d*o);return this.add(f,a)},h.staggerFrom=function(e,t,i,n,r,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,r,s,o,a)},h.staggerFromTo=function(e,t,i,n,r,s,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,r,s,o,a,l)},h.call=function(e,t,n,r){return this.add(i.delayedCall(0,e,t,n),r)},h.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var r,s,o=new n(e),a=o._timeline;for(null==t&&(t=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,r=a._first;r;)s=r._next,t&&r instanceof i&&r.target===r.vars.onComplete||o.add(r,r._startTime-r._delay),r=s;return a.add(o,0),o},h.add=function(r,o,a,l){var u,c,h,p,d,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&s(r)){for(a=a||"normal",l=l||0,u=o,c=r.length,h=0;c>h;h++)s(p=r[h])&&(p=new n({tweens:p})),this.add(p,u),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?u=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),u+=l;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(t.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(d=this).rawTime()>r._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},h.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&s(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},h._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},h.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},h.insert=h.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},h.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},h.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},h.addPause=function(e,t,i,n){return this.call(u,["{self}",t,i,n],this,e)},h.removeLabel=function(e){return delete this._labels[e],this},h.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},h._parseTimeOrLabel=function(t,i,n,r){var o;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&s(r)))for(o=r.length;--o>-1;)r[o]instanceof e&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,n):this.duration()}return Number(t)+i},h.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},h.stop=function(){return this.paused(!0)},h.gotoAndPlay=function(e,t){return this.play(e,t)},h.gotoAndStop=function(e,t){return this.pause(e,t)},h.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,l,u=this._dirty?this.totalDuration():this._totalDuration,c=this._time,h=this._startTime,p=this._timeScale,d=this._paused;if(e>=u?(this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime||1e-10===this._rawPrevTime)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=u+1e-4):1e-7>e?(this._totalTime=this._time=0,(0!==c||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>e?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:1e-10,e=0,this._initted||(l=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==c&&this._first||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&e>0&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||o)),this._time>=c)for(n=this._first;n&&(s=n._next,!this._paused||d);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=s;else for(n=this._last;n&&(s=n._prev,!this._paused||d);)(n._active||c>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=s;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o)),a&&(this._gc||(h===this._startTime||p!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||o)))}},h._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},h.getChildren=function(e,t,n,r){r=r||-9999999999;for(var s=[],o=this._first,a=0;o;)r>o._startTime||(o instanceof i?!1!==t&&(s[a++]=o):(!1!==n&&(s[a++]=o),!1!==e&&(a=(s=s.concat(o.getChildren(!0,t,n))).length))),o=o._next;return s},h.getTweensOf=function(e,t){for(var n=i.getTweensOf(e),r=n.length,s=[],o=0;--r>-1;)(n[r].timeline===this||t&&this._contains(n[r]))&&(s[o++]=n[r]);return s},h._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},h.shiftChildren=function(e,t,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=e),r=r._next;if(t)for(n in s)s[n]>=i&&(s[n]+=e);return this._uncache(!0)},h._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(e,t)&&(r=!0);return r},h.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},h.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},h._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},h.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},h.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,r=this._last,s=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,0>r._startTime&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),(i=r._startTime+r._totalDuration/r._timeScale)>n&&(n=i),r=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},h.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},h.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline-lite",["tween-lite"],function(e){return function(){return e.TimelineLite}}(this)),define("helpers/animationClock",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub"),r={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(e){this.clockOverridden=!0,this.frameTimeMs=e},requestAnimationFrame:function(e,t){t?this.endFrameCallbacks.push(e):this.callbacks.push(e),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var e=t.uniqueId("lock-");return this.locks.push(e),this.locked=!0,e},unlock:function(e){t.pull(this.locks,e),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var e=Date.now(),t=e-this.lastCpuTime;return this.lastCpuTime=e,t>132&&(t=33),this.currentTime+=this.clockOverridden?this.frameTimeMs:t,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var e=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),this.endFrameCallbacks.length>0&&(this.currentTime-this.lastEndFrameTime>=33?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),e?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(e){var t,i;e?(t=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(t=this.callbacks.slice(0),this.callbacks=[]),i=t.length;for(var n=0;n<i;n++)t[n](this.frameTime)}};return n.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),r.updateTime.bind(r)),r}),define("helpers/AnimationTimeline",["require","lodash","helpers/utils","helpers/GsapTweenLite","timeline-lite","helpers/animationClock"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/GsapTweenLite"),r=e("timeline-lite"),s=e("helpers/animationClock"),o=function(e,i){return t.findIndex(e,{id:i})},a=function(e){return e instanceof n||e instanceof r},l=function(e){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=e&&(["onUpdate","onComplete"].forEach(function(t){this[t]=e[t]}.bind(this)),e.tweens&&e.tweens.forEach(function(e){var t=e.delay();a(e)&&(this.wrapGsap(e),t=i.toMilliseconds(t)),this.addSeekable(e,t,!0)}.bind(this)))};return t.extend(l.prototype,{add:function(e,i,n){if(t.isString(e))this.labels[e]=i;else{if(i=t.isString(i)?this.labels[i]:i||0,t.isFunction(e))return this.insertCallback(this.wrapCallback(e,i)),void this.updateDuration(i);a(e)&&this.wrapGsap(e),t.isFunction(e.stepAnimation)&&this.addSeekable(e,i,n)}},remove:function(e){var i,n,r,s;t.isString(e)?this.labels[e]=null:null!=e.timelineData&&(i=e.timelineData.seekableId,(n=o(this.callbacks,i))>=0&&(this.callbacks.splice(n,1),(r=o(this.seekables,i))>=0&&(this.seekables.splice(r,1),(s=o(this.activeSeekables,i))>=0&&(this.activeMutated=!0,this.activeSeekables.splice(s,1)))),e.timelineData=null,this.mutated=!0)},updateDuration:function(e){e>this.duration&&(this.duration=e,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(e){this.updateDuration(e.timelineData.startTime+e.totalTime())},wrapGsap:function(e){e.pause(),e.totalTime=function(){return i.toMilliseconds(e.duration())},e.stepAnimation=function(t,n){var r=i.toSeconds(t);e.seek(r,!0),e.render(r,!!n,!0)}},addSeekable:function(e,t,n){var r=e.totalTime(),s=i.clamp(0,r,this.currentTime-t),o=this.wrapSeekable(e,t);this.seekables.push(o),this.insertCallback(o),!n&&this.currentTime>=t&&((this.executingCallbacks||s<=r)&&o.timelineCallback(),this.executingCallbacks||e.stepAnimation(s)),this.updateDuration(t+e.totalTime())},wrapCallback:function(e,i){return{startTime:i,id:t.uniqueId("wc"),timelineCallback:e}},wrapSeekable:function(e,i){var n=t.uniqueId("ws"),r={startTime:i,id:n,seekable:e};return r.timelineCallback=function(){r.seekable.killed||this.activeSeekables.push(r)}.bind(this),e.timelineData={parent:this,seekableId:n,startTime:i},r},insertCallback:function(e){0===this.callbacks.length||e.startTime>=t.last(this.callbacks).startTime?this.callbacks.push(e):this.callbacks.splice(t.sortedLastIndex(this.callbacks,e,"startTime"),0,e)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:s.time()-this.startTime)},play:function(){this.playing||this.hasParentTimeline()||(this.playing=!0,this.startTime=s.time()-this.currentTime,s.requestAnimationFrame(this.tick.bind(this)))},seek:function(e,t){this.hasParentTimeline()||(e<=this.lastCallbackTime&&this.reset(),this.startTime=s.time()-e,this.currentTime=e,this.executingCallbacks&&!this.renderDirty||this.update(t))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(e){null!=e.seekable.reset&&e.seekable.reset()}))},progress:function(e,t){return null==e?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(e*this.duration,t),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(e){if(null==e)return this.duration;this.duration=e},tick:function(){var e;this.killed||(e=this.currentTime,this.currentTime=s.time()-this.startTime,this.playing&&(e<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),s.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(e,t){this.currentTime;this.currentTime=i.clamp(0,this.duration,e),this.update(t)},update:function(e){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(e),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,e||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var e=t.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(e>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var i=this.callbacks.slice(e),n=i.length,r=0,s=this.currentTime;!this.killed&&r<n&&i[r].startTime<=s;){if(this.lastCallbackTime=i[r].startTime,i[r].timelineCallback(),s>this.currentTime)return this.executingCallbacks=!1,!1;s=this.currentTime,r++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(e){var t,i,n,r=this.activeSeekables.length-1;for(this.activeMutated=!1;r>=0&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(t=(n=this.activeSeekables[r]).seekable,i=n.startTime,t.stepAnimation(this.currentTime-i,e),this.currentTime>=i+t.totalTime()&&(!this.activeMutated||n===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(e){null!=e.seekable.kill&&e.seekable.kill()}),this.seekables=null)}}),l}),define("helpers/actions",["require"],function(e){"use strict";return{ADD_CHOICE_RESPONSE:"action:addchoiceresponse",ADD_PAIR_RESPONSE:"action:addpairresponse",ADJUST_VAR:"action:adjustvar",BRING_TO_FRONT:"action:bringtofront",CANCEL_EVENT:"action:cancel_event",CLOSE_PLAYER:"action:close_player",CLOSEWNDGOTOSLIDE:"action:closewndgotoslide",CLOSE_WINDOW:"action:close_window",DEBUG_TRACE:"action:debug_trace",DEBUG_ERROR:"action:debug_error",EMAILTO:"action:emailto",ENABLE_FRAME_CONTROL:"action:enable_frame_control",ENABLE_WINDOW_CONTROL:"action:enable_window_control",EVAL_ALL_UNANSWERED:"action:eval_all_unanswered",EVAL_INTERACTION:"action:eval_interaction",EXE_ACTIONGROUP:"action:exe_actiongroup",EXE_ANIMATION:"action:exe_animation",EXE_JAVASCRIPT:"action:exe_javascript",FOREACH:"action:foreach",GET_MOUSE_POSITION:"action:get_mouse_position",GOTOPLAY:"action:gotoplay",HIDE:"action:hide",HIDE_SLIDELAYER:"action:hide_slidelayer",HIDE_TIMER:"action:hidetimer",HISTORY_PREV:"action:history_prev",HISTORY_PREV_GROUP:"action:history_prev_group",NEXTVIEWEDSLIDE:"action:nextviewedslide",IF_ACTION:"action:if_action",MEDIA_SEEK:"action:media_seek",MEDIA_PLAY:"action:media_play",MEDIA_PAUSE:"action:media_pause",MEDIA_TOGGLE:"action:media_toggle",MOVE_TO:"action:moveto",NEXT_VIEWED_SLIDE:"action:nextviewedslide",NOTIFYLINKSELECTED:"action:notifylinkselected",NOTIFY_PREVIEW:"action:notify_preview",OBJECT_ACTION:"action:object_action",OPEN_VIDEO:"action:open_video",OPEN_URL:"action:open_url",PAUSE_ANIMATIONS:"action:pause_animations",PAUSE_TIMELINE:"action:pause_timeline",PAUSE_TIMER:"action:pausetimer",PLAYNEXTDRAWSLIDE:"action:playnextdrawslide",PRINTRESULTS:"action:printresults",RESET_QUIZ:"action:resetquiz",RESET_TIMER:"action:resettimer",RESET_PLAYER:"action:reset_player",RESET_SLIDE:"action:resetslide",RESTORE_RESUME_STATE:"action:restore_resume_state",RESUME_PLAYER:"action:resume_player",RESUME_TIMELINE:"action:resume_timeline",SAVE_RESUME_DATA:"action:save_resume_data",SEEK_TIMELINE:"action:seek_timeline",SET_ACTIVE_TIMELINE:"action:setactivetimeline",SET_COURSE_STATUS:"action:set_course_status",SET_DRAW_REVIEW:"action:setdrawreview",SET_ENABLED:"action:set_enabled",SET_FOCUS:"action:setfocus",SET_FRAME_LAYOUT:"action:set_frame_layout",SET_FRAME_LAYOUT_TYPE:"action:set_frame_layout_type",SET_OBJ_STATE:"action:setobjstate",SET_QUIZ_COMPLETE:"action:setquizcomplete",SET_REVIEW:"action:set_review",SET_VOLUME:"action:set_volume",SHOW_SLIDELAYER:"action:show_slidelayer",SET_WINDOW_CONTROL_LAYOUT:"action:set_window_control_layout",SET_WINDOW_CONTROL_VISIBLE:"action:set_window_control_visible",SHOW:"action:show",SHOW_TIMER:"action:showtimer",START_TIMER:"action:starttimer",STORE_RESUME_DATA:"action:store_resume_data",TRIGGER_HOST_EVENT:"action:trigger_host_event",TRIGGER_NEXT_SLIDE:"action:trigger_next_slide",TRIGGER_PREV_SLIDE:"action:trigger_prev_slide",TRIGGER_SLIDE_FINISH:"action:trigger_slide_finish",TRIGGER_SUBMITALL_SLIDE:"action:trigger_submitall_slide",TRIGGER_SUBMIT_SLIDE:"action:trigger_submit_slide",TRIGGER_WEBOBJECT_CLIENT_EVENT:"action:trigger_webobject_client_event",UPDATE_SCROLL_POS:"action:updatescrollpos",UPDATE_SCROLL_HEIGHT:"action:updatescrollheight",ZOOMPAN:"action:zoompan"}}),define("mixins/actionable",["require","lodash","helpers/errorManager"],function(e){"use strict";e("lodash");var t=e("helpers/errorManager"),i=t.throwError("actionable");t.warn("actionable");return{triggerAction:function(e,t){var n=e&&e.kind;return n||i("triggerAction","Cannot execute action without `kind`"),this.trigger("action:"+n,e,t),this}}}),define("helpers/quizResultsHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i={},n={};i.numeric=i.essay=t.identity,i.likert=i.sequence=i.matching=function(e){return[e.statement.lmstext,e.choice.lmstext].join(", ")},i.multiplechoice=i.truefalse=i.hotspot=i.wordbank=i.fillin=i.multipleresponse=function(e){return e.lmstext},n.numeric=n.fillin=n.essay=function(e,t){return t},n.likert=n.sequence=n.matching=function(e,t){return[e.getStatementById(t.statementResponse).lmstext,e.getChoiceById(t.choiceResponse).lmstext].join(", ")},n.multiplechoice=n.truefalse=n.hotspot=n.wordbank=n.multipleresponse=function(e,t){return e.getChoiceById(t).lmstext};return{correctResponseToString:function(e){return e.prop("CorrectResponse").map(i[e.type()]).join(", ")},actualResponseToString:function(e){var i=t.last(e.attempts);return null==i?"":i.responses.map(t.partial(n[e.type()],e)).join(", ")}}}),define("helpers/printer",["require","lodash","helpers/utils","helpers/quizResultsHelper","helpers/events","helpers/pubSub","helpers/constants","helpers/resolver"],function(e){"use strict";e("lodash");var t,i=e("helpers/utils"),n=e("helpers/quizResultsHelper"),r=e("helpers/events"),s=e("helpers/pubSub"),o=e("helpers/constants"),a=e("helpers/resolver"),l={qm:o.QUIZ_MAKER_URL,ap:o.PRESENTER_URL},u=function(e){return{strQuizId:e.id,strQuizName:e.get("lmstext"),nScore:e.prop("Score"),nPassingScore:e.prop("PassPercent"),nPtScore:e.prop("PercentScore"),dtmFinished:e.timeComplete,strStatus:e.prop("Status"),arrQuestions:e.flatInteractions.map(function(e,t){return{nQuestionNumber:t+1,strDescription:e.get("lmstext"),strCorrectResponse:n.correctResponseToString(e),strUserResponse:n.actualResponseToString(e),strStatus:e.prop("Status"),nPoints:e.prop("Score"),strLMSId:e.get("lmsId"),strType:e.get("type")}})}};return{printQuizResults:function(e,n){var c,h,p,d,f,m=[];if(!t.isPreview()){var g={type:e.quizidtype,value:e.quizid},v=a.resolvePath(a.getRef(g,n.context,n)),y=null==e.usernamevar||""===e.usernamevar?null:a.resolvePath(e.usernamevar);return c={strName:(null==y?null:y.value())||"",arrQuizzes:[v.id],strMainQuizId:v.id,bShowUserScore:e.showuserscore,bShowPassingScore:e.showpassingscore,bShowShowPassFail:e.showpassfail,bShowQuizReview:e.showquizreview,bSurvey:v.get("issurvey")},(h={})[v.id]=u(v),v.quizzes.length>0&&(v.quizzes.forEach(function(e){m.push(e.id),h[e.id]=u(e)}),c.arrQuizzes=m),p={dtmFinished:JSON.stringify(v.timeComplete||new Date)},d={g_oContentResults:p,g_oPrintOptions:c,g_listQuizzes:h},null!=(f=window.open(i.getPath(l,o.player.OUTPUT_TYPE,o.STORY_CONTENT_URL)+"report.html","_blank")).postMessage&&window.addEventListener("message",function(e){"getQuizData"===e.data&&f.postMessage(JSON.stringify(d),"*")},!1),d}s.trigger(r.preview.NOTIFY,"PREVIEW_PRINT_RESULTS")},initialize:function(e){t=e}}}),define("helpers/actionator",["require","lodash","backbone","helpers/playerGlobals","helpers/constants","helpers/events","polyfills/detection","helpers/actions","helpers/pubSub","helpers/mixer","helpers/utils","helpers/errorManager","mixins/actionable","mixins/shortEventable","helpers/resolver","helpers/resume/resumer","helpers/windowManager","helpers/printer","helpers/webObjectHelper","helpers/slidesController"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("backbone"),o=e("helpers/playerGlobals"),a=e("helpers/constants"),l=e("helpers/events"),u=e("polyfills/detection"),c=e("helpers/actions"),h=e("helpers/pubSub"),p=e("helpers/mixer"),d=e("helpers/utils"),f=e("helpers/errorManager"),m=e("mixins/actionable"),g=e("mixins/shortEventable"),v=e("helpers/resolver"),y=e("helpers/resume/resumer"),b=e("helpers/windowManager"),w=e("helpers/printer"),S=e("helpers/webObjectHelper"),x=e("helpers/slidesController"),T=f.throwError("actionator"),E=function(){return b.getCurrentWindow().isWaitingForSlideLoad()},A={mixins:[m,g,s.Events],shortEvents:{self:(n={},n[c.SAVE_RESUME_DATA]="saveResume",n[c.NOTIFY_PREVIEW]="notifyPreview",n[c.ENABLE_FRAME_CONTROL]="enableFrameControl",n[c.SET_FRAME_LAYOUT_TYPE]="setFrameLayout",n[c.SET_WINDOW_CONTROL_LAYOUT]="setWindowControlLayout",n[c.SET_FRAME_LAYOUT]="setFrameLayoutFromLayout",n[c.SET_WINDOW_CONTROL_VISIBLE]="changeWindowControl",n[c.ENABLE_WINDOW_CONTROL]="changeWindowControl",n[c.GOTOPLAY]="changeSlide",n[c.TRIGGER_NEXT_SLIDE]="advanceSlide",n[c.TRIGGER_PREV_SLIDE]="triggerPrevSlideClicked",n[c.TRIGGER_SUBMITALL_SLIDE]="onSubmitAll",n[c.TRIGGER_SUBMIT_SLIDE]="onSubmitSlide",n[c.TRIGGER_SLIDE_FINISH]="onSlideFinish",n[c.HISTORY_PREV]="goBack",n[c.HISTORY_PREV_GROUP]="goBackHistoryGroup",n[c.CLOSE_WINDOW]="closeWindow",n[c.CLOSE_PLAYER]="closePlayer",n[c.OPEN_VIDEO]="openVideo",n[c.OPEN_URL]="openUrl",n[c.RESUME_PLAYER]="applyPlayerResumeData",n[c.PLAYNEXTDRAWSLIDE]="advanceSlideDrawSlide",n[c.GET_MOUSE_POSITION]="getMousePosition",n[c.ZOOMPAN]="zoomPan",n[c.CLOSEWNDGOTOSLIDE]="closeWndGotoSlide",n[c.NEXTVIEWEDSLIDE]="nextViewedSlide",n[c.EXE_JAVASCRIPT]="exeJavaScript",n[c.EMAILTO]="mailTo",n[c.RESET_PLAYER]="resetPlayer",n[c.RESET_SLIDE]="resetSlide",n[c.PRINTRESULTS]="printQuizResults",n[c.NOTIFYLINKSELECTED]="notifyLinkSelected",n[c.CANCEL_EVENT]="cancelEvent",n[c.TRIGGER_HOST_EVENT]="triggerHostEvent",n[c.SET_COURSE_STATUS]="setCourseStatus",n)},onSubmitAll:function(){b.getCurrentWindowSlide().executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){b.getCurrentWindowSlide().executePlayerEvent("onsubmitslide")},onSlideFinish:function(){b.getCurrentWindowSlide().executePlayerEvent("onfinishslide")},resetSlide:function(){b.getCurrentWindowSlide().reset()},saveResume:function(e,t){var i=v.getRef(e.slideref||e.slideRefs);v.resolvePath(i,t.context).prepareResumeData({retainState:!0})},notifyPreview:function(e,t){h.trigger(l.preview.NOTIFY,e.message,e.data)},mailTo:function(e){var t,n="mailto:"+e.address;i.isPreview()?h.trigger(l.preview.NOTIFY,"PREVIEW_EMAILTO"):u.isMobileAndNotPreview?window.top.location.assign("mailto:"+e.address):((t=document.createElement("iframe")).src=n,r.extend(t.style,{height:"1px",width:"1px",border:"0"}),document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t),t=null},200))},execUserJs:window.ExecuteScript,exeJavaScript:function(e){if(i.isPreview())h.trigger(l.preview.NOTIFY,"PREVIEW_EXE_JAVASCRIPT");else try{this.execUserJs(e.id)}catch(e){T("exeJavaScript",e.message||"Unknown custom script error")}},openVideo:function(e,t){e.windowsize="custom",h.trigger(l.window.OPEN_EXTERNAL,e,t)},getMousePosition:function(e,t){d.applyMethod("triggerAction",t.context,e,t)},zoomPan:function(e,t){d.applyMethod("triggerAction",t.context,e,t)},closeWndGotoSlide:function(e,t){var i=e.objRef.value;h.trigger(l.window.CLOSING,e.closewindowid),h.trigger(l.request.NEXT_SLIDE,i)},nextViewedSlide:function(e,t){var i=v.resolvePath(v.getRef(e.quizRef),t.context);d.applyMethod("triggerAction",i,e,t)},openUrl:function(e,t){h.trigger(l.window.OPEN_EXTERNAL,e,t)},initialize:function(e,n){t=e,i=n},getControlLayout:function(e){return t.controlLayouts().get(e)},setWindowControlLayout:function(e,t){var i=this.getControlLayout(e.name),n=t.context.prop("WindowId")||b.getCurrentWindowId();null!=i&&h.trigger(l.controlLayout.CHANGED,i,n)},setFrameLayout:function(e,t){var i=this.getControlLayout(e.name);h.trigger(l.controlLayout.CHANGED,i,a.refs.FRAME)},setFrameLayoutFromLayout:function(e){var i=t.getLayout(e.name).controllayout;h.trigger(l.controlLayout.CHANGED,this.getControlLayout(i),a.refs.FRAME)},changeControls:function(e,t,i){var n=[(-1===t.name.indexOf("swipe")?"navcontrols":"swipe")+":changed",t];e&&n.push(i),h.trigger.apply(h,n)},changeSlide:function(e,t){if(!E()){var n=d.getPath(t,"actionTarget.absoluteId");null==n&&i.isPreview()?h.trigger(l.preview.NOTIFY,"PREVIEW_SLIDE_MISSING"):h.trigger(l.request.NEXT_SLIDE,n,e.window)}},triggerPrevSlideClicked:function(e){b.getCurrentWindowSlide().executePlayerEvent("onprevslide")},goBack:function(e){E()||h.trigger(l.request.PREV_SLIDE)},goBackHistoryGroup:function(e,t){E()||h.trigger(l.request.PREV_HISTORY_GROUP)},advanceSlide:function(e){E()||h.trigger(l.request.NEXT_SLIDE)},advanceSlideDrawSlide:function(e){E()||h.trigger(l.request.NEXT_DRAW_SLIDE)},closeWindow:function(e){h.trigger(l.window.CLOSING,e.id)},closePlayer:function(){h.trigger(l.player.CLOSING)},applyPlayerResumeData:function(e){h.trigger(l.loader.UNMUTE),y.applyResumeData(e.resume)},resetPlayer:function(e,t){h.trigger(l.player.RESET);var i=b.getCurrentWindowSlide(),n=x.getSlide(e.startslideid,i);null!=i&&i.absoluteId===n.absoluteId?(y.clearResumeData(),i.reset()):(null!=d.getPath(i,"currView.killSlide")&&i.currView.killSlide(),y.clearResumeData(),this.changeSlide(e,t))},printQuizResults:function(e,t){w.printQuizResults(e,t)},notifyLinkSelected:function(e,t){h.trigger(l.actionlink.VIEWED,e.id)},cancelEvent:function(e,t){t.cancel=!0},triggerHostEvent:function(e){S.triggerHostEvent(e.eventName)},setCourseStatus:function(e){var t=o.presentation.scoring();"action"===t.type()&&(t.prop("Status",t.get(e.status?"passStatus":"failStatus")),h.trigger(l.course.MANUALLY_COMPLETED,e.status,t))}};return r.extend(A,{changeWindowControl:r.partial(A.changeControls,!0),enableFrameControl:r.partial(A.changeControls,!1)}),p.mix(A),p.initMixinsOf(A),A}),define("models/presentation/helpers/collisionMap",["require","lodash","helpers/resolver","helpers/animationClock","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/animationClock"),r=e("helpers/windowManager"),s=/\./,o={},a=!1,l={},u=function(e){var t=e.getLayer(),i=t.parent;return{slideId:i.id,layerId:(t.isBaseLayer()?i:t).id}},c=function(e,t){var i=u(e),n=i.slideId,r=i.layerId,s=e.getRelativeId(),a=o[n]&&o[n][r];return t?(null==a&&(a={eventables:{},targets:{},relatives:{},lookup:{}},o[n]=o[n]||{},o[n][r]=a),null==a.eventables[s]&&(a.eventables[s]={sets:[],dirty:!1,eventStates:[]}),a):a},h=function(e,t,i){var n,r=function(t){t.isCollideable=!0;var n=t.getRelativeId(),r=e.relatives[n];null==r&&(r=e.relatives[n]={}),(r=r||{})[i]=i};if(t.isGroupingSlideObject&&function e(t){var i,n,s=t.getChildren(),o=s.length;for(i=0;i<o;i++)n=s[i],r(n),n.isGroupingSlideObject&&e(n)}(t),s.test(i))for(n=t.parent;null!=n&&!n.isKind("slidelayer");)r(n),n=n.parent};return{registerCollisions:function(e){e.collisionsCached||(e.collisionsCached=!0,null!=e.events()&&function(e){var t,n,r,s,o,a,l,u,p,d,f,m,g,v,y,b=e.events(),w=b.length,S={};for(o=0;o<w;o++)if("ononscreen"!==(g=(l=b[o]).kind)&&"onoffscreen"!==g||(l={kind:g="ononscreen"===g?"oncollisionstart":"oncollisionend",targets:["_currentSlide"],actions:l.actions}),"oncollisionstart"===g||"oncollisionend"===g)for(null==n&&(t=e.getRelativeId(),r=(n=c(e,!0)).eventables[t].sets,s=n.eventables[t].eventStates,e.isCollideable=!0,h(n,e,t)),u={lastHit:!1,event:l,targets:[]},s.push(u),d=(p=l.targets).length,a=0;a<d;a++)v=(f=i.resolvePath(p[a],e)).getRelativeId(),u.targets.push(f),null==S[v]&&(S[v]=!0,f.isCollideable=!0,h(n,f,v),null==(m=n.targets[v])&&(m=n.targets[v]={dirty:!1,sets:[]}),y={targetModel:f,eventableModel:e,lastCollision:!1,currCollision:!1},r.push(y),m.sets.push(y),null==n.lookup[t]&&(n.lookup[t]={}),n.lookup[t][v]=y)}(e))},getCollisionSets:function(e){if(e.isCollideable&&null!=e.currView){var i,n,r,s,o,a,l=[],u=e.getRelativeId(),h=c(e),p=h.relatives[u],d=h.eventables[u],f=h.targets[u];if(null!=d&&(l=d.sets,d.dirty=!1),null!=h.targets[u]&&(l=l.concat(f.sets),f.dirty=!1),null!=p)for(r=(i=Object.keys(p)).length,s=0;s<r;s++)n=i[s],o=h.eventables[n],a=h.targets[n],null!=o&&(l=l.concat(o.sets),o.dirty=!1),null!=a&&(l=l.concat(a.sets),a.dirty=!1);return t.uniq(l)}},getDirtyCollisionSets:function(){var e=r.getCurrentWindowSlide().id,i=l[e],n=[];return l={},t.forEach(i,function(e){var t,i,r,s;for(r=(t=Object.keys(e.eventables)).length,i=0;i<r;i++)s=t[i],e.eventables[s].dirty&&(e.eventables[s].dirty=!1,n.push.apply(n,e.eventables[s].sets));for(r=(t=Object.keys(e.targets)).length,i=0;i<r;i++)s=t[i],e.targets[s].dirty&&(e.targets[s].dirty=!1,n.push.apply(n,e.targets[s].sets))}),t.uniq(n)},markCollisionsDirty:function(e,t){if(e.isCollideable&&null!=e.currView){var i,r,s,o,h,p,d=u(e),f=d.slideId,m=d.layerId,g=e.getRelativeId(),v=c(e),y=v.relatives[g];if(null!=v.eventables[g]&&(v.eventables[g].dirty=!0),null!=v.targets[g]&&(v.targets[g].dirty=!0),null!=y)for(s=(i=Object.keys(y)).length,o=0;o<s;o++)r=i[o],h=v.eventables[r],p=v.targets[r],null!=h&&(h.dirty=!0),null!=p&&(p.dirty=!0);l[f]=l[f]||{},l[f][m]=v,a||(a=!0,n.requestAnimationFrame(function(){a=!1,t()},!0))}},getEventableLookupAndStates:function(e){var t=e.getRelativeId(),i=c(e),n=i.eventables[t];return{lookup:i.lookup[t],eventStates:n.eventStates}},clearHitStates:function(e){var i=o[e];t.forEach(i,function(e){var t,i,n,r,s,o,a,l,u;for(i=(t=Object.keys(e.eventables)).length,s=0;s<i;s++){for(n=t[s],a=(r=e.eventables[n].eventStates).length,o=0;o<a;o++)r[o].lastHit=!1;for(u=(l=e.eventables[n].sets).length,o=0;o<u;o++)l[o].lastCollision=!1}})},clearMapCache:function(){o={},a=!1},clearSlideCache:function(e){o[e]=null,l[e]=null}}}),define("views/helpers/collisionHelper",["require","lodash","helpers/utils","helpers/events","helpers/constants","views/helpers/dom","views/helpers/bitmapHelper","helpers/resolver","views/helpers/transformHelper","helpers/pubSub","helpers/TransMatrix","models/presentation/helpers/collisionMap"],function(e){"use strict";var t,i,n,r,s=e("lodash"),o=e("helpers/utils"),a=e("helpers/events"),l=e("helpers/constants"),u=(e("views/helpers/dom"),e("views/helpers/bitmapHelper")),c=(e("helpers/resolver"),e("views/helpers/transformHelper")),h=e("helpers/pubSub"),p=(e("helpers/TransMatrix"),e("models/presentation/helpers/collisionMap")),d=l.RECT_HIT,f=l.GROUP_HIT,m=l.SLIDE_HIT,g=function(e,t){return e[0]<t[2]&&e[2]>t[0]&&e[1]<t[3]&&e[3]>t[1]},v=function(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1]),Math.min(e[2],t[2]),Math.min(e[3],t[3])]},y=function(e,t){var i=u.getBounds(t);return e[0]<=i[0]&&e[2]>=i[2]&&e[1]<=i[1]&&e[3]>=i[3]},b=function(e,t,i,r,s){var o,a,l,c,h,p=e.props.model.getHitType(),f=t.props.model.getHitType(),v=i.length,b=0,S=Math.floor(r[0]),x=Math.floor(r[1]),T=Math.ceil(r[2])-S,E=Math.ceil(r[3])-x,A=p===d||p===m,C=f===d||f===m;if(0===v&&(A&&C||C&&y(r,e)||A&&y(r,t)))return T*E;for(n.translate(-S,-x),n.clearRect(S,x,T,E),n.globalAlpha=.5,w(n,t),l=0;l<v;l++)h=i[l],c=u.getBounds(h),g(r,c)&&w(n,i[l],!0);for(w(n,e),a=(o=u.getImageData(n,0,0,T,E).data).length,l=3;l<a&&(!(o[l]>128)||(b++,s));l+=4);return n.translate(S,x),b},w=function(e,t,i){var n,r,s,o,a,l,h,p,d,f=!i&&!t.dragging&&(p=t.props.model,null==(d=p.closestScrollAncestor)&&(d=p.closestScrollAncestor=p.getClosestAncestorByKind("scrollarea")||!1),d&&d.currView);f?(o=(h=f.props.model).width(),a=h.height(),null==h.scrollCanvas?((r=h.scrollCanvas=document.createElement("canvas")).width=o,r.height=a):r=h.scrollCanvas,(s=r.getContext("2d")).clearRect(0,0,o,a),s.save(),n=(l=c.getMatrix(f)).copy().invert(),s.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),u.drawToTarget(t,s),s.restore(),e.save(),n=l,e.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),e.drawImage(r,0,0),e.restore()):(e.save(),i&&(e.globalAlpha=1,e.globalCompositeOperation="destination-out"),u.drawToTarget(t,e),e.restore())},S=function(e,t,i){var n=e.props.model,r=u.getCanvas(e).getContext("2d"),s=n.getCurrentStateMetrics(),o=null==s.mask?s.strokewidth:0,a=s.xPos-o,l=s.yPos-o;return 0!==u.getImageData(r,t-a,i-l,1,1).data[0]},x=function(e){if(null!=e&&0!==e.length){var t,i,n,r,o,a,l=e.length,u=[];for(t=0;t<l;t++)(i=e[t]).lastCollision,n=i.eventableModel,r=i.targetModel,o=n.currView,a=r.currView,null!=o&&null!=a&&(i.currCollision=o.trulyVisible&&a.trulyVisible&&T(o,a),i.currCollision!==i.lastCollision&&(i.lastCollision=i.currCollision,u.push(n)));E(s.uniq(u))}},T=function(e,t){var i,n,r,s,o,a,l,c=e.props.model,h=t.props.model,p=c.getHitType(),d=h.getHitType(),m=p===f?e.allRefs:[c],y=d===f?t.allRefs:[h],w=m.length,S=y.length,x=[],T=[],E=[];for(x.length=w,T.length=S,s=0;s<w;s++)if((i=m[s]).currView.trulyVisible)for(x[s]=u.getBounds(i.currView),o=0;o<S;o++)(n=y[o]).currView.trulyVisible&&(0===s&&(T[o]=u.getBounds(n.currView)),g(x[s],T[o])&&E.push([s,o]));for(r=E.length,s=0;s<r;s++)if(a=E[s][0],l=E[s][1],b(m[a].currView,y[l].currView,[],v(x[a],T[l]),!1)>0)return!0;return!1},E=function(e){var i,n,r,s,o,a,l,u,c=e.length;for(n=0;n<c;n++)for(i=e[n],a=(l=p.getEventableLookupAndStates(i)).eventStates,u=l.lookup,r=a.length,o=0;o<r;o++)s=a[o],A(i,s,u)&&t.executeActions(s.event.actions,{context:i})},A=function(e,t,i){var n,r,s=t.event.kind,o=t.targets,a=o.length,l=!1,u=!1;for(n=0;n<a;n++)if(r=i[o[n].getRelativeId()],(l=l||r.currCollision)&&"oncollisionstart"===s)return u=t.lastHit!==l,t.lastHit=l,u;return l||"oncollisionend"!==s?(t.lastHit=l,!1):(u=t.lastHit!==l,t.lastHit=l,u)};return{initialize:function(e){t=e,h.on(a.app.COMPLETE,function(){(r=document.querySelector("#collision-library"))&&(i=r.querySelector("canvas"),(n=i.getContext("2d")).imageSmoothingEnabled=!1,i.width=720,i.height=540,r.appendChild(i),!0)}),h.on(a.slide.HAS_MOUNTED,function(e){var t=o.getPath(e,"props.model");null==t||e.props.isMessageWindow||(i.width=t.get("width"),i.height=t.get("height"))})},transformUpdated:function(e,t){var i=e.props.model;c.setMatrixDirty(e),!1!==i.isCollideable&&(t?x(p.getCollisionSets(i)):p.markCollisionsDirty(i,function(){x(p.getDirtyCollisionSets())}))},containsPoint:function(e,t,i){if(e.props.model.getHitType()===f){var n=c.localPtToSlide(e,t,i);return s.reduce(e.allRefs,function(e,t){var i=t.currView,r=c.slidePtToSlideObject(i,n.x,n.y);return e||S(i,r.x,r.y)},!1)}return S(e,t,i)},getOverlapArea:function(e,t,i,n){var r=u.getBounds(e),s=u.getBounds(t),o=0;return g(r,s)&&(o=b(e,t,i,v(r,s),n)),o}}}),define("helpers/conditioner",["require","lodash","helpers/errorManager","helpers/resolver","views/helpers/collisionHelper","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("helpers/resolver"),r=e("views/helpers/collisionHelper"),s=e("views/helpers/transformHelper"),o=i.throwError("conditioner"),a=i.backtick,l={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},u={andOr:function(e,t,i){return t.statements.map(function(e){return S.statementToString(e,i)}).join(e)},compare:function(e,t){return[c(e.valuea,e.typea,t),c(e.valueb,e.typeb,t)].join(l[e.operator])}};u.and=t.partial(u.andOr,l.and),u.or=t.partial(u.andOr,l.or),u.nand=t.partial(u.andOr,l.nand),u.nor=t.partial(u.andOr,l.nor);var c=function(e,t,i){return"property"===t?"Correct Response":p({type:t,value:e},{context:i})},h=function(e,i){var n=t.isArray(e)?e:i;return{arr:n,item:n===e?i:e}},p=function(e,t){return n.getRef(e,t.context||t,t.context&&t)},d=function(e){return String(e).toLowerCase()},f=function(e,i){var n=i?d:t.identity;return i||t.isString(e)?n(e).replace(/‘|’|‚/g,"'").replace(/“|”/g,'"'):e},m=function(e,t){var i=e+"id";return t[e+"Response"]===t[i]},g=t.partial(m,"statement"),v=t.partial(m,"choice"),y={and:t.every,or:t.some};y.nand=t.negate(y.and),y.nor=t.negate(y.or);var b={eq:function(e,t){return f(e)==f(t)},noteq:function(e,t){return f(e)!=f(t)},iceq:function(e,t){return f(e,!0)===f(t,!0)},icneq:function(e,t){return f(e,!0)!==f(t,!0)},gt:function(e,t){return f(e)>f(t)},lt:function(e,t){return f(e)<f(t)},gte:function(e,t){return f(e)>=f(t)},lte:function(e,t){return f(e)<=f(t)},has:function(e,i){var n=h(e,i);return t.contains(n.arr,n.item)},ichas:function(e,t){var i=h(e,t);return b.has(i.arr.map(d),d(i.item))}},w={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},S={evaluateAction:function(e,t){return this.evaluateStatement(e.condition.statement,t)},evaluateStatements:function(e,t,i){return e(t,function(e){return this.evaluateStatement(e,i)}.bind(this))},evaluateStatement:function(e,t){return!!e&&this[w[e.kind]||"evaluateGroup"](e,t)},evaluateHitTest:function(e,t){var i,o=n.resolvePath(e.objRef.value,t.context),a=p({type:e.xPos.type,value:e.xPos.value},t),l=p({type:e.yPos.type,value:e.yPos.value},t),u=o.currView;return null!=u&&(i=s.slidePtToSlideObject(u,a,l),r.containsPoint(u,i.x,i.y))},evaluatePair:function(e,t){return g(e)&&v(e)},evaluateComparison:function(e,t){t.context;var i,n,r=e.operator;return r in b||o("evaluate","Cannot evaluate unsupported operator",a(r)),i=p({type:e.typea,value:e.valuea},t),n=p({type:e.typeb,value:e.valueb},t),b[r](i,n)},evaluateIsDescendant:function(e,t){var i=p({type:e.typea,value:e.targeta},t),r=p({type:e.typeb,value:e.targetb},t),s=n.resolvePath(i,t),o=n.resolvePath(r,t);return-1!==s.absoluteId.indexOf(o.absoluteId)},evaluateContainsText:function(e,i){var n=e.casesensitive?t.identity:d,r=t.flow(p,n),s=r(e.targetref,i),o=r(e.searchref,i);return-1!==s.indexOf(o)},evaluateGroup:function(e,t){var i=y[e.kind],n=e.statements;return this.evaluateStatements(i,n,t)},checkExistence:function(e,t){var i=n.getRef(e,t.context,t);return!!n.resolvePath(i,t.context,{optional:!0})},checkState:function(e,i){var r=n.getRef(e.objRef,i.context,i),s=n.resolvePath(r,i.context,{optional:!0}),o=n.getRef(e.stateRef,i.context,i);return null!=s&&t.isFunction(s.getStateFromName)&&null!=s.getStateFromName(o)},statementToString:function(e,t){return u[e.kind](e,t)}};return S}),define("helpers/slideThumb",["require","helpers/windowManager","lodash"],function(e){"use strict";var t=e("helpers/windowManager"),i=e("lodash"),n=/data-reactid="(.*?)"/g,r=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(e){var t=document.createElement("canvas"),i=t.getContext("2d");return t.width=parseFloat(e.parentNode.style.width),t.height=parseFloat(e.parentNode.style.height),i.drawImage(e,0,0,t.width,t.height),{uri:t.toDataURL("image/jpeg",.8),src:e.src}},addVideoImageThumbs:function(e,t){var n={};return i(e).map(this.createVideoThumb).forEach(function(e){n[e.src]=e.uri}).value(),t.replace(/<video(.*?)<\/video>/g,function(e){var t,i=document.createElement("div");return i.innerHTML=e,t=i.querySelector("video").src,['<img src="',n[t],'"/>'].join("")})},generate:function(){var e,i,s,o,a,l,u,c,h,p,d=t.getCurrentWindow().getCurSlide(),f="";return null!=d?(e=d.el.innerHTML,i=d.props.model.get("width"),s=d.props.model.get("height"),e=e.replace(n,"").replace(r,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),(l=document.querySelectorAll("video")).length>0&&(e=this.addVideoImageThumbs(l,e)),o=document.getElementById("svg-library"),a=document.getElementById("mask-library"),null!=o&&(f+=o.outerHTML),null!=a&&(f+=a.outerHTML),{width:i,height:s,html:[(h=i,p=s,'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/main.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+h+"px; height: "+p+'px; } </style> </head> <body> <div class="slide-thumb">'),e,f,(u=i,c=s,'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+c+", slideW = "+u+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>')].join("")}):{html:null}}}}),define("helpers/automation",["require","lodash","timeline-lite","helpers/AnimationTimeline","helpers/animationClock","helpers/resolver","helpers/events","helpers/pubSub","helpers/utils","helpers/actionator","polyfills/vendorOverrides","polyfills/detection","helpers/slideThumb","helpers/resume/courseStateHelper","helpers/windowManager"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("timeline-lite"),o=(e("helpers/AnimationTimeline"),e("helpers/animationClock")),a=e("helpers/resolver"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("helpers/utils"),h=(e("helpers/actionator"),e("polyfills/vendorOverrides"),e("polyfills/detection")),p=e("helpers/slideThumb"),d=e("helpers/resume/courseStateHelper"),f=e("helpers/windowManager"),m={},g=window.vInterfaceObject||window,v={mainWindow:null,updateTime:function(){var e=f.getCurrentWindowSlide();return null!=e&&o.tick(),this.getIsPlaying(e)||n},getIsPlaying:function(e){var t=this,i=e.getBaseLayer(),n=e.slideLayers().activeLayers,r=this.isLayerTimelinePlaying(i);return!r&&n.length>0&&(r=n.some(function(e){return t.isLayerTimelinePlaying(e)})),r},isLayerTimelinePlaying:function(e){return!e.getHasTimelineFinished()&&!e.getIsTimelinePaused()},nextSlide:function(){var e=t.shift();e&&u.trigger(l.request.NEXT_SLIDE,c.prefixWithPlayer(e))},pausePlayer:function(){u.trigger(l.detection.VISIBILITY_HIDDEN)},playPlayer:function(){u.trigger(l.detection.VISIBILITY_SHOWN)},updateVideoFrame:function(e,t){var i=a.resolvePath(c.prefixWithPlayer(e));i&&i.currView.refs.innard.forceUpdatePoster(t)}},y={silenceActions:{trigger_next_slide:!1},initialize:function(e,n){var a=c.parseParams();if("1"===a.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0),window.autoSpider){i=a.frametimems?parseFloat(a.frametimems):33.33,document.body.addEventListener("mousedown",this.onPlayerClicked.bind(this)),document.body.addEventListener("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=n.display().width(),window.g_nHeight=n.display().height(),"1"===a.overrideclock&&(s.prototype.play=r.noop,o.overrideClock(i),this.clockIsOverridden=!0,u.on(l.video.STATE_CHANGED,this.onVideoEvent.bind(this)));t=r(n.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(function(e){return!/^MsgScene|^PromptScene/.test(e)}).tap(function(t){t.forEach(function(t){var i=e.getSlide(c.prefixWithPlayer(t)).get("showAnimationId");null!=i&&(m[i]=t)})}).rest().value();var f={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return v.updateTime()},AutoUpdateTime:function(){o.tick()},UpdateVideoFrame:function(e,t){v.updateVideoFrame(e,t)},UpdateAutomationTime:function(e){var t=o.frameTimeMs;o.frameTimeMs=e-o.currentTime,o.tick(),o.frameTimeMs=t},TriggerNextSlide:function(){v.nextSlide()},TriggerPause:function(){h.is360&&v.pausePlayer()},TriggerPlay:function(){h.is360&&v.playPlayer()},CaptureSlideImage:function(){return p.generate()},GetCourseStateData:function(){return d.getState()},GetTargetDuration:function(t){var i=m[t];return i?e.getSlide(c.prefixWithPlayer(i)).getTransitionAnimation().duration():e.getSlide(c.prefixWithPlayer(t)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return f},r.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement");var g={};g[l.slide.STARTED]=this.onSlideStarted,g[l.slide.TRANSITION_STARTED]=this.onSlideTransition,g[l.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,g[l.loader.SHOW]=this.onLoaderShown,g[l.loader.HIDE]=this.onLoaderHidden,g[l.window.MAIN_CREATED]=this.onMainWindowCreated,g[l.request.NEXT_SLIDE]=this.onNextSlideRequesting,g[l.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,g[l.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,h.isRise&&(g[l.tincan.STATEMENT]=this.onTincanStatement),u.on(g)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(e){v.mainWindow=e,this.callIfExists("AutomationReady")},onSlideTransition:function(e,t,i){this.callIfExists("OnSlideTransition",e,t,i)},onSlideStarted:function(e){n=!1,this.callIfExists("OnSlideStarted",e)},onMediaStarted:function(e){this.callIfExists("OnMediaStarted",e)},onNextSlideRequesting:function(){n=!0,this.callIfExists("OnNextSlideRequesting")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(e,t){this.callIfExists("OnVideoEvent",e,t)},onTincanStatement:function(e){this.callIfExists("LmsUpdate",e)},onLayerTimelineActivated:function(e){if(e.isBaseLayer()){var t=e.getClosestAncestorByKind("slide").absoluteId;y.onSlideStarted(c.stripPlayer(t))}},callIfExists:function(e){var t=g[e];"function"==typeof t&&t.apply(g,r.rest(arguments))}};return y}),define("helpers/Iterable",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function e(i){return this instanceof e?i instanceof e?i:void(t.isArray(i)?(this.iterator=(n=i,function(){var e=n.length,t=0;return{next:function(){return t===e?{done:!0}:{value:n[t++],done:!1}}}}),this.arr=i):null!=i[Symbol.iterator]?this.iterator=i[Symbol.iterator].bind(i):this.iterator=i):new e(i);var n};return i.empty=new i([]),i.isIterable=function(e){return t.isArray(e)||t.isFunction(e)||null!=e[Symbol.iterator]&&"string"!=typeof e},t.extend(i.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var e=[];return this.forEach(function(t){e.push(t)}),this.arr=e,e},forEach:function(e){for(var t,n,r=this.iterator(),s=0,o=[];!(t=r.next()).done&&!1!==n;)n=e(t.value,s++,this),o.push(t.value);return new i(o)},map:function(e){return new i(function(){var t=this.iterator(),i=0;return{next:function(){var n=t.next();return n.done?{done:!0}:{value:e(n.value,i++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(e){return new i(function(){var t=this.iterator(),i=0;return{next:function n(){var r=t.next();return r.done?{done:!0}:e(r.value,i++,this)?{value:r.value,done:!1}:n.call(this)}.bind(this)}}.bind(this))},some:function(e){var t=!1;return this.forEach(function(i,n){return!(t=!!e(i,n,this))}.bind(this)),t},flatten:function(){return new i(function(){var e=this.iterator(),t=[];return{next:function n(){var r=e.next(),s=r.value;return r.done?null==(e=t.pop())?{done:!0}:n.call(this):(i.isIterable(s)&&(s=new i(s)),s instanceof i?(t.push(e),e=s.iterator(),n.call(this)):r)}.bind(this)}}.bind(this))},concat:function(){var e=[this].concat(t.map(arguments,i));return new i(function(){var t;return{next:function i(){if(null==t){if(0===e.length)return{done:!0};t=e.shift().iterator()}var n=t.next();return n.done?(t=null,i()):n}}})},first:function(){return this.iterator().next().value},flatMap:function(e){return new i(function(){var t=this.iterator(),n=[],r=0;return{next:function s(){if(n.length>0){var o=n[n.length-1].next();return o.done?(n.pop(),s()):o}var a,l=t.next();return l.done?{done:!0}:(a=e(l.value,r++,this),i.isIterable(a)?(n.push(new i(a).iterator()),s()):{value:a,done:!1})}.bind(this)}}.bind(this))},reduce:function(e,t){var i,n=0,r=this.iterator();if(void 0===t&&(n++,(i=r.next()).done))throw new TypeError("Reduce of empty iterable with no initial value");for(;(i=r.next())&&!i.done;)t=e(t,i.value,n++,this);return t}}),i.prototype.compact=t.partial(i.prototype.filter,Boolean),i}),define("helpers/actionManager",["require","lodash","backbone","helpers/utils","helpers/debug","helpers/errorManager","helpers/actions","helpers/pubSub","helpers/resolver","helpers/actionator","helpers/conditioner","helpers/mixer","mixins/shortEventable","mixins/actionable","helpers/automation","helpers/constants","helpers/Iterable","views/helpers/collisionHelper"],function(e){"use strict";var t,i=e("lodash"),n=e("backbone"),r=e("helpers/utils"),s=e("helpers/debug"),o=e("helpers/errorManager"),a=e("helpers/actions"),l=(e("helpers/pubSub"),e("helpers/resolver")),u=e("helpers/actionator"),c=e("helpers/conditioner"),h=e("helpers/mixer"),p=e("mixins/shortEventable"),d=e("mixins/actionable"),f=e("helpers/automation"),m=e("helpers/constants"),g=e("helpers/Iterable"),v=e("views/helpers/collisionHelper"),y=o.throwError("actionManager"),b=o.warn("actionManager"),w=o.backtick,S=function(e){var t=e.shortEvents,n=t&&t.self;return i.keys(n).filter(function(e){return 0===e.indexOf("action:")}).map(function(e){return e.replace("action:","")})},x={global:null,meta:null},T=function(e,t){var n=x[e];return i.contains(n,t.kind)},E=i.partial(T,"global"),A=i.partial(T,"meta"),C=function(e){return i.contains(["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"],e.kind)},P=(t=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],function(e,n){var r;return i.find(t,function(t){var s,o;return s=n,o=e[t],r=i.isPlainObject(o)?l.getRef(o,s.context,s):o}),r}),_=function(e,t){var n,r,s,o,a,u=l.splitPath(e.id),c=i.last(u),h=l.joinPath(i.initial(u)),p=h?l.resolvePath(h,t.context):t.context,d=(s=t,a=n=p,null!=(r=e).scopeRef&&(a=i.isArray(n)?n.map(function(e){var t=l.getRef(r.scopeRef,e,s);return 0===r.id.indexOf(m.CHILDREN)&&t===m.CHILDREN?e:l.resolvePath(t,e)}):"_owner"===(o=l.getRef(r.scopeRef,s.context,s))?n:l.resolvePath(o,s.context)),a),f=i.isArray(p)?p:[p],v=f.map(function(e){return l.resolvePath(c,e,{optional:"_children"===i.first(u)})}),y=i.isArray(d)?d:[d];return 1===v.length&&y.length>1&&y.forEach(function(e,t){f[t]=f[t]||f[0],v[t]=v[t]||v[0]}),new g(v).map(function(n,r){if(null!=n){var s,o,a=i.defaults({context:y[r]},t),u=i.defaults({context:f[r]},t);return a.params=(s=e,o=u,i.mapValues(s.params||{},function(e){return l.getRef(e,o.context,o)})),{actions:n.actions,data:a}}}.bind(this)).filter(i.identity)},I=function(e,t){return e[c.evaluateAction(e,t)?"thenActions":"elseActions"]},k={exe_actiongroup:function(e,t){return _(e,t).map(function(e){return O.traceActions(e.actions,e.data)}).flatten()},if_action:function(e,t){return O.traceActions(I(e,t),t)}},R={};R[a.EXE_ACTIONGROUP]="executeActionGroup",R[a.IF_ACTION]="evaluateConditional",R[a.FOREACH]="executeLoop",R[a.DEBUG_TRACE]="logDebugMessage",R[a.DEBUG_ERROR]="logErrorMessage";var O={mixins:[d,p,n.Events],shortEvents:{self:R},executeActions:function(e,t){var n,r,s=0,o=e.length,a=!1;if(o>0)do{n=e[s],a&&"close_window"!==n.kind?b("executeActions","skip action:",n.id):(this.slideJumpPerformed=!1,r=i.clone(t),this.executeAction(n,r),t.cancel=r.cancel,a=C(n)||a||this.slideJumpPerformed)}while(++s<o);return this.slideJumpPerformed=a,this},executeAction:function(e,t){var i,n,s,o,a,c,h;if(!0!==f.silenceActions[e.kind])return t&&t.context||y("executeAction","Cannot execute action without a context:",w(e.kind)),"close_window"!==e.kind&&t.context.isAncestral&&(s=t.context.getClosestAncestorByKind("slide",!0),r.getPath(s,"destroyed"))?(b("executeActions","skip action:",e.id),this):(o=e,c=(a=t).context,i=!!(h=P(o,a))&&l.resolvePath(h.replace(/^\./,""),c,{optional:!0}),(n=E(e)?u:A(e)?O:i)||y("executeAction","the object",r.doubleQuote(P(e,t)),"does not exist in this scope:",r.doubleQuote(r.stripPlayer(t.context.absoluteId||"")),"to execute the action",w(e.kind)),t.actionTarget=i,r.applyMethod("triggerAction",n,e,t),this)},executeActionGroup:function(e,t){return _(e,t).forEach(function(e){var i=e.actions,n=e.data;this.executeActions(i,n),n.cancel&&(t.cancel=n.cancel)}.bind(this)),this},evaluateConditional:function(e,t){var i=I(e,t);return i&&this.executeActions(i,t),this},executeLoop:function(e,t){e.iterables.forEach(function(n){var r=i.defaults({iterables:n.valueref},t);O.executeActions(e.actions,r)})},logMessage:function(e,t,i){if(s.debugMode){var n="debug"===e;console[n?"log":"error"](e.toUpperCase()+":",t.message),n||s.throwError()}},traceActions:function(e,t){return null==e?g.empty:new g(e).map(function(e){var i=k[e.kind];return null!=i?i(e,t):[e]}).flatten()},isJumpAction:C};return O.logDebugMessage=i.partial(O.logMessage,"debug"),O.logErrorMessage=i.partial(O.logMessage,"error"),h.mix(O),h.initMixinsOf(O),x.global=S(u),x.meta=S(O),v.initialize(O),O}),define("models/presentation/Timeline",["require","lodash","helpers/AnimationTimeline","helpers/events","helpers/utils","helpers/actionManager","models/BaseModel","helpers/resume/Chunk"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/AnimationTimeline"),r=e("helpers/events"),s=e("helpers/utils"),o=e("helpers/actionManager"),a=e("models/BaseModel"),l=e("helpers/resume/Chunk"),u={};return a.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},subscriptions:(t={},t[r.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[r.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t),initialize:function(){i.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new n({onUpdate:this.update}),this.labels=[],this.silent=!1,this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},setUpClamp:function(){return this.clampTime=i.partial(s.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.progress()},hasStarted:function(){return this.progress()>0},update:function(){return 1!==this.progress()||this.completed||(this.completed=!0,this.onComplete()),this.trigger(r.timeline.TICK,this.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger(r.timeline.PLAYING),this},pause:function(e,t){return e||this.render(),this.timeline.pause(),this.trigger(r.timeline.PAUSED,t),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(e){if(null==e)return s.clamp(0,1,this.timeline.currentTime/this.duration());this.seek(Math.floor(e*this.duration()))},togglePlayback:function(){return this[this.isPlaying()&&!this.hasFinished()?"pause":"play"](!1,!0),this},onSeekStart:function(){this.isSeeking||(this.trigger(r.timeline.SEEK_START,this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger(r.timeline.SEEK_END,this.seekPlaybackState),"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(e){return e=this.clampTime(e),this.beforeSeekTime=this.elapsedTime(),this.trigger(r.timeline.BEFORE_SEEK_UPDATE),this.timeline.reset(),this.timeline.seek(e),this.update(),this.trigger(r.timeline.AFTER_SEEK_UPDATE,e),this.lastSeekTime=e,this.completed=!1,this},reset:function(){return this.trigger(r.timeline.RESET),this},silentReset:function(){return this.timeline.silent=!0,this.timeline.seek(0,!0),this.timeline.pause(),this.timeline.silent=!1,this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var e=this.events();return null!=e&&e.forEach(function(e){var t=i.uniqueId("timeline-"),n=e.time;this.timeline.add(t,n),this.timeline.add(function(){this.triggerTimelineEvent(e,t)}.bind(this),t),this.labels.push(t),u[t]=this}.bind(this)),this},triggerTimelineEvent:function(e,t){var i={context:this.getClosestThisRef(),timelineLabel:t,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:e.time,currentTime:this.elapsedTime()};o.executeActions(e.actions,i)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger(r.timeline.ENDED),this.trigger(r.timeline.COMPLETE)},triggerPlaybackStateChange:function(){this.trigger(r.timeline[this.playbackState().toUpperCase()])},addChildTimeline:function(e,t){return this.timeline.add(e,t),this},removeChildTimeline:function(e){return null!=this.timeline&&this.timeline.remove(e),this},removeLabel:function(e){this.timeline.remove(e)},getResumeData:function(){return l.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(e){this.resetValue=l.fromSignedString64(e),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach(function(e){u[e]=null})},onVisibilityShown:function(){this.wasPlaying&&(this.wasPlaying=!1,this.play())},onVisibilityHidden:function(){this.isPlaying()&&(this.wasPlaying=!0,this.pause())},killEverything:function(){this.resetSubscriptions().stopListening().off(),this.timeline.kill(),this.timeline=null}},{getTimelineFromLabel:function(e){return u[e]}})}),define("views/helpers/TweenableTimeline",["require","lodash","helpers/AnimationTimeline","backbone","models/presentation/Timeline","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/AnimationTimeline"),e("backbone")),n=e("models/presentation/Timeline"),r=e("helpers/events"),s=e("helpers/utils"),o=function(e,t,i,r){this.view=e,this.timeline=t,this.timelineLabel=i,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?n.getTimelineFromLabel(i):this.view.props.model.getLayer().timeline(),this.isHide=!!r,this.initialize()};return t.extend(o.prototype,i.Events,{playOnSeekEnd:!0,initialize:function(){var e={};this.addChildTimeline(),this.timelineControlled||(e[r.timeline.PLAYING]=this.playTimeline,e[r.timeline.PAUSED]=this.pauseTimeline,e[r.timeline.SEEK_START]=this.onSeekStart,e[r.timeline.SEEK_END]=this.onSeekEnd,this.listenTo(this.layerTimeline,e))},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(e){this.removeChildTimeline(),this.isHide?this.timeline.reset():e&&this.timeline.progress(1,!0),this.timeline.kill(),s.getPath(this.view,"updateFromTween"),this.stopListening()}}),o}),define("views/mixins/zoompanable",["require","lodash","helpers/svg/svgUtils","helpers/utils","helpers/assetManager","views/helpers/dom","views/helpers/TweenHelper","models/presentation/Animation","helpers/AnimationTimeline","views/helpers/TweenableTimeline"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/svg/svgUtils"),e("helpers/utils")),n=e("helpers/assetManager"),r=e("views/helpers/dom"),s=e("views/helpers/TweenHelper"),o=e("models/presentation/Animation"),a=e("helpers/AnimationTimeline"),l=e("views/helpers/TweenableTimeline"),u=function(e,t,i){return(i*e-i)/2-t*e};return{componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan)},buildZoomAnimation:function(e){var t=e.action,n=this.props.model,r=n.get("width"),s=n.get("height"),a=t.duration,l=r/t.lastwidth,c=u(l,t.lastx,r),h=u(l,t.lasty,s),p=r/t.width,d=u(p,t.xPos,r),f=u(p,t.yPos,s);return l=i.decToPct(l),p=i.decToPct(p),new o({wipetrans:!1,duration:1e3,tweens:[{kind:"tween",time:0,duration:a,scale:{path:[{kind:"segment",startx:l,starty:l,endx:p,endy:p,dsx:0,dsy:0,dex:0,dey:0}],duration:a,easing:"cubic",easingdir:"easein"}},{kind:"tween",time:0,duration:a,position:{path:[{kind:"segment",type:"line",anchora:{x:c,y:h,dx:0,dy:0},anchorb:{x:d,y:f,dx:0,dy:0}}],duration:a,easing:"cubic",easingdir:"easein"}}]})},createAnimationTimeline:function(e){var o=e.action,l=o.staticimageassetid,u=this.buildZoomAnimation(e);return this.lastZoomBackground&&(this.lastZoomBackground.parentElement.removeChild(this.lastZoomBackground),this.lastZoomBackground=null),new a({tweens:[new s(this,!1,u.getConfig(),null)],onComplete:-1===l?t.noop:function(){var e=this.el.parentNode.querySelector(".zoom-bg-container"),t=this.lastZoomBackground=document.createElement("img");t.src=n.getAssetUrl(l),r.setStyles(t,{position:"absolute",left:i.pxify(o.xPos),top:i.pxify(o.yPos),width:i.pxify(o.width),height:i.pxify(o.height),visibility:"block"}),e.appendChild(t)}.bind(this)})},zoomPan:function(e){this.el&&(this.tweenableTimeline&&(this.tweenableTimeline.destroy(!0),this.tweenableTimeline=null),this.tweenableTimeline=new l(this,this.createAnimationTimeline(e),e.event.timelineLabel,!1))}}}),define("views/mixins/pinchzoomable",["require","lodash","tween-lite","helpers/events","polyfills/detection","helpers/TransMatrix","helpers/utils","helpers/cssPrefix","helpers/errorManager","helpers/slideObjectUtils","helpers/constants","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("tween-lite"),r=e("helpers/events"),s=e("polyfills/detection"),o=e("helpers/TransMatrix"),a=e("helpers/utils"),l=(e("helpers/cssPrefix"),e("helpers/errorManager"),e("helpers/slideObjectUtils")),u=e("helpers/constants"),c=e("helpers/pubSub"),h=function(e){return!e||e.length<2},p=function(e){return h(e)?1:a.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)};return{getPinchCenter:function(e){var t=h(e)?{x:0,y:0}:e[0],i=e[1]||t;return{x:(t.pageX+i.pageX)/2,y:(t.pageY+i.pageY)/2}},shouldInitPinchZoom:function(){return l.isMobileSlide(this)&&null==this.props.slideFrame},initPinch:function(){this.pinch={scale:1,matrix:new o,panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},initPinchZoom:function(e){this.shouldInitPinchZoom()&&(this.pinchZoomSlideContainer=e||this.props.slideContainer,this.container=this.el.parentNode,this.isInLightbox=this.pinchZoomSlideContainer.props.lightboxed,this.hasLightboxControls=this.pinchZoomSlideContainer.props.hasControls,this.initPinch(),this.container.addEventListener("gesturestart",this.onPrevent),this.container.addEventListener("touchstart",this.onTouchStart,!0),this.container.addEventListener("touchmove",this.onTouchMove),this.container.addEventListener("touchend",this.onTouchEnd),this.isInLightbox&&c.on(r.detection.ORIENTATION_CHANGE,this.onOrientationChange),this.doubleTapCount=0,document.addEventListener("touchstart",this.onDoubleTap))},resetDoubleTap:function(){this.doubleTapCount=0},onDoubleTap:function(e){h(e.touches)&&this.pinch.scale>1&&!l.isDoubleClickRelated(e.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,250),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new o,this.startTransition(0)},zoomOut:function(){this.pinch.matrix=new o,this.pinch.currMatrix=this.pinch.matrix.copy(),this.props.model.pinchZoomScale=this.pinch.scale=1,this.pinch.zoomingOut=!0,this.startTransition(200,function(){this.pinch.zoomingOut=!1}.bind(this))},transTouch:function(e){var t=this.props.model.parentTransform,n=this.props.slideContainer.el.getBoundingClientRect();return i(e).map(function(e){return{pageX:(e.pageX-n.left)/t.scale,pageY:(e.pageY-n.top)/t.scale}}).value()},updatePinchPan:function(e){var t=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(t.x-this.pinch.startCenter.x,t.y-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.isInLightbox&&this.trigger("pinchzoom")},updatePinchZoom:function(e){var t=p(e),i=this.getPinchCenter(e),n=this.pinch.matrix.unTransformPoint(i.x,i.y),r=t/this.pinch.startDistance;r=Math.max(1/this.pinch.scale,Math.min(r,6/this.pinch.scale)),this.pinch.zoom=r,this.pinch.currMatrix=this.pinch.matrix.copy().translate(n.x,n.y).scale(r,r).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.container.style[this.cssTransformOrigin]="0 0",this.container.style[this.cssTransform]=this.pinch.currMatrix.toCssTransform(),this.trigger("pinchzoom")},onPrevent:function(e){e.preventDefault()},isLightboxDocked:function(){var e=this.el.getBoundingClientRect(),t=0,i=0;return"portrait"===s.orientation?i=this.hasLightboxControls?u.MOBILE_UI_SIZE:0:t=u.MOBILE_UI_SIZE,e.left<=0&&e.top<=0&&e.right+t>=document.body.clientHeight&&e.bottom+i>=document.body.clientWidth},isLightboxScaledToScreen:function(){var e,t,i=this.pinch.scale;return this.pinch.width=this.props.model.get("width"),this.pinch.height=this.props.model.get("height"),"portrait"===s.orientation?(e=this.pinch.width*i,t=this.pinch.height*i):(t=this.pinch.width*i,e=this.pinch.height*i),e>=document.body.clientWidth&&t>=document.body.clientHeight},onTouchStart:function(e){var t,i=this.transTouch(e.touches);if(this.lightboxDockState=this.isLightboxDocked(),2===i.length){this.pinch.panning=!1,this.pinch.zooming=!0,t=this.getPinchCenter(i);this.props.model.parentTransform;this.pinch.startCenter=this.pinch.matrix.unTransformPoint(t.x,t.y),this.pinch.startDistance=p(i),this.pinch.disable=!1}else 1!==i.length||1===this.pinch.scale||this.shouldDisablePan(e)?(this.pinch.panning=this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(i[0].pageX,i[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=e.touches.length},onTouchEnd:function(e){this.pinch.disable=!1,this.lightboxDockState=this.isLightboxDocked(),e.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.screenBounds(),this.pinch.matrix=this.pinch.currMatrix,this.props.model.pinchZoomScale=this.pinch.scale))},onTouchMove:function(e){if(!this.pinch.disable){var t=this.transTouch(e.touches);2===t.length?this.updatePinchZoom(t):1===t.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(t)}},collectPlayerMetrics:function(){var e,i=0,n=0,r=(null!=t?t:t=document.getElementById("preso")).getBoundingClientRect(),o=r.width,a=r.height;return s.isMobileOrTouchableTheme&&(s.isClassic?"portrait"===s.orientation?a-=u.MOBILE_UI_SIZE:o-=u.MOBILE_UI_SIZE:s.isTablet&&!this.isInLightbox?(o=(e=this.pinchZoomSlideContainer.el.parentNode.getBoundingClientRect()).width,a=e.height,i=e.left,n=e.top):("portrait"===s.orientation?n=this.isInLightbox?u.UNIFIED_LIGHTBOX_UI_SIZE:u.UNIFIED_PORTRAIT_UI_SIZE:(i=u.MOBILE_UI_SIZE,this.isInLightbox&&(a-=u.UNIFIED_LIGHTBOX_UI_SIZE)),o-=2*i,a-=2*n)),{availableWidth:o,availableHeight:a,uiOffsetX:i,uiOffsetY:n}},screenBounds:function(){var e,t,i,n,r=this.pinchZoomSlideContainer.el.getBoundingClientRect(),s=this.pinchZoomSlideContainer.state.scale,o=r.left,a=r.top,l=this.el.getBoundingClientRect(),u=this.collectPlayerMetrics(),c=u.availableWidth,h=u.availableHeight,p=u.uiOffsetX,d=u.uiOffsetY,f=!1;i=c-(e=Math.max((c-l.width)/2,0))+p,n=h-(t=Math.max((h-l.height)/2,0))+d,e+=p,t+=d,l.left>e?(f=!0,this.pinch.currMatrix.tx=(e-o)/s):l.right<i&&(f=!0,this.pinch.currMatrix.tx=(i-l.width-o)/s),l.top>t?(f=!0,this.pinch.currMatrix.ty=(t-a)/s):l.bottom<n&&(f=!0,this.pinch.currMatrix.ty=(n-l.height-a)/s),f&&this.startTransition(400)},startTransition:function(e,t){t=t||i.noop,this.pinchZoomTransitionTween=n.to(this.container,e/1e3,{transform:this.pinch.currMatrix.toCssTransform(),parseTransform:!0,onUpdate:this.trigger.bind(this,"pinchzoom"),onComplete:function(){t(),this.endTransition()}.bind(this)}),this.pinchZoomTransitionTween.play()},endTransition:function(){null!=this.pinchZoomTransitionTween&&(this.pinchZoomTransitionTween.kill(),this.pinchZoomTransitionTween=null)},killPinchZoom:function(){this.shouldInitPinchZoom()&&(this.container.removeEventListener("gesturestart",this.onPrevent),this.container.removeEventListener("touchstart",this.onTouchStart),this.container.removeEventListener("touchmove",this.onTouchMove),this.container.removeEventListener("touchend",this.onTouchEnd),c.off(r.detection.ORIENTATION_CHANGE,this.onOrientationChange),document.removeEventListener("touchstart",this.onDoubleTap),this.container.style[this.cssTransform]="")},componentWillUnmount:function(){this.killPinchZoom()},shouldDisablePan:function(e){return 1===e.touches.length&&(l.isDraggableRelated(e.target)||l.isScrollRelated(e.target)||l.isRotatableRelated(e.target)||l.isSlideableRelated(e.target))}}}),define("views/mixins/swipeable",["require","lodash","helpers/cssPrefix","helpers/constants","helpers/events","polyfills/detection","views/helpers/dom","helpers/slideObjectUtils","helpers/utils","helpers/svg/svgUtils","helpers/pubSub","helpers/windowManager","helpers/GsapTweenLite","timeline-lite","helpers/actionManager","helpers/appState","ease-pack"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/cssPrefix"),e("helpers/constants")),n=e("helpers/events"),r=e("polyfills/detection"),s=e("views/helpers/dom"),o=e("helpers/slideObjectUtils"),a=e("helpers/utils"),l=e("helpers/svg/svgUtils"),u=e("helpers/pubSub"),c=e("helpers/windowManager"),h=e("helpers/GsapTweenLite"),p=e("timeline-lite"),d=e("helpers/actionManager"),f=e("helpers/appState");e("ease-pack");var m=.25,g=i.math.QUARTER_PI,v=i.math.THREE_QUARTER_PI,y={4:"onprevslide",2:"onnextslide"},b=!1;u.once(n.player.MENU_OPTIONS,function(e){e.get("flow")});var w=function(e){return o.isMobileSlide(e)&&null==e.props.slideFrame&&!e.props.slideContainer.props.lightboxed},S=function(){var e=b;return b=!1,e};return{DIRECTION_UP:1,DIRECTION_RIGHT:2,DIRECTION_DOWN:3,DIRECTION_LEFT:4,componentWillMount:function(){u.on(n.swipe.CHANGED,this.onSwipeChanged),this.swipe={swiping:!1,wasSwiped:S,swipeBehavior:w}},componentDidMount:function(){var e=this.el;this.swipe.swipeBehavior(this)&&(r.isTouchableTheme&&(m=.15),this.calcCancelTolerance().hasPrevNextActions().getWidthHeight().getNextEl(),e.addEventListener("touchstart",this.onSwipeableTouchStart,!0),e.addEventListener("touchmove",this.onSwipeableTouchMove),e.addEventListener("touchend",this.onSwipeableTouchEnd),window.addEventListener("popstate",this.onPopState),this.listenTo(f,n.layout.CHANGED,this.hasPrevNextActions))},componentWillUnmount:function(){var e=this.el;u.off(n.swipe.CHANGED,this.onSwipeChanged),this.swipe.swipeBehavior(this)&&(e.removeEventListener("touchstart",this.onSwipeableTouchStart),e.removeEventListener("touchmove",this.onSwipeableTouchMove),e.removeEventListener("touchend",this.onSwipeableTouchEnd),window.removeEventListener("popstate",this.onPopState))},onSwipeChanged:function(e){this.swipe["swipeleft"===e.name?"canSwipeLeft":"canSwipeRight"]=e.enable},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width"),this.swipe.height=this.props.model.get("height"),this},getNextEl:function(){var e=this.el.parentNode.parentNode;return null!=e&&(this.swipe.nextEl=e.querySelector(".swipe-transition-container")),this},onSwipeableTouchStart:function(e){var t,i=this.swipe;r.isTouchableTheme&&(this.swipe.slideLeft=this.el.getBoundingClientRect().left),this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.startX=t.pageX,i.startY=t.pageY,i.startTime=(new Date).getTime(),i.duration=null,i.cancelled=!1,i.willJump=!1)},onSwipeableTouchMove:function(e){var t,i=this.swipe,n=i.direction;this.shouldSwipe(e.target)&&1===e.touches.length&&(t=e.touches[0],i.x=t.pageX,i.y=t.pageY,this.swipe.swiping=!0,i.direction=this.getSwipeDirection(),n!==i.direction&&this.determineSwipeActions(),4===i.direction?this.animateSwipe().followDir(!1,4):2===i.direction&&this.animateSwipe().followDir(!1,2))},determineSwipeActions:function(){var e=this.swipe,i=this.props.model.tracePlayerEvent(y[e.direction]),n=c.getCurrentWindow();return t.extend(e,{cancelled:!0,willJump:!0}),i.forEach(function(t){return e.willJump=d.isJumpAction(t)&&("gotoplay"!==t.kind||t.window===n.id||"_current"===t.window),e.cancelled=!e.willJump||"history_prev"===t.kind&&null==n.getPrevSlide(),e.cancelled}),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.props.model.get("width")/2,this},hasPrevNextActions:function(){var e=f.currentLayout();return this.swipe.canSwipeLeft=e.swipeleft,this.swipe.canSwipeRight=e.swiperight,this},resetSwipe:function(){this.el.style[this.cssTransform]="",t.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(e){e.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===this.swipe.direction||!this.swipe.canSwipeRight&&2===this.swipe.direction},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(e,t){var i;t&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),(i={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1})[this.cssTransform]=e,this.props.slideContainer.setLoaderStyle(i)},getPadding:function(){var e=this.props.model.parentTransform;return Math.max(2*e.xOff,40)},followDir:function(e,t){var i,n,o,u,c=this.props.model.parentTransform,h=this.swipe.width+this.getPadding(),p=4===t?-h:h;e&&(u=this.props.model.calculateTotalScale(),i=this.el.getBoundingClientRect(),this.swipe.currX=(i.left-c.xOff)*u,r.isTouchableTheme&&(this.swipe.currX-=(this.swipe.slideLeft-c.xOff)*u)),this.swipe.nextEl&&(this.swipe.lastDir=t,o=this.swipe.currX+p,n=l.transformTranslate(a.pxify(o),a.pxify(0)),this.restricted()||(s.setStyles(this.swipe.nextEl,{width:a.pxify(this.swipe.width),height:a.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=n,this.swipe.nextEl.style.background=r.isTouchableTheme?window.globals.bgColor:"#212121"),this.showNextLoader(n,Math.abs(o)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var e,t,i=this.swipe,n=i.direction;i.duration=(new Date).getTime()-i.startTime,this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===n||!this.swipe.canSwipeRight&&2===n?this.endSwipe(n,!1):i.swiping&&(e=this.getSwipeLength(),(t=this.speedSwipe(e))||e>this.swipe.cancelTolerance?(this.endSwipe(n,!0),t&&this.forceShowNextLoader()):this.endSwipe())},speedSwipe:function(e){return this.swipe.duration<300&&e>100},doSwipe:function(e){var i={};return i[4]=this.swipe.canSwipeLeft?this.onSwipeLeft:t.noop,i[2]=this.swipe.canSwipeRight?this.onSwipeRight:t.noop,i.hasOwnProperty(e)&&i[e](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(y[2]),b=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(y[4]),b=!0,this.swipe.isNavigating=!0},shouldSwipe:function(e){var t=this.props.model.pinchZoomScale,i=null!=t&&1!==t;return!(o.isScrollRelated(e)||o.isDraggableRelated(e)||o.isRotatableRelated(e)||o.isSlideableRelated(e)||i)},endSwipe:function(e,t){this.swipe.swiping=!1,this.swipe.direction=null,this.animateSwipeEnd(e,t)},getSwipeLength:function(){var e=this.swipe;return a.dist(e.startX,e.startY,e.x,e.y)*this.props.model.calculateTotalScale()},getSwipeDirection:function(){var e=this.swipe,t=Math.atan2(e.startY-e.y,e.startX-e.x);return Math.abs(t)<=g?2:t>g&&t<=v?1:t<-g&&t>=-v?3:4},animateSwipe:function(e){var t=this.el,i=this.swipe,n=i.startX-i.x,r=n<0?-1:1,s=e||-Math.abs(n)*r*this.props.model.calculateTotalScale();return this.restricted()&&(i.willJump?s*=.1:s*=.5*Cubic.easeOut.getRatio(Math.abs(n)/document.body.clientWidth)),h.set(t,{x:s}),this.swipe.currX=s,this},killLoader:function(){var e={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};e[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(e)},swipeEndRight:function(){this.followDir(!0,2),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,4),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(e,t){var i,r,s,o=this.el;t?(s=this.getSuccessSwipeTween(e),r=2===e?this.swipeEndRight:this.swipeEndLeft):(r=2===this.swipe.lastDir?this.swipeEndRight:this.swipeEndLeft,s=this.getFailedSwipeTween(e)),i=a.toMilliseconds(s.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(r),s.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){o.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(e),t?(this.forceShowNextLoader(),u.once(n.loader.HIDE,function(){o.style[this.cssTransform]="",o.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),i+0)},getSuccessSwipeTween:function(e){var t,i=this.swipe.width+this.getPadding(),n=new p;return 2===e?t=-i:4===e&&(t=i),n.add(h.to(this.el,m,{x:t,ease:"Sine.easeOut"})),n},getFailedSwipeTween:function(e){var t,i,n=this.el,r=this.swipe,s=new p;return!r.willJump&&this.speedSwipe(this.getSwipeLength())?(i=Math.max(.2,a.toSeconds(r.duration)),t=Math.min(Math.abs(r.startX-r.x),r.width*(r.willJump?.1:.5)),s.add([h.to(n,i,{x:t*(2===e?-1:1),ease:"Cubic.easeOut"}),h.to(n,2*i,{x:0,ease:"Cubic.easeOut"})],0,"sequence")):s.add(h.to(n,.25,{x:0,ease:"Sine.easeOut"})),s},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",s.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}}}),define("views/mixins/transitionableSlide",["require","lodash","react","react-dom","helpers/AnimationTimeline","views/helpers/TweenHelper","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=(e("react"),e("react-dom"),e("helpers/AnimationTimeline")),n=e("views/helpers/TweenHelper"),r=(e("helpers/svg/svgUtils"),e("polyfills/vendorOverrides"),e("helpers/events")),s=e("helpers/pubSub"),o=1e3;return{getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(e){var t=e.props.model;this.prevSlide=e,t.slideLayers().pauseAll(!0)},setTransparent:function(e){this.el.classList[e?"add":"remove"]("transparent")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=t.noop,this.setTransparent(!0)},publishTransitionStarted:function(){s.trigger(r.slide.TRANSITION_STARTED,this.state.Id,this.transition.id,this.transition.duration())},transitionIn:function(e,t){var r,s=this;this.completeHook=e,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),r=this.transition&&this.transition.get("wipeTrans"),t||null==this.transition||r&&!this.prevSlide?this.transitionComplete():(this.publishTransitionStarted(),r&&(this.prevSlide.killPinchZoom(),s=this.prevSlide,this.prevSlide.setState({transitionDepth:++o})),this.transitionTimeline=new i({tweens:[new n(s,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),this.transitionTimeline.play())},seekTransition:function(e){this.transitionTimeline.seek(e,!1)},forceTransition:function(){!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var e=this.previousHome;null!=e&&e.grandparent.appendChild(e.parent)}}}),define("views/presentation/mixins/slideObjectContainer",["require","lodash","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/helpers/transformHelper");return{componentWillMount:function(){this.props.isInnard&&t.extend(this.props.parent,{attachView:this.attachView})},componentWillUpdate:function(){t.forEach(this.getDetachedChildren(),function(e){this.attachView(e.child.currView)}.bind(this))},componentDidUpdate:function(){t.forEach(this.getDetachedChildren(),function(e){var t=e.newParent.currView,i=e.child.currView;null!=t&&null!=i&&t.attachView(i)}.bind(this))},attachView:function(e){e.reparentedContainer=this,null!=this.refs.bg&&this.refs.contentArea.contains(this.refs.bg.el)?this.refs.contentArea.insertBefore(e.el,this.refs.bg.el):null!=this.refs.allAudio&&this.refs.contentArea.contains(this.refs.allAudio)?this.refs.contentArea.insertBefore(e.el,this.refs.allAudio):this.refs.contentArea.appendChild(e.el),i.setMatrixDirty(e)},getDetachedChildren:function(){return this.props.model.detachedChildren||{}}}}),define("helpers/audio/AudioClipElement",["require","lodash","helpers/audio/AudioClipBase","helpers/constants","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/AudioClipBase"),n=e("helpers/constants"),r=e("helpers/utils"),s=r.createSuper(i),o=document.body,a={},l=function(){i.apply(this,arguments)},u=!1;return t.extend(l,i,{prepare:function(e){var t,i=document.createElement("audio");i.setAttribute("src",n.TINY_AUDIO),null!=(t=i.play())?t.then(function(){e()}).catch(function(){u=!0,e()}):e()},checkNeedsApproval:function(){return u}}),l.prototype=new i,t.extend(l.prototype,{constructor:l,initialize:function(){this.refCount=0,s("initialize").apply(this,arguments),this.dfd.fail(function(){a[this.url]=null}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),s("onEnded").call(this,arguments)},updateTime:function(e){this.onTimeUpdateDelegate(e.target.currentTime)},load:function(){return null==a[this.url]?(this.refCount=1,this.el=new window.Audio,this.el.setAttribute("preload","auto"),this.el.src=this.url,o.appendChild(this.el),this.el.load(),a[this.url]=this.el):(this.refCount++,this.el=a[this.url],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},deferredPlay:function(){var e=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(e,r.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),e()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=r.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(e){return this.el.volume=e,this},setCurrentTime:function(e){this.el.currentTime!==e&&(this.el.currentTime=e)},destroy:function(e){if(this.refCount--,!(this.refCount>0))return this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),e||(o.removeChild(this.el),a[this.url]=null)),s("destroy").apply(this,arguments),this},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),l}),define("helpers/audio/audioManager",["require","helpers/audio/AudioClipApi","helpers/audio/AudioClipElement","helpers/slidesController","polyfills/detection","helpers/pubSub","helpers/events"],function(e){"use strict";var t=e("helpers/audio/AudioClipApi"),i=e("helpers/audio/AudioClipElement"),n=e("helpers/slidesController"),r=e("polyfills/detection"),s=e("helpers/pubSub"),o=e("helpers/events"),a=function(){return r.hasAudioApi()?t:i},l={};s.on("nextSlide:requesting",function(){l={}}),s.on(o.main.PREPARE_AUDIO,function(e){r.isMobileOrTouchableTheme&&u.prepare(e)});var u={prepare:function(e,t){return new Promise(function(t){var i,r,s,o,l,u=!1,c=e.assetLib();new Promise(function(e,t){});c.hasType("audio")?(i=a()).prepare(function(){i.checkNeedsApproval()&&(null==(l=n.getSlide(n.getEntrypoint()))?u=!0:(r=e.slideMap(),s=l.fullId(),o=r.getRefById(s),u=o.assetIds().some(function(e){return"audio"===c.findWhere({id:e}).type()}))),t(u)}):t(!1)})},loadUrl:function(e){if(null!=l[e])return l[e].load(),l[e];var t=new(a())(e);return l[e]=t,t.load(),t}};return u}),define("helpers/MediaLoader",["require","lodash","helpers/vow","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("polyfills/detection"),r=(new i.Deferred).resolve().promise(),s=function(e){this.init(e)};t.extend(s.prototype,{retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:!1,init:function(e){t.bindAll(this,"onLoad","onCanPlay","onError","setElement"),this.retries=null!=e.retries?e.retries:this.retries,this.retryTimeout=null!=e.retryTimeout?e.retryTimeout:this.retryTimeout,this.failuresCount=0,this.url=e.url,this.type=e.type,this.loadForView=!!e.loadForView,this.createDeferred().createElement(),this[this.loadForView?"batchLoad":"queueLoad"]()},createDeferred:function(){var e=new i.Deferred;return Object.defineProperties(this,{dfd:{value:e},promise:{value:e.promise()}}),this},createElement:function(){return this.setElement(document.createElement(this.type)),this},setElement:function(e){this.teardown(),this.el=e,this.addEventListeners()},queueLoad:function(){return r.always(this.load.bind(this)),r=this.promise,this.promise},batchLoad:function(){this[n.isIOS()&&this.isMediaElement?"queueLoad":"load"]()},load:function(){if(null!=this.el)return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.src=this.url,this.isMediaElement&&this.loadMediaElement()),this.promise},loadMediaElement:function(){null!=this.el&&this.el.load()},retry:function(){return this.failuresCount++,setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries},onLoad:function(e){this.isMediaElement||(this.dfd.resolve(),this.removeEventListeners())},onCanPlay:function(){this.dfd.resolve(),this.removeEventListeners()},onError:function(e){this.shouldRetry()?this.retry():(this.dfd.reject("Could not load media "+this.url),this.removeEventListeners())},teardown:function(){null!=this.el&&(this.el.src="",this.detachElement())},detachElement:function(){this.removeEventListeners(),this.el=null},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";null!=this.el&&(this.el[t]("load",this.onLoad),this.el[t]("canplay",this.onCanPlay),this.el[t]("error",this.onError))}});var o=s.prototype;return t.extend(o,{addEventListeners:t.partial(o.bindListeners,!0),removeEventListeners:t.partial(o.bindListeners,!1)}),s}),define("helpers/AudioLoader",["require","lodash","helpers/audio/audioManager","helpers/MediaLoader"],function(e){"use strict";var t=e("lodash"),i=e("helpers/audio/audioManager"),n=e("helpers/MediaLoader"),r=function(e){this.init(e)};return t.assign(r.prototype,n.prototype,{isMediaElement:!0,createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=i.loadUrl(this.url),this.audioClip.dfd.promise().done(this.dfd.resolve).fail(this.dfd.reject)),this.promise},teardown:function(){null!=this.audioClip&&this.audioClip.destroy(!0),this.audioClip=null}}),r}),define("helpers/globalAudioManager",["require","helpers/assetManager","helpers/appState","helpers/events","helpers/pubSub","helpers/audio/audioManager","helpers/vow","lodash","helpers/AudioLoader"],function(e){"use strict";var t,i=e("helpers/assetManager"),n=e("helpers/appState"),r=e("helpers/events"),s=e("helpers/pubSub"),o=e("helpers/audio/audioManager"),a=e("helpers/vow"),l=e("lodash"),u=e("helpers/AudioLoader"),c={},h=function(e){var t=e.props.model;t.isMessageSlide()||(l.isEmpty(t.get("globalAudioId"))?d.stop():d.play(t.get("globalAudioId")))},p=function(e,t){c.setVolume(t)},d={initialize:function(e){t=e,s.on(r.slide.HAS_MOUNTED,h)},play:function(e){var s=t.find(function(t){return t.get("id")===e}),a=i.getAssetUrl(s.get("assetId"));a!==c.url&&(d.stop(),c=o.loadUrl(a),n.on(r.volume.CHANGE_CURRENT,p),c.setVolume(n.currentVolume()),c.play())},stop:function(){null!=c.url&&(n.off(r.volume.CHANGE_CURRENT,p),c.destroy(),c={})},load:function(e){var n,r,s;return l.isEmpty(e)?(new a.Deferred).resolve().promise():(r=t.find(function(t){return t.get("id")===e}),(s=i.getAssetUrl(r.get("assetId")))!==c.url?(n=new u({type:"audio",url:s})).promise.always(n.teardown.bind(n)):void 0)}};return d}),define("views/presentation/Slide",["require","lodash","helpers/vow","helpers/pubSub","helpers/keyManager","react","views/mixins/propertizable","views/mixins/mouseable","views/mixins/zoompanable","views/mixins/pinchzoomable","views/mixins/swipeable","views/mixins/baseView","views/mixins/transitionableSlide","views/presentation/mixins/slideObjectContainer","helpers/resolver","helpers/utils","helpers/windowManager","helpers/globalAudioManager","helpers/events","polyfills/detection","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=e("helpers/pubSub"),r=e("helpers/keyManager"),s=e("react"),o=e("views/mixins/propertizable"),a=e("views/mixins/mouseable"),l=e("views/mixins/zoompanable"),u=e("views/mixins/pinchzoomable"),c=e("views/mixins/swipeable"),h=e("views/mixins/baseView"),p=e("views/mixins/transitionableSlide"),d=e("views/presentation/mixins/slideObjectContainer"),f=e("helpers/resolver"),m=e("helpers/utils"),g=e("helpers/windowManager"),v=(e("helpers/globalAudioManager"),e("helpers/events")),y=e("polyfills/detection"),b=e("views/helpers/transformHelper"),w=function(e,i,n){n.executeFilteredPlayerEvent(function(e){return t(e.objects).pluck("value").map(f.splitPath).map(t.last).intersection(i).isEmpty()},e)};return s.createClass({displayName:"Slide",mixins:[h,o,a,p,l,u,c,d],getDefaultProps:function(){return{onSlideStarted:t.noop}},componentWillMount:function(){var e=this.props.model;e.slideReady=!1,e.destroyed=!1,e.getVariableChangeSubscriptions();var i=e.getSlideDraw(),n=g.getCurrentWindow();null!=i&&this.listenTo(i,v.draw.EXIT,this.onSlideDrawExit),null==this.props.slideFrame&&r.clearSlide(this,n.isMainWindow?null:n.props.model.absoluteId),this.mouseX=0,this.mouseY=0,e.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=t.memoize(this.getSlideObjectViews),this.loadDfd=this.props.model.loadSlideAssets()},componentDidMount:function(){var e=this.props.model;e.applyResumeData(),r.onBuildComplete(),this.registerEvent("clickoutsideobjects",function(e){this.triggerClickOutside("on"+e.type,e.data)}.bind(this)),e.interactions().invoke("updateInitialAttemptCount"),e.setAsViewed(),i.isPending(this.loadDfd)?this.loadDfd.always(this.whenHtmlReady):this.htmlReady(this.whenHtmlReady),this.updateWindowId(),n.trigger(v.slide.HAS_MOUNTED,this)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.transitionDepth!==this.state.transitionDepth},componentWillUpdate:function(e,t){t.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},whenHtmlReady:function(){var e=this.props.model,t=e.getBaseLayer(),i=this.swipe.wasSwiped();null!=this.prevSlide&&(this.prevSlide.trulyVisible=!1,this.prevSlide.props.model.executePlayerEvent("ontransitionout")),t.timeline().pause(),e.executePlayerEvent("ontransitionin"),n.trigger(v.slide.ON_TRANSITION_IN,this.props.model),this.trulyVisible=!0,this.transitionIn(function(){e.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&t.isTimelineLayerPlayable()&&!e.pauseForResume&&t.resumeTimeline(),e.pauseForResume=!1,n.trigger(v.preview.NOTIFY,"PREVIEW_SLIDE_IN_COMPLETE",e.absoluteId),e.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),i),e.slideReady=!0,n.trigger(v.slide.READY),y.isMobileOrTouchableTheme?setTimeout(function(){window.requestAnimationFrame(function(){n.trigger(v.loader.HIDE)})},60):n.trigger(v.loader.HIDE)},componentWillUnmount:function(){this.props.model.prepareResumeData(),g.isMultiWindowSlide(this.props.model)||this.props.model.resetModel()},updateWindowId:function(e){this.props.model.windowId=e||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(e,i){var n,r=this.props.model,s=r.slideLayers(),o=t.partial(w,e,i),a=s.activeLayers.slice(),l=s.prevLayers,u=!1;(null==l||t.isEqual(a,l))&&(n=a.reverse().reduce(function(e,t){return u||(u=!!t.modal(),e.push(t)),e},[]),u||o(r),n.forEach(o)),s.prevLayers=void 0},onStoreMouseLoc:function(e){var t=b.globalPtToLocal(this,e.clientX,e.clientY);this.mouseX=t.x,this.mouseY=t.y},calcMouseLoc:function(e,t){var i=this.el.getBoundingClientRect(),n=e-i.left,r=t-i.top,s=this.props.model.calculateTotalScale();return{x:n*s,y:r*s,slideRect:i,scale:s}},onStoreTouchLoc:function(e){1===e.touches.length&&this.onStoreMouseLoc(e.touches[0])},publishSlideStarted:function(){this.props.model.trigger("started"),n.trigger(v.slide.STARTED,m.stripPlayer(this.props.model.absoluteId)),this.props.onSlideStarted()},onCtxMenu:function(e){e.preventDefault()},getSlideObjectViews:function(e,t){var i;return e=e||"",t=t||0,i=this.refs["layer"+t].findAllComponents("SlideObject"),""!==e?i.filter(function(t){return t.props.model.kind()===e}):i},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()}})}),define("views/presentation/SlideContainer",["require","lodash","react","react-dom","helpers/vow","views/mixins/baseView","views/presentation/Slide","views/helpers/dom","polyfills/detection","helpers/constants","helpers/events","helpers/utils","helpers/pubSub","helpers/keyManager","helpers/captionsManager","views/player/mixins/appStateable","helpers/slideObjectUtils"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=(e("react-dom"),e("helpers/vow")),s=e("views/mixins/baseView"),o=(e("views/presentation/Slide"),e("views/helpers/dom"),e("polyfills/detection")),a=e("helpers/constants"),l=e("helpers/events"),u=e("helpers/utils"),c=e("helpers/pubSub"),h=(e("helpers/keyManager"),e("helpers/captionsManager"),e("views/player/mixins/appStateable")),p=e("helpers/slideObjectUtils"),d=function(e){var t=e[0],i=e[1];return t>i?"50%":u.pxify(u.fix((t+Math.max(0,i-t))/2,2))},f=n.createClass({displayName:"SlideContainer",mixins:[s,h],subscriptions:(t={},t[l.mobile.ENTER_THUMB_VIEW]="onEnterThumbView",t[l.mobile.EXIT_THUMB_VIEW]="onExitThumbView",t[l.sidebar.RESIZING]="onResize",t),getDefaultProps:function(){return{onPinchZoom:i.noop}},getInitialState:function(){return{slides:[],loadContainerStyleAttr:{}}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1,window.addEventListener("resize",this.onResize)},resize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onResize:function(){this.resize(),o.isMobilePreview&&(clearInterval(this.previewTimeout),this.previewTimeout=setTimeout(this.resize,500))},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(e){return e.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(e){return e.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(e){e.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.el.contains(document.activeElement)&&(document.activeElement.focus=i.noop),this.slideScale=e.scale,this.updateInnerSlides(e.currentSlide))},componentDidUpdate:function(e,t){var n,r=["xOff","yOff","scale"];if(i.isEqual(i.pick(t,r),i.pick(this.state,r))||c.trigger(l.slideContainer.POSITIONED),!i.isEqual(t.slides,this.state.slides)){if(i.intersection(Object.keys(this.refs),i.pluck(this.state.slides,"absoluteId")).length!==this.state.slides.length)return;(n=0===this.state.slides.length?null:this.refs[i.last(this.state.slides).absoluteId])!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=n,null!=this.curSlide&&(this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(e){return this.curSlideDfd=new r.Deferred,this.setState(function(t){return{slides:i(t.slides).without(e).push(e).value(),overflowHide:o.isMobileOrTouchableTheme}}),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||new r.Deferred,this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&(p.removeEngageBorder(),this.setLoaderStyle()),this.firstLoad=!1},killSlide:function(e){this.setState(function(t){return{slides:i.without(t.slides,e)}})},desktopPositionSlide:function(e){if(o.isClassic||!this.props.lightboxed){var t,i,n,r,s,a,l,c=e.props&&e.props.model;if(null!=c&&!c.isMessageSlide()&&!this.props.lightboxed){i=(t=this.el.parentNode).offsetWidth,n=t.offsetHeight,r=c.get("width"),s=c.get("height"),a=Math.min(i/r,n/s),l=Math.min(0,(i-r)/2);var h={yOff:0,xOff:u.fix(l,2),scale:u.fix(a,5),origin:[[i,r],[n,s]].map(d).join(" ")};this.setState(h),c.parentTransform=h}}else this.mobilePositionSlide(e)},mobilePositionSlide:function(e){if(!this.props.shouldScale||this.props.shouldScale()){var t,i,n,r,s,l,c,h,p,d,f=0,m=0,g=this.getWrapperDimensions(),v=g.width,y=g.height*o.heightScalar,b=this.props.windowType?this.props.windowType():null,w=this.props.hasUi&&!this.thumbView?a.MOBILE_UI_SIZE:0,S="resume-prompt-slide"===b?0:w;t=v-(v>=y?S:0),i=y-(y>v?S:0),n=(s=e.props.model).get("width"),c=i/(r=s.get("height")),p=n*(l=t/n),(d=r*l)>i?(h=c,p=n*c):h=l,p<t&&(f=t/2-p/2),d<=i&&(m=i/2-d/2,f=0);var x={xOff:u.fix(f,2),yOff:u.fix(m,2),scale:u.fix(h,4)};this.setState(x),s.parentTransform=x}},onPinchZoom:function(){this.props.onPinchZoom()},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(e){return this.isShowingMovedSlide=e,this},replaceSlideWith:function(e){return o.isMobileOrTouchableTheme&&(e.killPinchZoom(),e.initPinchZoom(this.props.lightboxed?this:null)),e.props.slideContainer.killSlide(e.props.model),this.updateInnerSlides(e.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(e.props.model),this},setLoaderStyle:function(e){e=e||{},null!=this.props.currentSlide&&(e.width=this.props.currentSlide.get("width")),this.setState({loadContainerStyleAttr:e})}}),m=f.prototype;return m.positionSlide=m[o.isMobile?"mobilePositionSlide":"desktopPositionSlide"],f}),define("views/presentation/MainWindow",["require","lodash","react","views/mixins/baseView","helpers/pubSub","views/presentation/mixins/slideWindow","helpers/events","views/player/mixins/appStateable","helpers/constants","views/presentation/SlideContainer"],function(e){"use strict";e("lodash");var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/pubSub"),r=e("views/presentation/mixins/slideWindow"),s=e("helpers/events"),o=e("views/player/mixins/appStateable"),a=e("helpers/constants");return e("views/presentation/SlideContainer"),t.createClass({displayName:"MainWindow",mixins:[i,r,o],isMainWindow:!0,stateableValues:{submitall:void 0,volume:void 0,seekbar:void 0,pauseplay:void 0,replay:void 0,previous:void 0,next:void 0,submit:void 0,finish:void 0},getInitialState:function(){return{isChromeless:a.player.IS_CHROMELESS}},hasBottomBar:function(){return this.props.player.controlOptions().bottomBarOptions().get("bottomBarEnabled")&&(this.state.stateable_submitall||this.state.stateable_volume||this.state.stateable_seekbar||this.state.stateable_pauseplay||this.state.stateable_replay||this.state.stateable_previous||this.state.stateable_next||this.state.stateable_submit||this.state.stateable_finish||!0===this.props.player.controlOptions().controls().get("closed_captions"))},getBackground:function(){var e=this.state.currentSlide;return null==e?null:e.get("slidewindowbg")},componentWillMount:function(){n.trigger(s.window.MAIN_CREATED,this)},componentWillUpdate:function(e,t){t.currentSlide&&(n.trigger(s.loader.MUTE),n.trigger(s.window.MAIN_CHANGED,t.currentSlide))}})}),define("views/player/mixins/sidebar",["require","lodash","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/pubSub");return{componentWillMount:function(){this.listenTo(n,i.window.MAIN_CHANGED,this.onSlideChanged)},onSlideChanged:function(e){var t=e.get("presenterRef"),i=t&&t.videodata;null!=t&&"none"!==t.id?this.setState({presenterId:t.id,presenterVideo:i}):this.setState({presenterId:void 0,presenterVideo:i})},hasPresenter:function(){return this.props.model.get("presenters")&&this.props.model.get("presenters").length&&this.state.presenterId},hasVideo:function(){return this.state.presenterVideo},getSlidePresenter:function(){var e=this.props.model.get("presenters");return t.findWhere(e,{id:this.state.presenterId})},getSlidePresenterVideo:function(){return this.state.presenterVideo}}}),define("views/player/Sidebar",["require","lodash","helpers/utils","views/helpers/dom","helpers/constants","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/helpers/dom"),r=e("helpers/constants"),s=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=/\/$/,h=u.forceSingleRepaint||t.noop,p=function(e){return e.isLive=!1,e},d=r.tabIndices.SIDEBAR;return s.createClass({displayName:"Sidebar",mixins:[o,a,l],isSidebar:!0,noActiveTabs:function(e){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},setActiveState:function(e,i){if(i){t.findWhere(this.state.tabs,{name:e});this.setFirstTab()}},stateableValues:function(){return{logo:void 0,outline:t.partial(this.setActiveState,"outline"),glossary:t.partial(this.setActiveState,"glossary"),transcript:t.partial(this.setActiveState,"transcript")}},stateableValuesUpdated:function(e){var i;this.noActiveTabs(e)?(this.setState({activeTab:null}),e.logo||document.body.classList.add("no-sidebar")):(this.state.activeTab&&((i=e[this.state.activeTab.name])&&!0===i||t.result(i,"enabled"))&&this.setActiveTab(this.state.activeTab,!0),document.body.classList.remove("no-sidebar")),this.htmlReady(this.resizeTabs)},getTabbableItems:function(){var e,i,n=t.range(0,4),r=function(e,i,n){var r=this.refs[e+n];return null!=r&&i.push(t.assign(r,{idx:d++,indexGroupName:"SidebarTab"})),i}.bind(this,"sidebarTab");return i=n.reduce(r,[]),e=n.reduce(function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t}.bind(this,"sidebarPanel"),[]),i.concat(e)},getInitialState:function(){return{activeTab:null,tabs:t.cloneDeep(this.props.model.getSidebar()).map(p)}},hasLogo:function(){return this.state.stateable_logo&&!c.test(this.logoUrl())},logoUrl:function(){return i.resolveAssetUrl(this.getPath("props.model.controlOptions.sidebarOptions.html5_logo_url"))},componentDidMount:function(){this.setFirstTab(),this.afterHtmlReady(this.resizeTabs)},componentDidUpdate:function(){this.resizeTabs()},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setFirstTab(),h(this.el)},setFirstTab:function(){this.hasLiveTab()||this.setActiveTab(t.findWhere(this.state.tabs,{isLive:!0}))},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},setActiveTab:function(e){e&&(e.isLive=!0),this.setState({activeTab:e})},resizeTabs:function(){n.resizeToFit(this.find(".tabs-wrap"),this.findAll(".tabs > .tab:not(.hidden)"),2)},getActivePanel:function(e){var i=t.find(this.refs,function(t){return"TabPanel"===t.displayName&&t.props.config.name===e});return null!=i&&(i=i.focusObjects[0]),i}})}),define("views/player/SlideLoaderOverlay",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),s=e("helpers/constants").DESKTOP_LOADER_DELAY,o=r.isMobileOrTouchableTheme?0:s;return i.createClass({displayName:"SlideLoaderOverlay",mixins:[n],getInitialState:function(){return{showIndicator:!1}},componentWillMount:function(){this.spinnerTimeout=null},componentDidMount:function(){this.spinnerTimeout=setTimeout(t.partial(this.setState,{showIndicator:!0}).bind(this),o)},componentWillUnmount:function(){clearTimeout(this.spinnerTimeout)},onCtxMenu:function(e){e.preventDefault()}})}),define("views/presentation/PopupWindow",["require","react","lodash","helpers/pubSub","helpers/events","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),n=e("lodash"),r=e("helpers/pubSub"),s=e("helpers/events"),o=e("views/mixins/baseView");return i.createClass({displayName:"PopupWindow",subscriptions:(t={},t[s.popup.SHOW]="onPopupShow",t[s.popup.TOGGLE]="onPopupToggle",t[s.window.MAIN_CHANGED]="onSlideChanged",t[s.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),mixins:[o],getInitialState:function(){return{show:!1,presenter:{}}},onSlideChanged:function(e){var t=e.get("presenterRef");null!=t&&"none"!==t.id&&this.setState({presenter:n.findWhere(this.props.presenters,{id:t.id})})},onPopupShow:function(e){this.setState({show:!0})},onPopupToggle:function(){this.state.show?this.hidePopup():this.onPopupShow()},hidePopup:function(){r.trigger(s.popup.HIDE),this.setState({show:!1})},closePopup:function(e){e.preventDefault(),this.hidePopup()},sendEmail:function(e){e.preventDefault();var t=this.state.presenter.email;r.trigger(s.popup.EMAIL,t)},hasEmail:function(){return this.state.presenter.email},onFrameControlKey:function(e){e.B&&r.trigger(s.popup.TOGGLE)}})}),define("views/presentation/SlideLockCursor",["require","react","views/mixins/baseView","views/helpers/dom","helpers/events","helpers/utils","helpers/svg/svgUtils","helpers/resolver","polyfills/detection"],function(e){"use strict";var t,i=e("react"),n=e("views/mixins/baseView"),r=e("views/helpers/dom"),s=e("helpers/events"),o=e("helpers/utils"),a=e("helpers/svg/svgUtils"),l=(e("helpers/resolver"),e("polyfills/detection"));return i.createClass({displayName:"SlideLockCursor",mixins:[n],subscriptions:(t={},t[s.slide.ON_TRANSITION_IN]="onSlideTransitionStarted",t),getInitialState:function(){return{show:!1}},componentWillMount:function(){l.isMobile||document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){l.isMobile||document.body.removeEventListener("mousemove",this.onMouseMove)},isLockable:function(e){return r.hasClass(e,"slide-lockable")},onSlideTransitionStarted:function(e){this.currSlideLocked=e.get("slideLock"),this.currSlideLocked?(document.body.classList.add("curr-slide-locked"),l.isMobile||(this.hideInterval=window.setInterval(function(){var e;this.state.show||(e=document.elementFromPoint(r.mouseX,r.mouseY),this.onMouseMove({target:e,pageX:r.mouseX,pageY:r.mouseY}))}.bind(this),60))):(this.setState({show:!1}),document.body.classList.remove("curr-slide-locked"))},onMouseMove:function(e){clearInterval(this.hideInterval),this.currSlideLocked&&(r.hasClass(e.target,"slide-lockable")?this.setState({show:!0}):null!=r.closest(e.target,this.isLockable)?this.setState({show:!0}):this.setState({show:!1}),this.state.show&&(this.el.style[this.cssTransform]=a.transformTranslate(o.pxify(e.pageX),o.pxify(e.pageY))))}})}),define("polyfills/mobileChromeKiller",["require","lodash","polyfills/detection","helpers/events","helpers/pubSub","helpers/utils","helpers/windowManager","helpers/slideObjectUtils","views/helpers/dom","helpers/GsapTweenLite","helpers/constants","helpers/svg/svgUtils","helpers/cssPrefix"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=(e("helpers/events"),e("helpers/pubSub"),e("helpers/utils")),r=(e("helpers/windowManager"),e("helpers/slideObjectUtils")),s=e("views/helpers/dom"),o=e("helpers/GsapTweenLite"),a=e("helpers/constants"),l=e("helpers/svg/svgUtils"),u=e("helpers/cssPrefix"),c=u.camelCase("transform"),h=function(e){e&&(window.innerHeight<=a.MOBILE_WIDTH_MIN?e.style.bottom="":e.style.bottom="0")},p={doFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},styleIfExists:function(e,t,i){e&&(e.style[t]=i)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");"portrait"===i.orientation?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",n.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initMobilePreview:function(){setInterval(function(){h(document.querySelector(".relative-nav"))},100)},initAndroid:function(){this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=i.smallestSide+"px",setInterval(function(){h(document.querySelector(".relative-nav"))},100)},initTouchableThemeAndPhone:function(){var e,t,r;document.body.style.height="120%",document.querySelector("#preso").style.position="fixed",i.heightScalar=100/120,i.iOSVersion()>=10&&setInterval(function(){var e=document.querySelector(".controls"),i=window.innerHeight,s=document.documentElement.clientHeight;i<s?(t=s-i)!==r&&null!=e&&(e.style[c]=l.transformTranslate(n.pxify(0),n.pxify(-t)),r=t):null!=e&&""!==e.style[c]&&(e.style[c]="")},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)})},initIOS:function(){var e,a,u,p,d,f,m=document.querySelector(".mobile-chrome-warning"),g=document.querySelector(".mobile-chrome-warning-bubble"),v=document.querySelector(".mobile-chrome-warning-btn"),y=document.querySelector("#preso"),b=0;document.body.style.height="120%",i.heightScalar=100/120,document.addEventListener("touchstart",function(){a=!0}),document.addEventListener("touchend",function(){a=!1}),m.addEventListener("touchstart",function(){o.killTweensOf(g),o.killTweensOf(v),o.to(v,.05,{opacity:1,scaleX:.6,scaleY:.6}),o.to(g,.1,{opacity:1}),o.to(g,.3,{opacity:0,delay:3})}),setInterval(function(){var e,r=document.activeElement,s=document.querySelector(".relative-nav"),p=window.innerHeight,d=document.documentElement.clientHeight,w=p<d,S=d-p;h(s),(!r||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName)&&(w?("block"!==m.style.display&&"none"!==y.style.display&&(m.style.display="block",i.iOSVersion()>=10&&S!==f&&(S=Math.max(50,S),e=l.transformTranslate(n.pxify(0),n.pxify(-S)),m.style[c]=e,null!=s&&(s.style[c]=e),f=S),t.extend(y.style,{position:"absolute",left:"0px",top:"0px",zIndex:0}),o.killTweensOf(g),o.killTweensOf(v),o.set(g,{opacity:0}),o.to(g,1,{opacity:1}),o.to(g,.8,{opacity:0,delay:3}),o.to(v,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"Back.easeOut"}),u=!0,b=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||a||window.scrollTo(0,0)):(null!=s&&""!==s.style[c]&&(s.style[c]=""),"none"!==m.style.display&&"block"!==y.style.display&&(m.style.display="none",y.style.zIndex=null,u=!1)))},100),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){window.scrollTo(0,1)},30)}),document.body.addEventListener("touchstart",function(e){1===e.touches.length&&(p=e.touches[0].clientY),u&&(b=Math.abs(window.innerHeight-document.body.clientHeight))});!function e(){if(u&&a){var t=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-b)/88;m.style.opacity=1-t,m.style.height=n.pxify(75+150*t)}else a||(m.style.opacity=1,m.style.height="75px");window.requestAnimationFrame(e)}(),document.body.addEventListener("touchmove",function(e){var i,n=!1,o=e.target,a=s.parentNodesOf(o,function(e){return r.isScrollable(e)});r.isScrollable(o)&&a.unshift(o),u||(1===e.touches.length&&null!=p?(i=e.touches[0].clientY,n=!t.isEmpty(a)&&a.every(function(e){var t=0===e.scrollTop&&i>p,n=e.scrollTop+e.offsetHeight===e.scrollHeight&&i<p;return t||n})):n=!0),n&&e.preventDefault()}),document.body.addEventListener("touchend",function(){p=null}),document.documentElement.addEventListener("touchstart",function(e){1===e.touches.length&&(d?e.preventDefault():(d=!0,setTimeout(function(){d=!1},500)))})}};return i.isInIframe&&!function(){var e=void 0;try{e=window.top.document}catch(e){return!1}var t=document.documentElement,i=t.clientWidth,n=t.clientHeight,r=e.documentElement,s=r.clientWidth,o=r.clientHeight;return i===s&&n===o}()?p.init=t.noop:i.isTablet?p.init=t.noop:i.isAndroid&&!i.is360?p.init=p.initAndroid:i.isIOS()&&i.isTouchableThemeAndPhone?p.init=p.initTouchableThemeAndPhone:i.isIOS()&&i.iOSVersion()>=8?p.init=p.initIOS:i.isMobilePreview?p.init=p.initMobilePreview:p.init=t.noop,p}),define("views/player/MobileStartOverlay",["require","lodash","react","views/mixins/baseView","polyfills/mobileChromeKiller","helpers/pubSub","helpers/events","polyfills/detection","polyfills/vendorOverrides","helpers/windowManager","helpers/actionManager","helpers/resolver","helpers/playerGlobals","helpers/keyManager"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("polyfills/mobileChromeKiller"),o=e("helpers/pubSub"),a=e("helpers/events"),l=e("polyfills/detection"),u=e("polyfills/vendorOverrides"),c=(e("helpers/windowManager"),e("helpers/actionManager")),h=(e("helpers/resolver"),e("helpers/playerGlobals")),p=e("helpers/keyManager"),d=null!=u.getAudioInitEvent?u.getAudioInitEvent:i.constant("touchstart");return n.createClass({displayName:"MobileStartOverlay",mixins:[r],stringTitles:{restart:"restart",resume:"resume"},subscriptions:(t={},t[a.request.START]="onMobileStart",t[a.presentation.EXIT_FULLSCREEN]="onExitFullScreen",t[a.presentation.ENTER_FULLSCREEN]="onEnterFullScreen",t),getFocusRefs:function(){this.focusEls=i.values(this.refs)},componentDidMount:function(){this.refs.playIcon.addEventListener(d(),this.onStart),this.htmlReady(function(){l.isTouchableTheme&&null!=this.refs.resume&&(this.refs.resume.addEventListener(d(),this.onStart),this.refs.restart.addEventListener(d(),this.onReset))}.bind(this)),this.el.focus()},setupKeys:function(){l.isClassic||(this.getFocusRefs(),this.idx=-1,p.setKeyIntercept(this.checkKeyEvent),document.addEventListener("mousedown",this.onKillFocus))},onKillFocus:function(){this.getFocusEl()&&this.focusEls[this.idx].classList.remove("start-focus"),this.idx=-1},getFocusEl:function(){return this.focusEl=this.focusEls[this.idx],null!=this.focusEls[this.idx]},checkKeyEvent:function(e,t){this.el.focus(),(t.SPACE||t.ENTER)&&this.getFocusEl()?this.focusEl.classList.contains("restart")?this.onReset():this.onStart():t.TAB&&(this.getFocusEl()&&this.focusEl.classList.remove("start-focus"),this.idx++,e.preventDefault()),this.idx>1&&(this.idx=0),this.getFocusEl()&&(this.focusEl.classList.add("start-focus"),this.focusEl.focus())},getInitialState:function(){return{visible:!1}},onEnterFullScreen:function(){document.body.classList.add("is-fullscreen")},onExitFullScreen:function(){var e;document.body.classList.remove("is-fullscreen"),l.is360&&(l.isPhone||l.isPhonePreview)&&(o.trigger(a.mobile.ENTER_THUMB_VIEW),o.trigger(a.slide.PAUSE_TIMELINE),this.overlay=document.querySelector("#overlay-mobile"),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=0),this.overlay.classList.add("opaque"),this.setState({visible:!0}),this.overlay.style.background="black",null!=(e=document.querySelector("body > .slide-loader"))&&e.parentNode.removeChild(e),this.restarted=!0)},onReset:function(){c.executeAction({kind:"resume_player",resume:!1},{context:h.presentation}),this.onStart()},onMobileStart:function(e){var t;this.rejectDeferred=e.rejectDeferred,this.overlay=document.querySelector("#overlay-mobile"),this.overlay.classList.add("opaque"),t={visible:!0},e.mobileStartAsPrompt&&(t.isResumePrompt=!0),this.setState(t),this.htmlReady(function(){this.getFocusRefs(),this.setupKeys()}.bind(this))},onStart:function(){l.isPhonePreview||(o.trigger(a.loader.UNMUTE),o.once(a.slide.STARTED,function(){this.overlay.classList.remove("opaque")}.bind(this)),this.restarted?(o.trigger(a.mobile.EXIT_THUMB_VIEW),this.uiMobile=document.querySelector(".option-pane"),null!=this.uiMobile&&(this.uiMobile.style.opacity=1),window.requestAnimationFrame(function(){this.overlay.classList.remove("opaque")}.bind(this))):(this.rejectDeferred(),s.init()),this.setState({visible:!1}),p.unsetKeyIntercept(),l.is360&&l.isPhone&&(o.trigger(a.presentation.ENTER_FULLSCREEN),o.trigger(a.slide.PLAY_TIMELINE),this.overlay.style.background="rgba(0, 0, 0, 1)"))}})}),define("views/player/MobileDisabledOrientation",["require","lodash","react","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";e("lodash");var t,i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/events"),s=e("polyfills/detection");return i.createClass({displayName:"MobileDisabledOrientation",mixins:[n],subscriptions:(t={},t[r.detection.ORIENTATION_CHANGE]="onOrientationChange",t),stringTitles:{disabled_orientation:"disabled_orientation"},onOrientationChange:function(){this.setState({forceHide:s.forceHideOrientationWarning})}})}),define("views/player/mixins/fullScreenable",["require","polyfills/detection","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("polyfills/detection"),i=e("helpers/events"),n=e("helpers/pubSub");return{componentDidMount:function(){t.is360&&(t.isTablet||t.isDevicePreview)&&(this.toggleFullScreen=t.data360.toggleFullScreen,this.bodyUpdate())},componentWillUpdate:function(){t.is360&&t.isTablet&&(this.toggleFullScreen=t.data360.toggleFullScreen)},bodyUpdate:function(){var e=t.data360.toggleFullScreen?"add":"remove";document.body.classList[e]("fullscreen-360")},handleFullScreen:function(){this.toggleFullScreen?n.trigger(i.presentation.ENTER_FULLSCREEN):setTimeout(function(){n.trigger(i.presentation.EXIT_FULLSCREEN)},300),t.is360&&t.isTablet&&(this.toggleFullScreen=!this.toggleFullScreen,t.data360.toggleFullScreen=this.toggleFullScreen,this.bodyUpdate())}}}),define("views/player/PlaybackControls",["require","react","views/mixins/baseView","helpers/events","helpers/pubSub","helpers/windowManager","views/player/mixins/fullScreenable","views/player/mixins/appStateable"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/events"),r=e("helpers/pubSub"),s=e("helpers/windowManager"),o=e("views/player/mixins/fullScreenable"),a=e("views/player/mixins/appStateable");return t.createClass({displayName:"PlaybackControls",mixins:[i,o,a],stateableValues:{replay:void 0,pauseplay:void 0,seekbar:void 0},getInitialState:function(){return{timeline:this.props.slide&&this.props.slide.currentTimeline()}},componentWillMount:function(){this.listenTo(this.props.slide,"change:currentTimeline",this.onTimelineChanged),this.listenTo(r,n.timeline.CURRENT_TIMELINE,this.onTimelineForceChanged)},componentDidMount:function(){this.listenTo(this.state.timeline,n.timeline.COMPLETE,this.onTimelineComplete)},componentWillUpdate:function(e){e.slide!==this.props.slide&&(this.stopListening(this.props.slide),this.listenTo(e.slide,"change:currentTimeline",this.onTimelineChanged),this.onTimelineChanged(e.slide,e.slide.currentTimeline()))},componentDidUpdate:function(){this.stopListening(this.state.timeline),this.listenTo(this.state.timeline,n.timeline.COMPLETE,this.onTimelineComplete)},onTimelineComplete:function(){this.forceUpdate()},changeTimeline:function(e){var t=s.getCurrentWindow();null!=t&&t.isMainWindow&&this.setState({timeline:e})},onTimelineChanged:function(e,t){this.changeTimeline(t)},onTimelineForceChanged:function(e){this.changeTimeline(e)}})}),define("views/player/VolumeControls",["require","react","react-dom","helpers/pubSub","helpers/constants","helpers/events","lodash","helpers/appState","views/mixins/baseView","views/mixins/mouseable","views/events/eventHelper"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/pubSub"),r=e("helpers/constants"),s=e("helpers/events"),o=e("lodash"),a=e("helpers/appState"),l=e("views/mixins/baseView"),u=e("views/mixins/mouseable"),c=e("views/events/eventHelper");return t.createClass({displayName:"VolumeControls",mixins:[l,u],getTabbableItems:function(){return[o.assign(this,{idx:r.tabIndices.VOLUME,indexGroupName:"PlayerControlButton"})]},componentDidMount:function(){var e=this.find(".volume");this.registerEvent("releaseoutside",this.onHide,e),this.registerEvent("clickoutside",this.onHide,e),n.on(s.volume.CHANGED,this.onChangeVol)},onChangeVol:function(e){this.setState({volumeStrength:e})},componentDidUpdate:function(e,t){t.isOpen!==this.state.isOpen&&this.state.tabFocused&&this.stealFocus()},getInitialState:function(){return{isOpen:!1,volumeStrength:a.currentVolume()}},stringTitles:{volume:"acc_volume"},onHide:function(){this.hideSlider()},onClick:function(e){c.isSpacebarClick(e)||this.toggleSlider()},onInputChange:function(e){this.changeVolume(e.target.valueAsNumber)},showSlider:function(){this.setState({isOpen:!0})},hideSlider:function(){this.setState({isOpen:!1})},toggleSlider:function(){this.setState({isOpen:!this.state.isOpen})},changeVolume:function(e){n.trigger(s.volume.CHANGED,e)},stealFocus:function(){var e=this.state.isOpen;this.setState({tabFocused:!0}),this.focusedEl=this.find(e?"input":"button"),this.focusedEl.focus()},releaseFocus:function(){this.setState({tabFocused:!1,isOpen:!1}),this.focusedEl.blur(),this.focusedEl=null},treeKeyCallback:function(e,t){var n=t?"stepDown":"stepUp",r=i.findDOMNode(this.refs.volumeRange);if(this.state.isOpen){try{r[n]()}catch(e){}return this.changeVolume(r.valueAsNumber),!0}return!1},actionKeyCallback:function(){this.showSlider()}})}),define("views/player/SlideRelatedActions",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants");return t.createClass({displayName:"SlideRelatedActions",mixins:[i],getChildProps:function(){return{ref:"relativeNavControls",isRtl:this.props.isRtl,slide:this.props.slide,windowId:this.props.windowId||n.refs.FRAME,lightboxed:this.props.lightboxed}}})}),define("views/player/SubmitAllButton",["require","react","views/mixins/baseView","helpers/constants","helpers/events","lodash","views/helpers/dom","helpers/pubSub"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/constants"),r=e("helpers/events"),s=e("lodash"),o=e("views/helpers/dom"),a=e("helpers/pubSub");return t.createClass({displayName:"SubmitAllButton",mixins:[i],stringTitles:{submitall:"submitall"},onTouchStart:function(e){o.tappedClass(e.currentTarget)},triggerSubmitAll:function(){this.props.slide.storeInteractionResults(),a.trigger(r.presentation.ON_OBJECT_EVENT,"submitall_pressed")},getTabbableItems:function(){var e=this.refs.btn;return e.dsFocusController=this,[s.assign(e,{idx:n.tabIndices.SUBMIT_ALL,indexGroupName:"SlideControlButton"})]},stealFocus:function(){this.refs.btn.focus()},releaseFocus:function(){this.refs.btn.blur()}})}),define("views/player/CaptionBtn",["require","react","helpers/pubSub","helpers/constants","helpers/captionsManager","lodash","helpers/events","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("helpers/constants"),r=e("helpers/captionsManager"),s=e("lodash"),o=e("helpers/events"),a=e("views/mixins/baseView");return t.createClass({displayName:"CaptionBtn",mixins:[a],getInitialState:function(){return{enabled:r.isCaptionButtonToggled()}},componentWillMount:function(){i.on(o.captions.ENABLED,this.onCaptionsEnabled)},componentWillUnmount:function(){i.off(o.captions.ENABLED,this.onCaptionsEnabled)},onCaptionsEnabled:function(e){this.setState({enabled:e})},stringTitles:{caption:"acc_closed_captions"},getTabbableItems:function(){return[s.assign(this,{idx:n.tabIndices.CAPTIONS,indexGroupName:"PlayerControlButton"})]},toggleCaption:function(){i.trigger(o.captions.ENABLE,!this.state.enabled)},actionKeyCallback:function(){return this.toggleCaption(),!0}})}),define("views/player/FullscreenBtn",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"FullscreenBtn",mixins:[i]})}),define("views/player/MobileSearchButton",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"MobileSearchButton",mixins:[i]})}),define("views/presentation/VectorText",["require","lodash","react","helpers/svg/svgUtils","views/mixins/baseView","polyfills/vendorOverrides"],function(e){"use strict";e("lodash");var t=e("react"),i=e("helpers/svg/svgUtils"),n=e("views/mixins/baseView");e("polyfills/vendorOverrides");return t.createClass({displayName:"VectorText",mixins:[n],getInitialState:function(){var e=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),t=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:e,curCommandsetId:e,defaultPathLib:t,curPathLib:t}},renderAs:function(e,t){var i=t||this.defaultCommandsetId,n=e||this.defaultPathLib;this.setState({curCommandsetId:i,curPathLib:n})},onClickCallback:function(e){return this.trigger("textHit",e),this},onOverCallback:function(e){return this.trigger("textOver",e),this},onOutCallback:function(e){return this.trigger("textOut",e),this},getTransform:function(){return[i.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),i.transformTranslate(this.props.originX,this.props.originY)].join(" ")}})}),define("views/helpers/variableTextHelper",["require","lodash","helpers/resolver","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/utils"),r=/(%[^%^\^^\s]+%)/g,s=/\.\$/g,o=/^\$/,a=/%/g,l=/\s+$/g,u=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],c=function(e){return t.isNumber(e)?n.fix(e,2):e},h=function(e){return u.reduce(function(e,t){return e.replace(t.find,t.replace)},e)},p=function(e,n){var r,l,u,h,p,d,f=e.replace(a,""),m=i.resolvePath(f,n,{optional:!0});return m||f.search(s)>-1?(i.isPropRef(f)?(r=function(e){return c(i.resolvePath(f,e))},h=f.split("."),p=t.initial(h).join("."),d=t.last(h).replace(o,""),l=function(e,t){var n=i.resolvePath(p,e).playerProps,r="change:"+d;return n.on(r,t),function(){n.off(r,t)}}):(r=function(){return c(m.value())},u=m,l=function(e,t){return u.on("change",t),function(){u.off("change",t)}}),{builder:r,on:l}):{builder:t.constant(e)}};return{parseTemplate:function(e,i){if(null==e)return{updateString:t.constant(""),addListeners:t.constant(t.noop)};var n=e.split(r),s=[],o=[],a={};return n.length<=1?{updateString:t.constant(h(e)),addListeners:t.constant(t.noop)}:(n.forEach(function(e,n){var r,l;n%2==1?(l=(r=p(e,i)).on,s.push(r.builder),null!=l&&null==a[e]&&(a[e]=!0,o.push(l))):t.isEmpty(e)||s.push(t.constant(h(e)))}),{updateString:function(e){return t=s.map(function(t){return t(e)}).join(""),(i=t.split("\n")).map(function(e,t){return t<i.length-1?e.replace(l,"")+"\n":e}).join("");var t,i},addListeners:function(e,t){var i=o.map(function(i){return i(e,t)});return function(){i.forEach(function(e){e()})}}})}}}),define("views/presentation/VariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/cssPrefix","polyfills/detection"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),r=e("react"),s=(e("backbone"),e("views/mixins/baseView")),o=e("views/helpers/dom"),a=(e("helpers/resolver"),e("helpers/svg/svgUtils")),l=e("views/helpers/variableTextHelper"),u=e("helpers/cssPrefix"),c=(e("polyfills/detection"),/<\/?html>/g),h=/font-family:(.*?);/g,p=(u.kebabCase("transform"),u.kebabCase("transform-origin"),{top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"}),d=(t=/^event:/,function(e){return t.test((e.href||"").trim())});return r.createClass({displayName:"VariableText",mixins:[s],initialVisibility:!1,getInitialState:function(){this.knownSize=this.props.model.height(),this.origTemplate=this.props.model.vartext();var e=l.parseTemplate(this.origTemplate);return this.listenToVarChanges=e.addListeners,this.updateVarText=e.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){var e;this.setState({valignClass:(e=this.props.model,p[e.get("valign")])}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(e,t){(e.isSlideObject||e.isSlideLayer)&&this.listenTo(e,{shown:i.partial(this.onAncestorShown,t),hidden:i.partial(this.onAncestorHidden,t)})}.bind(this))},componentDidUpdate:function(){this.setupValues().checkShouldFitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(e){this.ancestors[e]=!0,this.checkShouldFitText()},onAncestorHidden:function(e){this.ancestors[e]=!1},setDefaultFont:function(e){return e.replace(h,"font-family:$1, sans-serif;")},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font, span"),this.fonts.forEach(function(e){e.setAttribute("data-original-size",e.style.fontSize),e.setAttribute("data-original-line-height",e.style.lineHeight),e.style.maxWidth=n.pxify(this.props.model.width()),this.knownSize=e.style.fontSize}.bind(this)),this},stripTags:function(e){return e.replace(c,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(e){e.preventDefault();var t,n=o.closest(e.target,d);n&&this.trigger("textHit",(t=n.href,i.last((t||"").split(":"))))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars().replace(/\n/g,"<br />")})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(i.identity)&&this.fitText(),this},fitText:function(){var e=this.refs.textLibContentWrap,t=this.findAll("font, span"),i=this.findAll("p"),r=this.props.model.height(),s=0,o={};for(i.forEach(function(e){0===e.innerText.length&&(e.style.minHeight="1em")});s<30&&e.scrollHeight-r>10;)t.forEach(function(e,t){var i,r,a,l=parseFloat(e.getAttribute("data-original-size")||this.knownSize),u=parseFloat(e.getAttribute("data-original-line-height")||1.2*this.knownSize)/l;null==o[t]&&(o[t]=l),i=n.clamp(2,5,l/9),o[t]-=i,r=n.pxify(o[t]),e.style.fontSize=r,a=o[t]*u,e.style.lineHeight=n.pxify(a),s++}.bind(this))},getInnerProps:function(){var e={};return e[this.cssTransformOrigin]=[n.pxify(this.props.originX),n.pxify(this.props.originY)].join(" "),e[this.cssTransform]=[a.transformRotate(this.props.rotDeg+"deg"),a.transformTranslate(n.pxify(this.props.originX),n.pxify(this.props.originY))].join(" "),e}})}),define("helpers/svg/vectorTextHelper",["require","lodash","helpers/Iterable","helpers/constants","helpers/utils","helpers/svg/svgUtils","helpers/TransMatrix","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/Iterable"),n=(e("helpers/constants"),e("helpers/utils")),r=e("helpers/svg/svgUtils"),s=e("helpers/TransMatrix"),o=e("polyfills/detection"),a=function(e){return 1-e/100},l=function(e,i){e.fontSize;return t.mapValues(t.pick(e,["ascent","descent","leading","underlinePosition","underlineThickness"]),n.multiply(a(i)))},u={single:t.identity,singlePt5:n.multiply(1.5),double:n.multiply(2),atLeast:function(e,t,i){return Math.max(e,t)*a(i)},exactly:function(e,t){return x(t)},multiple:function(e,t){return e*(t/20)},percent:n.multiply};u.mulipleTopAligned=u.multiple;var c=function(e){return[e,"sans-serif"].join(",")},h={leftToRight:"ltr",rightToLeft:"rtl"},p={leftToRight:"lr-tb",rightToLeft:"rl-tb"},d=function(e){return{direction:h[e.flowDirection]}},f=function(e){var t="normal"===e.elevation?1:.6;return e.fontSize*t},m="["+["0020","00a0","1680","180e","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","200a","200b","202f","205f","3000","feff"].map(function(e){return["\\u",e].join("")}).join("|")+"]",g=new RegExp(m),v=g.test.bind(g),y={},b=r.createElement("svg"),w=r.createElement("text");t.extend(b.style,{left:0,position:"fixed",top:0,visibility:"hidden",whiteSpace:"pre"}),w.setAttribute("text-rendering","geometricPrecision"),b.appendChild(w),document.body.appendChild(b);var S={},x=function(e){return e*(16/12)},T=t.flow(x,n.multiply(.5)),E=function(e,t,i,n,r,s){var o=t.fontFamily,a=t.fontStyle,l=t.fontWeight,u=t.textTransform,c=parseFloat(t.fontSize),h=[i?[n,e,r].join(""):e,o,a,l,u];return s||h.push(c),h},A=function(e,i){w.setAttribute("style",""),t.extend(w.style,i,{fontFeatureSettings:'"liga" 1',textAnchor:"start",whiteSpace:"pre"}),w.textContent=e},C=function(e,i,n,r,s){var o=E(e,i,n,r,s,!1),a=t.get(S,o);return null==a&&(A(n?[r,e,s].map(function(e){return null==(t=e)||0===t.length||(null!=y[t]?y[t]:(w.textContent=t,y[t]=0===w.getNumberOfChars()))?"​":e;var t}).join(""):e,i),0===(a=n?w.getSubStringLength(1,1):w.getComputedTextLength())&&(w.textContent="."+e+".",a=w.getSubStringLength(1,1)),t.set(S,o,a)),a},P=function(e,t,i,r,s){var o=parseFloat(t.fontSize),a=E(e,t,i,r,s,!0),l=n.getPath(S,a,{}),u=Object.keys(l)[0];return null==u?C(e,t):null!=l[o]?l[o]:l[u]*(o/u)},_=function(e,t){var i,n=e.char,r=e.lineWidth,s=e.isCursive,o=s?0:e.letterSpacing||0,a=e.domStyle,l=(t?P:C)(n,a,s,e.lastChar,e.nextChar);return r+=l,{dx:i=x(o),lineWidth:r+=i,width:l}},I=function(e,t,i){var n,r=T(e.leadingMargin),s=T(e.firstLineMargin),o=T(e.trailingMargin);return t&&(i?s<0?(s=r-s,r=0):(n=Math.min(r,s),s=Math.max(r,s),r=n):r=s),{leadingMargin:r,trailingMargin:o,firstLineMargin:s,widthOffset:(i&&t?s:r)-o}},k=function(e){var r,s=e.blockIdx,o=e.baseSpanStyle,p=e.width,m=e.idx,g=e.estimate,y=e.wrapText,b=e.domStyle,w=e.spans,S=w.length,T=e.runs,E=e.blockStyle,A=e.fontSizeShrink,C=e.isList,P="rightToLeft"===E.flowDirection,k=T.some(function(e){return e.flowDirection!==E.flowDirection}),R=e.y,O=0,M=m,L=x(E.spacingBefore),D=x(E.spacingAfter),N=function(){var e=T[O++];return null!=e?{end:e.idx+e.len-1,flowDirection:e.flowDirection,isCursive:e.cursive}:{}},V=N();return R+=L,r=new i(regeneratorRuntime.mark(function e(){var r,l,u,x,T,R,O,L,D,j,B,H,q,G,W,z,Y,X,Q,K,Z,J,$,ee,te,ie,ne,re,se,oe,ae,le,ue,ce,he,pe,de,fe;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T=U(),(R=function(e,t,i){t=t||m;var n=r,o=I(E,e,C),a=o.leadingMargin,c=o.trailingMargin,h=o.widthOffset;return null!=i&&n.spans.push(i),r={charIdx:t,chars:[],spans:[],isBiDi:k,isFirst:e,isRtl:P,isLast:!1,blockStyle:E,blockIdx:s,domStyle:b,marginLeft:P?c:a,marginRight:P?a:c,width:p-h},u=0,x=0,l=-1,n})(!0),O=0;case 3:if(!(O<S)){e.next=58;break}L=w[O],D=L.text,j=D.length,(B=t.extend({},o,L.style)).fontSize=Math.max(1,B.fontSize*a(A)),H={direction:h[(me=B).flowDirection],fill:null==me.linkId?me.foregroundColor:me.linkColor,fontFamily:c(me.fontFamily),fontSize:n.ptify(f(me)),fontStyle:me.fontIsItalic?"italic":"normal",fontWeight:me.fontIsBold?"bold":"normal",textTransform:"upper"===me.displayCase?"uppercase":"none"},z=0;case 8:if(!(z<j)){e.next=54;break}if(Y=D[z],X=v(Y),Q=!1,K=!1,Z=Y,J=z>0?D[z-1]:null,$=z<j-1?D[z+1]:null,G=v(J)?G:J,m-M>V.end&&(V=N()),te=d({flowDirection:V.flowDirection}),t.includes(["\r","\n"],Y)?(K="\r"===Y||"\r"!==G&&"\n"===Y&&z<j-1,Z=Y=" ",X=!0,Q=!0):X&&(l=r.chars.length),W=t.extend({},E.domStyle,H),ie=_({char:Z,lineWidth:u,letterSpacing:x,isCursive:V.isCursive,domStyle:W,lastChar:J,nextChar:$},g),ee=ie.dx,u=ie.lineWidth,q=ie.width,X||0!==q||!(r.chars.length>0)){e.next=23;break}t.last(r.chars).content+=Y,e.next=44;break;case 23:if(!y||X){e.next=43;break}case 24:if(!(r.chars.length>0&&u>r.width&&(u=F({line:r,lineWidth:u,letterSpacing:x,style:W,nextChar:{content:Z,width:ie.width}},T))>r.width)){e.next=43;break}if(U(T),-1===l){e.next=39;break}return ne=l+1,re=r.chars.splice(ne),se=re.length,null==(oe=new i(re).map(function(e){return e.idx}).compact().first())&&(oe=m),e.next=31,R(!1,oe,B);case 31:for(r.chars.push.apply(r.chars,re),ae=0;ae<se;ae++)le=re[ae],ue=le.spanStyle,ce=le.domStyle,he=le.content,pe=ae>0?re[ae-1].content:null,de=ae<se-1?re[ae+1].content:null,fe=_({char:he,lineWidth:u,letterSpacing:x,isCursive:V.isCursive,domStyle:t.extend({},b,ce),lastChar:pe,nextChar:de},g),u=fe.lineWidth,x=ue.spacing,le.dx=fe.dx;ie=_({char:Z,lineWidth:u,letterSpacing:x,isCursive:V.isCursive,domStyle:t.extend({},b,H),lastChar:J,nextChar:$},g),ee=ie.dx,u=ie.lineWidth,q=ie.width,e.next=41;break;case 39:return e.next=41,R(!1,m,B);case 41:e.next=24;break;case 43:r.chars.push({content:Y,dx:ee,idx:m,isNewLine:Q,isRtl:"rightToLeft"===V.flowDirection,isCursive:V.cursive,spanStyle:B,domStyle:H,runDomStyle:te,width:q});case 44:if(z===j-1&&F({line:r,lineWidth:u,letterSpacing:x,style:W},T),m++,x=B.spacing,!K){e.next=51;break}return U(T),e.next=51,R(!0,m,B);case 51:z++,e.next=8;break;case 54:r.spans.push(B);case 55:O++,e.next=3;break;case 58:return r.isLast=!0,e.next=61,r;case 61:case"end":return e.stop()}var me},e,this)})).filter(function(e){return e.spans.length>0}).map(function(e){var i,n,r,s,o,a,c=l(e.spans[0],A),h=c.ascent,p=c.descent,d=c.leading,f=c.underlinePosition,m=c.underlineThickness;return e.spans.forEach(function(e){var t=l(e,A);h=Math.max(h,t.ascent),p=Math.max(p,t.descent),d=Math.max(d,t.leading),f=Math.min(f,t.underlinePosition),m=Math.max(m,t.underlineThickness)}),o=i=h+p,a=A,n=u[(s=E).lineSpacingRule](o,s.lineSpacing,a),r=0===i?1:n/i,t.extend(e,{ascent:h,descent:p,leading:d,underlinePosition:f,underlineThickness:m,y:R+Math.floor(h*r)}),R+=(h+p+d)*r,e}).toArray(),{y:R+=D,lines:r,isBlockRtl:P}},R=t.constant([[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]]),O=t.memoize(function(){return R().map(function(e){return[e[0],e[1].toLowerCase()]})}),M=t.curry(function(e,t){var i=[],n=t;return e().forEach(function(e){for(var t=e[0],r=e[1];n%t<n;)i.push(r),n-=t}),i.join("")}),L=t.curry(function(e,i){var n=i-1;return t.repeat(String.fromCharCode(n%26+e.charCodeAt(0)),Math.floor(n/26)+1)}),D={none:t.constant(""),bullet:function(e,t){return String.fromCharCode(t.bulletChar)},listNumberedAsArabic:t.identity,listNumberAsUCRoman:M(R),listNumberAsLCRoman:M(O),listNumberAsUCLetter:L("A"),listNumberAsLCLetter:L("a")},N={plain:"",parentheses:")",minus:" -",period:"."},V=function(e,t){return[(n=e,r=t,D[r.listType](n,r)),(i=t,["none","bullet"].includes(i.listType)?"":N[i.listTypeFormat])].join("");var i,n,r},j=function(e,i,r,s,o,l,u){if(!J(e,i))return null;var h,p,f,m,g,v,y=e.spans,b=r.listStyle,w=r.baseSpanStyle,S=i.listLevel,x=l[S]||0,T=t.extend({},b,i.listStyle),E="rightToLeft"===i.flowDirection;return x=0===x?Math.max(1,T.start):x+1,(p=t.extend({},w,y[0].style)).fontSize=Math.max(1,p.fontSize*a(o)),v=p,f={fill:(g=T).color||v.foregroundColor,fontFamily:c("bullet"===g.listType?g.bulletFont:v.fontFamily),fontSize:n.ptify(v.fontSize*n.pctToDec(g.size)),fontStyle:"normal",fontWeight:"normal",textTransform:"none"},m=d({flowDirection:i.flowDirection}),{listLevel:S,listNum:x,bulletChars:(h=B(x,T,t.extend({},s,f),p,m,E,u)).chars,bulletWidth:h.width}},B=function(e,i,n,r,s,o,a){var l,u,c,h,p=V(e,i),d=[],f=0,m=0;o&&(p=p.split("").reverse().join(""));for(var g=0;g<p.length;g++)l=p[g],c=(u=_({char:l,lineWidth:m,domStyle:n},a)).dx,m=u.lineWidth,h=u.width,d.push({content:l,dx:c,isBulletChar:!0,isRtl:o,spanStyle:t.extend({},r,{fontIsStrikeout:!1,fontIsUnderline:!1}),domStyle:n,runDomStyle:s,width:h}),f+=h+c;return{chars:d,width:f}},F=function(e,i){var n=e.line,r=e.lineWidth,s=e.letterSpacing,o=e.style,a=e.nextChar,l=i.charIdx,u=i.width,c=n.chars.slice(l),h=c.length,p=null!=a,d=void 0,f=void 0;return 0!==s?(Object.assign(i,{charIdx:n.chars.length,width:r}),r):(p&&(c.push(a),h++),A("​"+c.map(function(e){return e.content}).join("")+"​",o),u+=w.getSubStringLength(1,c.length),d=w.getEndPositionOfChar(0).x,t.range(1,h+1).forEach(function(e,t){f=w.getEndPositionOfChar(e).x,c[t].width=f-d,d=f}),Object.assign(i,{charIdx:l+h-(p?1:0),width:u-(p?t.last(c).width:0)}),u)},U=function(e){return Object.assign(e||{},{charIdx:0,width:0})},H=function(e,t){var i=e.runs.reduce(function(e,t){return e+t.spans.reduce(function(e,t,i){return e+q(t,0===i)},0)},0);return e.charX=i+t,e},q=function(e,i){return 0===t.last(e.dx)?(w.setAttribute("style",""),w.setAttribute("text-rendering","geometricPrecision"),t.extend(w.style,e.domStyle,{fontFeatureSettings:'"liga" 1',whiteSpace:"pre"}),w.textContent="​"+e.content.join("")+"​",t.first(e.dx)+w.getComputedTextLength()):t.first(e.dx)+(t.last(e.xs)+t.last(e.widths)+t.last(e.dx))-t.first(e.xs)};o.isIE()?H=function(e){return e}:(F=function(e){return e.lineWidth},U=function(){});var G={left:0,right:1,center:.5,justify:0,leading:0,trailing:1},W={normal:t.identity,subscript:function(e,t){return e+t/2},superscript:function(e,t,i){return e-i+t}},z=t.restParam(function(e,t){return W[e].apply(null,t)}),Y=t.ary(t.partialRight(t.pick,["fill","stroke","y"]),1),X=function(e){var i=e.lines,n=e.curr,r=e.next,s=e.x,o=t.omit(e,["lines","curr","next","x"]),a=t.last(i),l=n!==r,u=null!=a&&!t.isEqual(Y(a),Y(o));null!=a&&(l&&!r||u)&&null==a.x2&&(a.x2=s),(l||u)&&r&&i.push(t.extend({x1:s},o))},Q=function(e){var n=e.ascent,r=e.blockIdx,s=e.descent,o=e.isBiDi,a=e.isLast,l=e.isRtl,u=e.marginLeft,c=e.domStyle,h=e.underlinePosition,p=e.underlineThickness,d=e.width,m=e.y,g=e.blockStyle.flowDirection,y=e.blockStyle.justification,b=e.charIdx,w=Math.abs(G[y]-("leftToRight"===g?0:1)),S=e.chars,x=S.reduce(function(e,t,i){var n=t.content,r=e.trailingSpaceIdx;return v(n)?0!==i&&v(S[i-1].content)||(r=i):r=i+1,{charX:e.charX+t.dx+t.width,trailingSpaceIdx:r}},{charX:0,trailingSpaceIdx:-1}),T=x.charX,E=x.trailingSpaceIdx,A=null!=E?t(S).slice(E).reduce(function(e,t){return e+t.dx+t.width},0):0,C=d-T+A,P=C*w-(l?A:0),_=t(S).slice(0,E).reduce(function(e,t){return e+(v(t.content)?1:0)},0),I="justify"===y&&!o&&!a,k=I?C/_:0,R=[],O=[],M=(I?function(e){return e}:H)(new i(S).flatMap(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}R.unshift(t),e.next=6;break;case 4:return e.next=6,t;case 6:if(i!==S.length-1){e.next=8;break}return e.delegateYield(R,"t0",8);case 8:case"end":return e.stop()}},e,this)})).flatMap(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isRtl===l){e.next=4;break}O.unshift(t),e.next=9;break;case 4:if(!(O.length>0)){e.next=7;break}return e.delegateYield(O,"t0",6);case 6:O=[];case 7:return e.next=9,t;case 9:if(!(i===S.length-1&&O.length>0)){e.next=11;break}return e.delegateYield(O,"t1",11);case 11:case"end":return e.stop()}},e,this)})).reduce(function(e,i,r){var o,a=i.content,u=i.dx,c=i.idx,d=i.isBulletChar,g=i.isRtl,y=i.isNewLine,b=i.runDomStyle,w=i.spanStyle,S=w.backgroundColor,x=w.elevation,T=w.fontIsUnderline,A=w.fontIsStrikeout,C=w.shadow,P=w.underlineThickness,_=w.xHeight,I=w.linkId,R=i.domStyle,O=R.fill,M=R.fill,L=i.width,D=f(w),N=!d&&!y,V=null!=S&&""!==S&&N,j=!!T&&N,B=!!A&&N,F=null!=C,U=r>=E,H=e.charX,q=e.hasBackground,G=e.hasShadow,W=e.linkId,Y=e.letterSpacing,Q=e.isStrikeThrough,K=e.isUnderlined,Z=e.elevation,J=(l?t.first:t.last)(e.runs),$=(g?t.first:t.last)(t.get(J,"spans")),ee=l?"unshift":"push",te=g?"unshift":"push";return F&&(e.anyShadows=!0),null!=J&&t.isEqual(b,J.domStyle)||(J={isRtl:g,domStyle:b,spans:[]},e.runs[ee](J),$=void 0),null!=$&&Z===x&&Y===w.spacing&&G===F&&i.idx!==E&&W===I&&t.isEqual(R,$.domStyle)||($={charIdx:c,content:[],dx:[],hasShadow:F,idxs:[],isNewLine:[],isTrailingSpace:U,domStyle:R,widths:[],xs:[],y:z(x,m,D,n),linkId:I},J.spans[te]($)),v(a)&&0!==k&&(u+=k,i=t.extend({},i,{dx:u})),$.content[te](a),$.dx[te](u),$.idxs[te](c),$.isNewLine[te](y),$.widths[te](L),$.xs[te](H),$.charIdx=Math.min($.charIdx,c),o=$.y,X({lines:e.strikethroughs,curr:Q,next:B,x:H+u,y:o-_/2,stroke:O,strokeWidth:P}),X({lines:e.underlines,curr:K,next:j,x:H+u,y:o-h,stroke:M,strokeWidth:p}),X({lines:e.backgrounds,curr:q,next:V,x:H+u,y:m-n,height:n+s,fill:S}),X({lines:e.linkBackgrounds,curr:null!=W,next:null!=I,x:H+u,y:m-n,height:n+s,linkId:I}),t.extend({},e,{charX:H+i.dx+i.width,hasBackground:V,hasShadow:F,letterSpacing:w.spacing,isStrikeThrough:B,isUnderlined:j,elevation:x,linkId:I})},{linkBackgrounds:[],backgrounds:[],charX:u,hasBackground:!1,hasShadow:!1,isStrikeThrough:!1,isUnderlined:!1,anyShadows:!1,trailingSpaceIdx:-1,runs:[],strikethroughs:[],underlines:[]}),u),L=M.linkBackgrounds,D=M.backgrounds,N=M.runs,V=M.strikethroughs,j=M.underlines,B=M.anyShadows,F=M.charX;return{anyShadows:B,ascent:n,linkBackgrounds:L,backgrounds:D,blockIdx:r,charIdx:b,descent:s,isBiDi:o,isRtl:l,lineWidth:F,lineXOff:P,runs:N,strikethroughs:V,domStyle:c,trailingSpaceIdx:E,underlines:j,x:P+u+(F-u)/2,y:m}},K=function(e,t){return{maxLineWidth:Math.max(e.maxLineWidth,t.lineWidth),minLineXOff:Math.min(e.minLineXOff,t.lineXOff),lines:e.lines.concat([t])}},Z={top:0,center:.5,bottom:1},J=function(e,t){return null!=t.listStyle&&"none"!==t.listStyle.listType&&0!==e.spans.length&&!(1===e.spans.length&&"\n"===e.spans[0].text)},$=function e(r){var o,a,l,u,c,d,f,m,g,v,y,b=r.estimate,w=r.final,S=0,x=0,T=r.blocks,E=r.lastShrinkStep,A=r.defaultBlockStyle,C=A.baseSpanStyle,P=r.direction,_=r.textFontSizeShrink||0,R=r.scaleAttempt||0,O=Math.abs(r.width),M=Math.abs(r.height),L={};if("horizontal"!==P){var D=O;O=M,M=D}if(0===T.length)return{textLines:[],maxLineWidth:0,textMtx:new s};if(c=new i(T).flatMap(regeneratorRuntime.mark(function e(i,r){var s,o,a,l,u,c,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.spans,o=i.runs,a=t.extend({},A,i.style),l={direction:h[(q=a).flowDirection],textAnchor:"middle",writingMode:p[q.flowDirection]},u=j(i,a,A,l,_,L,b),c=null!=u?u.bulletWidth:0,f=k({blockStyle:a,blockIdx:r,baseSpanStyle:C,estimate:b,fontSizeShrink:_,idx:x,isList:null!=u,runs:o,domStyle:l,spans:s,width:O,wrapText:!0,y:S,bulletWidth:c}),S=f.y,x=f.idx,d=f.lines,null==u){e.next=10;break}return L[u.listLevel]=u.listNum,e.delegateYield((m={bulletChars:u.bulletChars,bulletWidth:c,lines:d,rtl:f.isBlockRtl},g=void 0,v=void 0,y=void 0,w=void 0,T=void 0,E=void 0,P=void 0,R=void 0,void 0,void 0,N=void 0,void 0,void 0,void 0,U=void 0,H=void 0,M=m.bulletChars,D=m.bulletWidth,N=m.lines||[],V=N[0],B=n.getPath(V,"chars.length",0),F=B>0&&V.isRtl!==V.chars[0].isRtl,U=F?t.last:t.first,H=F?t.initial:t.tail,B>0&&(g=V.blockStyle,T=(w=I(g,!0,!0)).firstLineMargin-w.leadingMargin-D,v=U(V.chars),v=Object.assign({},v,{dx:Math.max(v.dx,v.dx+T)}),y=H(V.chars),N=[t.extend({},V,{width:V.width+T+(m.rtl?D:0),chars:(E=M,P=v,R=y,F?E.concat(R).concat(P):E.concat(P).concat(R))})].concat(N.slice(1))),N),"t0",8);case 8:e.next=11;break;case 10:return e.delegateYield(d,"t1",11);case 11:case"end":return e.stop()}var m,g,v,y,w,T,E,P,R,M,D,N,V,B,F,U,H,q},e,this)})).map(Q).reduce(K,{maxLineWidth:0,minLineXOff:1/0,lines:[]}),R<=30){if((m=Math.floor(S)>M)||R>0&&E>1)return d=0===R?16:m?E:E/2,f=m?_+d:_-E+d,e(t.extend({},r,{textFontSizeShrink:f,estimate:!w,final:w,shrinking:!0,scaleAttempt:R+1,lastShrinkStep:d}));if(b)return e(t.extend({},r,{estimate:!1,final:!0,scaleAttempt:0}))}return o=c.maxLineWidth,a=c.minLineXOff,l=c.lines,g=M,v=S,y=Z[r.valign],u=(new s).translate(0,g*y).translate(0,-v*y),{textLines:l,textHeight:S,minTextLineXOff:a,maxTextLineWidth:o,textMtx:u}};return{parseVectorText:function(e,t){var i=e.width(),n=e.height(),r=e.valign();return $({estimate:!1,final:!1,shrinking:!1,blocks:t.blocks,direction:t.direction,defaultBlockStyle:t.defaultBlockStyle,width:i,height:n,valign:r})}}}),define("views/presentation/RichVariableText",["require","lodash","helpers/utils","react","backbone","views/mixins/baseView","views/helpers/dom","helpers/resolver","helpers/svg/svgUtils","views/helpers/variableTextHelper","helpers/svg/vectorTextHelper","helpers/cssPrefix","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=(e("backbone"),e("views/mixins/baseView")),s=(e("views/helpers/dom"),e("helpers/resolver"),e("helpers/svg/svgUtils")),o=e("views/helpers/variableTextHelper"),a=e("helpers/svg/vectorTextHelper"),l=e("helpers/cssPrefix");e("polyfills/detection"),l.kebabCase("transform"),l.kebabCase("transform-origin");return n.createClass({displayName:"RichVariableText",mixins:[r],getInitialState:function(){return this.parseTemplate(),this.parseVars()},componentWillMount:function(){this.shadowFilterId=t.uniqueId("text-shadow-filter-"),this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(e,i){(e.isSlideObject||e.isSlideLayer)&&this.listenTo(e,{shown:t.partial(this.onAncestorShown,i),hidden:t.partial(this.onAncestorHidden,i)})}.bind(this))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(e){this.ancestors[e]=!0},onAncestorHidden:function(e){this.ancestors[e]=!1},parseVars:function(){var e=this.props.model;return a.parseVectorText(e,this.updateVarText(e))},onClick:function(e){e.preventDefault();var t=e.target.getAttribute("data-linkid");null!=t&&this.trigger("textHit",t)},onMouseOver:function(e){var t=e.target.getAttribute("data-linkid");null!=t&&this.setState({cursor:"pointer",hoverId:t})},onMouseOut:function(e){var t=null!=e.relatedTarget&&e.relatedTarget.getAttribute("data-linkid");this.setState({cursor:null==t?null:"pointer",hoverId:t})},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState(this.parseVars())}.bind(this)),this},getInnerProps:function(){return{transformOrigin:[this.props.originX,this.props.originY].join(" "),transform:[s.transformTranslate(this.props.originX,this.props.originY),s.transformRotate(this.props.rotDeg),this.state.textMtx.toCssTransform(!0)].join(" "),cursor:this.state.cursor}},parseTemplate:function(){this.origTemplate=this.props.model.vartext();var e=this.origTemplate.blocks.reduce(function(e,n){var r=n.spans.reduce(function(e,i){var n=o.parseTemplate(i.text);return e.addListeners.push(n.addListeners),e.updateString.push(function(){return t.extend({},i,{text:n.updateString.apply(null,arguments)})}),e},{addListeners:[],updateString:[]});return e.addListeners=e.addListeners.concat(r.addListeners),e.updateString.push(function(){return t.extend({},n,{spans:i.juxt(r.updateString).apply(null,arguments)})}),e},{addListeners:[],updateString:[]});this.listenToVarChanges=function(){var t=i.juxt(e.addListeners).apply(null,arguments);return i.juxt(t)},this.updateVarText=function(){return t.extend({},this.origTemplate,{blocks:i.juxt(e.updateString).apply(null,arguments)})}},getLinkColor:function(e){return i.hexify(i.getPath(t.first(this.props.model.linkdata().filter(function(t){return t.get("id")===e})).get("fill"),"colors[0].rgb"))}})}),define("helpers/svg/svgBuilder",["require","lodash","helpers/svg/svgUtils","helpers/utils","react","polyfills/vendorOverrides","views/presentation/VectorText","views/presentation/VariableText","views/presentation/RichVariableText"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/utils"),r=e("react"),s=e("polyfills/vendorOverrides"),o={vectorText:e("views/presentation/VectorText"),variableText:e("views/presentation/VariableText"),richVariableText:e("views/presentation/RichVariableText")},a=function(e){return e.join("")},l={"xlink:href":"xlinkHref"},u=("image rect ellipse path".split(" "),function(e){return e?t.isString(e)?e:e.map(i.buildTransformFromConfigFn).join(" "):""}),c={transform:u,gradientTransform:u,patternTransform:u},h=function(e){return t.isArray(e)?e.join(","):e},p=function(e){return!1!==e.nodeType},d=function(e,t){return"text"===e&&"tspan"===n.getPath(t,"children[0].nodeType")},f=function(e,i){if(!p(e))return"";if(null==e.nodeType)return e;var u,m,g,v,y,b,w,S,x,T,E,A=o[e.nodeType]||e.nodeType,C=t.omit(e,"children","nodeType");return u=t.transform(C,function(e,t,i){-1===i.indexOf("data-")&&/-/g.test(i)&&(i=n.camelCaseAttr(i));var r=c[i]||h;e[l[i]||i]=r(t)},{}),"tspan"===A&&(u["aria-hidden"]=!0),null!=i&&(u.key="defs"===e.nodeType||null!=o[e.nodeType]?t.uniqueId("r-"):i),t.isString(A)||(u.ref=u.ref||u.key),m=A,v=u,w=[],S=(g=e).children,T=0,E=(x="tspan"===m)?a:t.identity,null!=s.forceLayoutLtr&&d(m,g)&&s.forceLayoutLtr(v),S&&(y=t.pick(v,"data-accepts"),w=S.filter(p).map(function(e,i){return"defs"===e.nodeType&&(T=1),f(t.defaults(e,y),i-T)})),b=E(w),null!=s.fixTspan&&x&&b.length>1&&(v=s.fixTspan(v,b)),r.createElement(m,v,b)};return{createSvg:function(e){return f(e)}}}),define("helpers/svg/imageHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","helpers/dataVersioner"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("../assetManager"),r=e("helpers/dataVersioner"),s="animatedgif",o="data-original-image",a={findImage:function(e,i){var r=t.findWhere(e,{id:i[o]});return n.getAsset(r.assetId)},containsGif:function(e){return null!=e&&null!=t.find(e,function(e){var t=n.getAsset(e.assetId);return null!=t&&t.get("imageType")===s})},addImageAttrs:function(e,n){if(!i.isImageNode(e))return e;var o,l=a.findImage(n,e);return l.isValid()?(o=l.url(),l.get("imageType")===s&&(o=o+"?rs="+t.uniqueId("")),e["xlink:href"]=o,e.height=l.height(),e.width=l.width(),e.x+=l.get("mobiledx")||0,e.y+=l.get("mobiledy")||0,null==e.patternImage&&r.hasPatternImageFlag()&&(e.preserveAspectRatio="none"),e):{nodeType:!1}}};return a.applyImagelib=t.partial(i.transformNodeConfig,a.addImageAttrs),a}),define("views/presentation/ObjectSlideBackground",["require","react","views/mixins/baseView","views/mixins/propertizable","helpers/svg/svgUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");e("views/mixins/propertizable"),e("helpers/svg/svgUtils");return t.createClass({mixins:[i],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}})}),define("helpers/svg/backgroundHelper",["require","lodash","helpers/svg/svgUtils","../assetManager","views/presentation/ObjectSlideBackground"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=(e("../assetManager"),e("views/presentation/ObjectSlideBackground")),r="data-slidefill";return{applySlideBackground:t.partial(i.transformNodeConfig,function(e,t,s){if(!e[r])return e;var o=["slide","bg",t.commandsetId].join("-"),a={nodeType:"g",children:[]};return a.children.skipTraversal=!0,e.fill=i.buildUrl(o),a.children.push({nodeType:n,id:o,model:s.props.model,playerProps:s.props.playerProps,patternTransform:e["data-stroke-sharpened"]?[i.buildTranslateConfig(-.5,-.5)]:""}),a.children.push(e),a})}}),define("helpers/svg/patternHelper",["require","lodash","helpers/svg/imageHelper","helpers/svg/svgUtils","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/imageHelper"),n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],o={addPatternAttrs:function(e,s,a){if(l=e,!n.isPatternNode(l)||"image"!==l["data-type"])return e;var l,u,c=t.first(e.children.filter(n.isDefsNode)),h=t.first(c.children.filter(n.isImageNode)),p=e.children.filter(n.isUseNode),d=i.findImage(s,h),f=d.width(),m=d.height(),g=!h.preserveAspectRatio,v=t.partial(o.transformUseNode,f,m);return g?(e.width=f,e.height=m,p.forEach(v)):(u=Math.round(r.hypot(a.fullHeight,a.fullWidth)),e.height=u,e.width=u),e},transformUseNode:function(e,i,r,o){var a=t.findWhere(r.transform,{type:"scale"}),l=a.args[0],u=a.args[1],c=s[o],h=c.x[l>0?"posMult":"negMult"]*e,p=c.y[u>0?"posMult":"negMult"]*i;r.transform=[n.transformTranslate(h,p),n.transformScale(l,u)].join(" ")}};return o.applyImagePatterns=t.partial(n.transformNodeConfig,o.addPatternAttrs),o}),define("helpers/svg/strokeHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils");return{translateOddWidths:t.partial(i.transformNodeConfig,function(e){var t;return 0===e["stroke-width"]&&(e["stroke-width"]=1),(t=e["stroke-width"])&&t%2!=0&&(e["data-stroke-sharpened"]=!0,i.getTransformOf(e).unshift(i.buildTranslateConfig(.5,.5))),e})}}),define("helpers/svg/idHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/svg/svgUtils"),r=function(e){var n,r;return e.id&&(n=e.id,r=i.uniqueId("uniqueDomId-"),t[n]=r),e};return r.beforeStart=function(){t={}},r.afterFinish=function(e){return JSON.parse(i.reduce(t,function(e,t,i){return e.replace(new RegExp(i,"g"),t)},JSON.stringify(e)))},{ensureIdsAreUnique:i.partial(n.transformNodeConfig,r)}}),define("helpers/svg/textHelper",["require","lodash","helpers/svg/svgUtils","helpers/errorManager","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n=e("helpers/errorManager"),r=e("polyfills/vendorOverrides"),s=n.throwError("textHelper"),o=n.backtick,a=r.moveVarTextOutOfSvg||t.identity,l=r.unwrapForeignObjectVarText||t.identity,u={vartext:function(e,t,i){t.index();return l({nodeType:"foreignObject",width:t.width()+e.x,height:t.height()+e.y,children:[{ref:"vtext",nodeType:"variableText",model:t,id:e.id,originX:e.x,originY:e.y,hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"]}]})},richvartext:function(e,t,i){t.index();return{nodeType:"richVariableText",model:t,id:e.id,originX:e.x,originY:e.y,hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"]}},vectortext:function(e,t,i,n){return{nodeType:"vectorText",hasShadow:!!e["data-shadow"],rotDeg:e["data-rotation"],originX:e.x,originY:e.y,textLibItem:t}}},c=function(e,i,n,r){if("text"!==e["data-reference-type"])return e;var a=e["data-reference-id"],l=i.get(a);return l||s("renderText","No text lib item with id of",o(a)),(u[l.type()]||t.identity)(e,l,n,r)};return c.afterFinish=a,{setSvgManager:function(e){e},applyTextLib:t.partial(i.transformNodeConfig,c)}}),define("helpers/svg/adornableHelper",["require","lodash","helpers/svg/svgUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/svg/svgUtils"),n="data-adornment-type",r="data-is-reflection-gradient",s=t.compose(function(e){return n in e&&(e.ref=t.uniqueId("adornable"),e["data-transform"]=JSON.stringify(e.transform),e.transform=null),e},function(e){return!0===e[r]&&(e["data-rotation-offset"]=!0,e[r]=null),e});return{decorateAdornables:t.partial(i.transformNodeConfig,s)}}),define("helpers/svg/svgManager",["require","lodash","models/BaseModel","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/svg/svgBuilder","helpers/svg/imageHelper","helpers/svg/backgroundHelper","helpers/svg/patternHelper","helpers/svg/strokeHelper","helpers/svg/idHelper","helpers/svg/textHelper","helpers/svg/adornableHelper"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),r=e("helpers/errorManager"),s=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgBuilder"),a=e("helpers/svg/imageHelper"),l=e("helpers/svg/backgroundHelper"),u=e("helpers/svg/patternHelper"),c=e("helpers/svg/strokeHelper"),h=e("helpers/svg/idHelper"),p=e("helpers/svg/textHelper"),d=e("helpers/svg/adornableHelper"),f=r.throwError("SvgManager"),m=r.backtick,g=n.createSuper(i),v=n.parseParams().svgfilename||"paths",y=new(i.extend({id:"paths",url:n.resolveDataUrl(v),getSvgNode:function(e,i){var n,r,f=this.get(e.libId,s.svgPrefix(e.commandsetId));return f=s.getFullSvgConfig(f,e.bounds,e.commandsetId),f=h.ensureIdsAreUnique(f),n=s.getDefsNode(f),f=d.decorateAdornables(f),e.imagelib&&(r=t.pick(e.bounds,"fullHeight","fullWidth"),f=a.applyImagelib(f,e.imagelib),f=u.applyImagePatterns(f,e.imagelib,r)),f=c.translateOddWidths(f,e),f=l.applySlideBackground(f,e,i),e.textLib&&!e.textLib.isEmpty()&&(f=p.applyTextLib(f,e.textLib,e.bounds,n)),o.createSvg(f)},getSvgFromData:function(e,i){var n=e.pick("imagelib","textLib");return y.getSvgNode(t.extend(n,{commandsetId:e.commandsetId(),libId:e.getPathLib(),bounds:e.getBounds()}),i)},createMask:function(e,t,i){var n,r,a=new window.DOMParser,l=s.getFullSvgConfig(e,{top:0,left:0,width:0,height:0});return n=a.parseFromString(o.createSvg(l),"text/xml"),r=document.adoptNode(n.documentElement).firstChild,i.appendChild(r),r},get:function(e,t){var i,r=g("get").call(this,e);return r||f("get","tried calling for an undefined library",m(e)),(i=r[t])||f("get","tried calling for an undefined path id",m(t)),n.cloneDeeply(i)},getStringFromVectorText:function(e){var t=e.i,i=e.l,r=s.svgPrefix(t),o=y.get(i,r);return n.getPath(o,"children[0].children[0].children[0]")}}));return p.setSvgManager(y),y}),define("views/presentation/VectorTextItem",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/svg/svgUtils","helpers/svg/svgManager","helpers/svg/svgBuilder","polyfills/detection","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("helpers/svg/svgUtils"),o=e("helpers/svg/svgManager"),a=e("helpers/svg/svgBuilder"),l=e("polyfills/detection"),u=e("polyfills/vendorOverrides"),c=function(e){if(e["font-family"])if(Array.isArray(e["font-family"])){var i=e["font-family"];e.style={fontFamily:i.map(r.doubleQuote).concat(t.last(i)).join(",")},delete e["font-family"]}else e["font-family"]=r.doubleQuote(e["font-family"]);return e},h=null!=u.removeCharPositions,p=function(e){return s.isTspanNode(e)&&(e.children=e.children.map(function(e){return e.replace(/\s/g," ")})),e};return i.createClass({displayName:"VectorTextItem",mixins:[n],componentWillMount:function(){h&&(window.addEventListener("beforeprint",this.beforePrint),window.addEventListener("afterprint",this.afterPrint))},componentWillUnmount:function(){h&&(window.removeEventListener("beforeprint",this.beforePrint),window.removeEventListener("afterprint",this.afterPrint))},getInitialState:function(){return{printing:!1}},addShadow:function(e){return!l.isEdge()&&this.props.isShadow&&s.isTspanNode(e)&&(e.filter="url(#text-shadow)",e.fill="rgba(0, 0, 0, 0.2)"),e},template:function(e){var i=s.svgPrefix(this.props.commandsetId),n=o.get(this.props.pathLib,i);return s.transformNodeConfig(t.compose(p,c,this.addShadow,this.state.printing&&h?u.removeCharPositions:t.identity),n),a.createSvg(n)},beforePrint:function(){this.setState({printing:!0})},afterPrint:function(){this.setState({printing:!1})}})}),define("views/player/Icon",["require","react","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils");return t.createClass({displayName:"Icon",mixins:[i],template:function(){var e,t=this.props.templateName||(e=this.props.type,n.upperCaseFirst(e)+"Icon");return this.getTemplateManager().getTemplate(t).bind(this)()}})}),function(e,t,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define("bowser",i):e.bowser=i()}(this,0,function(){var e=!0;function t(t){function i(e){var i=t.match(e);return i&&i.length>1&&i[1]||""}function n(e){var i=t.match(e);return i&&i.length>1&&i[2]||""}var r,o=i(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),h=/silk/i.test(t),p=/sailfish/i.test(t),d=/tizen/i.test(t),f=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!o&&!h&&/macintosh/i.test(t),y=!a&&!p&&!d&&!f&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=i(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!S&&/[^-]mobi/i.test(t),T=/xbox/i.test(t);/opera/i.test(t)?r={name:"Opera",opera:e,version:w||i(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?r={name:"Opera",opera:e,version:i(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:w||i(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?r={name:"NAVER Whale browser",whale:e,version:i(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?r={name:"MZ Browser",mzbrowser:e,version:i(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:e,version:w||i(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?r={name:"Focus",focus:e,version:i(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:e,version:w||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:e,version:i(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:e,version:i(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:e,version:i(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:e,version:i(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:e,version:i(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:e,version:i(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=i(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:e,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:e,version:i(/vivaldi\/(\d+(\.\d+)?)/i)||w}:p?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:e,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:e,version:i(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=e,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:e,version:i(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:e,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:e,version:i(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",osname:"WebOS",webos:e,version:w||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=e)):/bada/i.test(t)?r={name:"Bada",osname:"Bada",bada:e,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:d?r={name:"Tizen",osname:"Tizen",tizen:e,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:e,version:i(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?r={name:"Chromium",chromium:e,version:i(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:e,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:e},w&&(r.version=w)):o?(r={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},w&&(r.version=w)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:i(/googlebot\/(\d+(\.\d+))/i)||w}:{name:i(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&w&&(r.version=w)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&o?(r[o]=e,r.ios=e,r.osname="iOS"):v?(r.mac=e,r.osname="macOS"):T?(r.xbox=e,r.osname="Xbox"):g?(r.windows=e,r.osname="Windows"):y&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var E="";r.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(i(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?E=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?E=(E=i(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?E=(E=i(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?E=i(/android[ \/-](\d+(\.\d+)*)/i):r.webos?E=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?E=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?E=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(E=i(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(r.osversion=E);var A=!r.windows&&E.split(".")[0];return S||u||"ipad"==o||a&&(3==A||A>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==o||"ipod"==o||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===s([r.version,"1.0"])||r.mzbrowser&&1===s([r.version,"6.0"])||r.focus&&1===s([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var i=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function r(e,t){var i,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i++)n.push(t(e[i]));return n}function s(e){for(var t=Math.max(n(e[0]),n(e[1])),i=r(e,function(e){var i=t-n(e);return r((e+=new Array(i+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(i[0][t]>i[1][t])return 1;if(i[0][t]!==i[1][t])return-1;if(0===t)return 0}}function o(e,n,r){var o=i;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(o=t(r));var a=""+o.version;for(var l in e)if(e.hasOwnProperty(l)&&o[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return s([a,e[l]])<0}return n}return i.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in i)return!0}return!1},i.isUnsupportedBrowser=o,i.compareVersions=s,i.check=function(e,t,i){return!o(e,t,i)},i._detect=t,i.detect=t,i}),define("bowser",function(){}),define("views/presentation/LinearBackgroundGradient",["require","react","views/mixins/baseView","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/utils"),r=e("polyfills/vendorOverrides");return t.createClass({displayName:"LinearBackgroundGradient",mixins:[i],fill:function(){return this.props.fill||this.props.layerModel.background().fill},stopPct:function(e){return n.stopPct(e.stop)},stopProps:r.stopColorProps||function(e){return{stopColor:n.rgbify(e.rgb),stopOpacity:n.opacify(e.alpha)}}})}),define("views/presentation/DropListItem",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView");return e("react").createClass({mixins:[t],displayName:"DropListItem",getInitialState:function(){return{hovered:!1,display:"none",selected:!1}},onClick:function(){this.props.selected(this.props.order)},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}})}),define("views/presentation/ScrollBar",["require","lodash","react","views/mixins/baseView","polyfills/detection","helpers/utils","helpers/windowManager","views/helpers/dom","views/presentation/Slide","views/helpers/transformHelper"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("polyfills/detection"),s=e("helpers/utils"),o=(e("helpers/windowManager"),e("views/helpers/dom")),a=(e("views/presentation/Slide"),e("views/helpers/transformHelper")),l=r.isMobileOrTouchableTheme?"touchmove":"mousemove",u=r.isMobileOrTouchableTheme?"touchend":"mouseup";return i.createClass({displayName:"ScrollBar",mixins:[n],componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.yPos=this.props.offY,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.parentSlideObject=function(e){for(var t=e.props.parent;s.getPath(t,"props.isInnard",!1);)t=t.props.parent;return t}(this),this.scrollingArea.addEventListener("wheel",this.onWheel),r.isMobile||r.isTouchableTheme||(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.update))},componentWillUnmount:function(){this.scrollingArea.removeEventListener("wheel",this.onWheel),this.scrollingArea.removeEventListener("scroll",this.update)},update:function(){if(!r.isIE()&&!this.scrollByButton){var e=this.refs.scrollBtn,t=this.contentHeight,i=this.props.height,n=i/t*i,o=this.scrollingArea.scrollTop/(t-i);o=s.clamp(0,1,o),o*=1-n/i,e.style.height=s.pxify(n),e.style.top=s.decToPct(o,!0)}},onAutoScroll:function(e){o.hasClass(e.target,"scrollarea-btn")||(this.clickDeltaY=parseFloat(this.refs.scrollBtn.style.height)/2,this.onDragBtn(e),this.onScrollBtnDown(e))},getCursorPos:function(e){var t=1===s.getPath(e,"touches.length")?e.touches[0]:e;return a.globalPtToSlideObject(this.parentSlideObject,t.pageX,t.pageY)},onScrollBtnDown:function(e){document.body.addEventListener(l,this.onDragBtn),document.body.addEventListener(u,this.onEndScrollDrag);var t=this.refs.scrollBtn,i=s.pctToDec(t.style.top)*this.props.height;this.clickDeltaY=this.getCursorPos(e).y-this.yPos-i,this.scrollByButton=!0,e.preventDefault()},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener(u,this.onEndScrollDrag),document.body.removeEventListener(l,this.onDragBtn)},onDragBtn:function(e){var t=this.refs.scrollBtn,i=this.props.height,n=parseFloat(t.style.height),r=i-n,o=this.scrollingArea.scrollHeight-i,a=this.getCursorPos(e).y-this.yPos-this.clickDeltaY,l=s.clamp(0,1,a/r);t.style.top=s.decToPct(l*(1-n/i),!0),this.scrollingArea.scrollTop=o*l,e.preventDefault()},constrainScroll:function(){var e=t.result(this,"props.parent.height",this.props.height);this.scrollingArea.scrollTop+e>this.props.parent.state.contentHeight&&(this.scrollingArea.scrollTop=this.props.parent.state.contentHeight-e)},onWheel:function(e){this.scrollingArea.scrollTop+=e.deltaY,this.constrainScroll(),this.update()}})}),define("views/helpers/dragAndDropHelper",["require","lodash","helpers/utils","helpers/svg/svgUtils","views/events/touchHelper","views/helpers/collisionHelper","views/helpers/transformHelper","polyfills/vendorOverrides","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/svg/svgUtils"),r=e("views/events/touchHelper"),s=e("views/helpers/collisionHelper"),o=e("views/helpers/transformHelper"),a=e("polyfills/vendorOverrides"),l=e("helpers/windowManager"),u=t.reduce(["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],function(e,i){return e["on"+i]=t.noop,e.setTargets=t.noop,e},{}),c=[],h=function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top},p=function(e,t){if(!h(e,t))return 0;var i=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left);return(Math.min(e.right,t.right)-r)*(n-i)},d=function(e){return-e.getZIndex()},f=function(e,i){var n,r=e.el.getBoundingClientRect(),s=t.sortBy(i,d);return s.reduce(function(e,t,i){var o=s.slice(0,i).reduce(function(e,t){return e-p(r,t.getBounds())},p(r,t.getBounds()));return o>e?(n=t,o):e},0),n},m=function(e,i,n){this.view=e,this.el=n||e.el,this.params=t.defaults(i,u),this.relativeView=null!=n?this.view.props.model.parentModel.currView:this.view,this.currSlide=l.getCurrentWindowSlide(),t.bindAll(this),this.offsetX=this.grabbedXPos=this.offsetY=this.grabbedYPos=0,this.enable()};t.extend(m.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:t.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=t.flow(r.on(this.el,"touchstart",this.onGrabTouch),r.on(this.el,"touchmove",this.onMoveTouch),r.on(this.el,"touchend",this.onReleaseTouch))},grab:function(e,t){this.cachedMetrics=o.getSlideMetrics(this.relativeView),this.grabbedXPos=this.relativeView.getPlayerProp("RawXPos"),this.grabbedYPos=this.relativeView.getPlayerProp("RawYPos");var i=this.getPosition(),n=o.globalPtToLayer(this.relativeView,e,t,this.cachedMetrics),r=o.parentPtToSlide(this.relativeView,this.grabbedXPos,this.grabbedYPos);this.view.props.model;this.params.setTargets(),this.params.getPosition&&(i=this.params.getPosition(),this.relativeView!==this.view&&(r={x:i.x/this.cachedMetrics.scaleX,y:i.y/this.cachedMetrics.scaleY})),this.offsetX=r.x-n.x,this.offsetY=r.y-n.y,this.origPosX=i.x,this.origPosY=i.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var e=this.el.getBoundingClientRect(),n=this.params.containment.getBoundingClientRect(),r=t.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}).strokewidth/2,s=this.currSlide.calculateTotalScale();this.x=i.clamp(r,(n.width-e.width)*s-r,this.x),this.y=i.clamp(r,(n.height-e.height)*s-r,this.y)}},move:function(e,t){var r,l=this.dropTarget,u=o.globalPtToLayer(this.relativeView,e,t,this.cachedMetrics),c=this.view.props.model;this.x=u.x+this.offsetX,this.y=u.y+this.offsetY,this.el.style[this.view.cssTransform]=[n.transformTranslate(i.pxify(this.x),i.pxify(this.y)),n.transformRotate(this.view.state.Rotation+"deg"),n.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget("drag"),a.unscaleZoom(this.el.style),s.transformUpdated(this.view),this.hasMoved||(r=l&&l.el,null!=c.reparentChild&&c.reparentChild(c.getSlide()),this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!l||this.dropTarget&&l===this.dropTarget||this.params.ondropleave(this,l),this.dropTarget&&(l===this.dropTarget&&r!==this.dropTarget.el||this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget("drop"),null!=this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget),null!=this.dropTarget&&this.relativeView.props.model.executePlayerEvent("ondragconnect"))},onGrabMouse:function(e){this.isMousedDown||(this.isMousedDown=!0,this.grab(e.clientX,e.clientY),document.body.addEventListener("mousemove",this.onMoveMouse),document.body.addEventListener("mouseup",this.onReleaseMouse),e.preventDefault())},onGrabTouch:function(e){var t=e.changedTouches[0];this.touchId=t.identifier,this.grab(t.clientX,t.clientY),e.preventDefault()},onMoveMouse:function(e){this.move(e.clientX,e.clientY),e.preventDefault()},onMoveTouch:function(e){var t=e.changedTouches[0];this.touchId===t.identifier&&(this.move(t.clientX,t.clientY),e.preventDefault())},onReleaseMouse:function(e){this.isMousedDown=!1,this.release(),document.body.removeEventListener("mousemove",this.onMoveMouse),document.body.removeEventListener("mouseup",this.onReleaseMouse)},onReleaseTouch:function(e){this.release()},hasModalAbove:function(){var e=i.getPath(this,"view.props.model.getLayer");return null!=e&&e.collection.hasModalLayerAbove(e)},getDropTarget:function(e){if(!this.hasModalAbove())return this.params.getDropTarget?this.params.getDropTarget(this,c,e):f(this,c)},getPosition:function(){return{x:this.x,y:this.y}}});var g=function(e,t){this.el=e,this.params=t,c.push(this)};return t.extend(g.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){t.remove(c,this)}}),{DraggableHelper:m,DroppableHelper:g,util:{areOverlapping:h,unionArea:p,getDropTargetByOverlap:f,sortByZIndexReverse:d,getRegisteredDroppables:function(){return c}}}}),define("views/presentation/decorators/Droppable",["require","lodash","backbone","helpers/utils","helpers/events","views/helpers/dragAndDropHelper","views/helpers/collisionHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),r=e("helpers/events"),s=e("views/helpers/dragAndDropHelper").DroppableHelper,o=(e("views/helpers/collisionHelper"),e("helpers/TransMatrix"),[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}]),a=function(e){this.view=e,this.model=this.view.props.model,this.dropChildren=[]};t.extend(a.prototype,i.Events,{componentDidMount:function(){this.model;this.dragdropData=this.model.dragdrop(),this.bindDrop()},componentWillUnmount:function(){this.droppableHelper.unregister(),this.stopListening(this.model,r.resume.RESET,this.resetValues)},registerRelationship:function(e,t){return this.dropChildren[t]=e,this},getFromView:function(e,t){return(t=t||this).view.getPlayerProp(e)},setOnView:function(e,t,i){(i=i||this).view.setPlayerProp(e,t)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=o.slice()},setPositioningFns:function(){var e=this.dragdropData.droptype,i=l[e];t.extend(this,i)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new s(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,r.resume.RESET,this.resetValues)),this},onDragOver:function(e){this.canDropHere(e)&&this.addChild(e,!0)},onDropped:function(e){this.canDropHere(e)&&this.addChild(e)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=t.map(this.getDropChildren(),function(e){return e.getBounds()})},addChild:function(e,t){var i,n;this.isMultiDrop()||t||(this.getDropChildren().forEach(function(e){e.setToInitPosition().unParent()}.bind(this)),this.getDropChildren().length=0),i=this.getPlacementIndex(e),(n=t?this.getDropChildren().slice():this.getDropChildren()).splice(i,0,e),this.reflow(n,i,t)},canDropHere:function(e){var i=t.partial(t.contains,this.dragdropData.dragdropids);return e.dragdropData.dragdropids.some(i)},removeDropChild:function(e){return t.remove(this.getDropChildren(),e),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var e=t.random(this.quadrants.length-1),i=this.quadrants.splice(e,1)[0];return this.quadrants.length||this.resetQuadrants(),i},getRandomStackPosition:function(e){var i=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+t.random(this.dragdropData.dropoffsetx)*i.x-e.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+t.random(this.dragdropData.dropoffsety)*i.y-e.dragdropData.snapy}},resetChildrenDepths:function(){var e=this.getDepth();this.getDropChildren().forEach(function(t,i){t.setIndex(i),t.setDepth(e+i+1)})},getParents:function(){for(var e=[],t=this.view;t;)t.props.isInnard||e.push(t),t=t.props.parent;return e.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce(function(e,t){return e+t.state.RawXPos},0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce(function(e,t){return e+t.state.RawYPos},0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:t.first(this.getParents()).state.depth}});var l={stackoffset:{getPlacementIndex:function(e){var t=this.getXPos()+this.dragdropData.snapx,i=this.getYPos()+this.dragdropData.snapy,n=e.getBounds(!0),r=Math.floor((n.left-t)/this.dragdropData.dropoffsetx)+1,s=Math.floor((n.top-i)/this.dragdropData.dropoffsety)+1,o=Math.min(r,s,this.positionSnapshot.length);return Math.max(0,o)},reflow:function(e,t,i){var n=this.getXPos()+this.dragdropData.snapx,r=this.getYPos()+this.dragdropData.snapy;(e||this.getDropChildren()).forEach(function(e,s){s>0&&(n+=this.dragdropData.dropoffsetx,r+=this.dragdropData.dropoffsety),i&&s===t||(e.setPosition(n,r),e.setIndex(s))}.bind(this))}},tile:{getPlacementIndex:function(e){for(var t=-1,i=e.getBounds(!0),n=Math.max(this.getXPos(),i.left+i.width/2),r=Math.max(this.getYPos(),i.top+i.height/2);++t<this.positionSnapshot.length&&!(n<this.positionSnapshot[t].right&&r<this.positionSnapshot[t].bottom||r<this.positionSnapshot[t].top););return t},reflow:function(e,t,i){var n=this.getXPos(),r=this.getYPos(),s=n+this.dragdropData.snapx,o=r+this.dragdropData.snapy,a=s,l=o,u=s+this.getFromView("width")-this.dragdropData.dropoffsetx;(e||this.getDropChildren()).forEach(function(e,r,c){var h=this.getFromView("width",e),p=this.getFromView("height",e);r>0&&(s=a+this.dragdropData.dropoffsetx),(a=s+h)>u&&(s=n+this.dragdropData.snapx,a=s+h,o=l+this.dragdropData.dropoffsety),i&&r===t||(e.setPosition(s,o),e.setIndex(r)),l=Math.max(l,o+p)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:function(e,i,n){var r,s;1!==(e=e||this.getDropChildren()).length?!n&&isFinite(i)&&(r=t.last(e),s=this.getRandomStackPosition(r),r.setPosition(s.x,s.y),r.setIndex(i)):null==i?l.snap.reflow.call(this,e,0,!1):l.snap.reflow.call(this,e,i,n)}},snap:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:function(e,i,n){var r,s,o,a=this.getXPos(),l=this.getYPos(),u=a+this.dragdropData.snapx,c=l+this.dragdropData.snapy;!n&&isFinite(i)&&(r=(o=t.last(e)).dragdropData.snapx,s=o.dragdropData.snapy,o.setPosition(u-r,c-s),o.setIndex(i))}},free:{getPlacementIndex:function(){return n.getPath(this,"positionSnapshot.length",0)},reflow:t.noop}};return a}),define("views/presentation/decorators/Draggable",["require","lodash","backbone","views/presentation/decorators/Droppable","views/helpers/dragAndDropHelper","helpers/utils","helpers/events","views/helpers/dom","views/helpers/collisionHelper","helpers/windowManager","helpers/pubSub","views/helpers/transformHelper","helpers/TransMatrix"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=(e("views/presentation/decorators/Droppable"),e("views/helpers/dragAndDropHelper")),r=n.DraggableHelper,s=(e("helpers/utils"),e("helpers/events")),o=e("views/helpers/dom"),a=e("views/helpers/collisionHelper"),l=(e("helpers/windowManager"),e("helpers/pubSub"),e("views/helpers/transformHelper"),e("helpers/TransMatrix"),"ondragover"),u=1500,c=function(e,i,r,s){return n.util.getRegisteredDroppables().filter(function(n){var o=n.params.data,a=o.dragdropData&&o.dragdropData[s];return o.model!==i&&t.result(o,e)&&t.intersection(a,r).length})},h=function(e){this.view=e,this.model=this.view.props.model};return t.extend(h.prototype,i.Events,{componentWillMount:function(){this.model;this.getEnabledDroppables=t.partial(c,"isDroppable",this.model),this.getEnabledDraggables=t.partial(c,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),s.resume.APPLIED,this.registerRelationship),this.listenTo(this.model,"unparentForSeek",this.unparentForSeek)},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=o.closest(this.view.el,function(e){return e.classList.contains("slide-object-shufflegroup")})},getFromView:function(e,t){return(t=t||this).view.getPlayerProp(e)},setOnView:function(e,t,i){(i=i||this).view.setPlayerProp(e,t)},componentDidUpdate:function(e,t){var i=this.view.state.Enabled;i!==t.Enabled&&null!=this.draggableHelper&&this.draggableHelper[i?"enable":"disable"]()},componentWillUnmount:function(){this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),s.resume.APPLIED,this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new r(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){return t.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),{containment:o.closest(this.view.el,function(e){return e.classList.contains("slide")}),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var e,t=this.model.prop("DragConnected"),i=this.model.prop("DropIndex");t&&(e=t.currView.decorators.droppable,this.dropParent=e.registerRelationship(this,i))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(e,t){this.setOnView({RawXPos:e,RawYPos:t})},setToInitPosition:function(){return this.model.reattachChild(),this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var e=this.dragdropData.dragdropids,t=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(e,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(t,"dragoverids")},onDragStart:function(e,t){this.unParent(),this.setDepth(++u),this.view.dragging=!0,this.model.executePlayerEvent("ondragstart")},onDragStop:function(e,t){this.view.dragging=!1,this.model.executePlayerEvent("ondragend"),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||(this.model.reparentChild(this.model.getLayer()),this.setPosition(e.x,e.y))},onDraggingOver:function(e,t){t.params.data.onDragOver(this,e.x,e.y,!0)},onDropEnter:function(e,t){var i=t.params.data;this.setOnView("DragOverId",i.model.id),i.setOnView("DragOverId",this.model.id),i.onDragEnter(),this.model.executePlayerEvent(l),i.model.executePlayerEvent(l)},onDragOut:function(e,t){var i=t.params.data;this.setOnView("DragOverId",null),i.reflow(),this.model.executePlayerEvent("ondragout"),i.model.executePlayerEvent("ondragout")},onDropped:function(e,t){var i=t.params.data;i.onDropped(this,e.x,e.y),this.dropParent=i,this.setOnView("DropTargetId",i.model.id),this.setOnView("DragConnected",i.model),this.model.reparentChild(i.model.getParentContainer())},getDropTarget:function(e,i,r){var s,o=this.draggableHelper,l="drag"===r?this.enabledDragTargets:this.enabledDropTargets,u=t.sortBy(l,n.util.sortByZIndexReverse);return u.reduce(function(e,t,i){var n=a.getOverlapArea(o.view,t.params.view,u.slice(0,i).map(function(e){return e.params.view}),!0);return n>e?(s=t,n):e},0),s},unparentForSeek:function(){this.setToInitPosition()},unParent:function(){var e=this.dropParent;return e&&(e.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent("ondragdisconnect")),this},updateParentDepth:function(e){var t=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=e+t},setDepth:function(e){this.parentShuffleGroup&&this.updateParentDepth(e),this.setOnView("depth",e)},setIndex:function(e){this.setOnView("DropIndex",e)},getBounds:function(e){var t=e?this.getDraggingPosition():this.getPosition(),i=this.getFromView("width"),n=this.getFromView("height");return{left:t.x,top:t.y,right:t.x+i,bottom:t.y+n,width:i,height:n}},addAnimationData:function(e){e({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})},updateAfterTween:function(e){var t=this.draggableHelper;t.offsetX+=e.RawXPos-t.grabbedXPos,t.offsetY+=e.RawYPos-t.grabbedYPos}}),h}),define("views/presentation/decorators/Tweenable",["require","lodash","helpers/AnimationTimeline","backbone","views/helpers/collisionHelper","views/helpers/TweenableTimeline","views/helpers/TweenHelper","polyfills/vendorOverrides","helpers/actions","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AnimationTimeline"),n=e("backbone"),r=e("views/helpers/collisionHelper"),s=e("views/helpers/TweenableTimeline"),o=e("views/helpers/TweenHelper"),a=e("polyfills/vendorOverrides"),l=e("helpers/actions"),u=(e("helpers/utils"),function(e){this.view=e,this.model=this.view.props.model});return t.extend(u.prototype,n.Events,{componentWillMount:function(){if(!this.model.animations().isEmpty()){var e={"showcustom hidecustom":this.showHideCustom,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:t.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations};e[l.EXE_ANIMATION]=this.animate,this.listenTo(this.model,e)}},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(t.extend(this.el.style,this.view.tweenedConfig.style),a.unscaleZoom(this.el.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(e,t,i,n){this.playAnimation(i,t.timelineLabel,!1,n,!e)},animate:function(e,t){this.model.prop("TimelineControlled",null!=t.timelineLabel),this.playAnimation(this.model.animations().get(e.id),t.timelineLabel,e.reverse.value)},addAnimationData:function(e){e(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(e,t,i,n,r){this.stopCurrentAnimation(!0);var o=this.createTimelineFor(e,i,n);this.tweenableTimeline=new s(this.view,o,t,r),this.view.setPlayerProp("Moved",null!=t)},createTimelineFor:function(e,t,n){var s=new i({tweens:[new o(this.view,t,e.getConfig())],onComplete:this.wrapCallback(n,e.id,t)});return s.onUpdate=function(){r.transformUpdated(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),s},wrapCallback:function(e,t,i){return function(){this.stopCurrentAnimation(!1),r.transformUpdated(this.view,!0),null!=e&&e(),this.model.executeFilteredPlayerEvent(function(e){if(e.id===t&&e.reverse===i)return!0},"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(e){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(e),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),u}),define("views/presentation/decorators/Slideable",["require","lodash","backbone","helpers/utils","helpers/resolver","helpers/actionManager","helpers/svg/svgUtils","views/helpers/dom","polyfills/detection","views/helpers/transformHelper","views/helpers/collisionHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/utils"),r=e("helpers/resolver"),s=e("helpers/actionManager"),o=e("helpers/svg/svgUtils"),a=e("views/helpers/dom"),l=e("polyfills/detection"),u=e("views/helpers/transformHelper"),c=e("views/helpers/collisionHelper"),h=e("helpers/windowManager"),p=function(e){this.view=e,this.model=e.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return t.extend(p.prototype,i.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){t.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onBtnDown","onBtnUp")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0).addAccessibilityItems().updateAccessibilityText(),this.currSlide=h.getCurrentWindowSlide()},onAfterShow:function(){this.updateSliderThumb(null,!0)},componentDidUpdate:function(){this.updateAccessibilityText()},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.addOrRemoveListeners(!1),this.parentEl.removeChild(this.rangeInput)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(e){this.adjustVarAction.value={type:"number",value:e},s.executeAction(this.adjustVarAction,{context:this.model})},transformValue:function(e){var t=this.invertedSlider?this.max+this.min-e:e;return n.fix(t,this.toFixedAmount)},setupSlider:function(){var e,t;return this.dragpath=this.model.dragpath(),this.parentEl.style.pointerEvents="all",this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=(e=this.dragpath.increment,2===(t=e.toString().split(".")).length?Math.min(2,t[1].length):0),this.boundVariable=r.resolvePath(this.dragpath.bindto),this},buildSlider:function(){var e,t=this.boundVariable.value();return this.rangeInput=document.createElement("input"),this.dragpath.startvalue>this.dragpath.endvalue?(this.min=this.dragpath.endvalue,this.max=this.dragpath.startvalue,this.invertedSlider=!0,t=this.transformValue(t)):(this.invertedSlider=!1,this.min=this.dragpath.startvalue,this.max=this.dragpath.endvalue),e={type:"range",value:t,step:this.dragpath.snap?this.dragpath.increment:0,min:this.min,max:this.max,"data-accepts":"events"},this.step=e.step,a.setAttributes(this.rangeInput,e),this.rangeInput.style.zIndex=this.zIndex,this.rangeInput.classList.add("slider"),this.parentEl.appendChild(this.rangeInput),this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent,this},getTrackModel:function(){this.trackModel=this.parentModel.objects().find(function(e){return e.id.indexOf("_track")>-1})},setupEvents:function(){return this.listenTo(this.parentModel.playerProps,"change:Enabled",function(e,t){this.rangeInput.disabled=!t}.bind(this)),this.eventType=this.dragpath.liveupdating?"input":"change",this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),this.addOrRemoveListeners(!0),this},addOrRemoveListeners:function(e){var t,i=e?"addEventListener":"removeEventListener";!l.isMobileOrTouchableTheme||l.isMobilePreview?this.view.el[i]("mousedown",this.onBtnDown):(t=this.parentEl.parentNode,this.parentEl.style.pointerEvents="none",t[i]("touchmove",this.onUpdateSlider),t[i]("touchstart",this.onUpdateSlider),t[i]("touchcancel",this.onUpdateSlider),t[i]("touchend",this.onUpdateSlider))},updateSliderThumb:function(e,t){e=e||this.transformValue(this.boundVariable.value());var i=n.clamp(this.min,this.max,e),r=(i-this.min)/this.totalRange;return t&&(this.rangeInput.value=i),this.view.setPlayerProp("RawXPos",r*this.maxX),c.transformUpdated(this.view.props.parent,!0),this},onMouseEvent:function(e){this.parentModel.executePlayerEvent(this.eventMap[e.type])},onBoundVariableChanged:function(e,t,i){t=this.transformValue(parseFloat(t)),this.updateSliderThumb(t,!0)},onUpdateSlider:function(e){var i,r,s,o,a,l,c,h,p,d,f=this.model.width(),m=f/2,g=this.model.height()/2;e.preventDefault(),1===n.getPath(e,"touches.length")?(l=e.touches[0].pageX,c=e.touches[0].pageY):(l=e.pageX,c=e.pageY),t.includes(["mouseup","touchend"],e.type)?this.updateVariable():null!=l&&null!=c&&(u.setMatrixDirty(this.topParentView),r=u.globalPtToSlideObject(this.topParentView,l,c),t.includes(["mousedown","touchstart"],e.type)?(d=u.localPtToLocal(this.view,this.topParentView,m,g),h=r.x-d.x,p=r.y-d.y,t.extend(this,{offX:h,offY:p})):(h=this.offX,p=this.offY),r.x-=h,r.y-=p,i=n.clamp(0,1,(r.x-m)/(this.trackModel.width()-f)),a=!1,(s=(this.totalRange+this.step)*i+this.min)<=0&&(s*=-1,a=!0),o=s-Math.abs(s%this.step)+Math.abs(this.step/2)+this.step/2,a&&(o*=-1),o=n.clamp(this.min,this.max+this.step,o)-this.step,this.rangeInput.value=o,this.dragpath.liveupdating?this.updateVariable():this.updateSliderThumb(o))},updateVariable:function(){return this.adjustVariable(this.transformValue(this.rangeInput.valueAsNumber)),this},onBtn:function(e,t){var i=e?"addEventListener":"removeEventListener";this.onUpdateSlider(t),document.body[i]("mousemove",this.onUpdateSlider),document.body[i]("mouseup",this.onBtnUp)},addAccessibilityItems:function(){return this.view.stealFocus=this.stealFocus.bind(this.view,this),this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.view.releaseFocus=this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},addFocusStyle:function(){var e=o.createElement("rect"),t=this.view.find("g > g"),i=t.getBBox();e.setAttribute("class","focused"),e.setAttribute("x",i.x-3),e.setAttribute("y",i.y-3),e.setAttribute("width",i.width+6),e.setAttribute("height",i.height+6),e.setAttribute("stroke-width",3),t.appendChild(e),this.focusRect=e},stealFocus:function(e,t,i){i||e.addFocusStyle(),e.rangeInput.focus()},releaseFocus:function(e,t){null!=e.focusRect&&(this.find("g > g").removeChild(e.focusRect),e.focusRect=null),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n=i?"stepDown":"stepUp";try{e.rangeInput[n](),e.updateVariable()}catch(e){}return!0}}),t.extend(p.prototype,{onBtnDown:t.partial(p.prototype.onBtn,!0),onBtnUp:t.partial(p.prototype.onBtn,!1)}),p}),define("views/presentation/decorators/Rotatable",["require","lodash","backbone","helpers/resolver","helpers/svg/svgUtils","helpers/utils","helpers/TransMatrix","helpers/actionManager","views/events/touchHelper","polyfills/detection","helpers/scaler","helpers/windowManager","views/helpers/dom","views/helpers/collisionHelper","views/helpers/transformHelper","helpers/tabFocusBox"],function(e){"use strict";var t=e("lodash"),i=e("backbone"),n=e("helpers/resolver"),r=e("helpers/svg/svgUtils"),s=e("helpers/utils"),o=(e("helpers/TransMatrix"),e("helpers/actionManager"),e("views/events/touchHelper")),a=e("polyfills/detection"),l=(e("helpers/scaler"),e("helpers/windowManager")),u=e("views/helpers/dom"),c=e("views/helpers/collisionHelper"),h=e("views/helpers/transformHelper"),p=e("helpers/tabFocusBox"),d=function(e,t){return t+360*(e?1:-1)},f=t.partial(d,!0),m=t.partial(d,!1),g=Number.MAX_SAFE_INTEGER||Math.pow(2,50),v=function(e){this.view=e,this.model=e.props.model,t.extend(this,this.model.dragrotation())};t.extend(v.prototype,i.Events,{inverted:!1,componentDidMount:function(){this.currSlide=l.getCurrentWindowSlide(),t.bindAll(this),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.boundVar.value()).buildSlider().addAccessibilityItems().updateAccessibilityText()},componentDidUpdate:function(){this.updateAccessibilityText()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.removeAccessibilityItems().stopListening(),this.view.el.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),document.body.removeEventListener("mousemove",this.onMouseMove),this.unbindTouch&&this.unbindTouch(),this.parentEl.removeChild(this.rangeInput)},setDegreeSnap:function(){var e;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(e=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/e),this.stepDeg=s.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=n.resolvePath(this.bindto,this.model),this},setListeners:function(){return this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),a.isMobileAndNotPreview?this.unbindTouch=t.flow(o.on(this.view.el,"touchstart",this.onMouseDown),o.on(this.view.el,"touchend",this.onMouseUp),o.on(this.view.el,"touchmove",this.onMouseMove)):(this.view.el.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)),this},setRotationFromValue:function(e){var t=this.view.el,i=this.rotateXPos-this.model.rotateXPos(),n=this.rotateYPos-this.model.rotateYPos();return null==this.origTransform&&(this.origTransform=t.style[this.view.cssTransform]),this.lastSetRotation=this.getAngleFromValue(e),t.style[this.view.cssTransform]=[this.origTransform,r.transformTranslate(s.pxify(i),s.pxify(n)),r.transformRotate(this.lastSetRotation+"deg"),r.transformTranslate(s.pxify(-i),s.pxify(-n))].join(" "),this.model.forEachAncestor(function(e){if(e.isKind("scrollarea")||e.isKind("slidelayer"))return!1;null!=e.currView&&c.transformUpdated(e.currView,!0)},!0),this},buildSlider:function(){var e={type:"range",value:this.boundVar.value(),step:this.snap?this.increment:0,min:this.startvalue,max:this.endvalue};return this.rangeInput=document.createElement("input"),u.setAttributes(this.rangeInput,e),this.rangeInput.className="accessibility",this.parentEl.appendChild(this.rangeInput),this},onBoundVariableChanged:function(e,t){this.setRotationFromValue(t),this.rangeInput.value=t},adjustVariable:function(e){var t={operator:"set",value:{type:"number",value:e}};return this.boundVar.adjust(t,{context:this.model}),this},onMouseDown:function(e){e.preventDefault(),this.isEnabled()&&(this.centerCoords=h.localPtToSlide(this.view,this.rotateXPos,this.rotateYPos),this.lastAngle=this.initAngle=this.getAngleFromEvent(e),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation,document.body.addEventListener("mousemove",this.onMouseMove))},onMouseUp:function(e){document.body.removeEventListener("mousemove",this.onMouseMove),!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation))},getAngleFromValue:function(e){e=s.clamp(this.lowvalue,this.highvalue,e);var t=this.inverted?this.highvalue-e:e-this.lowvalue;return null!=this.stepDeg?t/this.increment*this.stepDeg+this.startrotation:t/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(e){var t=(e-this.startrotation)/this.angleRange*this.valRange;return t=this.inverted?this.highvalue-t:this.lowvalue+t,this.roundValue(t)},roundStep:function(e,i){return(e?t.range(this.startrotation,this.endrotation+1,this.stepDeg):t.range(this.lowvalue,this.highvalue+1,this.increment)).reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e},g)},getAngleFromEvent:function(e){var t=o.getPageLoc(e),i=h.globalPtToLayer(this.view,t.pageX,t.pageY),n=i.x-this.centerCoords.x,r=i.y-this.centerCoords.y;return s.normalizeDeg(s.radToDeg(Math.atan2(r,n))+90)},adjustOverRotation:function(e){var t=e-this.lastAngle;t>180?this.overRot=m(this.overRot):t<-180&&(this.overRot=f(this.overRot))},cleanAngle:function(e){var t=s.normalizeDeg(e);return this.snap?this.roundAngle(t):t},onMouseMove:function(e){if(this.isEnabled()){var t=this.getAngleFromEvent(e);this.adjustOverRotation(t),this.lastAngle=t,this.angleChange=t+this.overRot-this.initAngle,t=this.initRotation+this.angleChange,this.setAngle(s.clamp(this.startrotation,this.endrotation,t))}},setAngle:function(e){e!==this.lastSetRotation&&(this.liveupdating?this.adjustVariable(this.getValueFromAngle(e)):(this.lastSetRotation=e,this.setRotationFromValue(this.getValueFromAngle(e))))},isEnabled:function(){var e=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!e.isSlideObject||e.prop("Enabled"))},addAccessibilityItems:function(){return this.viewStealFocus=this.view.stealFocus,this.view.stealFocus=this.stealFocus.bind(this.view,this),this.viewReleaseFocus=this.view.releaseFocus,this.view.releaseFocus=this.releaseFocus.bind(this.view,this),this.view.treeKeyCallback=function(e,t,i){this.treeKeyCallback.call(this.view,this,e,t,i)}.bind(this),this},removeAccessibilityItems:function(){return this.view.stealFocus=this.viewStealFocus,this.view.releaseFocus=this.viewReleaseFocus,this.view.treeKeyCallback=null,this},updateAccessibilityText:function(){return this.rangeInput.setAttribute("aria-label",this.view.state.accessibleText),this},stealFocus:function(e){e.viewStealFocus.apply(e,t.slice(arguments,1)),e.rangeInput.focus()},releaseFocus:function(e){e.viewReleaseFocus.apply(e,t.slice(arguments,1)),e.rangeInput.blur()},treeKeyCallback:function(e,t,i){var n,r=i?"stepDown":"stepUp";try{e.rangeInput[r](),n=e.rangeInput.value,e.setRotationFromValue(n).adjustVariable(n)}catch(e){}return p.lastItemFocused===this.view&&p.update(this.view),!0}});var y=v.prototype;return y.roundValue=t.partial(y.roundStep,!1),y.roundAngle=t.partial(y.roundStep,!0),v}),define("views/mixins/decorateable",["require","lodash","views/presentation/decorators/Draggable","views/presentation/decorators/Droppable","views/presentation/decorators/Tweenable","views/presentation/decorators/Slideable","views/presentation/decorators/Rotatable"],function(e){"use strict";var t=e("lodash"),i=e("views/presentation/decorators/Draggable"),n=e("views/presentation/decorators/Droppable"),r=e("views/presentation/decorators/Tweenable"),s=e("views/presentation/decorators/Slideable"),o=e("views/presentation/decorators/Rotatable");return{createDecorator:function(e){return new e(this)},callLifeCycleEvent:function(e){for(var i=arguments.length,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r];t.forOwn(this.decorators,function(t){t[e]&&t[e].apply(t,n.slice(1))})},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(e){this.callLifeCycleEvent("componentWillReceiveProps",e)},componentWillUpdate:function(e,t){this.callLifeCycleEvent("componentWillUpdate",e,t)},componentDidUpdate:function(e,t){this.callLifeCycleEvent("componentDidUpdate",e,t)},createDecorators:function(){var e=this.props.model;e.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(i)),e.isDroppable()&&(this.decorators.droppable=this.createDecorator(n)),e.isTweenable()&&(this.decorators.tweenable=this.createDecorator(r)),e.isSlideable()&&(this.decorators.slideable=this.createDecorator(s)),e.isRotatable()&&(this.decorators.rotatable=this.createDecorator(o))},hasDraggableAncestor:function(){for(var e=this;e=e.props.parent;)if(e.props.model.isDraggable())return!0;return!1}}}),define("views/presentation/mixins/displayable",["require","lodash","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils");return{componentWillMount:function(){var e=this.props.model,n=e.isKind("slidelayer"),r=this.props.slideFrame;this.childrenVisible=!1,this.trulyVisible=!1,this.parentVisible=!1,n&&null!=r&&this.listenTo(r.props.model,"trueVisibilityChanged",t.partial(this.updateTrueVisibility,null)),this.isParentVisible=n?function(){return i.getPath(this.props.slideFrame,["props","model","currView","trulyVisible"],!0)}:function(){return this.parentVisible},n?this.isObjectVisible=function(){return this.isBaseLayer()||!!e.isOpen}:e.isKind("shufflegroup")?this.isObjectVisible=this.isParentVisible:this.isObjectVisible=function(){return e.prop("OnStage")&&!e.prop("HiddenByLayer")},this.isChildrenVisible=e.isKind("expandinglabel")?function(e){return e&&this.getPlayerProp("Expanded")}:t.identity},componentDidMount:function(){this.isBaseLayer&&this.isBaseLayer()&&this.updateTrueVisibility()},updateTrueVisibility:function(e){null==e&&(e=this.isObjectVisible());var i=this.props.model,n=this.isParentVisible(),r=e&&n,s=this.isChildrenVisible(r);r!==this.trulyVisible&&(this.trulyVisible=r,this.parentVisible=n,i.trigger("trueVisibilityChanged",r)),this.childrenVisible!==s&&(this.childrenVisible=s,i.objects&&i.objects().forEach(function(e){var i=e.currView;null!=i&&t.isFunction(i.updateTrueVisibility)&&i.parentVisible!==s&&(i.parentVisible=s,i.updateTrueVisibility())}))}}}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,i){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=i},SVGPathSeg.prototype.classname="SVGPathSeg",SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=i},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=i},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=i},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=i},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,i,n,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,i,n,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=i,this._x1=n,this._y1=r},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=i,this._x1=n,this._y1=r},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,i,n,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,i,n,r,s,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=i,this._x2=n,this._y2=r},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=i,this._x2=n,this._y2=r},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=i},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new SVGPathSegMovetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new SVGPathSegMovetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new SVGPathSegLinetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new SVGPathSegLinetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,i,n,r,s){return new SVGPathSegCurvetoCubicAbs(void 0,e,t,i,n,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,i,n,r,s){return new SVGPathSegCurvetoCubicRel(void 0,e,t,i,n,r,s)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,i,n){return new SVGPathSegCurvetoQuadraticRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,i,n,r,s,o){return new SVGPathSegArcAbs(void 0,e,t,i,n,r,s,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,i,n,r,s,o){return new SVGPathSegArcRel(void 0,e,t,i,n,r,s,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new SVGPathSegLinetoHorizontalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new SVGPathSegLinetoHorizontalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new SVGPathSegLinetoVerticalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new SVGPathSegLinetoVerticalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,i,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,i,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList._pathSegArrayAsString=function(e){var t="",i=!0;return e.forEach(function(e){i?(i=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},n.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&e<="9")&&t!=SVGPathSeg.PATHSEG_CLOSEPATH?t==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:t==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:t:SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==SVGPathSeg.PATHSEG_MOVETO_ABS||e==SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var e=0,t=0,i=1,n=0,r=1,s=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var l=this._currentIndex-1,u=1;l>=a;)t+=u*(this._string.charAt(l--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n+=(this._string.charAt(this._currentIndex++)-"0")*(i*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=t+n;if(c*=r,e&&(c*=Math.pow(10,s*e)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},n.prototype.parseSegment=function(){var e=this._string[this._currentIndex],i=this._pathSegTypeFromChar(e);if(i==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if((i=this._nextCommandHelper(e,this._previousCommand))==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(t);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(t,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(t,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new i,s=new n(e);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){var o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList})}(),define("pathseg",function(){}),define("views/mixins/adornable",["require","pathseg","lodash","react","react-dom","helpers/utils","helpers/errorManager","helpers/svg/svgUtils","helpers/constants","helpers/TransMatrix"],function(e){"use strict";e("pathseg");var t,i,n,r,s,o=e("lodash"),a=(e("react"),e("react-dom")),l=e("helpers/utils"),u=e("helpers/errorManager"),c=e("helpers/svg/svgUtils"),h=e("helpers/constants"),p=e("helpers/TransMatrix"),d=u.warn("Adornable"),f=u.throwError("Adornable"),m=u.backtick,g=(t=/c|s|q|t|a/i,function(e){return t.test(e.getAttribute("d"))}),v=o.partialRight(o.pick,"x","y"),y=function(e,t){return o.extend(e.createSVGPoint(),t)},b=function(e,t){return t.matrixTransform(e)},w=function(e,t){var i=o.partial(b,e),n=t.map(i),r=o.max(n,"y"),s=n.filter(function(e){return e.y===r.y}),a=o.min(s,"x"),l=o.max(s,"x"),u=(a.x+l.x)/2,c=a.y,h=o.indexOf(n,a),p=o.indexOf(n,l),d=t[h],f=t[p];return{transformed:{x:u,y:c},original:{x:(d.x+f.x)/2,y:(d.y+f.y)/2}}},S=(i=function(e){return 5*e},function(e,t){t.getTotalLength();var n=t.getPointAtLength.bind(t),r=Math.ceil(t.getTotalLength()/5)+1,s=o.range(r).map(i).map(n);return w(e,s)}),x=function(e,t){var i=t.pathSegList,n=i.getItem.bind(i),r=o.range(i.numberOfItems).map(n),s=o(r).map(v).filter(l.not(o.isEmpty)).map(o.partial(y,t.ownerSVGElement)).value();return w(e,s)},T=(n=function(e,t){return(g(t)?S:x)(e,t)},r=function(e){return e.transformed.y},function(e,t){var i=o(t).map(o.partial(n,e)).max(r).original;return v(i)}),E=function(e){return c.isUseNode(e)?(i=(t=e).getAttributeNS(h.XMLNS_XLINK,"href"),t.ownerSVGElement.querySelector(i)):e;var t,i},A=(s=/#([^\)\s'"]*)/,function(e){var t=s.exec(e);return null==t?null:t[1]}),C={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},P={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var e=o.values(o.pick(this.refs,function(e,t){return 0===t.indexOf("adornable")}));e.length&&e.forEach(function(e){this.setAsAdornable(a.findDOMNode(e),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(e,t){this.adornType=e.getAttribute("data-adornment-type"),this.adornedNode=e,this.adornRotation=t,this.parentSvg=e.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(e.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=C[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(e){return(this.adornRotationOffset||(this.adornRotationOffset=e.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var e,t=this.parentSvg.querySelector("[data-rotation-offset]");return t&&((e=this.gradientRotationOffset(t))[0]=-this.adornRotation+parseFloat(e[0]),t.setAttribute("gradientTransform",["rotate(",e.join(","),")"].join(""))),this},getDataAsFloat:function(e){return parseFloat(this.adornedNode.getAttribute("data-"+e))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var e,t=(e=this.adornedNode,e=E(e),c.isPathNode(e)?[e]:o.toArray(e.querySelectorAll("path")));if(!o.isEmpty(t))return T(this.adornMatrix,t);d("calculateLowestRotatedPoint","no `path` nodes found for calculation")},applyRotation:function(){if(!this.adornRotationPoint)return this;var e=this.adornConfig.rotationMethods;return e||f("applyRotation","adornment of",m(this.adornType),"not supported"),e.forEach(function(e){this[e]()}.bind(this)),this},addRotation:function(e,t){return this.adornTransformConfig[e](this.buildRotation(t)),this},buildRotation:function(e){return c.buildRotateConfig(this.adornRotation*e,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(e,t){var i=o.indexOf(this.adornTransformConfig,t);return this.adornTransformConfig[i+e]},adjustScaleTranslation:function(){var e=this.adornRotationPoint,t=c.getFirstScale(this.adornTransformConfig),i=this.getTransformRelativeToOther(-1,t),n=l.invertPercent(t.args[0]),r=l.invertPercent(t.args[1]);return i.args[0]=e.x*n,i.args[1]=e.y*r,this},adjustSkewTranslation:function(e){var t=this.adornRotationPoint,i="x"===e,n=i?"y":"x",r=c.getFirstTransformOfType("skew"+e.toUpperCase(),this.adornTransformConfig),s=this.getTransformRelativeToOther(1,r),o=r.args[0],a=l.degToRad(o);return s.args[i?0:1]=-t[n]*Math.tan(a),this},applyTransform:function(){var e=this.adornTransformConfig.map(c.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",e),this},calculateRotationOffset:function(){for(var e=this.getDataAsFloat("distance"),t=this.getDataAsFloat("angle"),i=-l.degToRad(this.adornRotation-t),n=this.getDataAsFloat("scale"),r=new p,s=this.props.model.parent;null!=s&&s.isSlideObject;)r.rotate(-s.prop("Rotation"),0,0),s=s.parent;return e/=n,r.transformPoint(e*Math.cos(i),e*Math.sin(i))},rotateDropShadow:function(){var e=this.calculateRotationOffset();this.adornTransformConfig.push(c.buildTranslateConfig(e.x,e.y))},rotateInnerDropShadow:function(){var e=document.getElementById(A(this.adornedNode.getAttribute("filter"))).getElementsByTagName("feOffset")[0],t=this.calculateRotationOffset();e.setAttribute("dx",t.x),e.setAttribute("dy",t.y)},rotateReflection:function(){this.addRotation("unshift",-1);var e=c.getFirstTranslate(this.adornTransformConfig),t=o.indexOf(this.adornTransformConfig,e);this.adornTransformConfig.splice(t+1,0,this.buildRotation(-1))}};return P.rotateShadowToOriginalAngle=o.partial(P.addRotation,"unshift",-1),P.rotateShadowAboutPlane=o.partial(P.addRotation,"push",1),P.adjustSkewTranslationX=o.partial(P.adjustSkewTranslation,"x"),P.adjustSkewTranslationY=o.partial(P.adjustSkewTranslation,"y"),P}),define("views/presentation/VectorSlideObject",["require","lodash","helpers/utils","views/mixins/baseView","views/mixins/adornable","react","helpers/svg/svgManager","helpers/svg/svgUtils","helpers/constants","backbone","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=(e("helpers/utils"),e("views/mixins/baseView")),n=e("views/mixins/adornable"),r=e("react"),s=e("helpers/svg/svgManager"),o=(e("helpers/svg/svgUtils"),e("helpers/constants"),e("backbone"),e("polyfills/vendorOverrides"));return r.createClass({displayName:"VectorSlideObject",mixins:[i,n],refresh:function(){return this.htmlReady(this.whenHtmlReady),this},whenHtmlReady:function(){this.adornSvg(),this.determineChildMouseBehavior()},shouldAlternate:function(){var e=this.props.model.imagelib();return null!=e&&e.length>1},componentWillMount:function(){t.isFunction(o.shouldAlternateSvgImage)&&(this.shouldAlternate=o.shouldAlternateSvgImage),this.isAlternating=this.shouldAlternate(),this.alternate=!0},componentDidMount:function(){this.refresh().bindEvents()},componentDidUpdate:function(){this.refresh().bindEvents()},shouldUpdate:function(e,t){var i=e.playerProps.ObjectState!==this.props.playerProps.ObjectState||this.props.model.shouldUpdateGif();return this.isAlternating?(window.setTimeout(function(){if(this.forceUpdate(),this.els=this.el.querySelectorAll(".slideobject-maskable"),2===this.els.length){var e=this.alternate?["none","block"]:["block","none"],t=_slicedToArray(e,2),i=t[0],n=t[1];this.els[0].style.display=i,this.els[1].style.display=n}}.bind(this),32),!1):i},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).concat(this.findAllComponents("RichVariableText")).forEach(function(e){this.listenTo(e,{textHit:this.props.textHit,textOver:this.props.textOver,textOut:this.props.textOut})}.bind(this)),this},determineChildMouseBehavior:function(){var e;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach(function(e){e.style.pointerEvents="none"}),(e=this.find("g g:nth-child(2)")).setAttribute("cursor","pointer"),e.style.pointerEvents="all")},template:function(){var e=s.getSvgFromData(this.props.model,this);return this.isAlternating?(this.alternate?this.a=e:this.b=e,this.alternate=!this.alternate,r.createElement("div",{className:"alternating-svg"},this.a,this.b)):e}})}),define("views/presentation/ButtonSlideObject",["require","react","views/mixins/baseView","polyfills/detection","polyfills/mobileChromeKiller"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),r=e("polyfills/mobileChromeKiller");return t.createClass({displayName:"ButtonSlideObject",mixins:[i],componentDidMount:function(){var e=document.querySelector(".resume-prompt-slide");n.isMobilePreview&&e?this.el.addEventListener("mousedown",function(){r.init()}):n.isMobileOrTouchableTheme&&e&&this.el.addEventListener("touchend",function(){r.init()})},getClassNames:function(){var e=["btn","slide-object-button"];return n.isMobileOrTouchableTheme||(this.props.model.getSlide().isMessageSlide()?e.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):e.push("cs-button")),e.join(" ")}})}),define("views/presentation/PlaceHolderSlideObject",["require","lodash","views/mixins/baseView","react"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView");return e("react").createClass({mixins:[t],displayName:"PlaceHolderSlideObject"})}),define("views/presentation/GroupingSlideObject",["require","lodash","views/mixins/baseView","react","helpers/slideObjectUtils"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView"),i=e("react"),n=e("helpers/slideObjectUtils");return i.createClass({mixins:[t],displayName:"GroupingSlideObject",getFocusTarget:function(){return n.getGroupFocusTarget(this)}})}),define("views/presentation/StateGroupSlideObject",["require","lodash","helpers/keyManager","helpers/resolver","views/helpers/dom","views/mixins/baseView","react","polyfills/detection","helpers/slideObjectUtils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/keyManager"),n=e("helpers/resolver"),r=e("views/helpers/dom"),s=e("views/mixins/baseView"),o=e("react"),a=e("polyfills/detection"),l=e("helpers/slideObjectUtils");return o.createClass({mixins:[s],displayName:"StateGroupSlideObject",isStillFocused:function(){var e=i.getCurrentTabbable();return!!this.findComponent(e)},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=t.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},getElso:function(){return t.find(this.refs,function(e){return e.props.model.isKind("expandinglabel")})},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(e,t){if(!e||null==t||null!=t.props.model.get("markerType")){var i=e?"toggleComplete":"hideComplete";(e||!this.isStillFocused()&&this.isExpanded())&&this.getElso().refs.innard[i]()}},isClickDefAllowed:function(e,i){var s,o,l=this.props.model.getClickDef(),u=r.closest(e,r.isSlideObject);return a.isMobileOrTouchableTheme&&null==u&&(e=document.elementFromPoint(r.mouseX,r.mouseY))&&this.el.contains(e)&&(u=r.closest(e,r.isSlideObject)),function e(i){return t.some(i,function(t){var i=!1;return!(t instanceof window.Node)&&t.props.model&&t.props.model.isSlideObject&&(t.refs&&(i=e(t.refs)),t.el===u&&(i=!0,o=t)),!!i})}(this.refs),null!=o?l.some(function(e){var t=n.getRef(e,this.props.model);return n.resolvePath(t,this.props.model).id===o.props.model.id}.bind(this)):(s=r.closest(this.el,r.isSlideObject))!==u&&"clickoutside"===i?this.props.model.events().some(function(e){return"onclickoutside"===e.kind}):s===u||s!==u&&"releaseoutside"===i},getFocusTarget:function(){return l.getGroupFocusTarget(this)}})}),define("views/presentation/PresentationOverlay",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"PresentationOverlay",mixins:[i]})}),define("views/presentation/ZoomImage",["require","lodash","tween-lite","views/mixins/baseView","react","react-dom","views/presentation/PresentationOverlay","helpers/appState","polyfills/detection","views/events/touchHelper"],function(e){"use strict";var t=e("lodash"),i=e("tween-lite"),n=e("views/mixins/baseView"),r=e("react"),s=e("react-dom"),o=e("views/presentation/PresentationOverlay"),a=e("helpers/appState"),l=e("polyfills/detection"),u=e("views/events/touchHelper"),c=l.isMobile?0:5,h=r.createClass({displayName:"ZoomImage",mixins:[n],componentWillMount:function(){var e=r.createElement(o,{className:"zoom-image-overlay"});this.overlay=s.render(e,document.querySelector("#zoomimage-container"))},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=t.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var e=this.currentTween.time(),n=t.partial(i.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=n(this.startProps,this.endProps):this.currentTween=n(this.endProps,this.startProps),this.currentTween.seek(e)}},getContainerRectDesktop:function(){return(this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):document.querySelector("#presentation")).getBoundingClientRect()},getContainerRectMobile:function(){return a.windowManager.getCurrentWindowSlide().currView.el.getBoundingClientRect()},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var e,i,n,r=c,s=this.el.parentNode.getBoundingClientRect(),o=this.getContainerRect(),u=o.left-s.left,h=o.top-s.top,p=this.props.imageElement.getBoundingClientRect(),d=p.left-o.left-this.diffX,f=p.top-o.top-this.diffY,m=d+this.props.width+r,g=f+this.props.height+r,v=d,y=f,b=this.scaleX,w=this.scaleY,S=1;l.isMobileOrTouchableTheme||!l.isClassic?S=1/a.windowManager.getCurrentWindowSlide().calculateTotalScale():a.windowManager.isLightBoxActive()&&(S=a.windowManager.getCurrentWindow().slideScale,S*=a.windowManager.getCurrentWindowSlide().calculateTotalScale(),d-=(this.props.transform.width-this.props.transform.width*S)/2,f-=(this.props.transform.height-this.props.transform.height*S)/2,b*=S,w*=S),e=o.width/(this.props.width+r),i=o.height/(this.props.height+r),n=t.min([1,e,i]),f<r?y=r-(this.props.height-n*this.props.height)/2:g>o.height&&(y-=g-o.height-(this.props.height-n*this.props.height)/2),d<r?v=r-(this.props.width-n*this.props.width)/2:m>o.width&&(v-=m-o.width-(this.props.width-n*this.props.width)/2),this.startProps={x:d+u-this.props.transform.xOffset*S,y:f+h-this.props.transform.yOffset*S,scaleX:b,scaleY:w,overwrite:"auto"},this.endProps={x:v+u,y:y+h,scaleX:n,scaleY:n}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),a.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=i.fromTo(this.el,this.speed,this.startProps,t.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),document.addEventListener(u.clickOrTouch,this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=i.to(this.el,this.speed/2,this.startProps)},zoomOut:function(e){e.stopPropagation(),this.isZoomingIn=!1,document.removeEventListener(u.clickOrTouch,this.zoomOut,!0),i.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),p=h.prototype;return p.getContainerRect=p[l.isMobile?"getContainerRectMobile":"getContainerRectDesktop"],h}),define("helpers/windowOpen",["require","lodash","backbone","helpers/events","helpers/pubSub","polyfills/vendorOverrides","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=(e("backbone"),e("helpers/events")),r=e("helpers/pubSub"),s=e("polyfills/vendorOverrides"),o=e("helpers/constants");return i.extend({initialize:function(e){t=e,r.on(n.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(e,t){var i=this.openWindowByAction.bind(this,e),n=i;null!=s.onOpenWindow&&(n=s.onOpenWindow.bind(s,e,t,i)),n()},openWindowByAction:function(e){var t={},i=e.windowsize,n="open_video"===e.kind;switch(i){case"fullscreen":t.width=window.screen.availWidth,t.height=window.screen.availHeight;break;case"custom":t.width=e.width,t.height=e.height}e.usedefaultcontrols||"default"===i||(t.status=+e.status,t.toolbar=+e.toolbar,t.location=+e.location,t.menubar=+e.menubar,t.scrollbars=+e.scrollbars,t.resizable=+e.resizable),this.open({url:n?o.STORY_CONTENT_URL+e.url:e.url,window:e.window,specs:t,previewNotification:n?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(e){var s,o={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(o,e),t.isPreview()?r.trigger(n.preview.NOTIFY,o.previewNotification):window.open(o.url,o.window,(s=o.specs,i.pairs(s).map(function(e){return e.join("=")}).join(", ")))}})}),define("views/presentation/ImageSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","react","react-dom","helpers/assetManager","views/presentation/ZoomImage","helpers/slideObjectUtils","views/events/touchHelper","helpers/windowManager","polyfills/detection","helpers/events","helpers/windowOpen"],function(e){"use strict";var t,i=e("lodash"),n=e("views/mixins/baseView"),r=(e("views/mixins/propertizable"),e("react")),s=e("react-dom"),o=e("helpers/assetManager"),a=e("views/presentation/ZoomImage"),l=(e("helpers/slideObjectUtils"),e("views/events/touchHelper")),u=e("helpers/windowManager"),c=e("polyfills/detection"),h=e("helpers/events"),p=e("helpers/windowOpen");return r.createClass({displayName:"ImageSlideObject",mixins:[n],subscriptions:(t={},t[h.slideContainer.POSITIONED]="onPositioned",t),componentWillMount:function(){this.presentationCanvas=document.querySelector("#presentation-canvas")},componentDidMount:function(){c.isMobileOrTouchableTheme&&this.refs.zoom&&l.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return o.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?p.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},actionKeyCallback:function(){return null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:i.noop}):this.zoom(),!0},innardRelease:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn&&this.zoomImage.zoomOut({stopPropagation:i.noop})},getOrCreateZoomImage:function(){return s.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var e=1/u.getCurrentWindowSlide().calculateTotalScale(),t=r.createElement(a,{imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*e,height:this.props.model.get("zoomdata").html5data.height*e,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*e,height:this.props.playerProps.height*e}});return this.zoomImage=s.render(t,this.presentationCanvas),this.zoomImage},onPositioned:function(){var e=this.zoomImage;null!=e&&e.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){c.isMobileAndNotPreview||this.zoom()}})}),define("views/presentation/WebObjectSlideObject",["require","lodash","views/mixins/baseView","react","views/mixins/propertizable","helpers/assetManager","helpers/errorManager","helpers/vow","views/helpers/dom","helpers/events","helpers/actions","helpers/appState","helpers/pubSub","helpers/PostMessaging"],function(e){"use strict";e("lodash");var t,i,n=e("views/mixins/baseView"),r=e("react"),s=(e("views/mixins/propertizable"),e("helpers/assetManager")),o=e("helpers/errorManager"),a=e("helpers/vow"),l=e("views/helpers/dom"),u=e("helpers/events"),c=e("helpers/actions"),h=e("helpers/appState"),p=(e("helpers/pubSub"),e("helpers/PostMessaging")),d=o.throwError("WebObjectSlideObject");return r.createClass({displayName:"WebObjectSlideObject",mixins:[n],subscriptions:(i={},i[u.volume.CHANGED]="onVolumeChanged",i),shortEvents:{model:(t={trueVisibilityChanged:"toggleLoad"},t[c.TRIGGER_WEBOBJECT_CLIENT_EVENT]="onTriggerClientEvent",t)},getInitialState:function(){return{thumbVisible:!0,url:""}},prepareImageUrl:function(){var e=this.props.model.get("thumbAssetId");return s.getAssetUrl(e)},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=new a.Deferred,this.clientReady.done(function(e){this.onVolumeChanged(h.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){this.refs.iframe.src="",this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},getUrl:function(){var e=this.props.model.get("html5Url");return this.isEngage&&(e+=["?wo=1&id=",this.props.model.id].join("")),e},getResumeData:function(){return this.props.model.variables().findWhere({name:"_remotedata"}).value()},setResumeData:function(e){this.props.model.variables().findWhere({name:"_remotedata"}).value(e),this.props.model.getClosestAncestorByKind("slide").prepareResumeData({retainState:!0})},triggerHostEvent:function(e){var t;this.props.model.executeFilteredPlayerEvent((t=e,function(e){return e.eventName===t}),"onclientevent")},toggleLoad:function(e){e?this.setState({url:this.getUrl()}):this.setState({url:""})},onIframeLoad:function(){if(this.isEngage){this.refs.iframe.contentWindow;this.postMessaging=new p(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve)}},onTriggerClientEvent:function(e){this.postMessaging.request("executeFilteredPlayerEvent",e.eventName).fail(d.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(e){this.postMessaging.request("setVolume",e).fail(d.bind(this,"setVolume","Cannot set volume"))},innardFocus:function(){null!=this.refs.iframe&&l.hasClass(this.refs.iframe,"shown")&&this.refs.iframe.contentWindow.focus()}})}),define("models/presentation/Variable",["require","lodash","helpers/constants","helpers/events","helpers/actions","models/BaseModel","helpers/pubSub","mixins/actionable","helpers/errorManager","helpers/resolver","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/events"),r=e("helpers/actions"),s=e("models/BaseModel"),o=e("helpers/pubSub"),a=e("mixins/actionable"),l=e("helpers/errorManager"),u=e("helpers/resolver"),c=e("helpers/resume/Chunk"),h=l.throwError("Variable"),p=l.backtick,d={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","‘":"^B","’":"^C","“":"^D","”":"^E"},f=t.invert(d),m=function(e,i){return t.reduce(e,function(e,t,i){return e.split(i).join(t)},i.toString())},g=t.partial(m,d),v=t.partial(m,f),y=function(e){return parseFloat(e.toPrecision(7))};Number.isInteger=Number.isInteger||function(e){return-1===e.toString().indexOf(".")};var b,w={add:function(e,t){return y(parseFloat(e)+parseFloat(t))},sub:function(e,t){return y(parseFloat(e)-parseFloat(t))},mult:function(e,t){return Number.isInteger(e)&&Number.isInteger(t)?e*t:y(parseFloat(e)*parseFloat(t))},div:function(e,t){return y(parseFloat(e)/parseFloat(t))},set:function(e,t){return t},toggle:function(e){return!e},addStrings:function(e,t){return[e,t].join("")}},S=s.extend({isVar:!0,idAttribute:"name",mixins:[a],shorthand:["value","name","type","resume"],shortEvents:{self:(b={},b[r.ADJUST_VAR]="adjust",b)},playerPropNames:{InitValue:null},initialize:function(){this.isRandomValue()&&this.value(this.getRandom(this.value())),this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},getOperator:function(e){return"add"===e&&this.isString()?"addStrings":e},adjust:function(e,t){var i,n,r,s=(r=t,null!=(n=e).value?u.getRef(n.value,r.context,r):u.resolvePath(n.variable,r.context)),o=this.getOperator(e.operator);return w[o]||h("adjust","Invalid adjustment operator",p(o)),this.isRandomValue(s)&&(s=this.getRandom(s)),i=w[o](this.value(),s),this.changeValue(i,e),this},changeValue:function(e,t){var i=this.value();i!==e&&(this.value(e,{relatedAction:t}),o.trigger(n.variable.CHANGED,this.absoluteId,e,i))},getEncodedString:function(e){return e=e||this.value(),this.hasInitValue()?"^":g(e)},decodeAndSetValue:function(e){return"^"!==e&&this.value(v(e),{silent:!0}),this},getEncodedValue:function(){var e=this.isString()?this.getEncodedString.bind(this):c.toSignedString64;return c.create(e(this.value()))},setEncodedValue:function(e){return this.isString()?this.decodeAndSetValue(e):this.value(c.fromSignedString64(e),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger(n.variable.REFRESH_VIEW)},isRandomValue:function(e){return null==e&&(e=this.value()),this.isNumber()&&u.isRandomToken(e)},getRandom:function(e){var i,n,r,s=e;return t.isString(e)&&"RAND"===(i=e.split("|"))[0]&&(n=parseInt(i[1],10),r=parseInt(i[2],10)+1,s=Math.floor(Math.random()*(r-n))+n),s}}),x=S.prototype;return x.isString=t.partial(x.isType,i.varTypes.STRING),x.isBoolean=t.partial(x.isType,i.varTypes.BOOL),x.isNumber=t.partial(x.isType,i.varTypes.NUM),S}),define("models/presentation/helpers/utils",["require","lodash","helpers/utils"],function(e){"use strict";e("lodash");var t=e("helpers/utils");return{isResumable:function(e){return e.shouldResume?e.shouldResume():!(!e.resume||!e.resume())},getResumeableFilter:function(e){return e?t.alwaysTrue:this.isResumable},meetConditionOrReturn:function(e,t,i){return t.call(e)?e.getResumeData():i}}}),define("collections/presentation/Variables",["require","lodash","collections/BaseCollection","models/presentation/Variable","helpers/events","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t,i=e("lodash"),n=e("collections/BaseCollection"),r=e("models/presentation/Variable"),s=e("helpers/events"),o=e("models/presentation/helpers/utils"),a=e("helpers/resume/Chunk");return n.extend({model:r,subscriptions:(t={},t[s.player.RESET]="resetValues",t),initialize:function(){this.getResumeDataOrReturn=i.partial(o.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(e,t){return this.push(i.extend({},{resume:!0},e),{parent:t})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(o.isResumable).some(function(e){return!e.hasInitValue()})},getResumeData:function(){this.booleans=[];var e=this.filter(o.isResumable).reduce(this.encodeVariable.bind(this),"");return a.create(this.encodeBooleans())+e},encodeVariable:function(e,t){return t.isBoolean()?this.booleans.push(t.value()):e+=t.getEncodedValue(),e},encodeBooleans:function(e){for(var t,i,n="";this.booleans.length;)t=1,i=this.booleans.splice(0,6).reduce(function(e,i){return e+=i*t,t*=2,e},0),n+=a.toUnsignedString64(i);return n},setResumeData:function(e){var t="";if(e.length>0){var i=new a({fullString:e}),n=this.convertBoolStringToArray(i.encodedString()),r=this.filter(o.isResumable);t=i.remainder(),r.forEach(function(e){e.isBoolean()?e.value(n.shift(),{silent:!0}):(i=i.reChunk(),e.setEncodedValue(i.encodedString()),t=i.remainder())})}return t},convertBoolStringToArray:function(e){return e.split("").reduce(function(e,t){for(var i=a.fromUnsignedString64(t),n=1;n<=32;)e.push(!!(i&n)),n*=2;return e},[])}})}),define("collections/presentation/Animations",["require","collections/BaseCollection","models/presentation/Animation"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Animation");return t.extend({model:i})}),define("models/presentation/mixins/propertizable",["require","lodash","helpers/utils","helpers/events","helpers/constants","backbone"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/events"),r=e("helpers/constants"),s=e("backbone"),o=function(e){return e[r.PLAYER_PROPS_KEYPATH]};return{init:function(){var e,t;this.variableMap={},e=this,t=new s.Model,e[r.PLAYER_PROPS_KEYPATH]=t,this.createVariableProps().createPlayerProps(),this.once(n.data.UPDATED,this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&i.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(e){if(this.variableProps)return t.has(this.variableProps,e)},getVariableProp:function(e){return this.variableMap[e]},createVariableProps:function(){var e={};return this.variableProps&&(this.variableMap=t.reduce(this.variableProps,function(t,i,n){return t[n]=this.variables().addVariable({name:n,type:i.type,value:i.value,resume:null==i.resume||i.resume},this),e[n]=i.value,t}.bind(this),{}),this.variableProps=e),this},createPlayerProps:function(e,i){i=i||{};var n,s,a=t.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),e?{}:this.decodedResumeData);return n=this,s=t.omit(a,i),n[r.PLAYER_PROPS_KEYPATH].set(s),o(this)},prop:function(e,i){var n=void 0===i&&!t.isObject(e),r=o(this);if(n)return r.get(e);(r.set(e,i),this.isVariableProp(e))&&this.getVariableProp(e).value(i);return this},getPlayerProps:function(){return o(this)},getVariableProps:function(){var e=this.variableProps||{};return t.forEach(e,function(t,i){if(this.isVariableProp(i)){var n=this.getVariableProp(i);n&&(e[i]=n.value())}}.bind(this))},getTransformedPropsObj:function(){var e=this.playerPropNames||{},i=t.omit(e,"model"),n=t.transform(e.model,function(e,t,i){e[i]=this.get(t)}.bind(this));return t.extend(i,n,this.getVariableProps())},hasOwnPlayerProp:function(e){return o(this).has(e)},prepareResumeData:function(e){return e=e||{},this.onBeforeResumeBuilt(e),t.isFunction(this.buildResumeData)&&this.buildResumeData(e.force),e.skipPostBuild||this.onAfterResumeBuilt(e.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(e){this.createPlayerProps(!0,e)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:t.noop,onBeforeResumeBuilt:t.noop}}),define("models/presentation/mixins/eventable",["require","lodash","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/Iterable"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("helpers/actionManager"),r=e("helpers/errorManager"),s=e("helpers/Iterable"),o=r.throwError("eventable"),a={isEventable:!0,hasEvent:function(e){return this.getEvents(e).length>0},getEvents:function(e){var i=this.events()||[];return i&&t.union(t.where(i,{kind:e}),t.where(i,{eventName:e}),t.where(i,{eventname:e}))},getFilteredPlayerEvent:function(e,i,n){var r=this.getEvents(i);return 0===r.length?{events:s.empty,data:n}:(n&&!t.isObject(n)&&o("executeFilteredPlayerEvent","data supplied must be an object"),n=t.extend(n||{},{context:this.getClosestEventTarget(),eventType:i}),{events:new s(r).filter(e),data:n})},executeFilteredPlayerEvent:function(e,t,i){var r=this.getFilteredPlayerEvent(e,t,i);return r.events.forEach(function(e){null!=e.actions&&n.executeActions(e.actions,r.data)}),this},traceFilteredPlayerEvent:function(e,t,i){var r=this.getFilteredPlayerEvent(e,t,i);return r.events.map(function(e){return n.traceActions(e.actions,r.data)}).flatten()}};return t.extend(a,{executePlayerEvent:t.partial(a.executeFilteredPlayerEvent,i.alwaysTrue),tracePlayerEvent:t.partial(a.traceFilteredPlayerEvent,i.alwaysTrue)}),a}),define("mixins/varPropListenable",["require","lodash","helpers/resolver","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("helpers/errorManager"),r=(n.throwError("varPropListenable"),n.backtick,function(e,t){return t.kind===e}),s=t.partial(r,"onvarchanged"),o=t.partial(r,"onpropchanged"),a=function(e){return["change",e].join(":")};return{setVarAndPropListeners:function(){var e,n,r,l,u=this.events();return[].concat((r=this,l=t.sortBy(u.filter(s),"priority").reverse(),t.invoke(l,function(){var e=this,t=a("value"),n=i.resolvePath(e.varname,r),s=function(){r.executeFilteredPlayerEvent(function(t){return t===e},"onvarchanged")};return null!=n&&r.listenTo(n,t,s),{listener:r,obj:n,event:t,callback:s}})),(e=this,n=t.sortBy(u.filter(o),"priority").reverse(),t.invoke(n,function(){var t=this,n=i.resolvePath(t.objRef,e),r=t.propname,s=n.prop(r),o=a(r),l=n.getPlayerProps(),u=function(){window.requestAnimationFrame(function(){s!==n.prop(r)&&(s=n.prop(r),e.executeFilteredPlayerEvent(function(e){return e===t},"onpropchanged"))})};return e.listenTo(l,o,u),{listener:e,obj:l,event:o,callback:u}})))}}}),define("models/presentation/mixins/resumables/slideObjectResumable",["require","lodash","helpers/resume/Chunk","helpers/events","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resume/Chunk"),n=e("helpers/events"),r=e("helpers/keyManager"),s=1,o=2,a=4,l=8,u=16,c=32,h=64,p=128,d=256,f=512,m=1024,g=2048,v=4096,y=1,b=2,w=4,S=8,x=function(e){return!!e.isBaseLayer},T=function(e,t){var i=e.slice(0,t);return{data:e=e.slice(t),substr:i}},E=function(e,t,n){return i[!0===n?"fromUnsignedString64":"fromSignedString64"](e(t))};return{resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(e){return this.buildResumeData(e).getResumeData()},buildResumeData:function(e){var t,n=0,r="",y=this.prop("DragConnected");return(this.shouldResume()||e)&&(this.isInDefaultState()||(n+=s,r+=i.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&y&&(n+=l,r+=i.toUnsignedString64(y.prop("slideIndex"),2),r+=i.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(n+=c,r+=i.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(n+=h,r+=i.toSignedString64(this.prop("ShuffleXPos"),2),r+=i.toSignedString64(this.prop("ShuffleYPos"),2),r+=i.toUnsignedString64(this.prop("tabIndex"),2)),n+=this.prop("OnStage")*a,n+=this.prop("Moved")*p,n+=this.prop("ReviewMode")*m,n+=this.prop("HiddenByLayer")*v,n+=this.prop("MouseOver")*g,n+=!this.prop("Enabled")*f,n+=!this.prop("TimelineControlled")*d,(t=this.variables().getResumeDataOrReturn(!1))&&(n+=o,r+=t),this.hasAnimated()&&(n+=u,this.animationStateData=this.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),r+=this.getAnimationResumeData())),this.encodedResumeData=i.toUnsignedString64(n,3)+r,this},getAnimationResumeData:function(e){return i.create(this.animationResumeData)},collectAnimationResumeData:function(e){this.animationStateData=t.extend(this.animationStateData,e)},buildAnimationResumeData:function(e){var t=this.getInitParentContainer(),n=this.getParentContainer(),r=n!==t,s=4094,o=0;this.animationResumeData="",(r||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(o+=y,this.animationResumeData+=i.toSignedString64(Math.round(e.RawXPos),2),this.animationResumeData+=i.toSignedString64(Math.round(e.RawYPos),2),r&&(s=n.isSlideLayer?4095:n.prop("slideIndex")),this.animationResumeData+=i.toUnsignedString64(s,2),this.isScaled()&&(o+=b,this.animationResumeData+=i.toSignedString64(e.ScaleX,2),this.animationResumeData+=i.toSignedString64(e.ScaleY,2)),this.isRotated()&&(o+=w,this.animationResumeData+=i.toSignedString64(e.Rotation,2))),this.isAlphaed()&&(o+=S,this.animationResumeData+=i.toUnsignedString64(e.Alpha,2)),o>0&&(this.animationResumeData=i.toUnsignedString64(o,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(e,i){var n={};t.isObject(e)?n=e:n[e]=i,t.extend(this.decodedResumeData,n)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(e){if(this.setDecodedResumeDataObj(),t.isEmpty(e))return this;var i,n,v,y,b,w=t.partial(E,function(t){var i=T(e,t);return e=i.data,i.substr}),S=w(3,!0);return S&s?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(w(2))):this.setDecodedResumeProp("ObjectState","_default"),S&l&&(i=w(2),this.setDecodedResumeProp("DropIndex",w(1)),n=this.getClosestAncestor(x).getObjectByIndex(i),this.setDecodedResumeProp("DragConnected",n),this.setDecodedResumeProp("DropTargetId",n.id)),S&c&&this.setDecodedResumeProp("depth",w(2)),S&h&&(v=w(2),y=w(2),b=w(2,!0),this.prop("tabIndex",b),this.currView.idx=b,r.addItem(this.currView,!1,null,!0),this.setDecodedResumeProp({ShuffleXPos:v,RawXPos:v,ShuffleYPos:y,RawYPos:y})),this.setDecodedResumeProp({Moved:!!(S&p),TimelineControlled:!(S&d),Enabled:!(S&f),ReviewMode:!!(S&m),MouseOver:!!(S&g)}),S&o&&(e=this.variables().setResumeData(e),this.setDecodedResumeProp(this.getVariableProps())),S&u&&this.setAnimationResumeData(e),this.setDecodedResumeProp("OnStage",!!(S&a)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(e){var n,r,s,o,a={},l=new i({fullString:e}),u=l.encodedString(),c=function(e){var t=T(u,e);return u=t.data,t.substr},h=t.partial(E,c);return u.length&&((n=i.fromUnsignedString64(c(1)))&y&&(a.RawXPos=h(2),a.RawYPos=h(2),4094!==(r=h(2,!0))&&(s=this.getClosestAncestor(x),o=4095===r?s:s.getObjectByIndex(r),this.reparentChild(o))),n&b&&(a.ScaleX=h(2),a.ScaleY=h(2)),n&w&&(a.Rotation=h(2)),n&S&&(a.Alpha=h(2,!0)),this.setDecodedResumeProp(a)),l.remainder()},setResumeDataLimited:function(e){var i=function(t){var i=T(e,t);return e=i.data,i.substr},n=t.partial(E,i),r=n(3,!0);if(r&s&&this.setStateFromIndex(n(2)),r&o)return r&l&&i(3),r&c&&i(2),r&h&&i(4),this.variables().setResumeData(e),this},resetObjectBeforeResume:function(e){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),e||(this.trigger(n.resume.RESET),this.animations().length>0&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(e){this.objects&&this.objects().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){e||this.prop("updateGifOnShow",!0)},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(x).shouldResume()}}}),define("models/presentation/SlideObject",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","helpers/vow","helpers/resolver","helpers/svg/svgManager","models/BaseModel","collections/BaseCollection","collections/presentation/Variables","collections/presentation/TextLib","collections/presentation/Animations","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","mixins/varPropListenable","models/presentation/mixins/resumables/slideObjectResumable","helpers/resume/Chunk","helpers/actionManager","helpers/pubSub","helpers/svg/imageHelper"],function(e){"use strict";var t,i,n=e("lodash"),r=(e("helpers/utils"),e("helpers/constants")),s=e("helpers/events"),o=e("helpers/actions"),a=(e("helpers/vow"),e("helpers/resolver")),l=(e("helpers/svg/svgManager"),e("models/BaseModel")),u=(e("collections/BaseCollection"),e("collections/presentation/Variables")),c=e("collections/presentation/TextLib"),h=e("collections/presentation/Animations"),p=e("mixins/actionable"),d=e("models/presentation/mixins/propertizable"),f=e("models/presentation/mixins/eventable"),m=e("mixins/varPropListenable"),g=e("models/presentation/mixins/resumables/slideObjectResumable"),v=(e("helpers/resume/Chunk"),e("helpers/actionManager")),y=e("helpers/pubSub"),b=e("helpers/svg/imageHelper"),w=/hotspot.*marker/,S=/tooltip/,x=/value":"[^,]*_tooltip/,T=/(Incorrect|Correct)Review/,E=1e3,A={webobject:[{name:"_remotedata",type:r.varTypes.STRING,value:""}]},C=l.extend({mixins:[p,f,g,d,m],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:u,textLib:c,animations:h},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:"_default",OnStage:!1,HiddenByLayer:!1,updateGifOnShow:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:(i={},i[s.player.RESET]="onPlayerReset",i),shortEvents:{self:(t={"change:xPos change:yPos":"onPositionUpdate"},t[o.SHOW]="show",t[o.HIDE]="hide",t[o.SET_OBJ_STATE]="setState",t[o.BRING_TO_FRONT]="bringToFront",t[o.SET_ENABLED]="setEnabled",t[o.STORE_RESUME_DATA]="storeResumeData",t[o.RESTORE_RESUME_STATE]="restoreResumeState",t[o.GET_MOUSE_POSITION]="getMousePosition",t[o.MOVE_TO]="moveTo",t[o.SET_REVIEW]="setReview",t)},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once(s.data.UPDATED,this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.showFns=[],this.containsGif=b.containsGif(this.imagelib())},shouldUpdateGif:function(){if(!this.containsGif)return!1;var e=this.prop("updateGifOnShow"),t=this.prop("OnStage");return t&&this.prop("updateGifOnShow",!1),e&&t},addExtraVariables:function(){return(A[this.kind()]||[]).forEach(function(e){this.variables().addVariable(e)}.bind(this)),this},bindTimelineEvents:function(){var e=this.getLayer().timeline();this.listenTo(e,s.timeline.BEFORE_SEEK_UPDATE,this.onBeforeSeekUpdate.bind(this)),this.listenTo(e,s.timeline.AFTER_SEEK_UPDATE,this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return"_default"===this.prop("ObjectState")},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return w.test(this.id)},isToolTip:function(){return S.test(this.id)},isCorrectIncorrectReview:function(){return T.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var e,t,i,r=n.findWhere(this.events(),{kind:"onrollover"});return r&&(t=-1!==(e=JSON.stringify(r.actions)).indexOf('kind":"show'),i=x.test(e)),t&&!i},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getAnimationResumeState:function(){return n.reduce(["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"],function(e,t){return e[t]=this.prop(t),e}.bind(this),{})},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getRelativeId:function(){if(null!=this.relativeId)return this.relativeId;var e=this.getLayer(),t=e.parent;return e=e.isBaseLayer()?t:e,this.relativeId=this.absoluteId.substr(e.absoluteId.length+1)},getHitType:function(){var e;return null!=this.hitType?this.hitType:(e=this.isVectorShape()?r.SVG_HIT:this.isGroupingSlideObject&&!this.isKind("scrollarea")?r.GROUP_HIT:r.RECT_HIT,this.hitType=e)},getStateFromVar:function(){return n.findWhere(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(e){return n.findWhere(this.states(),{name:e})},getStateFromIndex:function(e){return this.states()[e].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var e=this.get("shapemaskId");return n.isEmpty(e)?null:a.resolvePath(e,this)},fixZeroBoundsMetrics:function(e){return 0!==e.strokewidth||0!==e.width&&0!==e.height||(e.strokewidth=.5),e},getCurrentStateMetrics:function(){var e=(this.getCurrentStateData()||{}).html5data,t={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.fixZeroBoundsMetrics(n.extend(t,e))},getBounds:function(){var e=this.getCurrentStateMetrics(),t=e.strokewidth,i=2*t;return e.strokewidth*=2,n.extend(e,{fullX:Math.ceil(e.xPos-t),fullY:Math.ceil(e.yPos-t),fullWidth:e.width+i,fullHeight:e.height+i})},getSlide:function(){return this.getClosestAncestor(function(e){return!!e.isSlide})},getLayer:function(){return this.getClosestAncestor(function(e){return null!=e.isBaseLayer})},moveTo:function(e,t){var i,n,r=a.getRef(e.xOffset,t.context),s=a.getRef(e.yOffset,t.context),o=a.getRef(e.xPos,t.context),l=a.getRef(e.yPos,t.context);i=o+(r=e.addoffsetx?r:-r),n=l+(s=e.addoffsety?s:-s),this.trigger("moveTo",i,n)},getMousePosition:function(e){this.trigger("getMousePosition",e)},setState:function(e,t){var i=a.getRef(e.stateRef,t.context,t);return this.prop("ObjectState",i),this},setReview:function(e){this.prop("ReviewMode",e.enabled.value),this.trigger("setReview",e.enabled.value)},setStateFromIndex:function(e){this.prop("ObjectState",this.getStateFromIndex(e))},setEnabled:function(e){this.prop("Enabled",e.enabled.value)},setSlideIndex:function(e){this.prop("slideIndex",e)},bringToFront:function(e){this.prop("depth",E++)},setHiddenByLayer:function(e,t){var i=this.currView;this.hiderParents=e?n.without(this.hiderParents,t):n(this.hiderParents).push(t).uniq().value(),this.prop("HiddenByLayer",this.hiderParents.length>0),null!=i&&(n.isFunction(i.updateTrueVisibility)?i.updateTrueVisibility():i.props.parent&&n.isFunction(i.props.parent.updateTrueVisibility)&&i.props.parent.updateTrueVisibility())},adjustVariables:function(){n.toArray(arguments).forEach(function(e){this.adjustVariable(e.name,e.value)}.bind(this))},adjustVariable:function(e,t){var i=this.getClosestParentRef(),n={kind:"adjustvar",variable:e,operator:"set",value:{type:"number",value:t}};v.executeAction(n,{context:this}),i.executePlayerEvent("onvarchanged")},getInitParentContainer:function(){return this.parent.isKind("shufflegroup")?this.parent.parent:this.parent},getParentContainer:function(){var e=this.getInitParentContainer();return null!=e.getChildParent?e.getChildParent(this):e},reparentChild:function(e){var t=this.getInitParentContainer();null!=t.reparentChild&&t.reparentChild(this,e)},reattachChild:function(){var e=this.getInitParentContainer();null!=e.reattachChild&&e.reattachChild(this)},storeResumeData:function(e,t){a.resolvePath(e.varref,t.context).value(this.getFullResumeData(!0))},restoreResumeState:function(e,t){var i=a.resolvePath(e.varref,t.context),n=e.limited,r=n?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(n),this[r](i.value()).forceUpdateResume()},resetForSeek:function(){var e=this.currView;this.trigger("clearAnimations"),this.trigger("unparentForSeek"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","updateGifOnShow","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=e&&(n.isFunction(e.applyStylesDirectly)?e.applyStylesDirectly():e.props.parent&&n.isFunction(e.props.parent.applyStylesDirectly)&&e.props.parent.applyStylesDirectly())},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(e,t,i,n){var r=function(){i=i||{},n=n||{};var r,s=this.prop("OnStage"),o=this.prop("TimelineControlled"),a="show"===e,l=!!n.isSeekAction,u=null!=i&&"custom"===i.transition,c=a?"shown":"hidden",h=function(){a||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(c),this.executePlayerEvent(t+"complete")}.bind(this),p=(i.animationId,n.time,function(){r=this.animations().get(i.animationId),this.trigger(e+"custom",a,n,r,h)}.bind(this)),d=null!=n.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!a,(!a&&!d||l&&0===n.currentTime)&&this.prop("updateGifOnShow",!0),!o&&d&&a&&l&&(n.beforeSeekTime<n.time||n.time===n.currentTime))this.resetForSeek();else if(!a&&!s||a&&s&&!this.hiding||l&&!o&&n.beforeSeekTime>n.time)return;this.hideShowState=i.kind,this.prop("TimelineControlled",d),this.trigger(e),a?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(t),u?p():h()}.bind(this);return y.trigger(s.layer.RESOLVED_OBJECT_VISIBILITY),null!=this.currView?r():(this.showFns||(this.showFns=[]),this.showFns.push(r)),this},onTweenUpdate:function(e){this.trigger(s.tween.UPDATE,e)},onPlayerReset:function(){this.containsGif&&this.prop("updateGifOnShow",!0)},killMounted:function(){return this.resetSubscriptions(),this},killEverything:function(){return this.off(),this}}),P=C.prototype;return P.show=n.partial(P.toggleVisibility,"show","ontransitionin"),P.hide=n.partial(P.toggleVisibility,"hide","ontransitionout"),P.isVectorShape=n.partial(P.isKind,"vectorshape"),C}),define("views/presentation/mixins/backgroundable",["require","helpers/assetManager"],function(e){"use strict";var t=e("helpers/assetManager");return{hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return t.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var e=this.getImageBgAsset();return{position:"absolute",left:e.mobiledx(),top:e.mobiledy(),height:e.height(),width:e.width()}}}}),define("views/presentation/ScrollAreaSlideObject",["require","lodash","views/helpers/dom","models/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/backgroundable","views/presentation/mixins/slideObjectContainer","react","helpers/svg/svgManager","helpers/utils","views/helpers/transformHelper","polyfills/detection"],function(e){"use strict";e("lodash");var t=e("views/helpers/dom"),i=(e("models/presentation/SlideObject"),e("views/mixins/baseView")),n=e("views/presentation/mixins/backgroundable"),r=e("views/presentation/mixins/slideObjectContainer"),s=e("react"),o=(e("helpers/svg/svgManager"),e("helpers/utils"),e("views/helpers/transformHelper")),a=e("polyfills/detection");return s.createClass({displayName:"ScrollAreaSlideObject",mixins:[i,n,r],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.shouldNotScroll!==this.state.shouldNotScroll||t.contentHeight!==this.state.contentHeight},onUpdatePos:function(e){this.props.model.prop("Position",e),o.setMatrixDirty(this.props.parent),this.htmlReady(function(){this.scrollingArea.scrollTop=e,this.updateScrollBar()}.bind(this))},calcScrolling:function(e){var t=this.find(".scrollarea-area"),i=this.contentheight(),n=i<=this.height();this.setState({shouldNotScroll:n,contentHeight:i}),this.props.model.prop("Viewed",n),null==e&&this.setupScrollArea(t),null!=this.refs.scrollBar&&this.refs.scrollBar.constrainScroll()},setupScrollArea:function(e){this.scrollingArea=e,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){o.setMatrixDirty(this.props.parent),this.props.model.prop("Position",this.scrollingArea.scrollTop),this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar()},updateScrollBar:function(){null==this.refs.scrollBar||a.isIE()||this.refs.scrollBar.update()},scroll:function(e){if(!this.state.shouldNotScroll){var t=e?10:-10;this.scrollingArea.scrollTop+=t}},treeKeyCallback:function(e,t){return this.scroll(t),!0},beforeChildScrollFocus:function(e){e&&(this.lastScrollTop=this.scrollingArea.scrollTop)},childScrollFocus:function(e){if(!0===e.state.tabFocused){var i=this.find(".scrollarea-area"),n=t.getScrollRecommendation(i,e.el);0!==n&&(i.scrollTop=n)}else this.scrollingArea.scrollTop=this.lastScrollTop;this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}})}),define("helpers/svg/expandingLabelHelper",["require","lodash"],function(e){"use strict";var t=e("lodash"),i=function(e){var t=e.radius,i=e.arrowY-e.halfArrowSize;return i<t&&(t=i),t},n={"left-bottom":function(e,t){e.addM([t.width,t.arrowLength])},left:function(e,t){e.addM([t.width,i(t)])},default:function(e,t){e.addM([t.width,t.radius])}},r={"bottom-left":function(e,t){e.addL([t.width,0,t.width,t.arrowY,t.width-t.arrowLength,0])},"left-bottom":function(e,t){e.addL([t.arrowX,0])},left:function(e,t){e.addQ([t.width,0,t.width-i(t),0])},default:function(e,t){e.addQ([t.width,0,t.width-t.radius,0])}},s={bottom:function(e,t){e.addL([t.arrowX+t.halfArrowSize,0,t.arrowX,t.arrowY,t.arrowX-t.halfArrowSize,0,t.radius,0])},"bottom-right":function(e,t){e.addL([t.arrowLength,0])},right:function(e,t){e.addL([i(t),0])},default:function(e,t){e.addL([t.radius,0])}},o={"bottom-right":function(e,t){e.addL([t.arrowLength,0,0,t.arrowY])},"right-bottom":function(e,t){e.addL([t.arrowX,0,0,t.arrowLength])},right:function(e,t){e.addQ([0,0,0,i(t)])},default:function(e,t){e.addQ([0,0,0,t.radius])}},a={right:function(e,t){e.addL([0,t.arrowY-t.halfArrowSize,t.arrowX,t.arrowY,0,t.arrowY+t.halfArrowSize,0,t.height-i(t)])},"right-top":function(e,t){e.addL([0,t.height-t.arrowLength])},default:function(e,t){e.addL([0,t.height-t.radius])}},l={"right-top":function(e,t){e.addL([t.arrowX,t.height])},"top-right":function(e,t){e.addL([0,t.arrowY,t.arrowLength,t.height])},right:function(e,t){e.addQ([0,t.height,i(t),t.height])},default:function(e,t){e.addQ([0,t.height,t.radius,t.height])}},u={top:function(e,t){e.addL([t.arrowX-t.halfArrowSize,t.height,t.arrowX,t.arrowY,t.arrowX+t.halfArrowSize,t.height,t.width-t.radius,t.height])},"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height])},left:function(e,t){e.addL([t.width-i(t),t.height])},default:function(e,t){e.addL([t.width-t.radius,t.height])}},c={"top-left":function(e,t){e.addL([t.width-t.arrowLength,t.height,t.arrowX,t.arrowY])},"left-top":function(e,t){e.addL([t.arrowX,t.height,t.width,t.height-t.arrowLength])},left:function(e,t){e.addQ([t.width,t.height,t.width,t.height-i(t)])},default:function(e,t){e.addQ([t.width,t.height,t.width,t.height-t.radius])}},h={left:function(e,t){e.addL([t.width,t.arrowY+t.halfArrowSize,t.arrowX,t.arrowY,t.width,t.arrowY-t.halfArrowSize]),e.add(["Z"])},default:function(e,t){e.add(["Z"])}};return{arrowLength:null,calcTranslate:function(e,t){var i=0,n=0,r=0,s=0;return e<0&&(i=-1*e,r=e),t<0&&(n=-1*t,s=t),{x:i,y:n,offX:r,offY:s}},calcArrowLength:function(e,t,i,n){var r;return i<0&&(r=-1*i),i>e&&(r=i-e),n<0&&(r=-1*n),n>t&&(r=n-t),this.arrowLength=r,r},labelPath:function(e){var i,p,d,f,m,g,v=(p=[],(d={add:function(e){p=p.concat(e)},addCmd:function(e,t){t.unshift(e),p=p.concat(t)},value:function(){return p}}).addM=t.partial(d.addCmd,"M"),d.addL=t.partial(d.addCmd,"L"),d.addQ=t.partial(d.addCmd,"Q"),d),y=e.dir,b=e.top;return e.arrowY-=b,e.arrowLength=this.arrowLength,e.halfArrowSize=this.arrowLength/2,"left"!==y&&"right"!==y||(e.height-=1),[n,r,s,o,a,l,u,c,h].forEach(function(t){(t[y]||t.default)(v,e)}),f=b,m=v.value(),g=0,i=m=t.map(m,function(e){return isNaN(e)||(g%2==1&&(e+=f),g++),e}),i.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()}}}),define("views/presentation/ExpandingLabelSlideObject",["require","lodash","tween-lite","helpers/utils","views/mixins/baseView","react","helpers/svg/svgManager","views/mixins/propertizable","helpers/svg/expandingLabelHelper","polyfills/detection","helpers/vow","helpers/pubSub","helpers/events","helpers/actions","helpers/svg/svgUtils"],function(e){"use strict";var t,i=e("lodash"),n=e("tween-lite"),r=e("helpers/utils"),s=e("views/mixins/baseView"),o=e("react"),a=e("helpers/svg/svgManager"),l=(e("views/mixins/propertizable"),e("helpers/svg/expandingLabelHelper")),u=e("polyfills/detection"),c=e("helpers/vow"),h=e("helpers/pubSub"),p=e("helpers/events"),d=e("helpers/actions");e("helpers/svg/svgUtils");return o.createClass({completeHook:i.noop,displayName:"ExpandingLabelSlideObject",mixins:[s],shortEvents:{model:(t={},t[d.OBJECT_ACTION]="onObjectAction",t)},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.content.style.visibility="hidden",this.onShown(this.prepare),this.scrollArea=this.findComponent("ScrollAreaSlideObject")},componentWillUnmount:function(){this.killAllTweens()},componentWillMount:function(){var e=this.props.model;this.prepared=new c.Deferred,this.startHeight=this.props.model.getBounds().height+6+3,this.arrowSize=l.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,e.get("arrowxpos"),e.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.listenTo(e.getLayer().timeline(),p.timeline.BEFORE_SEEK_UPDATE,this.hideComplete),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},u.isMobileOrTouchableTheme&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete)},svg:function(){return a.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){var e=this.props.model;n.set(this.label,this.labelPos),this.updateLabel(),n.set(this.el,{scaleX:0,scaleY:0,transformOrigin:[e.get("arrowxpos"),e.get("arrowypos")].map(r.pxify).join(" ")}),this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()},setupTween:function(e){var t=this.tweenedNodes;return t=i(t).push(e.node).compact().uniq().value(),this.tweenedNodes=t,this[e.name]=new n(e.node,e.duration,e.opts),this},setupTweens:function(){var e=[{name:"titleTween",node:this.el,duration:.3,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,paused:!0}},{name:"labelTween",node:this.label,duration:.3,opts:{x:0,y:0,height:this.props.playerProps.height,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.content,duration:.3,opts:{height:this.props.playerProps.height,paused:!0,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],e.forEach(r.take(1,this.setupTween)),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach(r.take(1,n.killTweensOf)),this},showComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.showTitle().done(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this))}.bind(this))},hideComplete:function(){return this.prepared.done(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().done(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=i.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():this.showContent()},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(e){return this.completeHook===this.showContent&&"hidecomplete"!==e},wasToggledMultipleTimes:function(e,t){if(u.isMobileOrTouchableTheme){if("onrollout"===t&&"hidecomplete"===e&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===t&&"hidecomplete"===e&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(e,t){var i=e.command,n=t&&t.eventType;this.wasToggledMultipleTimes(i,n)||"togglecontent"!==i&&this.prevCommand===i||(this.prevCommand=i,this.prevEventType=n,this.contentWillShow(i)||this.actionConfig[i]())},triggerObjectEvent:function(e){this.props.model.executeFilteredPlayerEvent(function(t){return t.eventName===e},"onobjectevent")},calcAlignment:function(){var e,t,n=this.props.model,r=n.get("arrowxpos"),s=n.get("arrowypos"),o="",a="";return s<=0?a="bottom":s>=this.props.playerProps.height&&(a="top"),r<=0?(o="right",r<0&&(t=!0)):r>=this.props.playerProps.width&&(o="left",r>this.props.playerProps.width&&(t=!0)),e=i(t?[o,a]:[a,o]).compact().join("-"),this.alignment=e,this},calcLabelSize:function(){var e=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+e,height:this.props.playerProps.height+e},this},calcLabelTranslate:function(){var e=l.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),t=this.props.model.get("borderwidth"),i=t%2?.5:0;return e.x+=t+i,e.y+=t+i,e.offX-=t,e.offY-=t,this.labelTranslate=e,this},calcLabelPos:function(){var e=this.props.model,t=this.alignment,n=0;return"right"===t||"left"===t?n=e.get("arrowypos")-this.startHeight/2:i.contains(t,"top")&&(n=e.get("height")-this.startHeight),this.labelPos={x:0,y:n},this},showTitle:function(){return this.prepared.done(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=i.noop}.bind(this))},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.done(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=i.noop)}.bind(this))},showContent:function(){return this.prepared.done(function(){this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},updateChildVisibility:function(){i.result(this.props.model,["currView","updateTrueVisibility"])},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility(),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete")},onContentComplete:function(){this.completeHook=i.noop,this.props.setPlayerProp("Expanded",!0),this.updateChildVisibility(),this.triggerObjectEvent("contentincomplete"),h.trigger(p.layer.RESOLVED_OBJECT_VISIBILITY),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.done(function(){u.isMobileOrTouchableTheme||(this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility()),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),h.trigger(p.layer.RESOLVED_OBJECT_VISIBILITY),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var e,t=this.props.model,i=1;t;)e=t.currView,t.isSlideObject&&null!=e&&null!=e.tweenedConfig&&(i*=r.pctToDec(e.tweenedConfig.props.ScaleY)),t=t.parent;return i},updateLabel:function(){var e=this.label.getBoundingClientRect(),t=this.el.getBoundingClientRect(),i=this.props.model.getSlide().calculateTotalScale(),n=-(t.top-e.top),r=l.labelPath({width:this.props.playerProps.width,top:n*i/this.calcTweenScale(),height:Math.max(this.startHeight,e.height)*i,radius:10,dir:this.alignment,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:r})},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:i.memoize(function(){return{paddingTop:6,paddingBottom:3}})})}),define("views/presentation/mixins/dragdropSlideObject",["require","lodash","views/helpers/dom"],function(e){"use strict";e("lodash");var t=e("views/helpers/dom");return{template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:10,notchHeight:Math.round(6)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState)},mountWithOverState:function(){var e=document.elementFromPoint(t.mouseX,t.mouseY);t.closest(e,function(e){return e===this.el}.bind(this))&&this.didMouseOver()},getInitialState:function(){var e=this.getPath("props.model.data.textdata.vectortext.pr")||{};return{textCommandsetId:e.i,textPathLibId:e.l,wordbankRadius:this.getPath("props.model.height")/2}},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})}}}),define("views/presentation/DropareaSlideObject",["require","lodash","react","views/mixins/baseView","views/mixins/propertizable","views/presentation/mixins/dragdropSlideObject","views/helpers/dragAndDropHelper","helpers/utils","helpers/windowManager"],function(e){"use strict";e("lodash");var t=e("react"),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),r=e("views/presentation/mixins/dragdropSlideObject"),s=e("views/helpers/dragAndDropHelper").DroppableHelper,o=e("helpers/utils"),a=e("helpers/windowManager");return t.createClass({displayName:"DropareaSlideObject",mixins:[i,n,r],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(e){e&&this.performReview()},performReview:function(){var e=this.getPath("props.model.style"),t=this.getPath("props.model.reviewdata"),i=o.getPath(this.dropChild,"props.model.reviewdata");"matching"===e?this.dropChild&&t===i?(this.setState({reviewDot:"drop-correct"}),this.dropChild.setState({reviewDot:"drag-correct"}),this.dropChild.resetXPos()):this.setState({reviewDot:"drop-incorrect"}):i?this.setState({reviewStroke:"green"}):this.setState({reviewStroke:"red"})},componentDidMount:function(){this.style=this.getPath("props.model.style"),this.droppableHelper=new s(this.el,{data:this}),this.htmlReady(this.resumeReview)},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var e;this.dragItemViews.forEach(function(t){t.getPlayerProp("SelectedItem")>=0&&(e=t.refs.innard)}),e&&e.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(e){if(e.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var t=e.refs.innard;e.setPlayerProp("RawXPos",t.getDropSnapX(this.props.model)),e.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(t)}}.bind(this))},setDropChild:function(e){var t=o.getPath(e,"props.model.connectdata");this.setPlayerProp("SelectedItem",e.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",t),this.setPlayerProp("TimelineControlled",!1),this.dropChild=e,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}})}),define("views/presentation/DragitemSlideObject",["require","lodash","helpers/utils","react","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=e("views/mixins/baseView"),s=e("views/presentation/mixins/dragdropSlideObject"),o=e("views/mixins/propertizable"),a=e("helpers/windowManager"),l=e("views/helpers/dragAndDropHelper"),u=l.DraggableHelper,c=e("views/helpers/dom"),h=e("helpers/keyManager"),p=1500,d={performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:"green"})},dropComplete:function(e){var t=i.getPath(e,"props.model.getParentContainer");t&&this.props.model.reparentChild(t),this.setState({backgroundVisible:!1})},getDropSnapX:function(e){return e.prop("RawXPos")},onDragEnd:function(e,t){this.state.dropped||this.unDrop(),t&&t.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var e=this.getPlayerProp("ShuffleXPos"),t=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(e,t),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(e,t){t.params.data.setState({hoverStroke:!1})},onDraggingOver:function(e,t){t.params.data.setState({hoverStroke:!0})},reconnectDrop:function(e){this.setPlayerProp({depth:++p,OnStage:!0}),this.onDrop(this.draggableHelper,{params:{data:e}})},savePrevLoc:t.noop,dragStarted:t.noop},f={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(e){return e.prop("RawXPos")+e.width()-this.props.notchWidth},dropComplete:function(e){this.dropView=e,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(e,t){t.params.data.setState({collision:!1})},onDraggingOver:function(e,t){t.params.data.setState({collision:!0})},onDragEnd:function(e,t){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(e){this.setPlayerProp("SelectedItem",e.prop("slideIndex"))},swapDisconnectedItems:function(e){var i,n,r,s,o,a,u,c,p,d,f,m=[];if(this.dragItemViews.forEach(function(e){var t;this.props.model.id===e.props.model.id||e.refs.innard.state.dropped||0!==(t=l.util.unionArea(this.el.getBoundingClientRect(),e.el.getBoundingClientRect()))&&m.push({area:t,view:e})}.bind(this)),i=t(m).sortBy("area").last())return s=(n=i.view).getPlayerProp("RawXPos"),o=n.getPlayerProp("RawYPos"),(r=n.refs.innard).setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),r.savePrevLoc(),e||(this.setDragPosition(s,o),this.putBackInParent()),c=[a=this,u=n].map(function(e){return e.props.isInnard?e.props.parent:e}),p=a.props.model,d=u.props.model,f=d.prop("tabIndex"),t.invoke(c,"setOrRemoveTabManagement",!1),d.prop("tabIndex",p.prop("tabIndex")),p.prop("tabIndex",f),t.invoke(c,"setOrRemoveTabManagement",!0),h.onBuildComplete(),!0},unDrop:function(e){e&&this.dropView!==e||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX||this.getPlayerProp("ShuffleXPos"),this.oldY||this.getPlayerProp("ShuffleYPos")),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){var e=this.slideObjectParent.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?this.scrollArea.scrollTop-=5:e.bottom>t.bottom&&(this.scrollArea.scrollTop+=5),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)}};return n.createClass({displayName:"DragitemSlideObject",mixins:[r,o,s],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(e){e&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?t.mixin(this,d):t.mixin(this,f),t.bindAll(this)},setupDragging:function(){this.parentSlide=a.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new u(this.props.parent,this.getDraggableConfig()),this.scrollArea=c.closest(this.el,function(e){return c.hasClass(e,"scrollarea-area")}),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){var e;this.getPlayerProp("SelectedItem")>=0&&(e=this.props.model).reparentChild(e.getSlide())},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){return this.savePrevLoc(),{x:this.getPlayerProp("RawXPos"),y:this.getPlayerProp("RawYPos")}},onDragStart:function(){this.setPlayerProp("depth",++p),this.dragStarted()},onDrop:function(e,t){this.setState({dropped:!0});var i=t.params.data,n=i.props.model,r=this.getDropSnapX(n),s=n.prop("RawYPos"),o=i.getDropChild();this.dropAndDisable(),null!=o&&o.props.model!==e.view.props.model&&o.unDrop(i),this.setPlayerProp("TimelineControlled",!1),this.setSelectedItem(n),i.setDropChild(this),this.setDragPosition(r,s),this.dropComplete(i)},setDragPosition:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},putBackInParent:function(){this.props.model.reattachChild()}})}),define("views/presentation/TextInputSlideObject",["require","lodash","helpers/windowManager","views/mixins/propertizable","views/presentation/mixins/backgroundable","react","react-dom","views/mixins/baseView","helpers/resolver","helpers/actionManager","helpers/keyManager","helpers/events","helpers/vow","polyfills/detection","helpers/utils","helpers/svg/svgUtils"],function(e){"use strict";var t,i=e("lodash"),n=(e("helpers/windowManager"),e("views/mixins/propertizable")),r=e("views/presentation/mixins/backgroundable"),s=e("react"),o=e("react-dom"),a=e("views/mixins/baseView"),l=e("helpers/resolver"),u=(e("helpers/actionManager"),e("helpers/keyManager")),c=e("helpers/events"),h=e("helpers/vow"),p=(e("polyfills/detection"),e("helpers/utils")),d=e("helpers/svg/svgUtils"),f=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],m=[".","-","-."],g={top:0,center:.5,bottom:1};return s.createClass({mixins:[a,n,r],displayName:"TextInputSlideObject",shortEvents:{model:(t={},t[c.slideObject.FOCUS]="setFocus",t)},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var e=this.getPath("props.model.bindto");return i.isEmpty(e)||(this.boundVar=l.resolvePath(e)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=new h.Deferred,this.addStyleIfNeeded(this.state.placeholderClass),this.isMultiline=!!this.getPath("props.model.multiline"),this.isNumeric=this.getPath("props.model.numeric"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange),this.props.model.needsFocus&&(this.setFocus(),this.props.model.needsFocus=!1)},componentDidMount:function(){this.htmlReady(this.ready.resolve.bind(this.ready)),this.updateVerticalAlign()},componentDidUpdate:function(){this.updateVerticalAlign()},componentWillUnmount:function(){this.ready.reject()},bounds:function(){return this.props.model.getBounds()},getInput:function(){return o.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},setFocus:function(){this.ready.done(this.focusAndSelect)},focusAndSelect:function(){var e=this.getInput();document.activeElement!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},onKeyDown:function(e){var t;String.fromCharCode(e.which);this.isMultiline||13!==e.which||null==this.boundVar||this.boundVar.value()!==(t=this.getInputVal())&&this.boundVar.changeValue(t),u.executeKeypressEvent(this.props.model,e),u.keys.TAB&&e.preventDefault()},isValidNumericEntry:function(e){return 0===e.length||(m.indexOf(e)>-1||!isNaN(e))},onInputChange:function(e){var t=e.target.value;!this.isNumeric||this.isValidNumericEntry(t)?this.setState({inputValue:t}):(e.target.value=t,isNaN(e.target.valueAsNumber)||this.setState({inputValue:t}))},onInputFocus:function(){u.focusItem(this.props.parent,!0)},onInputBlur:function(e){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(e){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(e){1===e.touches.length&&(this.getInput().hasFocus()||this.getInput().focus(),e.preventDefault())},onVarChange:function(){var e=this.boundVar.value();this.setPlayerProp("Text",e),this.setState({inputValue:e})},addStyleIfNeeded:function(e){var t=this.getTextColor(),n=this.getOrCreateStylesheet();i.findWhere(n.cssRules,function(t){return t.selectorText.indexOf(e)>-1})||(n.innerHTML+="\n",n.innerHTML+=f.map(function(i){return[".",e," ",i,"{ color: ",t,"; }"].join("")}).join("\n"))},getOrCreateStylesheet:function(){var e="textInputStyles",t=document.head.querySelector("#"+e);return t||((t=document.createElement("style")).id=e,document.head.appendChild(t)),t},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},innardFocus:function(){this.setFocus()},innardRelease:function(){this.getInput().blur()},isTextArea:function(){return this.isMultiline&&!this.isNumeric},updateVerticalAlign:function(){var e,t,n,r,s,o,a=this.refs.input;return this.isTextArea()&&(t=this.getPath("props.model.height"),n=this.getPath("props.model.verticalAlign"),o=t-(parseInt(a.style.paddingTop)+parseInt(a.style.paddingBottom)),a.style.height="1px",e=a.scrollHeight,r=i.get(g,n,0),s=(t-Math.min(e,o))*r,i.extend(a.style,{height:p.pxify(o-s),transform:d.transformTranslate(0,p.pxify(s))})),this}})}),define("views/presentation/VideoSlideObject",["require","lodash","helpers/utils","views/helpers/dom","helpers/pubSub","helpers/constants","helpers/appState","helpers/events","helpers/actions","react","views/mixins/baseView","helpers/captionsManager","helpers/assetManager"],function(e){"use strict";e("lodash");var t,i,n=e("helpers/utils"),r=e("views/helpers/dom"),s=e("helpers/pubSub"),o=e("helpers/constants"),a=e("helpers/appState"),l=e("helpers/events"),u=e("helpers/actions"),c=e("react"),h=e("views/mixins/baseView"),p=e("helpers/captionsManager"),d=e("helpers/assetManager"),f=function(e,t,i){var n=e.getPath("props.model.data.videodata."+t);if(null!=n)return d[null!=i?"getAssetUrl":"getAsset"](n)};return c.createClass({displayName:"VideoSlideObject",mixins:[h],shortEvents:{model:(i={},i[l.layer.PAUSE_TIMELINE]="onPauseMedia",i[u.MEDIA_TOGGLE]="onActionToggle",i[u.MEDIA_PLAY]="onActionPlay",i[u.MEDIA_PAUSE]="onActionPause",i[u.MEDIA_SEEK]="onActionSeek",i[u.SHOW]="onActionShow",i[u.HIDE]="onActionHide",i[u.SET_VOLUME]="onActionSetVolume",i)},subscriptions:(t={},t[l.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[l.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t),onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:0,currentVolume:a.currentVolume(),isPlaying:!1,posterImage:null}},componentWillMount:function(){this.isValidVideo()&&(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,this.bindTimelineEventListeners())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=o.DEFAULT_VOLUME,this.setVolume(a.currentVolume()),this.listenTo(a,l.volume.CHANGE_CURRENT,this.onVolumeChanged))},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},isValidVideo:function(){return""!==this.getVideoUrl()&&"swf"!==this.type},getVideoUrl:function(){var e;return null==this.videoUrl&&(e=f(this,"assetId"),this.type=e&&e.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?e.url():""),this.videoUrl},posterFrameUrl:function(){return f(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},playing:function(e){this.isMounted()&&this.setState({currentTime:e})},durationLoaded:function(e){this.setState({duration:e})},playbackEnded:function(){this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.clearCaptions(),s.trigger(l.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"complete")},toggleVideoControls:function(){this.toggleVideo()},rangeslideVideoControls:function(e){var t=e.target.valueAsNumber;r.hasClass(document.documentElement,"text-direction-rtl")&&(t=this.state.duration-t),this.seekVideo(n.toMilliseconds(t))},onActionShowOnce:function(e,t){this.pausedByAction||this.onActionPlay(e,t)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once(u.SHOW,this.onActionShowOnce),this.listenTo(this.layerTimeline,l.timeline.RESET,function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()}),this.listenTo(this.layerTimeline,l.timeline.PLAYING,function(){this.layerTimeline.hasFinished()||this.playAndRestoreState()}),this.listenTo(this.layerTimeline,l.timeline.PAUSED,function(e){this.layerTimeline.hasFinished()||this.pauseAndStoreState(e)}),this.listenTo(this.layerTimeline,l.timeline.SEEK_START,this.pauseAndStoreState),this.listenTo(this.layerTimeline,l.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),this.listenTo(this.layerTimeline,l.timeline.SEEK_END,this.playAndRestoreState)},loadedData:function(){if(this.state.isPlaying&&this.isMediaTimelineControlled()){var e=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(e),this.refs.videoPlayer.play()}},hasAutoPlay:function(){var e=this.props.model.getClosestAncestorByKind("expandinglabel");return!(e&&!e.prop("Expanded"))&&this.getPath("props.model.autoplay")},onActionShow:function(e,t){this.isSeekActionAndNotPlaying(t)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(e,t){this.pausedByAction=!1,this.setPlayActionStartTime(t.time),this.isSeekActionAndNotPlaying(t)||(this.playVideo(t),"expandinglabel"===t.context.get("kind")&&p.includeMedia(this.getAssetId()))},onActionPause:function(e,t){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(t)||(this.pausedByPlayButton=!1,this.pauseVideo(),"expandinglabel"===t.context.get("kind")&&p.excludeMedia(this.getAssetId()))},onActionSeek:function(e,t){this.isSeekActionAndNotPlaying(t)||this.seekVideo(e.position)},onActionSetVolume:function(e,t){var i=e.volume/100;this.presentationVol=i,this.determineAudioVolume(a.currentVolume())},setPlayActionStartTime:function(e){return null!=e&&(this.timelinePlayStartTime=e),this.mediaTimelineControlled=null!=e,this},isSeekActionAndNotPlaying:function(e){return e.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(e){return e-this.timelinePlayStartTime},onTimelineSeek:function(e){this.seeked=!0,this.lastTimelineSeek=e,e=this.calculatePlaybackDifferential(e),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(e)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(e){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pausedByPlayButton=!!e,this.pauseVideo()},playAndRestoreState:function(e){var t=e?"playing"===e:!this.pausedByAction;this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&t&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))&&this.playVideo(),this.timelinePaused=!1},playVideo:function(e){return this.pausedByPlayButton=!0,this.pausedByAction=!1,this.setState({isPlaying:!0,isTimelineControlled:this.isMediaTimelineControlled()&&null!=e&&null!=e.timelineLabel}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),this},toggleVideo:function(){return this.state.isPlaying?this.pauseVideo():this.playVideo(),this},seekVideo:function(e){return this.refs.videoPlayer.seek(Math.max(0,n.toSeconds(e))),e<0&&this.setState({isPlaying:!1}),this},setVolume:function(e){return this.setState({currentVolume:e}),this},actionKeyCallback:function(){return this.toggleVideo(),!0},onVisibilityShown:function(e){!this.isMediaTimelineControlled()&&this.wasPlaying&&(this.wasPlaying=!1,this.playVideo())},onVisibilityHidden:function(e){!this.isMediaTimelineControlled()&&this.state.isPlaying&&(this.wasPlaying=!0,this.pauseVideo()),null!=this.refs.videoPlayer&&this.refs.videoPlayer.clearCaptions()},forceUpdatePoster:function(e){this.setState({posterImage:e}),this.forceUpdate()}})}),define("views/presentation/DropListParentable",["require","lodash","helpers/windowManager","views/mixins/baseView","views/mixins/propertizable","react","react-dom","views/helpers/dom","helpers/utils","helpers/events","polyfills/detection","helpers/scaler","helpers/svg/svgManager","helpers/svg/svgUtils","views/helpers/transformHelper","polyfills/vendorOverrides"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/windowManager"),r=e("views/mixins/baseView"),s=e("views/mixins/propertizable"),o=e("react"),a=e("react-dom"),l=e("views/helpers/dom"),u=e("helpers/utils"),c=e("helpers/events"),h=e("polyfills/detection"),p=e("helpers/scaler"),d=(e("helpers/svg/svgManager"),e("helpers/svg/svgUtils")),f=e("views/helpers/transformHelper");e("polyfills/vendorOverrides");return o.createClass({mixins:[r,s],displayName:"DropListParentable",subscriptions:(t={},t[c.slideContainer.POSITIONED]="onSlideContainerPositioned",t),shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr")}},componentWillMount:function(){this.itemslist=this.getPath("props.model.itemslist"),this.currentIndex=-1},componentDidMount:function(){this.initReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet),this.initMobile()},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(e,t){var i=this.refs["item"+t];h.isMobileOrTouchableTheme?this.refOrder[i.getAttribute("data-order")]=i:this.refOrder[i.props.order]=i}.bind(this))},initMobile:function(){h.isMobileOrTouchableTheme&&this.refs.mobileDrop.addEventListener("change",this.onMobileSelect)},onSetReview:function(e){var t=this.getPath("props.model.reviewwidth");e&&t&&this.setState({reviewWidth:t})},onMobileSelect:function(e){var t=e.target.value;this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[t].itemdata),this.setPlayerProp("SelectedItemIndex",t),this.setState({pr:this.props.model.origItemsList[t].textdata.vectortext.pr})},selectItemIfSet:function(){var e=this.getPlayerProp("SelectedItemIndex");e>-1&&(h.isMobileOrTouchableTheme?(this.onMobileSelect({target:{value:e}}),this.refs.mobileDrop.value=e):this.itemSelected(e))},itemSelected:function(e){if(-1!==e){var t=this.refs["item"+e];t.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[e].itemdata),this.setPlayerProp("SelectedItemIndex",e),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=t,this.updateText(t)}},updateText:function(e){this.setState({pr:e.props.pr})},contentheight:function(){return(this.getPath("props.model.height")+8)*this.itemslist.length},onShowList:function(){this.isEnabled()&&(null!=this.refs.scrollBar&&this.refs.scrollBar.update(),document.body.addEventListener("mousedown",this.onMouseDown),document.body.addEventListener("mouseup",this.onHideList),document.body.addEventListener("touchstart",this.onMouseDown),document.body.addEventListener("touchend",this.onHideList),this.setState({display:"block"}),this.positionList())},onHideList:function(e){var t;null!=this.containerScrollTop&&this.containerScrollTop!==this.getItemScrollTop()||(null!=e&&(t=l.closest(e.target,function(e){return l.hasClass(e,"drop-list-top")||h.isMobileOrTouchableTheme&&l.hasClass(e,"drop-list")})),t||(this.unpositionList(),this.setState({display:"none"}),document.body.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mouseup",this.onHideList),document.body.removeEventListener("touchstart",this.onMouseDown),document.body.removeEventListener("touchend",this.onHideList)))},getItemScrollTop:function(){return a.findDOMNode(this.refs.dropdownInner).scrollTop},onMouseDown:function(){this.containerScrollTop=this.getItemScrollTop()},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},autoOpenList:function(){var e;return"block"===this.state.display?(this.onHideList(),this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx)):(this.onShowList(),e=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===e?-1:this.refs[["item",e].join("")].props.order,this.focusItem(this.currentIndex)),!0},focusItem:function(e){if(-1!==e){var t=this.refOrder[e],i=this.refs.dropdownInner;this.refOrder.forEach(function(t,i){t.setState({hovered:i===e})}.bind(this)),this.currentIndex=e,this.itemSelected(t.props.idx),0!==l.getScrollRecommendation(i,t.el)&&(i.scrollTop=t.props.yOff-this.props.model.height())}},initReparenting:function(){this.targetEl=this.el.parentNode,this.dropDown=this.el.firstElementChild,this.container=document.getElementById("app-top-container"),this.overlay=document.getElementById("app-top-overlay"),this.presentation=document.getElementById("presentation")},getItemHeight:function(){return this.getPath("props.model.height")+8},getListHeight:function(){return this.getItemHeight()*this.itemslist.length},positionList:function(){if(this.targetEl.parentNode!==this.container){this.parentEl=this.parentEl||this.el.parentNode.parentNode;var e,t=n.getCurrentWindowSlide(),r=f.localPtToSlide(this.props.parent,0,0),s=f.localPtToGlobal(this.props.parent,0,0),o=f.getSlideMetrics(t.currView),a=o.scaleX,c=1/a,h=this.presentation.getBoundingClientRect(),m=u.fix(p.getScale(),2),g=h.bottom,v=this.getListHeight()+this.getItemHeight();l.setStyles(this.targetEl,i.mapValues({left:(o.left-h.left)*c+r.x,top:(o.top-h.top)*c+r.y},u.pxify)),this.container.style[this.cssTransform]=d.transformScale(a/m),this.container.style.pointerEvents="all",this.container.appendChild(this.targetEl),s.y+v*a>g&&(e=(g-s.y-4)/a,this.dropDown.style.height=u.pxify(e),this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e})),l.setStyles(this.overlay,i.extend({display:"block"},i.mapValues({left:0,top:0,width:h.width/m,height:h.height/m},u.pxify)))}},unpositionList:function(){this.targetEl.parentNode===this.container&&(l.setStyles(this.overlay,{display:""}),l.setStyles(this.targetEl,{left:0,top:0}),this.container.style[this.cssTransform]=d.transformScale(1),this.parentEl.appendChild(this.targetEl))},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(i.flow(this.unpositionList,this.positionList))},treeKeyCallback:function(e,t){"none"===this.state.display&&this.autoOpenList();var i=t?1:-1,n=this.currentIndex+i,r=this.itemslist.length-1;return n=u.clamp(0,r,n),this.focusItem(n),!0},actionKeyCallback:function(){this.autoOpenList()},innardRelease:function(){this.onHideList(),this.focusItem(this.currentIndex)},innardFocus:function(){(h.isMobileOrTouchableTheme?this.refs.mobileDrop:this.el).focus()}})}),define("views/presentation/DropListSlideObject",["require","lodash","views/mixins/baseView","react","react-dom","views/helpers/dom","./DropListParentable"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView"),i=e("react"),n=e("react-dom"),r=e("views/helpers/dom"),s=e("./DropListParentable");return i.createClass({mixins:[t],displayName:"DropListSlideObject",componentWillMount:function(){this.droplistEl=i.createElement(s,this.props),this.wrapper=document.createElement("div"),r.setStyles(this.wrapper,{position:"absolute",top:0,left:0}),this.parentableDropList=n.render(this.droplistEl,this.wrapper)},componentDidMount:function(){this.el.appendChild(this.wrapper)},componentWillUnmount:function(){n.unmountComponentAtNode(this.wrapper)},treeKeyCallback:function(e,t){return this.parentableDropList.treeKeyCallback(e,t)},actionKeyCallback:function(){this.parentableDropList.actionKeyCallback()},innardRelease:function(){this.parentableDropList.innardRelease()},innardFocus:function(){this.parentableDropList.innardFocus()}})}),define("views/presentation/SequenceCtrlSlideObject",["require","lodash","views/mixins/baseView","views/mixins/propertizable","helpers/windowManager","views/helpers/dragAndDropHelper","react","views/helpers/dom","helpers/utils","helpers/svg/svgUtils","helpers/tabFocusBox","helpers/keyManager"],function(e){"use strict";var t=e("lodash"),i=e("views/mixins/baseView"),n=e("views/mixins/propertizable"),r=e("helpers/windowManager"),s=e("views/helpers/dragAndDropHelper").DraggableHelper,o=e("react"),a=e("views/helpers/dom"),l=e("helpers/utils"),u=e("helpers/svg/svgUtils"),c=e("helpers/tabFocusBox"),h=e("helpers/keyManager");return o.createClass({mixins:[i,n],displayName:"SequenceCtrlSlideObject",shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(e){this.displayReview(e)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){this.onShown(this.setupDragging)},componentDidUpdate:function(e,t){t.ItemOrder!==this.getPlayerProp("ItemOrder")&&this.getItemsList()},getItemsList:function(){var e,t,i,n=this.getPlayerProp("ItemOrder");n?(e=n.split(""),t=this.getPath("props.model.itemsListOrder"),this.itemslist=[],e.forEach(function(e){this.itemslist.push(t[e])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),i=this.itemslist.length.toString(),this.numWidth=22+10*(i.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=r.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){this.scrollArea.scrollHeight-this.scrollArea.scrollTop<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},setupItems:function(){this.items=[];var e=0,t=this.numWidth,i=11;this.itemslist.forEach(function(n,r){var o=this.refs["sequenceItem"+r],a=o.props.model.height;o.idx=r,o.itemdata=this.itemslist[r].itemdata,o.parent=o.el.parentNode,o.barInfo=null,o.didMouseOut(),this.items.push(o),this.setPlayerProp("_pos"+r,o.itemdata),i=(e=i)+a+16,o.loc={x:t,y:e},this.lastHeight=i,this.setItemPosition(o.parent,o.loc),o.draggableHelper&&o.draggableHelper.disable(),o.draggableHelper=new s(o,this.getDraggableConfig(o.parent),o.parent),o.onDragItemDown=function(){this.idx=o.idx}.bind(this),o.el.addEventListener("mousedown",o.onDragItemDown),o.draggableHelper.getDropTarget("drag").params.data.setDropChild(o)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach(function(e){e.draggableHelper.disable()})},displayReview:function(e){this.reviewMode=e,e&&null!=this.items&&this.items.forEach(function(e,t){var i=this.props.model.getIndexByData(e.itemdata),n=i===t?"green":"red";e.drop.setState({reviewColor:n,reviewIdx:i})}.bind(this))},getDraggableConfig:function(e){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:t.partial(this.getDragPosition,e)}},setItemPosition:function(e,t){e.style[this.cssTransform]=u.transformTranslate(l.pxify(t.x),l.pxify(t.y))},resetPositionItem:function(e){this.scrollArea.appendChild(e.draggableHelper.el),this.setItemPosition(e.draggableHelper.el,e.loc)},onDrag:function(e){t.toArray(document.querySelectorAll(".sequence-ctrl-bar")).every(function(t,i){var n="block"===t.style.display;return n&&(e.view.currY=t.getBoundingClientRect().top),!n})},resetIndex:function(){this.idx=-1},exitStealTab:function(e,t){if(0===this.idx&&t)return h.setCurrentItemAndFocus(e),!0},stealTab:function(e,t){var i=this.idx>=this.itemslist.length-1;i&&!t&&this.resetIndex(),t&&this.idx<0||(t?this.idx--:this.idx++,this.lastItem&&this.lastItem.el.classList.remove("focused"),this.idx<0?(h.setCurrentItem(e),h.changeFocus(t),h.focusNextItem(),this.resetIndex()):i?(c.hide(),h.focusNextItem()):(e.el.classList.remove("focused"),this.focusOnChild(this.refs["item"+this.idx])))},focusOnChild:function(e){this.lastItem=e,this.lastItem.el.focus(),this.lastItem.el.classList.add("focused"),this.childScrollFocus(this.lastItem),c.show(this.lastItem)},innardFocus:function(){h.lastShift&&this.htmlReady(function(){this.idx=this.itemslist.length-1,this.focusOnChild(this.refs["item"+this.idx])}.bind(this))},releaseFocus:function(){this.resetIndex()},childScrollFocus:function(e){var t=this.scrollArea,i=a.getScrollRecommendation(t,e.el);0!==i&&(t.scrollTop=i)},insertItem:function(e){var i;this.scrollArea.appendChild(e.draggableHelper.el),this.items=t.sortBy(this.items,function(e){return e.currY}),i=this.items.reduce(function(e,t,i){return e+this.props.model.getIndexByData(t.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",i)},checkForAutoScroll:function(){var e=this.currDraggable.getBoundingClientRect(),t=this.scrollArea.getBoundingClientRect();e.top<t.top?(this.scrollArea.scrollTop-=5,this.updateItemYs()):e.bottom>t.bottom&&(this.scrollArea.scrollTop+=5,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(e){var t=e.getBoundingClientRect(),i=this.parentSlide.el.getBoundingClientRect();return{x:t.left-i.left,y:t.top-i.top}},updateItemYs:function(){this.items.forEach(function(e){e.currY=e.parent.getBoundingClientRect().top})},onDragEnd:function(e,t){var i=e.view;e.el.style.opacity=1,this.resetPositionItem(i),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(e,t){e.el.style.opacity=.5,this.container.appendChild(e.el),this.currDraggable=e.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(e,t){var i=e.view,n=t.params.data,r=n.getDropChild();this.insertItem(i),r&&(i.drop.setDropChild(r),n.setDropChild(i)),this.lastOver=null,n.hideBar(),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(e,t){this.lastOver=null,t.params.data.hideBar()},onDraggingOver:function(e,t){this.lastOver=t.params.data,this.lastOver.showHideBar(e)},componentWillUnmount:function(){this.itemslist.forEach(function(e,t){var i=this.refs["sequenceItem"+t];i.el.removeEventListener("mousedown",i.onDragItemDown)}.bind(this))}})}),define("views/presentation/SlideFrameSlideObject",["require","react","views/mixins/baseView","polyfills/detection","helpers/windowManager","helpers/resolver","views/presentation/mixins/backgroundable","helpers/pubSub","helpers/utils","helpers/events","helpers/vow","helpers/animationClock"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("polyfills/detection"),r=e("helpers/windowManager"),s=e("helpers/resolver"),o=e("views/presentation/mixins/backgroundable"),a=e("helpers/pubSub"),l=e("helpers/utils"),u=e("helpers/events"),c=e("helpers/vow"),h=e("helpers/animationClock"),p=n.isMobileOrTouchableTheme?500:0;return t.createClass({displayName:"SlideFrameSlideObject",mixins:[i,o],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){!1===this.props.model.get("scalecontents")&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(e){this.applyScale(e)},adjustProps:function(e){return e.ScaleX=100,e.ScaleY=100,e},applyScale:function(e){this.el.style.width=l.pxify(this.props.playerProps.width*l.pctToDec(e.ScaleX)),this.el.style.height=l.pxify(this.props.playerProps.height*l.pctToDec(e.ScaleY))},onShow:function(){var e,t,i;null==this.readyPromise&&(e=this.props.model.get("startingslide"),t=s.resolvePath(e),i=new c.Deferred,this.startedDfd=new c.Deferred,this.readyPromise=c.when(this.startedDfd,i),t.on(u.slide.CURRENT_TIMELINE,i.resolve),null==this.lockId&&(this.lockId=h.lock()),a.trigger(u.loader.SILENCE),this.loadChildSlide(),a.trigger(u.loader.SHOW,p)),this.readyPromise.done(function(){var e=this.state.slideModel;e.resetBeforeView().restart().setAsViewed(),a.trigger(u.timeline.CURRENT_TIMELINE,e.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.done(function(){var e=this.state.slideModel.currentTimeline();null!=e&&e.pause()}.bind(this))},loadChildSlide:function(){var e=this.props.model.get("startingslide");r.loadSlide(e,function(e){this.setState({slideModel:e})}.bind(this),!0)},onSlideStarted:function(){var e=this.lockId;this.lockId=null,h.unlock(e),this.startedDfd.resolve()}})}),define("views/presentation/mixins/annotation",["require","lodash","tween-lite"],function(e){e("lodash");var t=e("tween-lite"),i={none:"getNoTweens",appear:"getNoTweens",draw:"getDrawTweens",bounce:"getBounceTweens",fade:"getFadeTweens",stretch:"getStretchTweens"};return{getInitialState:function(){return{gradientId:this.getUniqueNodeId("gradient"),filterId:this.getUniqueNodeId("filter"),maskId:this.getUniqueNodeId("mask"),bgId:this.getUniqueNodeId("bg"),fillColorId:this.getUniqueNodeId("fill"),borderColorId:this.getUniqueNodeId("border"),animationMaskId:this.getUniqueNodeId("animation-mask")}},getUniqueNodeId:function(e){return["annotation",this.props.model.id,e].join("-")},renderColors:function(){return this.getTemplateManager().getTemplate("AnnotationColors").call(this)},getTweens:function(){return this[i[this.props.model.get("animationtype")]]()},getNoTweens:function(){return[]},getBounceTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{left:-25},{ease:"Power1.easeOut",left:0})]},getFadeTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{opacity:0},{ease:"Linear.easeNone",opacity:1})]},getStretchTweens:function(){return[t.fromTo(this.el,this.getAnimationDuration(),{scale:.6},{ease:"Power1.easeOut",scale:1})]}}}),define("views/presentation/mixins/annotationArrow",["require","lodash","react","helpers/svg/svgUtils","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/svg/svgUtils"),r=e("helpers/events"),s=e("helpers/utils"),o=0,a=1,l={arrowsquare:"ArrowSquare",arrowround:"ArrowRound",arrowtriangle:"ArrowTriangle",arrowv:"ArrowV",check:"Check",cross:"Cross"},u={componentWillMount:function(){var e=this.props.model.getLayer().timeline(),t={};this.listenTo(e,r.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),t[r.animation.CREATED]=this.onAnimationCreated,t[r.animation.DESTROYED]=this.onAnimationDestroyed,this.listenTo(this,t)},renderDefs:function(){return this.getTemplateManager().getTemplate("AnnotationDefs").call(this)},renderBg:function(){var e=this.state.bgId,t=this.props.model.get("rotation");return i.createElement("use",{xlinkHref:["#",e].join(""),transform:n.transformRotate(-t)})},getShadowTransform:function(){var e=this.props.model.get("rotation"),t=s.rotatePoint(o,a,0,0,-e);return n.transformTranslate(t.x,t.y)},getAnimationDuration:function(){return.4},setMaskFill:function(e){null!=this.getMasks&&this.getMasks().forEach(function(t){null!=t&&t.setAttribute("fill",e)})},onAnimationCreated:function(){this.hideMask()},onAnimationDestroyed:function(){this.showMask()},onTimelineSeek:function(){this.showMask()},template:function(){var e,t=this.props.model.get("arrowstyle");return this.getTemplateManager().getTemplate((e=t,[l[e],"Annotation"].join(""))).call(this)}};return t.extend(u,{showMask:t.partial(u.setMaskFill,"#fff"),hideMask:t.partial(u.setMaskFill,"#000")}),u}),define("views/presentation/AnnotationArrow",["require","react","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/presentation/mixins/annotation"),r=e("views/presentation/mixins/annotationArrow");return t.createClass({displayName:"AnnotationArrow",mixins:[i,n,r]})}),define("views/presentation/AnnotationCheck",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","views/mixins/baseView","helpers/svg/svgUtils","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("tween-lite"),r=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow"),o=e("views/mixins/baseView"),a=(e("helpers/svg/svgUtils"),e("helpers/TransMatrix")),l=e("helpers/utils"),u=Quad.easeOut,c=t.memoize(function(){return Math.abs(21)+Math.abs(-14.25)}),h=t.memoize(function(){return Math.abs(21)/c()*.54}),p=t.memoize(function(){return Math.abs(-14.25)/c()*.54});return i.createClass({displayName:"AnnotationCheck",mixins:[o,r,s],getDrawTweens:function(){var e=this.refs.mask,t=n.to(e,.78,{onStart:this.showMask,onUpdate:function(){var i=new a,n=t.time(),r=u.getRatio(Math.min(n/.54,1)),s=21*Math.min(n/h()*r,1),o=-14.25*l.clamp(0,1,(n-h())/p()*r);i.translate(s,o),e.setAttribute("transform",i.toCssTransform(!0))}});return[t]},getMasks:function(){return[this.refs.mask]}})}),define("views/presentation/AnnotationCross",["require","react","tween-lite","views/mixins/baseView","views/presentation/mixins/annotation","views/presentation/mixins/annotationArrow","helpers/TransMatrix","helpers/utils"],function(e){"use strict";var t=e("react"),i=e("tween-lite"),n=e("views/mixins/baseView"),r=e("views/presentation/mixins/annotation"),s=e("views/presentation/mixins/annotationArrow"),o=e("helpers/TransMatrix"),a=e("helpers/utils");return t.createClass({displayName:"AnnotationCross",mixins:[n,r,s],getInitialState:function(){return{legMaskId:this.getUniqueNodeId("leg-mask"),animationXMaskId:this.getUniqueNodeId("animation-x-mask"),animationLegMaskId:this.getUniqueNodeId("animation-leg-mask")}},getDrawTweens:function(){var e=this.refs.leg,t=this.refs.xMask,n=this.refs.legMask,r=i.to(this.el,.78,{onStart:this.showMask,onUpdate:function(){var i,s=new o,l=new o,u=r.time(),c=23*(1-Math.min(u/.27,1)),h=a.clamp(0,1,(u-.27)/.135),p=a.clamp(0,1,(u-.405)/.135),d=p>0;i=d?6-6*p:24-6*h,s.translate(-c,-c).translate(9,-2).rotate(45,0,0),l.translate(-i,i).translate(39,16).rotate(135,0,0),e.style.display=d?"none":"block",n.setAttribute("transform",s.toCssTransform(!0)),t.setAttribute("transform",l.toCssTransform(!0))}.bind(this)});return[r]},getMasks:function(){return[this.refs.legMask,this.refs.xMask]}})}),define("views/presentation/AnnotationRectangle",["require","lodash","react","views/presentation/mixins/annotation","views/mixins/baseView","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/presentation/mixins/annotation"),r=e("views/mixins/baseView"),s=e("helpers/utils");return i.createClass({displayName:"AnnotationRectangle",mixins:[r,n],getStyle:function(){var e=this.props.model;return{borderColor:this.getBorderColor(),borderWidth:e.get("borderwidth"),borderRadius:e.get("boxradius"),height:e.get("height"),width:e.get("width")}},getBorderColor:function(){var e,i=t.find(this.props.model.get("colors"),{name:"bordercolor"});if(null!=i)return e=i.fill.colors[0],s.toRgba(e.rgb,e.alpha)},getAnimationDuration:function(){return.333}})}),define("views/presentation/AnnotationSpotlight",["require","lodash","react","tween-lite","views/presentation/mixins/annotation","views/mixins/baseView","helpers/actions","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("tween-lite"),s=e("views/presentation/mixins/annotation"),o=e("views/mixins/baseView"),a=e("helpers/actions"),l=e("helpers/utils"),u=n.createClass({displayName:"AnnotationSpotlight",mixins:[o,s],shortEvents:{model:(t={},t[a.SHOW]="onActionShow",t)},onActionShow:function(){"draw"===this.props.model.get("animationtype")&&(this.refs.border.style.strokeDasharray=l.pxify(this.getLength()))},getDrawTweens:function(){this.props.model;var e=this.getLength();return[r.fromTo(this.refs.border,1,{"stroke-dashoffset":e},{ease:"Linear.easeNone","stroke-dashoffset":0,onComplete:function(){this.refs.border.style.strokeDashoffset=this.refs.border.style.strokeDasharray=""}.bind(this)}),r.fromTo(this.refs.overlay,.5,{opacity:0},{delay:1,ease:"Linear.easeNone",opacity:1})]}});return u.prototype.getLength=i.memoize(function(){var e=this.props.model;return 2*(e.get("width")+e.get("height"))},function(){var e=this.props.model;return[e.get("width"),e.get("height")].join("x")}),u}),define("views/presentation/AnnotationSlideObject",["require","react","timeline-lite","views/presentation/AnnotationArrow","views/presentation/AnnotationCheck","views/presentation/AnnotationCross","views/presentation/AnnotationRectangle","views/presentation/AnnotationSpotlight","helpers/events","helpers/actions","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),n=e("timeline-lite"),r=e("views/presentation/AnnotationArrow"),s=e("views/presentation/AnnotationCheck"),o=e("views/presentation/AnnotationCross"),a=e("views/presentation/AnnotationRectangle"),l=e("views/presentation/AnnotationSpotlight"),u=e("helpers/events"),c=e("helpers/actions"),h=e("views/mixins/baseView"),p={rectangle:a,spotlight:l},d={arrowsquare:r,arrowround:r,arrowtriangle:r,arrowv:r,check:s,cross:o};return i.createClass({displayName:"AnnotationSlideObject",mixins:[h],shortEvents:{model:(t={},t[c.SHOW]="onActionShow",t[c.HIDE]="onActionHide",t)},getInitialState:function(){return{Innard:this.getInnardType()}},componentWillMount:function(){var e={};e[u.timeline.PLAYING]=this.onTimelinePlaying,e[u.timeline.PAUSED]=this.onTimelinePaused,e[u.timeline.AFTER_SEEK_UPDATE]=this.onTimelineAfterSeekUpdate,this.timeline=this.props.model.getLayer().timeline(),this.listenTo(this.timeline,e)},componentWillUnmount:function(){this.teardownAnimation()},getInnardType:function(){var e=this.props.model,t=e.get("style");return"arrow"===t?d[e.get("arrowstyle")]:p[t]},onActionShow:function(e,t){var i,r=this.animation;if(null==r){if(0===(i=this.refs.innard.getTweens()).length)return;r=this.animation=new n({tweens:i,onComplete:this.onAnimationComplete,onReverseComplete:this.onAnimationReverseComplete}),this.refs.innard.trigger(u.animation.CREATED)}this.seekOffset=t.time,this.numLoops=0,r.play()},onActionHide:function(){this.teardownAnimation()},onAnimationComplete:function(){this.numLoops++,this.shouldLoop()&&this.animation[this.shouldReverse()?"reverse":"restart"]()},onAnimationReverseComplete:function(){this.animation.restart()},onTimelinePlaying:function(){var e=this.animation;null==e||e.isActive()||e.play()},onTimelinePaused:function(){var e=this.animation;null!=e&&e.isActive()&&e.pause()},onTimelineAfterSeekUpdate:function(e){var t,i,n,r,s=this.animation,o=(e-this.seekOffset)/1e3;null!=s&&(o<0?this.teardownAnimation():(t=s.duration(),i=Math.floor(o/t),this.numLoops=this.shouldReverse()?Math.floor((i+1)/2):i,this.shouldLoop()?(n=o%t,r=this.shouldReverse()&&i%2==1,s.reversed(r),r&&(n=t-n)):(s.reversed(!1),n=t),s.seek(n,!1)))},teardownAnimation:function(){return null!=this.animation&&(this.animation.kill(),this.animation=null,this.refs.innard.trigger(u.animation.DESTROYED)),this},shouldLoop:function(){var e=this.props.model.get("loopcount");return-1===e||this.numLoops<e},shouldReverse:function(){var e=this.props.model.get("animationtype");return"fade"===e||"bounce"===e||"stretch"===e}})}),define("views/presentation/SlideObject",["require","lodash","helpers/windowManager","views/helpers/dom","views/mixins/propertizable","views/mixins/decorateable","views/events/mouseEvents","views/mixins/mouseable","views/mixins/baseView","views/presentation/mixins/displayable","react","helpers/actions","helpers/events","helpers/utils","helpers/svg/svgUtils","views/helpers/collisionHelper","models/presentation/helpers/collisionMap","views/helpers/variableTextHelper","helpers/TransMatrix","polyfills/vendorOverrides","helpers/GsapTweenLite","helpers/keyManager","views/presentation/VectorSlideObject","views/presentation/ButtonSlideObject","views/presentation/PlaceHolderSlideObject","views/presentation/GroupingSlideObject","views/presentation/StateGroupSlideObject","views/presentation/ImageSlideObject","views/presentation/WebObjectSlideObject","views/presentation/ScrollAreaSlideObject","views/presentation/ExpandingLabelSlideObject","views/presentation/DropareaSlideObject","views/presentation/DragitemSlideObject","views/presentation/TextInputSlideObject","views/presentation/VideoSlideObject","views/presentation/DropListSlideObject","views/presentation/SequenceCtrlSlideObject","views/presentation/SlideFrameSlideObject","views/presentation/AnnotationSlideObject"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/windowManager"),r=e("views/helpers/dom"),s=e("views/mixins/propertizable"),o=e("views/mixins/decorateable"),a=e("views/events/mouseEvents"),l=e("views/mixins/mouseable"),u=e("views/mixins/baseView"),c=e("views/presentation/mixins/displayable"),h=e("react"),p=e("helpers/actions"),d=e("helpers/events"),f=e("helpers/utils"),m=e("helpers/svg/svgUtils"),g=e("views/helpers/collisionHelper"),v=e("models/presentation/helpers/collisionMap"),y=e("views/helpers/variableTextHelper"),b=e("helpers/TransMatrix"),w=e("polyfills/vendorOverrides"),S=e("helpers/GsapTweenLite"),x=e("helpers/keyManager"),T={VectorSlideObject:e("views/presentation/VectorSlideObject"),ButtonSlideObject:e("views/presentation/ButtonSlideObject"),PlaceHolderSlideObject:e("views/presentation/PlaceHolderSlideObject"),GroupingSlideObject:e("views/presentation/GroupingSlideObject"),StateGroupSlideObject:e("views/presentation/StateGroupSlideObject"),ImageSlideObject:e("views/presentation/ImageSlideObject"),WebObjectSlideObject:e("views/presentation/WebObjectSlideObject"),ScrollAreaSlideObject:e("views/presentation/ScrollAreaSlideObject"),ExpandingLabelSlideObject:e("views/presentation/ExpandingLabelSlideObject"),DropareaSlideObject:e("views/presentation/DropareaSlideObject"),DragitemSlideObject:e("views/presentation/DragitemSlideObject"),TextInputSlideObject:e("views/presentation/TextInputSlideObject"),VideoSlideObject:e("views/presentation/VideoSlideObject"),DropListSlideObject:e("views/presentation/DropListSlideObject"),SequenceCtrlSlideObject:e("views/presentation/SequenceCtrlSlideObject"),SlideFrameSlideObject:e("views/presentation/SlideFrameSlideObject"),AnnotationSlideObject:e("views/presentation/AnnotationSlideObject")},E=/\n/g,A={vectorshape:"Vector",button:"Button",objgroup:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",annotation:"Annotation"},C={vectorshape:"vectorData.altText",scrollarea:"vectorData.altText",video:"videodata.altText",droplist:"textdata.altText",button:"textdata.altText",expandinglabel:"vectorData.altText"},P=["release","press","doubleclick","rightrelease","rightpress"],_=["releaseoutside","rollover","rollout"],I=w.handleWillChange||i.noop,k={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},R={button:"button"},O=function(e){return i.pluck(e.events(),"kind").map(M)},M=function(e){return e.replace(/^on/,"")},L=function(e,t){var i,n=e.currView;return null==n||null==n.tweenedConfig?((i=e.getPlayerPropsRaw()).ScaleX/=100,i.ScaleY/=100,(new b).adjustByViewProps(i)):t?n.tweenedConfig.matrix.copy():n.tweenedConfig.matrix};return h.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[u,s,o,l,c],shortEvents:{model:(t={show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators"},t[p.SET_FOCUS]="onSetFocusAction",t)},componentWillMount:function(){var e,t;this.key=i.uniqueId("slideobject"),this.isObscurable=this.props.model.isObscurableBySelf(),this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:i.partial(this.textEvent,"onlinkrelease"),textOver:i.partial(this.textEvent,"onlinkrollover"),textOut:i.partial(this.textEvent,"onlinkrollout")}},e=T[(t=this.props.model,(A[t.kind()]||"PlaceHolder")+"SlideObject")],this.slideObjectInnard=e,this.setupVariableRefs(),this.setupShapeMask()},componentDidMount:function(){this.getAllRefs().registerEvents(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),"swirl"===this.props.model.get("markerType")&&(this.markerAnimationTween=S.to(this.refs.markerAnimation,.6,{rotation:360,ease:"linear",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)})),this.clearShowFns()},componentWillUpdate:function(e,t){this.state.ObjectState!==t.ObjectState&&(this.compareStateAspects(t)&&(this.key=i.uniqueId("slideobject")),this.setupVariableRefs())},componentDidUpdate:function(e,t){this.renderShapeMask(),t.accessibleText!==this.state.accessibleText&&document.activeElement===this.el&&(this.el.removeAttribute("role"),this.el.blur(),this.el.focus(),this.el.setAttribute("role",this.getAriaRole()))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.allRefs=null,null!=this.shapeMask&&(this.shapeMask.off(d.tween.UPDATE,this.renderShapeMask),this.props.model.off(d.tween.UPDATE,this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill()},compareStateAspects:function(e){var t,i,n=!1;return(this.props.model.imagelib()||[]).length>0&&(t=(this.props.model.getCurrentStateData()||{}).html5data||{},null!=(i=(this.props.model.getStateFromName(e.ObjectState)||{}).html5data||{}).height&&null!=i.width&&null!=t.height&&null!=t.width&&(n=i.height/i.width!=t.height/t.width)),n},getInnardConfigs:function(){return i.extend({ref:"innard",key:this.key,model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var e=this.findAllComponents("SlideObject");return this.allRefs=i.reject(e,function(e){return e.props.model.isGroupingSlideObject}).map(function(e){return e.props.model}),this},registerEvents:function(){var e=this.getRegisterableEvents();return i.forEach(e,function(e){this.registerEvent(e,this.triggerEvent)}.bind(this)),v.registerCollisions(this.props.model),this},setupVariableRefs:function(){var e,t=C[this.props.model.kind()];this.accessibleTextTemplate=null!=t?f.getPath(this.props.model.getCurrentStateData(),t):this.props.model.get("altText"),e=y.parseTemplate(this.accessibleTextTemplate),this.updateVarText=e.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=e.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var e=this.shapeMask=this.props.model.getShapeMask();return null!=e&&(e.isShapeMask=!0,this.props.model.isShapeMasked=!0,e.on(d.tween.UPDATE,this.renderShapeMask),this.props.model.on(d.tween.UPDATE,this.renderShapeMask)),this},renderShapeMask:function(){if(null!=this.shapeMask){var e=L(this.shapeMask),t=L(this.props.model,!0);this.applyShapeMask(e,t)}return this},applyShapeMask:function(e,t){var i=t.invert().append(e),n=this.shapeMask,r=n.prop("width"),s=n.prop("height"),o=i.transform(0,0),a=i.transform(r,s),l=[o.y,a.x,a.y,o.x].map(f.pxify);return null!=this.el&&(this.el.style.clip=["rect(",l.join(","),")"].join("")),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(e,t){this.setPlayerProp({RawXPos:e,RawYPos:t})},updateMousePosition:function(e){var t=n.getCurrentWindow().getCurSlide();this.props.model.adjustVariables({name:e.xvar.value,value:t.mouseX},{name:e.yvar.value,value:t.mouseY})},updateFromTween:function(){var e;return null!=this.tweenedConfig&&(e=null!=this.animationOverride?this.animationOverride.adjustProps(i.clone(this.tweenedConfig.props)):this.tweenedConfig.props,null!=this.decorators.draggable&&this.decorators.draggable.updateAfterTween(i.pick(e,"RawXPos","RawYPos")),this.setPlayerProp(e)),this},applyStylesDirectly:function(){i.extend(this.el.style,this.getStyles()),w.unscaleZoom(this.el.style)},showObject:function(){this.updateTrueVisibility(!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&g.transformUpdated(this,!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&g.transformUpdated(this,!0)}.bind(this)),this.updateTrueVisibility(!1)},getRegisterableEvents:function(){var e=i.intersection(i.keys(a),O(this.props.model)),t=i.contains(e,"rollover");return t!==i.contains(e,"rollout")&&(t?e.push("rollout"):(e.push("rollover"),t=!0)),t&&(e=i(e).without("rollover").unshift("rollover").value()),e},shouldFireEvent:function(e,t){var n=!0,r=this.refs.innard;return null!=r&&i.isFunction(r.isClickDefAllowed)&&(n=r.isClickDefAllowed(t.target,e)),!this.dragging&&n&&(!i.contains(_,e)||this.latestEvent!==e)},triggerEvent:function(e){var t,i=e.type;this.state.Enabled&&((t=e.origEvent)||(t=e),this.shouldFireEvent(i,t)&&("rollover"===i&&this.setPlayerProp("MouseOver",!0),this.latestEvent=i,this.props.model.executePlayerEvent("on"+i),"rollout"===i&&this.setPlayerProp("MouseOver",!1)))},cursorByType:function(){var e=this.props.model;return e.isDraggable()||e.isZoomable()||e.isWebObject()||e.isSlideable()},showCursor:function(){return!this.props.model.isCorrectIncorrectReview()&&!1!==this.props.model.get("useHandCursor")&&(!i(P).intersection(O(this.props.model)).isEmpty()||this.cursorByType())},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textEvent:function(e,t){this.props.model.executeFilteredPlayerEvent(function(e){return e.triggerid===t},e)},getDepth:function(){var e=this.props.model;return e.isKind("shufflegroup")?null:e.isKind("annotation")&&"spotlight"===e.get("style")?1e4:e.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getStyles:function(){var e,t,n=this.getGlobalRotation(),r={xPos:"xOffset",yPos:"yOffset"},s=this.props.model.getCurrentStateData(),o=null!=s&&null!=s.html5data,a=this.props.model.get("cliptobounds"),l=function(e){return o&&!a?s.html5data[e]:this.getPath("props.model."+(r[e]||e))}.bind(this);return e={zIndex:this.getDepth(),width:l("width"),height:l("height"),opacity:f.pctToDec(this.state.Alpha)},a&&(e.overflow="hidden"),this.actualHeight=e.height,this.actualWidth=e.width,this.props.model.isKind("shufflegroup")||(e[this.cssTransformOrigin]=[this.state.rotateXPos,"px ",this.state.rotateYPos,"px"].join(""),t=0!==n&&this.state.ScaleX!==this.state.ScaleY,e[this.cssTransform]=i.compact([m.transformTranslate(this.state.RawXPos+"px",this.state.RawYPos+"px"),m.transformRotate(this.state.Rotation+"deg"),t?m.transformRotate(-n+"deg"):"",m.transformScale(this.state.ScaleX/100,this.state.ScaleY/100),t?m.transformRotate(n+"deg"):"",w.transformZ]).join(" ")),this.props.model.isTweenable()&&I(e),e},getGlobalRotation:function(){for(var e=this.props.model,t=0;e;)e.isSlideObject&&(t+=e.playerProps.get("Rotation")),e=e.parent;return t},hasElsoMethod:function(){return i.isFunction(this.props.checkElso)},onSetFocusAction:function(e,t){x.focusItem(this,!e.showrect)},releaseFocus:function(e){this.hasElsoMethod()&&this.props.checkElso()&&this.props.onElsoAction(!1),this.refs.innard&&this.refs.innard.innardRelease?this.refs.innard.innardRelease(e):this.el.blur(),this.setState({tabFocused:!1})},stealFocus:function(e,t){this.props.onBeforeScrollFocus&&this.props.onBeforeScrollFocus(t),this.refs.innard&&this.refs.innard.innardFocus?this.refs.innard.innardFocus(e):this.el.focus(),t||this.setState({tabFocused:!0}),this.props.onScrollFocus&&this.props.onScrollFocus(this),i.toArray(document.querySelectorAll(".slide-layer")).forEach(function(e){e.scrollLeft=0,e.scrollTop=0})},actionKeyCallback:function(e){var t,n=!1;if(this.hasElsoMethod()&&this.props.checkElso())return this.props.onElsoAction(!0,e),!0;if(this.refs.innard&&this.refs.innard.actionKeyCallback)return this.refs.innard.actionKeyCallback(e);t=this.props.model;do{t.isEventable&&i.some(t.events(),{kind:"onrelease"})&&(n=!0,t.executePlayerEvent("onrelease")),t=t.parent}while(null!=t&&!t.isKind("expandinglabel"));return n},treeKeyCallback:function(e,t){var i=this.refs.innard&&this.refs.innard.treeKeyCallback;return!!i&&i(e,t)},getAccessibleText:function(){return(this.state.accessibleText||"").replace(E," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var e=this.props.model.get("accType"),t=k[e];return null!=t?t:R[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},getIsAriaChecked:function(){var e=this.getAriaRole(),t=this.props.model.getCurrentStateData();return"radio"!==e&&"checkbox"!==e||null==t?null:(16&t.accState)>0},isFocusable:function(){var e=this.props.model,t=e.get("tabEnabled"),i=e.prop("tabIndex"),n=e.isKind("slideframe");return t&&i>=0&&!n},getFocusTarget:function(){var e=this.refs.innard;return this.isFocusable()?this:null!=e.getFocusTarget?e.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||r.closest(this.el,function(e){return e.classList.contains("slide-layer")}),this.parentLayer},isMousedOver:function(){var e=this.el.getBoundingClientRect();return f.pointInRect(r.mouseX,r.mouseY,[[e.left,e.top],[e.width,e.height]])},clearShowFns:function(){var e,t=this.props.model;if(!i.isEmpty(t.showFns))for(;e=t.showFns.shift();)e.call(t)}})}),define("views/mixins/accTree",["require","lodash","polyfills/detection","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("polyfills/detection"),n=e("helpers/utils");return{componentWillMount:function(){null==this.toggleCarrot&&(this.toggleCarrot=t.noop)},stealFocus:function(e,n){i.isMobileOrTouchableTheme||(n||this.setState({tabFocused:!0}),this.treeItems=this.findAll(".list-item"),this.treeItems.length&&(this.currentFocus=this.currentFocus||(t.isFunction(this.getFocusedTreeItem)?this.getFocusedTreeItem():t.find(this.treeItems,function(e){return e.classList.contains("cs-selected")||e.parentNode.classList.contains("cs-selected")}))||t.first(this.treeItems),this.currentFocus.focus(),this.focusIndex=this.treeItems.indexOf(this.currentFocus)))},releaseFocus:function(e){this.currentFocus&&this.currentFocus.blur(),this.setState({tabFocused:!1})},getNextTreeItemIndex:function(e){var t=this.focusIndex,i=this.treeItems.length;return i>0&&(t+=e?1:-1,t=n.clamp(0,i-1,t)),t},treeKeyCallback:function(e,t,i){return i.LEFT||i.RIGHT?(this.toggleCarrot(i),!0):(this.focusIndex=this.getNextTreeItemIndex(t),this.currentFocus=this.treeItems[this.focusIndex],null!=this.currentFocus&&this.currentFocus.focus(),!0)},actionKeyCallback:function(e,t){t||null==this.currentFocus||this.currentFocus.click()}}}),define("views/player/GlossaryTerms",["require","react","lodash","views/mixins/baseView","views/mixins/accTree"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),r=e("views/mixins/accTree");return t.createClass({displayName:"GlossaryTerms",mixins:[n,r],componentDidUpdate:function(){this.el.scrollTop=this.scrollTop},getFocusTarget:function(){return this.scrollTop=this.el.scrollTop,this},termChosen:function(e,t){this.props.onTermChosen(e)},getFocusedTreeItem:function(){var e=i.find(this.treeItems,function(e){return e.parentNode.classList.contains("cs-selected")});return e&&e.parentNode}})}),define("views/player/GlossaryDefinition",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"GlossaryDefinition",mixins:[i],getFocusTarget:function(){return this}})}),define("views/player/Bottombar",["require","react","views/player/mixins/appStateable","helpers/pubSub","lodash","helpers/windowManager","views/mixins/baseView","helpers/events","views/player/mixins/fullScreenable"],function(e){"use strict";var t,i=e("react"),n=e("views/player/mixins/appStateable"),r=e("helpers/pubSub"),s=e("lodash"),o=e("helpers/windowManager"),a=e("views/mixins/baseView"),l=e("helpers/events"),u=e("views/player/mixins/fullScreenable");return i.createClass({displayName:"Bottombar",mixins:[a,n,u],stateableValues:{seekbar:void 0,volume:void 0,pauseplay:void 0},getInitialState:function(){return{caption:!1}},toggleCaptionButton:function(e){o.isLightBoxActive()||this.setState({caption:e})},componentWillMount:function(){var e=(t=this.getPath("props.player.controlOptions.controls")).get("closed_captions");null!=e&&!1===e?this.setState({caption:!1}):(this.showCaptionButton=s.partial(this.toggleCaptionButton,!0),this.hideCaptionButton=s.partial(this.toggleCaptionButton,!1),r.on(l.captions.SHOW_BUTTON,this.showCaptionButton),r.on(l.captions.HIDE_BUTTON,this.hideCaptionButton))},componentWillUnmount:function(){r.off(l.captions.SHOW_BUTTON,this.showCaptionButton),r.off(l.captions.HIDE_BUTTON,this.hideCaptionButton)},isReadOnly:function(){return!(!t.get("readonly")||t.get("readonlyOnce")&&this.props.slide.baseTimelineCompletedOnce())},hasVolume:function(){return!!this.state.stateable_volume},hasSeekbarArea:function(){var e=!!this.state.stateable_seekbar||!!this.state.stateable_pauseplay,t=e?"remove":"add";return document.body.classList[t]("no-seek"),e},hasCaption:function(){return!!this.state.caption}})}),define("views/presentation/VectorBackground",["require","react","views/mixins/baseView","helpers/svg/svgManager"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("helpers/svg/svgManager");return t.createClass({displayName:"VectorBackground",mixins:[i],template:function(){var e=this.props.vectorData,t=e.left,i=e.top,r=e.right-e.left,s=e.bottom-e.top;return n.getSvgNode({commandsetId:e.pr.i,libId:e.pr.l,bounds:{xPos:t,yPos:i,fullX:t,fullY:i,height:s,width:r,fullHeight:s,fullWidth:r}},this)}})}),define("views/presentation/SlideWindowBackground",["require","react","helpers/assetManager","views/mixins/baseView","helpers/utils","views/presentation/VectorBackground"],function(e){"use strict";var t=e("react"),i=e("helpers/assetManager"),n=e("views/mixins/baseView"),r=e("helpers/utils"),s=e("views/presentation/VectorBackground"),o={swf:"renderAsset",vector:"renderVector"};return t.createClass({displayName:"SlideWindowBackground",mixins:[n],renderBackground:function(){return this[o[this.props.bg.type]]()},renderVector:function(){return t.createElement(s,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return t.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:r.toCssUrl(i.getAssetUrl(this.props.bg.imagedata.assetId))}})}})}),define("views/player/Captions",["require","react","helpers/pubSub","polyfills/detection","polyfills/vendorOverrides","lodash","helpers/events","helpers/captionsManager","helpers/windowManager","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("helpers/pubSub"),n=e("polyfills/detection"),r=e("polyfills/vendorOverrides"),s=e("lodash"),o=e("helpers/events"),a=e("helpers/captionsManager"),l=e("helpers/windowManager"),u=e("views/mixins/baseView"),c=r.positionCaptions||s.noop;return t.createClass({displayName:"Captions",mixins:[u],getDefaultProps:function(){return{fontscale:100}},getInitialState:function(){return{captions:[],font:a.getCaptionFont(),showCaptions:a.isCaptionButtonToggled()}},componentWillMount:function(){this.captions=[],i.on(o.captions.ENABLED,this.toggleCaptioning),i.on(o.slide.STARTED,this.reloadCaptions),i.on(o.captions.ADD,this.onAddCaption),i.on(o.captions.REMOVE,this.onRemoveCaption)},componentWillUnmount:function(){this.captions=[],i.off(o.captions.ENABLED,this.toggleCaptioning),i.off(o.slide.STARTED,this.reloadCaptions),i.off(o.captions.ADD,this.onAddCaption),i.off(o.captions.REMOVE,this.onRemoveCaption)},toggleCaptioning:function(e){this.setState({showCaptions:e})},reloadCaptions:function(){this.setState({captions:[]})},onAddCaption:function(e){var t=l.isLightBoxActive();n.isMobile&&t?this.el.style.zIndex=999:this.el.style.zIndex=1,!n.isMobile&&t&&!0!==this.props.lightboxed||(this.captions.push(e),this.setState({captions:this.captions.slice()},s.partial(c,this.el)))},onRemoveCaption:function(e){s.remove(this.captions,function(t){return t.textContent===e.textContent}),this.setState({captions:this.captions.slice()})},toHtml:function(e){var t,i=document.createElement("div");i.appendChild(e.cloneNode(!0)),t=i.querySelectorAll("q[data-voice]");for(var n=0;n<t.length;n++){var r=t[n],s=r.getAttribute("data-voice");r.innerHTML=[s,":"," ",r.innerHTML].join("")}return i.innerHTML.replace(/&amp;/g,"&")}})}),define("views/player/UiMobile",["require","lodash","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","helpers/events","helpers/pubSub","views/mixins/mouseable","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("react-dom"),s=e("views/player/mixins/appStateable"),o=e("views/mixins/baseView"),a=e("polyfills/detection"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("views/mixins/mouseable"),h=e("helpers/constants"),p=n.createClass({displayName:"UiMobile",mixins:[o,s,c],subscriptions:(t={},t[l.request.NEXT_SLIDE]="onRequestingNextSlide",t[l.detection.ORIENTATION_CHANGE]="onOrientationChange",t[l.popup.SHOW]="onPresenterPanelShow",t[l.customlink.EVENT]="onCustomLink",t[l.presentation.ENTER_FULLSCREEN]="onEnterFullscreen",t[l.presentation.EXIT_FULLSCREEN]="onExitFullscreen",t),getIntialState:function(){return{orientation:null,isActive:!1,showMenu:!1,showTab:!1,showSearch:!1,isFs:!1}},componentDidMount:function(){this.setupUi()},setupUi:function(){this.updateOrientation(),this.registerEvent("clickoutside",this.onClickOffMenu,this.find(".content-menu"))},onClickOffMenu:function(e){var t=r.findDOMNode(this.refs["menu-handle"]),i=t===e.target||t.contains(e.target);!this.state.showMenu||this.isLandscape()||i||this.toggleMenu()},onOrientationChange:function(){this.updateOrientation()},onRequestingNextSlide:function(){this.deactivateUi()},onPresenterPanelShow:function(){this.deactivateUi()},onTabChange:function(){this.setState({showTab:!0,showMenu:this.isLandscape()})},shouldShowLandscapeMenu:function(){return"landscape"===a.orientation&&this.state.showTab&&!this.state.showMenu},shouldHidePortraitMenu:function(){return"portrait"===a.orientation&&this.state.showMenu},updateOrientation:function(){this.shouldShowLandscapeMenu()?this.toggleMenu():this.shouldHidePortraitMenu()&&this.setState({showMenu:!1}),this.find(".content-menu").style.display=this.isLandscape()?"":"none",this.setState({orientation:a.orientation})},isLandscape:function(){return"landscape"===a.orientation},onHamburgerTouchEnd:function(e){this.toggleMenu(),e.preventDefault()},toggleMenu:function(){var e=!this.state.showMenu,t=this.isLandscape()?e:this.state.showTab,i=e||t;this.isLandscape()||t||this.refs.sidebar.setState({activeTab:null}),this.refs.sidebar.checkEmptyTabs(),i&&t&&u.trigger(l.mobile.MENU_OPEN),this.handleHideShow(e),this.htmlReady(function(){this.setState({isActive:i,showMenu:e,showTab:t})}.bind(this))},handleHideShow:function(e){var t=this.find(".content-menu");e||this.isLandscape()?(clearTimeout(this.hideTimeout),t.style.display=""):(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){t.style.display="none"},h.MOBILE_ANIMATION_DURATION))},onToggleSearchUi:function(){var e=!this.state.showSearch;e||this.clearSearch(),this.setState({showSearch:e})},clearSearch:function(){this.findComponent("Menu").onClearSearch()},closeTab:function(){this.setState({showTab:!1}),this.find(".content-menu").style.display="none"},onCustomLink:function(){this.toggleMenu()},deactivateUi:function(){this.setState({isActive:!1,showMenu:!1,showTab:!1})},toggleFullScreen:function(e){this.setState({isFs:e})}});return i.extend(p.prototype,{onEnterFullscreen:i.partial(p.prototype.toggleFullScreen,!0),onExitFullscreen:i.partial(p.prototype.toggleFullScreen,!1)}),p}),define("collections/player/Links",["require","collections/BaseCollection","helpers/pubSub","helpers/events","helpers/utils","helpers/resolver"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/pubSub"),n=e("helpers/events"),r=e("helpers/utils"),s=e("helpers/resolver");return t.extend({initialize:function(e,t){this.origModels=e},findDeep:function(e){var t;return this.forEach(function(i){return!(t=i.findDeep(e))}),t},hasChildSlide:function(e){return!!this.findWhere({slideid:e})},prepareDrawSlides:function(e,t){i.once(n.data.INITIALIZED,this.setDrawSlides.bind(this,e,t))},setDrawSlides:function(e,t){var i=s.resolvePath(r.prefixWithPlayer(t),this),o=this.setDrawLinks.bind(this,e);this.listenTo(i,n.slide.CHANGE,o),null!=i.slides()&&o(i,i.slides())},setDrawLinks:function(e,t,i){var n=this.slice(),r=e.spliceNum||1;e.linkIndex=null!=e.linkIndex?e.linkIndex:this.indexOf(e),n.splice.apply(n,[e.linkIndex,r].concat(i.map(this.createNewLink))),e.spliceNum=i.length,this.reset(n)},createNewLink:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}})}),define("views/player/SearchOptions",["require","lodash","react","views/mixins/baseView","helpers/resolver","helpers/utils","collections/player/Links","helpers/constants","views/helpers/dom"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("helpers/resolver"),s=e("helpers/utils"),o=e("collections/player/Links"),a=e("helpers/constants"),l=e("views/helpers/dom"),u=function(e){return s.prefixWithPlayer(e)},c={cbNotes:"notes",cbText:"text"};return i.createClass({displayName:"SearchOptions",mixins:[n],stringTitles:{filter:"filter",search_clear:"clear",search_in:"search_in",search_results:"search_results",slide_notes:"transcript_chk",slide_text:"slide_text_chk"},getInitialState:function(){return{notes:!0,text:!0,searchOptionsVisible:!1}},handleChangeNotes:function(e){this.setState({notes:e.target.checked})},handleChangeText:function(e){this.setState({text:e.target.checked})},toggleSearchOptions:function(e){this.setState({searchOptionsVisible:!this.state.searchOptionsVisible}),null!=e&&e.preventDefault()},toggleCheckbox:function(e){var i={};t.forOwn(c,function(t,n){e===this.refs[n]&&(i[t]=!this.state[t])}.bind(this)),this.setState(i)},performSearch:function(e){var i,n,a,l,c,h,p,d=[],f=[],m=new RegExp(e,"i");return this.state.notes&&(l=this.props.notesData,c=m,d=l.chain().filter(function(e){return c.test(s.stripTags(e.get("content")))}).invoke("get","slideId").map(u).value()),this.state.text&&(h=this.props.searchData,p=m,f=t(h).filter(function(e){return p.test(e.Text)}).pluck("slideid").map(u).value()),n=(i=t.union(d,f)).map(function(e){var t=s.prefixWithPlayer(e);return{slideid:t,displaytext:r.resolvePath(t).get("title"),expand:!1,type:"slide"}}),a=this.props.links.reduce(function e(n,r){var s=r.get("slideid"),o=s.split(".").length<=2,a=r.get("links");return t.contains(i,s)||o||!m.test(r.get("displaytext"))||n.push(r),a&&a.length&&a.reduce(e,n),n},n),new o(a)},getTabbableItems:function(){t.forOwn(this.refs,function(e){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([t.assign(this.refs.btnFilter,{idx:a.tabIndices.SEARCH_FILTER}),t.assign(this.refs.cbNotes,{idx:a.tabIndices.SEARCH_NOTES}),t.assign(this.refs.cbText,{idx:a.tabIndices.SEARCH_TEXT})])},getFocusTarget:function(e){return t.find(this.refs,function(t){return!!l.closest(e.target,function(e){return e===t})})},stealFocus:function(e,t){t||this.setState({btnFilterFocus:e===this.refs.btnFilter,cbNotesFocus:e===this.refs.cbNotes,cbTextFocus:e===this.refs.cbText}),e.focus()},releaseFocus:function(e){this.setState({btnFilterFocus:!1,cbNotesFocus:!1,cbTextFocus:!1}),e.blur()},actionKeyCallback:function(e){e===this.refs.btnFilter?this.toggleSearchOptions():this.toggleCheckbox(e)}})}),define("views/player/SearchResults",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/utils","helpers/keyManager","tween-lite","views/helpers/dom","helpers/constants","helpers/pubSub","helpers/windowManager","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("views/mixins/baseView"),r=e("views/mixins/accTree"),s=(e("helpers/utils"),e("helpers/keyManager")),o=(e("tween-lite"),e("views/helpers/dom")),a=e("helpers/constants");e("helpers/pubSub"),e("helpers/windowManager"),e("polyfills/detection");return i.createClass({displayName:"SearchResults",mixins:[n,r],reset:function(){this.currentFocus=void 0},componentWillReceiveProps:function(e){this.props.showChildren!==e.showChildren&&(s.moveFocusObject(this,e.showChildren?a.tabIndices.SEARCH_INPUT:a.tabIndices.SEARCH_CLEAR),this.reset())},getTabbableItems:function(){this.props.addFocusObjects([t.assign(this,{idx:a.tabIndices.SEARCH_RESULTS_TREE_MODE})])},onClickMenuItem:function(e){this.currentFocus=e.currentTarget,this.stealFocus(this)},getFocusTarget:function(){return this},toggleCarrot:function(e){var t,i,n=this.currentFocus.querySelector(".icon-carrot");null!=n&&(t=o.closest(this.currentFocus,function(e){return o.hasClass(e,"item-collapsible")}),((i=o.hasClass(t,"outline-links-collapse"))&&e.RIGHT||!i&&e.LEFT)&&n.click())}})}),define("views/player/SearchFooter",["require","react","react-dom","helpers/constants","views/mixins/baseView","lodash","views/player/mixins/appStateable","views/helpers/dom","helpers/keyManager"],function(e){"use strict";var t=e("react"),i=e("react-dom"),n=e("helpers/constants"),r=e("views/mixins/baseView"),s=e("lodash"),o=e("views/player/mixins/appStateable"),a=e("views/helpers/dom"),l=e("helpers/keyManager");return t.createClass({displayName:"SearchFooter",mixins:[r,o],stringTitles:{acc_search_input:"acc_search_input",search_clear:"clear",search:"search"},stateableValues:{"outline.search":void 0},getTabbableItems:function(){s.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),this.props.addFocusObjects([s.assign(this.refs.searchInput,{idx:n.tabIndices.SEARCH_INPUT}),s.assign(this.refs.searchSubmit,{idx:n.tabIndices.SEARCH_SUBMIT}),s.assign(this.refs.searchClear,{idx:n.tabIndices.SEARCH_CLEAR})])},getFocusTarget:function(e){return s.find(this.refs,function(t){return!!a.closest(e.target,function(e){return e===t})})},getInitialState:function(){return{searchInput:""}},search:function(e){null!=e&&e.preventDefault(),this.props.onSearch(this.state.searchInput)},handleChange:function(e){this.setState({searchInput:e.target.value})},clearSearch:function(e){null!=e&&e.preventDefault(),this.setState({searchInput:""}),this.props.onClearSearch()},stealFocus:function(e,t){t||this.setState({clearFocus:e===this.refs.searchClear,inputFocus:e===this.refs.searchInput,submitFocus:e===this.refs.searchSubmit}),i.findDOMNode(e).focus()},releaseFocus:function(e){this.setState({clearFocus:!1,inputFocus:!1,submitFocus:!1}),i.findDOMNode(e).blur()},onInputKeyDown:function(e){l.keys.ENTER&&this.search(e)},isActionKeyItemFocused:function(e){return null!==document.activeElement&&document.activeElement===e},actionKeyCallback:function(e,t){this.isActionKeyItemFocused(e)&&((e===this.refs.searchInput&&t||e===this.refs.searchSubmit)&&this.search(),e===this.refs.searchClear&&this.clearSearch())}})}),define("views/player/MenuLinksListItem",["require","lodash","react","views/mixins/baseView","helpers/utils","polyfills/detection","helpers/constants","helpers/resolver","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=(e("helpers/utils"),e("polyfills/detection")),o=e("helpers/constants"),a=e("helpers/resolver"),l=e("helpers/events"),u=e("helpers/pubSub");return n.createClass({displayName:"MenuLinksListItem",mixins:[r],subscriptions:(t={},t[l.window.MAIN_CHANGED]="onSlideChanged",t[l.player.RESET]="onPlayerReset",t),getInitialState:function(){return{showChildren:!0,expanded:this.getPath("props.link.expand")}},componentDidMount:function(){this.visuallyRestrictMenu()},componentDidUpdate:function(e){var t=this.props.link.get("slideid"),n=this.isSlideSelected(t),r=i.last(e.visitedSlides)===t;n&&!r&&this.onSelectMenuItem(),this.visuallyRestrictMenu()},linkSlide:function(e){return"#"+e},isActionLink:function(){return this.props.link.isActionLink},isSlideSelected:function(e){return i.last(this.props.visitedSlides)===e},hasSlideBeenViewed:function(e){return!this.isSlideSelected(e)&&i.contains(this.props.visitedSlides,e)},isSlideCorrect:function(e){if(!this.props.link.isActionLink&&!i.isEmpty(e)){var t=a.resolvePath(e);if(t&&t.isSlide&&t.getInteractionAttempted()&&!0===t.get("showMenuResultIcon"))return t.getInteractionStatus()}},isSlideViewedOrCurrentParent:function(e){return this.props.link.isImmediateParent&&!this.isSlideSelected(e)||this.hasSlideBeenViewed(e)},hasChildren:function(){return this.props.link.links().length>0},visuallyRestrictMenu:function(){if(s.isMobile){var e=this.props.link.get("slideid"),t=this.linkSlide(e),i=this.hasChildren()&&this.props.shouldKillLink(t,!0);this.setState({itemRestricted:i})}},onSlideChanged:function(e){var t,i=this.props.collapsible,n=this.props.visitedSlides,r=n.slice(0,n.length-1),o=e.absoluteId;if(this.props.link.hasChild(o))for(this.setImmediateParent(!0),this.toggle(!0),t=this.props.parentItem;null!=t;)t.toggle&&t.toggle(!0),t=t.props&&t.props.parentItem;if(r.length>0&&this.props.hasAnyLink(o)){s.isMobile&&(i=!1);var a=this.props.link.isOrHasChild(o),l=r.some(this.props.link.isOrHasChild.bind(this.props.link));i&&l&&!a?this.toggle(!1):a&&this.toggle(!0)}this.resetTouched()},resetTouched:function(){setTimeout(function(){this.setState({touched:!1})}.bind(this),o.MOBILE_ANIMATION_DURATION)},onSelectMenuItem:function(){this.props.onSelectMenuItem&&(this.props.onSelectMenuItem(this),s.isMobile&&this.setState({touched:!0})),u.trigger(l.menuLinksListItem.ITEM_SELECTED)},onTouchEnd:function(){this.resetTouched()},toggle:function(e){return this.setState({expanded:i.isBoolean(e)?e:!this.state.expanded}),this},setImmediateParent:function(e){this.props.link.isImmediateParent=e},getAutoNumber:function(){for(var e=this.props.link,t="";e;)t=e.index()+1+"."+t,e=null!=e.parent&&e.parent.isKind("slidelink")&&e.parent;return t+" "},onPlayerReset:function(){this.forceUpdate()}})}),define("views/player/MenuLinksList",["require","lodash","helpers/utils","react","views/mixins/baseView"],function(e){"use strict";e("lodash"),e("helpers/utils");var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"MenuLinksList",mixins:[i],getDefaultProps:function(){return{level:1}},getAriaRole:function(){return 1===this.props.level?"tree":"group"}})}),define("views/player/NotesHeader",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"NotesHeader",mixins:[i]})}),define("views/player/NotesList",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"NotesList",mixins:[i],componentDidMount:function(){this.updateAriaLabel()},componentDidUpdate:function(){this.updateAriaLabel()},updateAriaLabel:function(){return this.el.setAttribute("aria-label",this.el.textContent),this}})}),define("views/player/PlayPauseButton",["require","react","helpers/constants","views/mixins/baseView","lodash","polyfills/detection","views/helpers/dom","helpers/pubSub","helpers/events","helpers/keyManager"],function(e){"use strict";var t,i=e("react"),n=e("helpers/constants"),r=e("views/mixins/baseView"),s=e("lodash"),o=e("polyfills/detection"),a=e("views/helpers/dom"),l=(e("helpers/pubSub"),e("helpers/events")),u=e("helpers/keyManager");return i.createClass({displayName:"PlayPauseButton",mixins:[r],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},subscriptions:(t={},t[l.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),componentDidMount:function(){o.isMobile&&(this.shouldShowCircularProgress(),window.addEventListener("resize",this.onReflow))},componentWillMount:function(){this.props.timeline&&this.watchTimelineChanges()},componentWillUnmount:function(){window.removeEventListener("resize",this.onReflow)},stateableValuesUpdated:function(e){e!==this.prevLayout&&(this.shouldShowCircularProgress(),this.prevLayout=e)},getTabbableItems:function(){return[s.assign(this,{idx:n.tabIndices.PLAYBACK_PLAY,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{isPlaying:!!this.props.timeline&&this.props.timeline.isPlaying()}},listenToTick:function(){null!=this.props.timeline&&this.listenTo(this.props.timeline,l.timeline.TICK,this.onTick)},onTick:function(e){this.setState({progress:e})},watchTimelineChanges:function(){this.stopListening(this.props.timeline),this.listenTo(this.props.timeline,[l.timeline.PLAYING,l.timeline.PAUSED,l.timeline.ENDED].join(" "),this.onPlaybackStateChange),o.isMobile&&this.listenToTick()},onPlaybackStateChange:function(e){var t=e&&e.override;this.setState({isPlaying:t||this.getIsPlaying()})},onTouchStart:function(e){a.tappedClass(e.currentTarget)},toggle:function(e){this.props.timeline.togglePlayback(),!o.isMobile&&o.isClassic||this.props.timeline.hasFinished()&&(this.props.timeline.reset(),this.onPlaybackStateChange())},onReflow:function(){this.shouldShowCircularProgress()},shouldShowCircularProgress:function(){this.htmlReady(this.hideShowCircularProgress)},hideShowCircularProgress:function(){var e,t=this.el.nextSibling;t&&(e="portrait"===o.orientation&&t.getBoundingClientRect().width<n.MOBILE_UI_SIZE,t.style.display=e?"none":"",this.setState({showCircleProgress:e}))},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.watchTimelineChanges(),this.setState({isPlaying:this.props.timeline.isPlaying()}))},getIsPlaying:function(){return"playing"===this.props.timeline.playbackState()},onFrameControlKey:function(e){var t,i=u.getCurrentItem(),n=a.hasClass(document.body,"curr-slide-locked");i&&i.el&&(t=i.el.getAttribute("id","panel-outline")),t&&n||e.SPACE&&this.toggle()},actionKeyCallback:function(){return this.toggle(),!0}})}),define("views/player/PlaybackProgress",["require","react","helpers/constants","lodash","views/mixins/baseView","helpers/events","polyfills/detection"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("lodash"),r=e("views/mixins/baseView"),s=e("helpers/events"),o=e("polyfills/detection");return t.createClass({displayName:"PlaybackProgress",mixins:[r],getTabbableItems:function(){return[n.assign(this,{idx:i.tabIndices.PLAYBACK_PROGRESS,indexGroupName:"PlayerControlButton"})]},getInitialState:function(){return{progress:0}},componentDidMount:function(){this.inputEl=this.find("input"),o.isMobileAndNotPreview&&(this.inputEl.style.pointerEvents="none",this.el.addEventListener("touchmove",this.onSeekMobile),this.el.addEventListener("touchstart",this.onSeekMobile),this.el.addEventListener("touchend",this.onMouseUp))},componentWillMount:function(){this.listenToTick()},componentDidUpdate:function(e){e.timeline!==this.props.timeline&&(this.stopListening(e.timeline),this.listenToTick(),null!=this.props.timeline&&this.onTick(this.props.timeline.progress()))},componentWillUnmount:function(){o.isMobileAndNotPreview&&(this.el.removeEventListener("touchmove",this.onSeekMobile),this.el.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),this.isTabbable()&&e.touches&&1===e.touches.length&&("touchstart"===e.type&&this.onMouseDown(),t=this.el.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.inputEl.value=i,this.onSeek())},listenToTick:function(){null!=this.props.timeline&&(this.listenTo(this.props.timeline,s.timeline.TICK,this.onTick),this.onTick(this.props.timeline.progress()))},onTick:function(e){this.setState({progress:e})},onSeek:function(){var e=function(){this.props.timeline.play(),this.stopListening(this.props.timeline,s.timeline.AFTER_SEEK_UPDATE,e)}.bind(this);this.seeking=!0,!0!==this.isUp&&this.props.timeline.isPlaying()&&(this.props.timeline.pause(!0),this.listenTo(this.props.timeline,s.timeline.AFTER_SEEK_UPDATE,e)),this.props.timeline.progress(this.inputEl.valueAsNumber),this.isUp=!1},onMouseDown:function(e){this.isTabbable()&&(this.isUp=!1,this.props.timeline.onSeekStart())},onMouseUp:function(e){this.isTabbable()&&(this.isUp=!0,this.props.timeline.onSeekEnd())},isTabbable:function(){return!this.props.readonly},stealFocus:function(){this.setState({tabFocused:!0}),this.find("input").focus()},releaseFocus:function(){this.setState({tabFocused:!1}),this.find("input").blur()},treeKeyCallback:function(e,t){var i=5e3/this.props.timeline.duration();return this.inputEl.valueAsNumber+=i*(t?-1:1),this.onSeek(),!0}})}),define("views/player/PlaybackResetButton",["require","react","helpers/constants","views/mixins/baseView","lodash"],function(e){"use strict";var t=e("react"),i=e("helpers/constants"),n=e("views/mixins/baseView"),r=e("lodash");return t.createClass({displayName:"PlaybackResetButton",mixins:[n],stringTitles:{acc_replay:"acc_replay"},getTabbableItems:function(){return[r.assign(this,{idx:i.tabIndices.PLAYBACK_RESET,indexGroupName:"PlayerControlButton"})]},resetPlayhead:function(e){this.props.timeline.reset()},actionKeyCallback:function(){return this.resetPlayhead(),!0}})}),define("helpers/videoManager",["require","lodash","helpers/slidesController","helpers/vow","helpers/constants","helpers/utils","polyfills/detection","views/helpers/dom"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/slidesController"),s=e("helpers/vow"),o=e("helpers/constants"),a=e("helpers/utils"),l=e("polyfills/detection"),u=e("views/helpers/dom"),c=o.TINY_VIDEO,h=l.isIOS()?window.globals.maxIosVideoElements:200,p=l.isMobileAndNotPreview?["touchend","click"]:["click"],d=document.getElementById("video-pen"),f=[],m=[],g=function(e){e.pause(),e.src=c,e.load()},v=function(e){var t=null!=e.parentNode,i=t&&u.hasClass(e.parentNode,"offscreen"),n=f.some(function(i){return i.el.contains(e)&&t&&!a.getPath(i.props,"isPlaying",!0)});(n||!t||i)&&(e.pause(),n||g(e))},y=function(e,t,i){i=i||n.noop,null!=t?t.then(function(){v(e),i()}).catch(function(){v(e),i(!0)}):(v(e),i())},b=function(){var e=document.createElement("video"),t=function t(){y(e,e.play()),p.forEach(function(e){return document.body.removeEventListener(e,t)})};e.src=c,e.setAttribute("preload","auto"),l.isMobileAndNotPreview&&(e.setAttribute("playsinline",1),e.setAttribute("webkit-playsinline","true")),d.appendChild(e),e.load(),y(e,e.play(),function(e){e&&p.forEach(function(e){return document.body.addEventListener(e,t)})})};return{initialize:function(e){return new Promise(function(s){t=e.assetLib(),i=t.getVideoCount(),n.times(Math.min(h,i),b),function(e,t){if(l.isPhone||0===t)e();else{var i=d.firstElementChild,n=i.play();y(i,n,e)}}(function(n){var o=!1,a=e.slideMap();if(i>0&&n){var l=r.getSlide(r.getEntrypoint());o=null==l||a.getRefById(l.fullId()).assetIds().some(function(e){return"video"===t.findWhere({id:e}).type()})}s(o)},i)})},getVideoElement:function(e){var t=d.firstElementChild;return null!=t?null==e.isMediaElement&&d.removeChild(t):null!=(t=n.findLast(f,function(e){return e.isPaused||e.ended()}))?(n.pull(f,t),t=t.retrieveVideo()):t=f.pop().retrieveVideo(),f.unshift(e),t},requestVideoEl:function(e,t){var i=new s.Deferred;return t||d.firstElementChild?(i.resolve(this.getVideoElement(e)),n.remove(m,function(t){return t.obj===e})):m.unshift({dfd:i,obj:e}),i.promise()},putVideoInPen:function(e,t){n.pull(f,t),g(e),d.insertBefore(e,d.firstElementChild),this.getNextInLine()},getNextInLine:function(){var e;m.length>0&&(e=m.pop()).dfd.resolve(this.getVideoElement(e.obj))},prepare:function(){n.toArray(d.childNodes).forEach(function(e){e.readyState===e.HAVE_NOTHING&&e.networkState===e.NETWORK_EMPTY&&d.removeChild(e)})}}}),define("views/player/PresenterVideo",["require","react","helpers/pubSub","helpers/windowManager","helpers/actionator","helpers/vow","helpers/utils","helpers/events","helpers/assetManager","helpers/appState","helpers/videoManager","views/mixins/baseView"],function(e){"use strict";var t,i,n,r=e("react"),s=(e("helpers/pubSub"),e("helpers/windowManager")),o=(e("helpers/actionator"),e("helpers/vow")),a=e("helpers/utils"),l=e("helpers/events"),u=e("helpers/assetManager"),c=e("helpers/appState"),h=e("helpers/videoManager"),p=e("views/mixins/baseView"),d=function(e){this.canPlayDfd=new o.Deferred,t=u.getAsset(e.assetId),i=t.url(),this.video=h.getVideoElement(i),a.parseUrl(this.video.src).pathname!==a.parseUrl(i).pathname&&(this.video.src=i),this.video.volume=c.currentVolume(),this.video.readyState>=this.video.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():this.video.addEventListener("canplay",this.canPlayDfd.resolve),this.canPlayDfd.done(function(){window.requestAnimationFrame(function(){this.video.videoHeight>this.video.videoWidth?this.refs.videoContainer.classList.add("vertical-video"):this.refs.videoContainer.classList.contains("vertical-video")&&this.refs.videoContainer.classList.remove("vertical-video"),this.video.style.display="block"}.bind(this)),this.video.currentTime=0,this.video.play()}.bind(this)),this.video.style.display="none",this.refs.videoContainer.appendChild(this.video),this.watchTimelineChanges()},f=function(){this.canPlayDfd.reject(),this.video.removeEventListener("canplay",this.canPlayDfd.resolve),this.video.src="",this.video.load(),this.refs.videoContainer.removeChild(this.video),this.video=null};return r.createClass({displayName:"PresenterVideo",mixins:[p],subscriptions:(n={},n[l.volume.CHANGED]="onVolumeChanged",n),componentDidMount:function(){var e=this.props.video;e&&d.call(this,e)},componentDidUpdate:function(e,t){var i=this.props.video;i&&(this.video&&f.call(this),d.call(this,i))},componentWillUnmount:function(){f.call(this);var e=s.getCurrentWindowSlide().currentTimeline();this.stopListening(e)},watchTimelineChanges:function(){var e=s.getCurrentWindowSlide().currentTimeline();this.listenTo(e,l.timeline.PLAYING,this.onPlaybackStateChange.bind(this,l.timeline.PLAYING)),this.listenTo(e,l.timeline.PAUSED,this.onPlaybackStateChange.bind(this,l.timeline.PAUSED)),this.listenTo(e,l.timeline.ENDED,this.onPlaybackStateChange.bind(this,l.timeline.ENDED)),this.listenTo(e,l.timeline.AFTER_SEEK_UPDATE,this.onPlaybackStateChange.bind(this,l.timeline.AFTER_SEEK_UPDATE))},onPlaybackStateChange:function(e,t){switch(e){case l.timeline.PAUSED:case l.timeline.ENDED:this.video.pause();break;case l.timeline.PLAYING:this.video.play();break;case l.timeline.AFTER_SEEK_UPDATE:this.video.currentTime=a.toSeconds(t)}},onVolumeChanged:function(e){this.video.volume=e}})}),define("views/player/Timer",["require","lodash","react","views/mixins/baseView","timeline-lite","helpers/utils","helpers/events","polyfills/detection","helpers/constants","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("timeline-lite"),o=e("helpers/utils"),a=e("helpers/events"),l=e("polyfills/detection"),u=e("helpers/constants"),c=e("helpers/pubSub"),h={remaining:function(e,t){return o.formatSecondsAsTime(t-e)},totalelapsed:function(e,t){return[e,t].map(o.formatSecondsAsTime).join(" / ")},elapsed:function(e,t){return o.formatSecondsAsTime(e)},none:function(){return""}};return n.createClass({displayName:"Timer",mixins:[r],subscriptions:(t={},t[a.request.NEXT_SLIDE]="onNextSlide",t[a.slide.STARTED]="onSlideReady",t[a.resume.RESET_DATA]="onResetData",t),shortEvents:{model:{show:"onShow",hide:"onHide",pause:"onPause",start:"onStart",reset:"onReset"}},getTabbableItems:function(){return[i.assign(this,{idx:u.tabIndices.TIME,indexGroupName:"TopTabsItem"})]},stealFocus:function(){this.refs.timerText.focus()},onResetData:function(){this.props.model.resetData()},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},getInitialState:function(){return{timerVisible:!1,timeScale:0,timeText:l.isMobileOrTouchableTheme?"00:00":""}},componentWillMount:function(){this.setupOptions(),this.started=!1,this.setupTimeline(),this.addTween()},componentDidMount:function(){this.props.model.performDeferredResume()},setupOptions:function(){var e=this.props.options;this.timeEnabled=e.get("timeEnabled"),this.timeFormat=l.isMobileOrTouchableTheme?"remaining":e.get("timeFormat")},setupTimeline:function(){this.tweenTick={val:0},this.timeline=new s({paused:!0}),this.duration=this.getPath("props.model.duration")/1e3,this.tweenProps={val:1,ease:"Linear.easeNone",onUpdate:this.onUpdate,onComplete:this.onComplete}},addTween:function(){this.timeline.to(this.tweenTick,this.duration,this.tweenProps)},elapsed:function(e,t){if(null==e)return this.duration*this.tweenTick.val;this.timeline.progress(e/this.duration,t)},getTimeText:function(){return h[this.timeFormat](this.elapsed(),this.duration)},onUpdate:function(){this.setState({timeText:this.getTimeText(),timeScale:this.tweenTick.val})},onComplete:function(){this.props.model.executePlayerEvent("timercomplete")},onShow:function(){this.props.onTimerShow(this),this.setState({timerVisible:!0}),document.body.classList.add("timer-shown"),this.htmlReady(function(){c.trigger(a.timer.SHOWN)})},onHide:function(){this.setState({timerVisible:!1}),document.body.classList.remove("timer-shown"),this.htmlReady(function(){c.trigger(a.timer.HIDDEN)})},onPause:function(){this.timeline.pause(),this.started=!1,this.resumeOnSlideReady=!1},onStart:function(){this.started||(this.timeline.play(),this.started=!0),this.resumeOnSlideReady=!0},onReset:function(){this.started=!1,this.timeline.progress(0)}})}),define("views/player/SlideControlButton",["require","react","react-dom","views/player/mixins/appStateable","views/mixins/baseView","polyfills/detection","views/helpers/dom","helpers/events","helpers/resolver","helpers/windowManager"],function(e){"use strict";var t,i=e("react"),n=e("react-dom"),r=e("views/player/mixins/appStateable"),s=e("views/mixins/baseView"),o=e("polyfills/detection"),a=e("views/helpers/dom"),l=e("helpers/events"),u=e("helpers/resolver"),c=e("helpers/windowManager"),h=i.createClass({displayName:"SlideControlButton",mixins:[s,r],subscriptions:(t={},t[l.navcontrols.CHANGED]="onChangeAction",t),getInitialState:function(){return{visible:!0}},stateableValues:function(){var e={};return e[this.props.kind]=null,e},beforeStateableValuesUpdated:function(){this.setState({visible:!0,disabled:!1})},componentWillMount:function(){this.updateKey()},componentWillReceiveProps:function(e){this.props.kind!==e.kind&&this.updateKey(e)},updateKey:function(e){return e=e||this.props,this.key=["stateable",e.kind].join("_"),this},visible:function(){return this.state[this.key]&&this.state.visible},disabled:function(){return this.state.disabled},focus:function(){return n.findDOMNode(this.refs.btn).focus(),this.setState({focused:!0}),this},blur:function(){return n.findDOMNode(this.refs.btn).blur(),this.setState({focused:!1}),this},getFocusTarget:function(){return this},performChange:function(e){return e.name===this.props.kind&&(e.hasOwnProperty("visible")&&this.onSetVisibleAction(e),e.hasOwnProperty("enable")&&this.onSetEnabledAction(e)),this},getButtonEventsDesktop:function(){return{onClick:this.onButtonDown}},getButtonEventsMobile:function(){return{onTouchStart:function(){this.onTouchStart.apply(this,arguments),this.onButtonDown.apply(this,arguments)}.bind(this)}},getButtonEventsPreview:function(){return{onClick:this.onButtonDown,onMouseDown:this.onTouchStart}},onButtonDown:function(){this.state.disabled||this.props.onButtonDown.apply(this,arguments)},onChangeAction:function(e,t){var i,n,r,s=c.getCurrentWindow();this.props.windowId===s.slideContainer.props.windowId&&(i=s.getCurrentSlide(),(n=null!=t?u.resolvePath(t.context.absoluteId):i).isSlide&&n===this.props.slide?this.performChange(e):n.isScene&&this.props.slide===i?this.performChange(e):(r=u.resolveAbsolutePathWithFilter(t.context.absoluteId,function(e){return!0===e.isSlide}),this.props.slide===r&&this.performChange(e)))},onSetVisibleAction:function(e){this.setState({visible:e.visible})},onSetEnabledAction:function(e){var t=!e.enable,i=this.setState.bind(this,{disabled:t}),n=i;null!=this.frame&&window.cancelAnimationFrame(this.frame),t&&document.activeElement===this.refs.btn&&(n=window.requestAnimationFrame.bind(window,function(){i()})),this.frame=n()},onTouchStart:function(){a.tappedClass(this.refs.btn)}}),p=h.prototype;return o.isMobilePreview?p.getButtonEvents=p.getButtonEventsPreview:o.isMobileOrTouchableTheme?p.getButtonEvents=p.getButtonEventsMobile:p.getButtonEvents=p.getButtonEventsDesktop,h}),define("views/player/ResourcesHeader",["require","react","views/mixins/baseView","helpers/constants"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");e("helpers/constants");return t.createClass({displayName:"ResourcesHeader",mixins:[i]})}),define("views/player/ResourcesList",["require","lodash","react","views/mixins/baseView","views/mixins/accTree","helpers/windowOpen"],function(e){"use strict";e("lodash");var t=e("react"),i=e("views/mixins/baseView"),n=e("views/mixins/accTree"),r=e("helpers/windowOpen");return t.createClass({displayName:"ResourcesList",mixins:[i,n],getFocusTarget:function(){return this},onClickResource:function(e,t){t.preventDefault(),r.open({url:e.get("url")})}})}),define("views/presentation/SequenceCtrlDrop",["require","lodash","views/mixins/baseView","react","views/helpers/dragAndDropHelper"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView"),i=e("react"),n=e("views/helpers/dragAndDropHelper").DroppableHelper;return i.createClass({mixins:[t],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(e){this.props.parent.isEnabled()&&this.setState({reviewIdx:e.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new n(this.el,{data:this})},setDropChild:function(e){this.dropChild=e,e.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(e){if(e.el){var t=this.el.getBoundingClientRect();e.el.getBoundingClientRect().top>t.top+t.height/3?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}})}),define("views/presentation/SequenceCtrlDragItem",["require","lodash","views/mixins/baseView","views/presentation/mixins/dragdropSlideObject","react"],function(e){"use strict";e("lodash");var t=e("views/mixins/baseView"),i=e("views/presentation/mixins/dragdropSlideObject");return e("react").createClass({mixins:[t,i],displayName:"SequenceCtrlDragItem",getInitialState:function(){return this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}})}),define("views/player/TabPanel",["require","lodash","react","helpers/constants","helpers/events","views/helpers/dom","views/mixins/baseView","views/player/mixins/appStateable","polyfills/detection","helpers/scaler"],function(e){"use strict";e("lodash");var t,i=e("react"),n=(e("helpers/constants"),e("helpers/events")),r=(e("views/helpers/dom"),e("views/mixins/baseView")),s=e("views/player/mixins/appStateable"),o=e("polyfills/detection"),a=e("helpers/scaler"),l=function(e,t){return e.idx-t.idx};return i.createClass({displayName:"TabPanel",mixins:[r,s],subscriptions:(t={},t[n.menuLinksListItem.ITEM_SELECTED]="checkAutoScrollMenuTab",t),stateableValues:function(){var e={};return e[this.props.config.name]=function(e){this.props.config.isLive=e,this.setState({isVisible:e})}.bind(this),e},addFocusObjects:function(e){this.focusObjects||(this.focusObjects=[]),this.focusObjects=this.focusObjects.concat(e),this.focusObjects.sort(l)},componentDidMount:function(){this.el.addEventListener("touchmove",this.onTouchMove),this.isTranscript="transcript"===this.props.config.name},componentDidUpdate:function(){this.checkAutoScrollMenuTab()},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove)},setScrollListener:function(){this.find(".panel-content").addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.find(".panel-content").style.overflowY="auto"},checkAutoScrollMenuTab:function(){var e;null!=this.props.activeTab&&"outline"===this.props.config.name&&this.props.config.name===this.props.activeTab.name&&(e=this.find(".menu-item-selected"),this.autoScrollMenu(e))},autoScrollMenu:function(e){if(null!=e){var t,i,n,r,s,l=this.el.getBoundingClientRect(),u=e.getBoundingClientRect(),c=this.find(".panel-footer"),h=null!=c?c.getBoundingClientRect().height:0,p=u.bottom-l.top+h,d=u.top-l.top;(p>l.height||d<0)&&(t=o.isMobile&&"landscape"===o.orientation?1:.25,s=u.height*t,r=l.top>u.top?d-s:p-l.height+s,n=o.isMobile?document.querySelector("#panel-outline"):this.find(".panel-content-menu"),i=(i=a.getScale())<1?1/i:1,n.scrollTop+=r*i)}}})}),define("views/player/SidebarTab",["require","lodash","react","react-dom","views/mixins/baseView","views/player/mixins/appStateable","helpers/events","helpers/pubSub"],function(e){"use strict";e("lodash");var t,i=e("react"),n=(e("react-dom"),e("views/mixins/baseView")),r=e("views/player/mixins/appStateable"),s=e("helpers/events"),o=e("helpers/pubSub"),a={outline:"O",glossary:"G",transcript:"N"};return i.createClass({displayName:"SidebarTab",mixins:[n,r],subscriptions:(t={},t[s.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),stateableValues:function(){var e={};return e[this.props.config.name]=function(e){this.props.config.isLive=e,this.setState({isVisible:e})}.bind(this),e},stringTitles:function(){return{title:this.props.config.properties.title||this.props.config.name}},getInitialState:function(){return{isLive:!1}},activate:function(){var e=this.props.config.properties.data;e?o.trigger(s.customlink.EVENT,e):(this.props.setActiveTab(this.props.config),this.props.tabChanged&&this.props.tabChanged(this.props.config))},actionKeyCallback:function(){return this.activate(),!0},onFrameControlKey:function(e){var t=this.props.config.name;null!=a[t]&&e[a[t]]&&this.activate()},onJawsKey:function(){return this.props.activeTab===this.props.config&&this.props.getActivePanel(this.props.config.name)}})}),define("views/player/Presenter",["require","react","helpers/pubSub","lodash","helpers/events","helpers/windowManager","helpers/actionator","views/mixins/baseView"],function(e){"use strict";var t,i=e("react"),n=e("helpers/pubSub"),r=e("lodash"),s=e("helpers/events"),o=e("helpers/windowManager"),a=e("helpers/actionator"),l=e("views/mixins/baseView");return i.createClass({displayName:"Presenter",subscriptions:(t={},t[s.popup.HIDE]="onPopupHide",t[s.popup.EMAIL]="onPopupEmail",t),mixins:[l],getTabbableItems:function(){if(null!=this.refs.name)return r.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),[r.assign(this.refs.name,{idx:0,indexGroupName:"Presenter"}),r.assign(this.refs.title,{idx:1,indexGroupName:"Presenter"}),r.assign(this.refs.link,{idx:2,indexGroupName:"Presenter"})]},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.link&&(this.hasOnlyEmail()?this.onEmailLinkClicked(this.props.presenter.email):this.moreInfo()),!0},moreInfo:function(e){var t=o.getCurrentWindowSlide().currentTimeline();null!=e&&e.preventDefault(),t.isPlaying()?(t.pause(),this.wasPlaying=!0):this.wasPlaying=!1,n.trigger(s.popup.SHOW,this.props.presenter.id)},onPopupHide:function(){this.wasPlaying&&o.getCurrentWindowSlide().currentTimeline().play()},onPopupEmail:function(e){a.mailTo({kind:"emailto",address:e})},onEmailLinkClicked:function(e,t){null!=t&&t.preventDefault(),this.onPopupEmail(e)},hasOnlyBioText:function(){return!this.props.presenter.email&&this.props.presenter.biotext},hasOnlyEmail:function(){return this.props.presenter.email&&!this.props.presenter.biotext},hasBothEmailAndBioText:function(){return this.props.presenter.email&&this.props.presenter.biotext}})}),define("views/mixins/transitionableLayer",["require","lodash","views/helpers/TweenHelper","helpers/AnimationTimeline","helpers/vow","polyfills/vendorOverrides"],function(e){"use strict";e("lodash");var t=e("views/helpers/TweenHelper"),i=e("helpers/AnimationTimeline"),n=e("helpers/vow");e("polyfills/vendorOverrides");return{componentWillMount:function(){this.elDfd=new n.Deferred},componentDidMount:function(){this.elDfd.resolve()},componentWillUnmount:function(){this.cancelTransition()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(e,n){this.getElPromise().done(function(){this.aniTimeline=new i({tweens:[new t(this,!1,e.getConfig())],onComplete:function(){n(),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}}}),define("views/presentation/SlideLayer",["require","lodash","react","views/presentation/SlideObject","views/mixins/baseView","views/presentation/mixins/displayable","views/presentation/mixins/slideObjectContainer","views/mixins/transitionableLayer","helpers/events","helpers/pubSub","helpers/utils","helpers/keyManager"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=(e("views/presentation/SlideObject"),e("views/mixins/baseView")),s=e("views/presentation/mixins/displayable"),o=e("views/presentation/mixins/slideObjectContainer"),a=e("views/mixins/transitionableLayer"),l=e("helpers/events"),u=e("helpers/pubSub"),c=e("helpers/utils"),h=e("helpers/keyManager"),p=function(e){e.target.scrollTop=0,e.target.scrollLeft=0};return n.createClass({displayName:"SlideLayer",initialVisibility:!1,mixins:[r,a,s,o],subscriptions:(t={},t[l.slide.WILL_CHANGE]="onSlideWillChange",t),shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition"}},componentDidMount:function(){this.toggleVisibility(!!this.isBaseLayer()),this.listenToDepth().setInitModelProps(),this.el.addEventListener("scroll",p)},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1,this.el.removeEventListener("scroll",p)},shouldUpdate:function(e,t){return t.isVisible!==this.state.isVisible||t.audio!==this.state.audio||t.depth!==this.state.depth},getInitialState:function(){return{depth:0,audio:!0,renderChildren:this.isBaseLayer()}},onSlideWillChange:function(e,t,n){var r=c.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),s=c.stripPlayer(e.absoluteId),o=c.stripPlayer(t.absoluteId);n?i(this.refs).filter(function(e,t){return i.startsWith(t,"audio")}).invoke("pause").commit():r===s&&r!==o&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},onShow:function(){this.setState({isVisible:!0,renderChildren:!0},function(){this.props.model.get("timeline").play(),u.trigger(l.layer.PLAYING),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.adjustTabbables(!0).execSlideStart()}.bind(this))},onShowCustom:function(e,t,i,n){this.props.model;var r=function(){n(),this.props.model.get("timeline").play(),u.trigger(l.layer.PLAYING),this.adjustTabbables(!0).execSlideStart()}.bind(this);this.setState({isVisible:!0,renderChildren:!0},function(){this.transitionIn(i,r),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin")}.bind(this))},onCancelTransition:function(){this.cancelTransition()},onHide:function(){this.props.model.get("timeline").pause(!0),this.hide(),this.updateTrueVisibility(!1),this.adjustTabbables(),this.props.model.executePlayerEvent("ontransitionout")},adjustTabbables:function(e){var t=this.props.model;return h.setCurrentModal(e&&t.get("modal")?t:void 0),this},execSlideStart:function(){this.props.model.executePlayerEvent("onslidestart")},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(e,t){this.setState({depth:t})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this}})}),define("views/presentation/SlideBackground",["require","react","views/mixins/baseView","helpers/svg/svgUtils","views/presentation/LinearBackgroundGradient"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");e("helpers/svg/svgUtils"),e("views/presentation/LinearBackgroundGradient");return t.createClass({displayName:"SlideBackground",mixins:[i],patternFillId:function(){return"pattern-fill-"+this.props.layerModel.id}})}),define("views/presentation/VectorSlideBackground",["require","react","views/mixins/baseView"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");return t.createClass({displayName:"VectorSlideBackground",mixins:[i]})}),define("mixins/captionable",["require","lodash","helpers/captionsManager","helpers/windowManager","helpers/utils","helpers/events","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/captionsManager"),n=e("helpers/windowManager"),r=e("helpers/utils"),s=e("helpers/events"),o=e("helpers/pubSub");return{componentWillMount:function(){this.captions=i.getCaptions(this.getAssetId()),this.hasCaptions=null!=this.captions,this.hasCaptions&&(this.currentCaptions=[])},componentDidMount:function(){this.slideId=n.getCurrentWindowSlide().id,i.mount(this,this.slideId)},componentWillUnmount:function(){this.clearCaptions(),i.unmount(this,this.slideId)},adjustCaptions:function(){var e=this;if(this.hasCaptions&&this.props.objectVisible&&this.props.slideVisible&&this.slideId===n.getCurrentWindowSlide().id){var i=this.getCurrentTime();this.currentCaptions.length>0&&(this.currentCaptions=this.currentCaptions.reduce(function(e,t){return r.isWithinRange(t.startTime,t.endTime,i)?e.push(t):o.trigger(s.captions.REMOVE,t.getCueAsHTML()),e},[])),t.difference(this.captions,this.currentCaptions).forEach(function(t){r.isWithinRange(t.startTime,t.endTime,i)&&(e.currentCaptions.push(t),o.trigger(s.captions.ADD,t.getCueAsHTML()))})}return this},clearCaptions:function(){return this.hasCaptions&&this.currentCaptions.length>0&&(this.currentCaptions.forEach(function(e){o.trigger(s.captions.REMOVE,e.getCueAsHTML())}),this.currentCaptions=[]),this}}}),define("views/presentation/AudioPlayer",["require","lodash","react","helpers/appState","helpers/automation","mixins/captionable","views/mixins/propertizable","helpers/constants","helpers/captionsManager","helpers/pubSub","views/mixins/baseView","helpers/audio/audioManager","helpers/vow","helpers/events","helpers/actions","helpers/utils"],function(e){"use strict";var t,i,n=e("lodash"),r=e("react"),s=e("helpers/appState"),o=e("helpers/automation"),a=e("mixins/captionable"),l=e("views/mixins/propertizable"),u=e("helpers/constants"),c=e("helpers/captionsManager"),h=(e("helpers/pubSub"),e("views/mixins/baseView")),p=e("helpers/audio/audioManager"),d=e("helpers/vow"),f=e("helpers/events"),m=e("helpers/actions"),g=e("helpers/utils");return r.createClass({displayName:"AudioPlayer",mixins:[h,l,a],shortEvents:{model:(i={},i[m.MEDIA_SEEK]="onActionSeek",i[m.MEDIA_PLAY]="onActionPlay",i[m.MEDIA_PAUSE]="onActionPause",i[m.MEDIA_TOGGLE]="onActionToggle",i[m.SET_VOLUME]="onActionSetVolume",i),timeline:(t={},t[f.timeline.PLAYING]="onTimelinePlay",t[f.timeline.PAUSED]="onTimelinePause",t[f.timeline.AFTER_SEEK_UPDATE]="onTimelineSeek",t[f.timeline.RESET]="onTimelineReset",t)},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var e=this.props.model.getUrl(),t=p.loadUrl(e);this.slideStartedDfd=new d.Deferred,this.setState({audioClip:t}),this.currentTime=0,this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve),o.clockIsOverridden&&this.listenTo(this.props.timeline,f.timeline.TICK,this.onTimelineTick)},componentDidMount:function(){this.presentationVol=u.DEFAULT_VOLUME,this.setVolume(s.currentVolume()),this.currActionStartTime=0,this.listenTo(s,f.volume.CHANGE_CURRENT,this.onVolumeChanged),this.listenTo(this.state.audioClip,f.audioClip.ENDED,this.onEnded),this.listenTo(this.state.audioClip,f.audioClip.TIME_UPDATE,this.onTimeUpdate)},componentWillUpdate:function(e,t){var i=this.state.audioClip,r=[];o.clockIsOverridden||(null!=t.seekFn&&t.seekFn!==this.state.seekFn&&r.push(t.seekFn),t.isPlaying===this.state.isPlaying&&t.soundComplete===this.state.soundComplete||r.push(i[t.isPlaying?"play":"pause"].bind(i)),r.length>0&&this.slideStartedDfd.done(n.partial(n.invoke,r,Function.prototype.call)))},componentWillUnmount:function(){this.pause(),this.slideStartedDfd.reject(),this.state.audioClip.pause().destroy()},onEnded:function(){this.clearCaptions().setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),this.props.model.executePlayerEvent("onmediacomplete")},ended:function(){return!0===this.state.soundComplete},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(e){this.currentTime=e,this.adjustCaptions()},onVolumeChanged:function(e,t){this.determineAudioVolume(t)},determineAudioVolume:function(e){this.setVolume(e*this.presentationVol)},setTimelineControl:function(e){this.setPlayerProp({isTimelineControlled:!!e.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(e,t){this.setActionStartTime(t.time),!0===this.state.soundComplete&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!0),"expandinglabel"===t.context.get("kind")&&c.includeMedia(this.getAssetId()),this.play()},onActionPause:function(e,t){this.setActionStartTime(t.time),this.setTimelineControl(t),this.setPlayerProp("resumeOnTimelinePlay",!1),"expandinglabel"===t.context.get("kind")&&c.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(e,t){this.state.isPlaying?this.onActionPause(e,t):this.onActionPlay(e,t)},onActionSeek:function(e,t){this.setActionStartTime(t.time),this.seek(e.position),this.currentTime=g.toSeconds(t.currentTime),this.clearCaptions()},onActionSetVolume:function(e,t){var i=e.volume/100;this.setActionStartTime(t.time),this.presentationVol=i,this.determineAudioVolume(s.currentVolume())},play:function(){this.timelinePaused=!1,o.clockIsOverridden&&o.onMediaStarted(this.props.model.id),this.setPlayerProp({isPlaying:!0})},pause:function(){this.setPlayerProp({isPlaying:!1}),this.timelinePaused||this.clearCaptions()},seek:function(e){var t=this.state.audioClip,i={};i.seekFn=n.partial(t.seek.bind(t),g.toSeconds(e)),this.state.soundComplete&&(i.soundComplete=e>=this.getDuration()),this.setState(i)},setVolume:function(e){this.state.audioClip.setVolume(e)},getDuration:function(){return g.getPath(this,"state.audioClip.getDuration",g.toSeconds(this.props.model.getDuration()))},setActionStartTime:function(e){null==e&&this.state.soundComplete&&(e=0),null!=e&&(this.currActionStartTime=e,this.currActionPlayheadRemaining=this.getDuration()-this.currentTime)},calculatePlaybackDifference:function(e){return e-(this.currActionStartTime||0)},onTimelinePlay:function(){this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(e){this.timelinePaused=e,this.pause()},onTimelineSeek:function(e){this.getTimelineControl()&&(e=this.calculatePlaybackDifference(e),this.seek(e))},onTimelineReset:function(){this.clearCaptions().setState({soundComplete:!1})},onTimelineTick:function(e){this.state.isPlaying&&(g.toSeconds(e*this.props.timeline.duration())>=this.currActionPlayheadRemaining+this.currActionStartTime&&this.props.model.executePlayerEvent("onmediacomplete"))},template:function(){return null}})}),define("views/player/SlideLoaderIndicator",["require","react","views/mixins/baseView","views/helpers/dom"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("views/helpers/dom");return t.createClass({displayName:"SlideLoaderIndicator",mixins:[i],getInitialState:function(){return this.getCursorPos()},componentWillMount:function(){document.body.addEventListener("mousemove",this.onMouseMove)},componentWillUnmount:function(){document.body.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(){this.setState(this.getCursorPos())},getCursorPos:function(){return{cursorX:n.mouseX,cursorY:n.mouseY}}})}),define("views/player/RelativeNavControls",["require","lodash","react","react-dom","helpers/events","helpers/constants","helpers/keyManager","views/mixins/baseView","views/player/mixins/appStateable","helpers/utils","polyfills/detection","helpers/windowManager","helpers/resolver","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=(e("react-dom"),e("helpers/events")),s=e("helpers/constants"),o=e("helpers/keyManager"),a=e("views/mixins/baseView"),l=e("views/player/mixins/appStateable"),u=e("helpers/utils"),c=e("polyfills/detection"),h=e("helpers/windowManager"),p=(e("helpers/resolver"),e("helpers/pubSub"));return n.createClass({displayName:"RelativeNavControls",mixins:[a,l],subscriptions:(t={},t[r.navcontrols.CHANGED]="onChangeAction",t[r.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),getInitialState:function(){return{showPrev:!0,showNext:!0}},getTabbableItems:function(){var e;return i.forOwn(this.refs,function(e,t){e.dsFocusController=this}.bind(this)),e=[i.assign(this.refs.prev,{idx:s.tabIndices.PREV,indexGroupName:"SlideControlButton"}),i.assign(this.refs.next,{idx:s.tabIndices.NEXT,indexGroupName:"SlideControlButton"}),i.assign(this.refs.submit,{idx:s.tabIndices.SUBMIT,indexGroupName:"SlideControlButton"})],this.props.lightboxed||e.unshift(i.assign(this.refs.skipNav,{idx:s.tabIndices.SKIP,indexGroupName:"SlideControlButton"})),e},stringTitles:{prev:"prev",acc_previous:"acc_previous",next:"next",acc_next:"acc_next",submit:"submit",acc_skipnavigation:"acc_skipnavigation",finish:"finish"},stateableValues:{previous:void 0,next:void 0,submit:void 0,submitall:void 0},componentDidMount:function(){window.addEventListener("resize",this.calcHideShowPrevNext)},componentWillUnmount:function(){window.removeEventListener("resize",this.calcHideShowPrevNext)},stateableValuesUpdated:function(e){this.layout=e,this.calcHideShowPrevNext()},triggerNavEvent:function(e,t){h.getCurrentWindow().getCurrentSlide().get("slideLock")||p.trigger(r.presentation.ON_OBJECT_EVENT,e+"_pressed")},triggerSubmit:function(e){p.trigger(r.presentation.ON_OBJECT_EVENT,"submit_pressed")},triggerFinish:function(){p.trigger(r.presentation.ON_OBJECT_EVENT,"finish_pressed")},stealFocus:function(e){e.focus()},releaseFocus:function(e){e.blur()},actionKeyCallback:function(e){return e===this.refs.skipNav?this.skipNav():e.onButtonDown(),!0},onTimerShow:function(e){u.showTimer(this,e)},skipNav:function(){o.clearCurrentItem(),o.currentIndex=-1},onOrientationChange:function(){console.log("orientation"),this.calcHideShowPrevNext()},onChangeAction:function(e,t){this.calcHideShowPrevNext()},calcHideShowPrevNext:function(){if(null!=this.layout){var e=i.compact([this.state.stateable_submit,this.state.stateable_previous,this.state.stateable_next,this.layout.seekbar]).length;this.setState({showNext:!0,showPrev:!0}),c.is360&&e>=3&&c.innerWidth<=s.MOBILE_360_PHONE_LARGE&&"portrait"===c.orientation?this.state.stateable_submit&&this.setState({showNext:!1,showPrev:!1}):c.is360&&e>3&&this.state.stateable_submit&&c.innerWidth<s.MOBILE_WIDTH_MIN?this.setState({showNext:!1,showPrev:!1}):c.is360&&e>3&&this.state.stateable_submit&&c.innerHeight<s.MOBILE_360_PHONE_MEDIUM?this.setState({showNext:!1,showPrev:!1}):4===e&&c.innerHeight<s.MOBILE_MIN_LANDSCAPE_FULL&&"landscape"===c.orientation?this.setState({showNext:!1,showPrev:!1}):this.state.stateable_previous&&this.state.stateable_next&&this.setState({showNext:!0,showPrev:!0,shrinkButtons:!!this.getPath("props.timers")&&c.innerHeight<s.MOBILE_MIN_LANDSCAPE})}},onFrameControlKey:function(e){(e.LEFT||e.UP||e.PAGE_UP)&&this.state.showPrev&&!this.refs.prev.state.disabled?this.triggerNavEvent("prev"):(e.RIGHT||e.DOWN||e.PAGE_DOWN)&&this.state.showNext&&!this.refs.next.state.disabled&&this.triggerNavEvent("next")}})}),define("views/player/Menu",["require","lodash","react","views/mixins/baseView","helpers/utils","tween-lite","helpers/events","views/helpers/dom","helpers/pubSub","helpers/windowManager","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("tween-lite"),a=e("helpers/events"),l=e("views/helpers/dom"),u=e("helpers/pubSub"),c=e("helpers/windowManager"),h=e("helpers/resolver"),p=function(e){return e.isLink},d=n.createClass({displayName:"Menu",mixins:[r],subscriptions:(t={},t[a.window.MAIN_CHANGED]="onSlideChanged",t[a.actionlink.VIEWED]="onActionLink",t[a.actionlink.EVENT]="onActionLink",t[a.slideWindow.CLEAR_HISTORY]="onResetVisitedSlides",t),stringTitles:{acc_search:"acc_search"},getInitialState:function(){return{visitedSlides:[],isSearchActive:!1,links:[]}},onResetVisitedSlides:function(){this.setState({visitedSlides:[]})},componentWillMount:function(){this.preso=h.getPresentationContext(),u.once(a.resume.SET_DATA,this.updateVisitedSlides),this.setState({links:this.getInitialLinks()})},setScrollListener:function(){this.el.addEventListener("wheel",this.clearScrollLock)},clearScrollLock:function(e){this.el.style.overflowY="auto"},updateVisitedSlides:function(e,t){null!=e&&e.forEach(this.addSlideToVisited),null!=t&&t.forEach(this.addActionLinkToVisited)},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.updateLinks(t)},onClearSearch:function(){this.setLinks(this.getInitialLinks(),!1)},updateLinks:function(e){this.setLinks(e,!0)},checkFlow:function(e){var t,i=c.getCurrentWindow().getCurrentSlide(),n=l.closest(e.target,l.isLink),r=l.closest(e.target,l.isIconNode),s=n&&n.getAttribute("href"),o=n&&n.hasAttribute("data-actionlink");s&&(e.preventDefault(),t=s.slice(1),i.get("slideLock")||(!this.isRestrictedFlow()||this.hasSlideBeenVisited(t,o)||null==this.preso.eventByName("nav_restricted_mode")?this.shouldKillLink(s,o)||r||u.trigger(o?a.actionlink.EVENT:a.request.NEXT_SLIDE,t):u.trigger(a.presentation.ON_OBJECT_EVENT,"nav_restricted_mode")))},setLinks:function(e,t){var i=this.find(".outline");o.to(i,.25,{opacity:0,onComplete:function(){this.setState({isSearchActive:t,links:e}),o.to(i,.25,{opacity:1})}.bind(this)})},getInitialLinks:function(){return this.props.model.outline().links()},isFlowType:function(e){return this.props.options.get("flow")===e},shouldKillLink:function(e,t,i){var n=e.replace(/#|\//g,"");return(!t||-1!==n.indexOf(".")||!this.hasSceneBeenVisited(n))&&(!(t||!this.isLockedFlow())||!this.isFreeFlow()&&!this.hasSlideBeenVisited(n,i))},hasSceneBeenVisited:function(e){return!!i.findLast(this.state.visitedSlides,function(t){return-1!==t.indexOf(e)})},hasSlideBeenVisited:function(e,t){return i.contains(this.state.visitedSlides,t?e:s.prefixWithPlayer(e))},addSlideToVisited:function(e){return this.setState(function(t){var n=e.absoluteId,r=e.getScene().absoluteId;return{visitedSlides:i(t.visitedSlides.slice()||[]).without(r,n).push(r,n).value()}}),this},addActionLinkToVisited:function(e){return this.setState(function(t){for(var n=[],r=t.links.findDeep(e);null!=r;)n.unshift(r.get("slideid")),r=r.getClosestAncestor(p);var s=i.without.apply(i,[t.visitedSlides.slice()||[]].concat(n));return s.push.apply(s,n),{visitedSlides:s}}),this},onSlideChanged:function(e){this.addSlideToVisited(e)},onActionLink:function(e){this.addActionLinkToVisited(e)},hasAnyLink:function(e){return!!this.state.links.findDeep(e)}}),f=d.prototype;f.isFreeFlow=i.partial(f.isFlowType,"free"),f.isRestrictedFlow=i.partial(f.isFlowType,"restricted"),f.isLockedFlow=i.partial(f.isFlowType,"locked");var m=f.setState;return f.setState=function(e){m.apply(this,arguments)},d}),define("views/player/Glossary",["require","react","views/mixins/baseView","lodash","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView"),n=e("lodash"),r=e("helpers/slideObjectUtils"),s=0;return t.createClass({displayName:"Glossary",mixins:[i],stringTitles:{terms:"terms",definition:"definition",acc_definition:"acc_definition"},getTabbableItems:function(){this.props.addFocusObjects([n.assign(this.refs.glossaryTerms,{idx:++s}),n.assign(this.refs.glossaryDefinition,{idx:++s})])},componentWillMount:function(){r.activeMobileMenuItem(this.props.collection,"no-glossary")},getInitialState:function(){return{curTitle:"",curDefinition:"",curIdx:0}},revealTerm:function(e){var t=this.props.collection.at(e);return this.setState({curTitle:t.get("title"),curIdx:e,curDefinition:t.get("content")}),this}})}),define("views/player/Notes",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/slideObjectUtils","polyfills/detection","helpers/svg/svgUtils","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("helpers/slideObjectUtils"),a=e("polyfills/detection"),l=e("helpers/svg/svgUtils"),u=e("helpers/events"),c=e("helpers/pubSub"),h=/color:#ffffff/gi,p=function(e,t){var i;e.style[t]&&(i=parseFloat(e.style[t]),e.style[t]=s.pxify(Math.ceil(i*(16/12))))};return n.createClass({displayName:"Notes",mixins:[r],subscriptions:(t={},t[u.window.MAIN_CHANGED]="onSlideChanged",t),getInitialState:function(){return{currentSlideNote:{},currentSlideTitle:""}},getTabbableItems:function(){var e=0;this.props.addFocusObjects([i.assign(this.refs.notesHeader,{idx:++e}),i.assign(this.refs.notesList,{idx:++e})])},onSlideChanged:function(e){var t,i,n=this.props.collection.findWhere({slideId:e.fullId()});null!=n&&(t=n.get("pathIndex"),i=n.get("pathLib")),o.activeMobileMenuItem(i,"no-transcript"),this.refs.panelContent.scrollTop=0,this.setState({currentSlideNote:n||{},currentSlideTitle:e.get("title"),commandsetId:t,pathLib:i})},componentDidMount:function(){a.isMobile&&c.on(u.mobile.MENU_OPEN,this.mobileLandscapeToggle)},mobileLandscapeToggle:function(){"landscape"===a.orientation&&this.prepareToSizeSvg()},prepareToSizeSvg:function(){this.svgNotes=this.refs.notesList.refs.svgNotes,null!=this.svgNotes&&this.htmlReady(this.setSvgNoteSizing)},componentDidUpdate:function(){this.prepareToSizeSvg()},setSvgNoteSizing:function(){if("transcript"===s.getPath(this,"props.active.name")){var e,t=this.svgNotes.querySelector("g"),i=t.getBBox(),n=1;0!==i.width&&(e=this.refs.panelContent.getBoundingClientRect(),a.isMobile&&(n=e.width/i.width-.1,(a.isTablet||"landscape"===a.orientation)&&(n-=.4),n>3&&(n=3),t.setAttribute("transform",[l.transformTranslate(4,0),l.transformScale(n)].join(" "))),this.svgNotes.setAttribute("width","100%"),this.svgNotes.setAttribute("height",(i.height+i.y)*n))}},getNotesHtml:function(){var e,t,n=this.state.currentSlideNote,r=null!=n.get&&n.get("usePngNotesHtml5"),s=document.createElement("div");if(r)(t=document.createElement("img")).src=n.get("notesPng"),s.appendChild(t);else{if(e=null!=n.get?n.get("content"):"",o.activeMobileMenuItem(e,"no-transcript"),0===e.length)return;e=e.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),s.innerHTML=a.isMobile?e.replace(h,"color:#515557"):e,this.scaleForMobile(s),i(s.childNodes).reject("firstChild").each(function(e){e.innerHTML="&nbsp;"}).value()}return s.innerHTML},scaleForMobile:function(e){a.isMobile&&i.each(e.querySelectorAll("font, p"),function(e){"FONT"===e.tagName?p(e,"fontSize"):"P"===e.tagName&&p(e,"lineHeight")})}})}),define("views/player/Resources",["require","react","lodash","views/mixins/baseView","helpers/constants","helpers/slideObjectUtils"],function(e){"use strict";var t=e("react"),i=e("lodash"),n=e("views/mixins/baseView"),r=e("helpers/constants"),s=e("helpers/slideObjectUtils"),o=r.tabIndices.TOP_TAB_RIGHT;return t.createClass({displayName:"Resources",mixins:[n],stringTitles:{acc_resources:"acc_resources"},getTabbableItems:function(){this.props.addFocusObjects([i.assign(this.refs.resourcesHeader,{idx:++o}),i.assign(this.refs.resourcesList,{idx:++o})])},componentWillMount:function(){s.activeMobileMenuItem(this.props.model.resources(),"no-resources")}})}),define("views/player/MicroScrollBar",["require","lodash","react","views/mixins/baseView","helpers/utils","views/helpers/dom","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("views/helpers/dom"),a=e("helpers/events"),l=e("helpers/pubSub");return document.addEventListener("wheel",function(){document.body.classList.add("document-scrolling"),clearTimeout(t),t=setTimeout(function(){document.body.classList.remove("document-scrolling")},200)}),n.createClass({displayName:"MicroScrollBar",mixins:[r],getInitialState:function(){return{highlight:!1}},initScroll:function(){this.targetEl.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.hasInited=!0},componentDidMount:function(){this.htmlReady(function(){var e="."+this.props.targetClass;this.targetEl=this.el.previousSibling.querySelector(e),null!=this.targetEl?this.initScroll():o.hasClass(this.el.previousSibling,this.props.targetClass)&&(this.targetEl=this.el.previousSibling,this.initScroll())}.bind(this)),this.calculateUpdateEvents(),l.on(this.updateEvents.join(" "),this.delayedUpdate)},calculateUpdateEvents:function(){this.updateEvents=[],o.hasClass(this.el.parentNode.parentNode,"topmenu-item")?this.updateEvents.push(a.topTabsItem.ACTIVATE):this.updateEvents.push(a.sidebar.ACTIVE_TAB_SET,a.sidebar.SHOW_SEARCH,a.sidebar.HIDE_SEARCH,a.topbar.OPENED_SIDEBAR),"outline"===this.props.name&&this.updateEvents.push(a.menuLinksListItem.TOGGLE)},delayedUpdate:function(){this.afterHtmlReady(i.ary(this.update,0))},onScroll:function(e){this.update(!0)},onResize:function(){this.update()},update:function(e){if(this.hasInited&&null!=this.refs.scrollBtn){this.visibleHeight=this.targetEl.clientHeight;var t=this.refs.scrollBtn,i=this.targetEl.scrollHeight,n=this.visibleHeight,r=n/i*n,o=this.targetEl.scrollTop/(i-n),a={isHidden:Math.abs(this.targetEl.scrollHeight-this.visibleHeight)<2,highlight:e};o=s.clamp(0,1,o),o*=s.invertPercent(r/n),t.style.height=s.pxify(r),t.style.top=s.pxify(n*o),e&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.setState(a)}},onScrollBtnDown:function(e){this.scrollByButton=!0,this.offY=e.pageY-this.getParentY()-parseFloat(this.refs.scrollBtn.style.top),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)},onEndScrollDrag:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn)},getParentY:function(){return this.targetEl.getBoundingClientRect().top},onDragBtn:function(e){this.visibleHeight=this.targetEl.clientHeight;var t,i,n=this.refs.scrollBtn,r=this.visibleHeight,o=parseFloat(n.style.height),a=r-o,l=this.targetEl.scrollHeight-r;i=e.pageY-this.getParentY()-this.offY,t=s.clamp(0,1,i/a),n.style.top=s.pxify(t*s.invertPercent(o/r)*r),this.targetEl.scrollTop=l*t},unHighlight:function(){this.setState({highlight:!1})}})}),define("views/player/TopTabsItem",["require","lodash","helpers/pubSub","react","views/mixins/baseView","views/mixins/mouseable","views/player/mixins/appStateable","views/events/eventHelper","helpers/events","helpers/constants"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/pubSub"),r=e("react"),s=e("views/mixins/baseView"),o=e("views/mixins/mouseable"),a=e("views/player/mixins/appStateable"),l=e("views/events/eventHelper"),u=e("helpers/events"),c=e("helpers/constants"),h={resources:"R"};return r.createClass({displayName:"TopTabsItem",mixins:[s,o,a],subscriptions:(t={},t[u.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t),stateableValues:{resources:void 0,glossary:void 0,outline:void 0,transcript:void 0},determineVisibilty:function(){return"transcript"===this.props.name?this.state.stateable_transcript:"resources"===this.props.name?this.state.stateable_resources:"glossary"===this.props.name?this.state.stateable_glossary:"outline"!==this.props.name||this.state.stateable_outline},componentDidMount:function(){this.registerEvent("clickoutside",this.onClickOutside)},componentDidUpdate:function(){var e=this.el.parentNode.querySelectorAll(".topmenu-item:not(.hidden) .topmenu-separator"),t="rtl"===window.getComputedStyle(this.el.parentNode).direction,n=i(e).forEach(function(e){e.style.display=""})[t?"first":"last"]();n&&(n.style.display="none")},getTitle:function(){return"qm"===c.player.OUTPUT_TYPE?this.state.i18nquestion_list:this.state.i18ntitle},stringTitles:function(){var e={title:this.props.config.properties.title||this.props.config.name};return"outline"===this.props.config.name&&"qm"===c.player.OUTPUT_TYPE&&(e.question_list="question_list"),e},getInitialState:function(){return{isLive:!1,title:this.props.config.properties.title}},onClickOutside:function(){this.isActive()&&this.deactivate()},onSelectMenuItem:function(){this.deactivate()},isActive:function(){return this.props.activeTab===this.props.config},activate:function(){return this.props.activateTab(this),this},deactivate:function(){return n.trigger(u.topTabsItem.HIDE),this.props.deactivateTab(this),this},toggle:function(e){return this.isActive()?this.deactivate():(this.activate(),e&&n.trigger(u.topTabsItem.ACTIVATE,{name:this.props.name})),this},onClick:function(e){l.isSpacebarClick(e)||this.onToggle()},onToggle:function(){var e=this.props.config.properties.data;e?n.trigger(u.customlink.EVENT,e):this.toggle(!0)},stealFocus:function(e){this.find("button").focus(),this.setState({tabFocused:!0})},releaseFocus:function(e){this.find("button").blur(),this.setState({tabFocused:!1})},actionKeyCallback:function(e){this.onToggle()},onFrameControlKey:function(e){var t=this.props.config.name;null!=h[t]&&e[h[t]]&&this.toggle()}})}),define("views/player/TopTabs",["require","lodash","react","helpers/constants","views/mixins/baseView","helpers/events","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("helpers/constants"),s=e("views/mixins/baseView"),o=e("helpers/events"),a=e("helpers/utils"),l={left:r.tabIndices.TOP_TAB_LEFT,right:r.tabIndices.TOP_TAB_RIGHT};return n.createClass({displayName:"TopTabs",mixins:[s],subscriptions:(t={},t[o.window.MAIN_CHANGED]="onSlideChanged",t),getInitialState:function(){return{activeTab:null,tabs:[]}},getTabbableItems:function(){var e,t,n=[],r=l[this.props.align],s=0;for(e=this.refs["topTabsItem"+s++];e;)n.push(i.assign(e,{idx:r++})),(t=e.refs.tabPanel)&&t.focusObjects&&t.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="TopTabsItem",n.push(e))}),e=this.refs["topTabsItem"+s++];return n},componentWillMount:function(){var e,t=(e=this.props.align,"getLink"+a.upperCaseFirst(e)),n=this.state.tabs;n.push.apply(n,i.cloneDeep(this.props.model[t]()))},alignDir:function(){return"left"===this.props.align?"start":"end"},activateTab:function(e){this.setState({activeTab:e.props.config})},onSlideChanged:function(){this.deactivateTab()},deactivateTab:function(e){this.setState({activeTab:null})}})}),define("views/player/ElapsedAndTotalTime",["require","lodash","react","views/mixins/baseView","helpers/utils","helpers/events","helpers/windowManager"],function(e){"use strict";var t,i=e("lodash"),n=e("react"),r=e("views/mixins/baseView"),s=e("helpers/utils"),o=e("helpers/events"),a=e("helpers/windowManager"),l=i.flow(s.toSeconds,s.formatSecondsAsTime),u=n.createClass({displayName:"ElapsedAndTotalTime",mixins:[r],subscriptions:(t={},t[o.slide.STARTED]="onSlideStarted",t[o.timeline.CURRENT_TIMELINE]="onTimelineChanged",t),getInitialState:function(){return{startTime:0,timelineProgress:0}},componentWillMount:function(){this.duration=l(this.props.presentation.get("lessonDuration"))},componentWillUnmount:function(){this.unbindTimelineEvents(),this.unbindSlideEvents()},configObjEvents:function(e,t,i,n){var r=this[e];return null!=r&&r[n?"on":"off"](t,this[i]),this},getNextTimelineProgressState:function(){var e=this.timeline;return{timelineProgress:null==e||this.isPaused()?0:e.progress()*e.duration()}},isMode:function(e){var t=this.timeline;return null!=t&&t.parent.get("elapsedTimeMode")===e},onSlideStarted:function(){this.unbindSlideEvents(),this.slide=a.getCurrentWindowSlide(),this.bindSlideEvents()},onSlideTimelineChanged:function(e,t){this.onTimelineChanged(t)},onTimelineChanged:function(e){this.unbindTimelineEvents(),this.timeline=e,this.isIgnored()||(this.bindTimelineEvents(),this.setState(i.extend({startTime:e.parent.get("startTime")},this.getNextTimelineProgressState())))},onTimelineTick:function(){this.setState(this.getNextTimelineProgressState())},renderTimer:function(){return[l(Math.max(0,this.state.startTime+this.state.timelineProgress)),this.duration].join(" / ")}}),c=u.prototype;return i.extend(c,{bindSlideEvents:i.partial(c.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!0),unbindSlideEvents:i.partial(c.configObjEvents,"slide","change:currentTimeline","onSlideTimelineChanged",!1),bindTimelineEvents:i.partial(c.configObjEvents,"timeline",o.timeline.TICK,"onTimelineTick",!0),unbindTimelineEvents:i.partial(c.configObjEvents,"timeline",o.timeline.TICK,"onTimelineTick",!1),isIgnored:i.partial(c.isMode,"ignore"),isPaused:i.partial(c.isMode,"pause")}),u}),define("views/player/SidebarMobile",["require","lodash","helpers/utils","helpers/constants","helpers/events","react","views/mixins/baseView","views/player/mixins/appStateable","views/player/mixins/sidebar","polyfills/vendorOverrides","polyfills/detection","views/helpers/dom"],function(e){"use strict";var t,i=e("lodash"),n=(e("helpers/utils"),e("helpers/constants")),r=e("helpers/events"),s=e("react"),o=e("views/mixins/baseView"),a=e("views/player/mixins/appStateable"),l=e("views/player/mixins/sidebar"),u=e("polyfills/vendorOverrides"),c=e("polyfills/detection"),h=e("views/helpers/dom"),p=u.forceSingleRepaint||i.noop,d=["glossary","transcript","resources"],f=function(e){return e.isLive=!0,e},m=function(){return h.hasClass(document.body,"has-custom-links")},g=function(e,t){var n=this.state.tabs.slice(),r=i.findWhere(n,{name:e});null!=r&&(r.isLive=t),this.setState({tabs:n})},v=function(e,t){return!(e.outline.enabled||e.glossary||e.transcript||e.resources)},y=n.tabIndices.SIDEBAR;return s.createClass({displayName:"SidebarMobile",mixins:[o,a,l],isSidebar:!0,isFullyMounted:!1,subscriptions:(t={},t[r.detection.ORIENTATION_CHANGE]="onOrientationChange",t),stateableValues:function(){return{outline:g.bind(this,"outline"),glossary:g.bind(this,"glossary"),transcript:g.bind(this,"transcript"),resources:g.bind(this,"resources")}},stateableValuesUpdated:function(e){!v(e,this.state.tabs)||this.hasPresenter()||m()?document.body.classList.remove("no-menu"):document.body.classList.add("no-menu"),this.layout=e,this.htmlReady(this.defaultToAvailableTab)},getTabbableItems:function(){var e,t,n=i.range(0,4),r=function(e,t,n){var r=this.refs[e+n];return null!=r&&t.push(i.assign(r,{idx:y++,indexGroupName:"SidebarTab"})),t}.bind(this,"sidebarTab");return t=n.reduce(r,[]),e=n.reduce(function(e,t,i){var n=this.refs[e+i];return null!=n&&n.focusObjects&&n.focusObjects.forEach(function(e){null!=e&&(e.indexGroupName="SidebarTab",t.push(e))}),t}.bind(this,"sidebarPanel"),[]),t.concat(e)},getInitialState:function(){var e=i.cloneDeep(this.props.model.getSidebar()).map(f),t=i.cloneDeep(this.props.model.getLinkLeft()).map(f),n=i.cloneDeep(this.props.model.getLinkRight()).map(f);return{activeTab:null,tabs:e.concat(t).concat(n)}},selectTabOnOrientationChange:function(){"landscape"!==c.orientation||this.state.activeTab||this.setActiveTab(i.findWhere(this.state.tabs,{isLive:!0}))},componentWillMount:function(){var e=this.props.model.get("presenters"),t=null==e||0===e.length,n=i.every(this.props.model.controlLayouts().attributes,function(e){return v(e,this.state.tabs)}.bind(this));this.selectTabOnOrientationChange(),t&&n&&!m()&&document.body.classList.add("hide-menu"),this.scrollStyleTagAdded=!1},addScrollStyleTag:function(){var e=document.createElement("style");e.innerHTML=[".is-mobile .content-tabs, .is-mobile .panel { ","-webkit-overflow-scrolling: touch; }"].join(""),document.body.appendChild(e)},onOrientationChange:function(){this.selectTabOnOrientationChange(),this.scrollStyleTagAdded||(this.addScrollStyleTag(),this.scrollStyleTagAdded=!0)},componentWillUpdate:function(e,t){t.activeTab!==this.state.activeTab&&this.setActiveTab(t.activeTab),p(this.el)},hasLiveTab:function(){return this.state.activeTab&&this.state.activeTab.isLive},isDeactivated:function(e){return h.hasClass(document.body,"no-"+e)},activeNotDisabled:function(e){if(this.layout[e]&&!this.isDeactivated(e))return!0},checkEmptyTabs:function(){var e=this.layout.outline.enabled||d.some(this.activeNotDisabled)?"remove":"add";document.body.classList[e]("no-panels")},defaultToAvailableTab:function(){if(this.state.activeTab){var e,t=this.state.activeTab.name,n=!1;"outline"===t?this.layout[t].enabled&&(n=!0):this.layout[t]&&(this.isDeactivated(t)||(n=!0)),n||(this.layout.outline.enabled?e="outline":d.some(function(t){var i=this.activeNotDisabled(t);return i&&(e=t),i}.bind(this)),e&&this.setActiveTab(i.findWhere(this.state.tabs,{name:e})))}},setActiveTab:function(e){this.setState({activeTab:e}),e&&"outline"===e.name?document.body.classList.add("menu-panel-active"):document.body.classList.remove("menu-panel-active")},onSearch:function(e){var t=this.findComponent("SearchOptions").performSearch(e);this.findComponent("Menu").updateLinks(t)}})}),define("views/presentation/VectorTextHitArea",["require","views/helpers/dom","react","views/mixins/baseView"],function(e){"use strict";var t=e("views/helpers/dom"),i=e("react"),n=e("views/mixins/baseView");return i.createClass({displayName:"VectorTextHitArea",mixins:[n],componentDidMount:function(){this.areas={};var e=t.closest(this.el,function(e){return t.hasClass(e,"vector-text-item")});this.findAll(".link-highlight-area").forEach(function(t){var i=t.getAttribute("data-linkarea");this.areas[i]=this.areas[i]||[],this.areas[i].push(t),e.insertBefore(t,e.firstElementChild)}.bind(this))},renderAs:function(e){var i="mouseover"===e.type,n=e.currentTarget.getAttribute("data-hotarea"),r=i?"onOverCallback":"onOutCallback";this.areas[n].forEach(function(e){return t.setStyles(e,{opacity:Number(i)})}),this.props[r](this.props.linkId)},onClickCallback:function(e){e.preventDefault(),this.props.onClickCallback(this.props.linkId)}})}),define("views/presentation/VideoControls",["require","lodash","helpers/utils","react","views/mixins/baseView","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("react"),r=e("views/mixins/baseView"),s=(e("polyfills/vendorOverrides"),e("polyfills/detection"));return n.createClass({displayName:"VideoControls",mixins:[r],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},onChange:t.noop,componentDidMount:function(){s.isMobileAndNotPreview&&(this.refs.inputEl.style.pointerEvents="none",this.refs.progressBar.addEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.addEventListener("touchstart",this.onSeekMobile))},componentWillUnmount:function(){s.isMobileAndNotPreview&&(this.refs.progressBar.removeEventListener("touchmove",this.onSeekMobile),this.refs.progressBar.removeEventListener("touchstart",this.onSeekMobile))},onSeekMobile:function(e){var t,i;e.preventDefault(),e.stopPropagation(),e.touches&&1===e.touches.length&&(t=this.refs.progressBarInner.getBoundingClientRect(),i=(e.touches[0].pageX-t.left)/t.width,i=Math.min(Math.max(0,i),1),this.refs.inputEl.value=i*this.props.duration,this.props.rangeslideVideoControls({target:this.refs.inputEl}))},currentTimeFormatted:function(){return i.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return i.formatSecondsAsTime(this.props.duration||0)}})}),define("views/presentation/VideoPlayer",["require","lodash","react","helpers/pubSub","helpers/automation","helpers/events","views/mixins/baseView","mixins/captionable","helpers/cssPrefix","helpers/svg/svgUtils","helpers/videoManager","polyfills/vendorOverrides","polyfills/detection","helpers/vow","helpers/utils","helpers/errorManager"],function(e){"use strict";var t=e("lodash"),i=e("react"),n=e("helpers/pubSub"),r=e("helpers/automation"),s=e("helpers/events"),o=e("views/mixins/baseView"),a=e("mixins/captionable"),l=(e("helpers/cssPrefix"),e("helpers/svg/svgUtils")),u=e("helpers/videoManager"),c=e("polyfills/vendorOverrides"),h=e("polyfills/detection"),p=e("helpers/vow"),d=e("helpers/utils"),f=e("helpers/errorManager").throwError("VideoPlayer"),m=c.buildCaptionTracks||t.noop,g=c.onCaptionsEnabled||t.noop,v=c.offCaptionsEnabled||t.noop,y=i.createClass({displayName:"VideoPlayer",mixins:[o,a],getInitialState:function(){return{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=t.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=t.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=t.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=t.partial(this.onEvent,"onLoadedData"),this.canPlayDfd=new p.Deferred,this.mountedDfd=new p.Deferred,this.hasVideo=!1,this.isPaused=!0,u.requestVideoEl(this).done(this.completeVideoLoad),this.canPlayDfd.done(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this))},componentDidMount:function(){this.mountedDfd.resolve(),this.props.isPlaying&&this.play()},shouldUpdate:function(e,t){return e.isPlaying!==this.props.isPlaying||e.posterFrameUrl!==this.props.posterFrameUrl||t.isPlaying!==this.state.isPlaying||e.currentVolume!==this.props.currentVolume},componentDidUpdate:function(e,t){var i=e.isPlaying,n=this.props.isPlaying;this.setVolume(this.props.currentVolume),i!==n&&this[this.props.isPlaying?"play":"pause"](),!1===this.props.slideVisible&&this.clearCaptions()},componentWillUnmount:function(){var e=this;this.canPlayDfd.reject(),this.mountedDfd.reject(),this.ifVideoEl(function(){e.unbindVideoEventListeners(),u.putVideoInPen(e.videoEl,e)}),v(this.enableCaptioning)},enableCaptioning:function(e){t.isEmpty(this.videoEl.textTracks)||(this.videoEl.textTracks[0].mode=e?"showing":"hidden")},getAssetId:function(){return this.props.assetId},getCurrentTime:function(){return this.videoEl.currentTime},isVideo:t.constant(!0),onTimeUpdate:function(){var e=this.videoEl.currentTime;this.setState({currentTime:e}),!h.isIosPhoneBefore10()&&this.state.isPlaying&&this.adjustCaptions()},play:function(){if(this.hasVideo||u.requestVideoEl(this,!0).done(this.completeVideoLoad),r.clockIsOverridden)this.isPaused&&(n.trigger(s.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"play"),this.delta=this.props.timeline.elapsedTime(),this.timelineDuration=this.props.timeline.duration(),this.props.timeline.on(s.timeline.TICK,this.onTimelineTick),this.setState({hasEverPlayed:!0,isPlaying:!0}));else if(p.isResolved(this.canPlayDfd)){if(this.state.currentTime<this.props.duration||!this.props.isTimelineControlled){this.setState({hasEverPlayed:!0,isPlaying:!0});var e=this.videoEl.play();this.adjustCaptions(),null!=e&&e.catch(function(e){"AbortError"===e.name&&20===e.code||f("play",e.message)})}}else this.canPlayDfd.done(function(){this.isPaused||this.play()}.bind(this));this.isPaused=!1},pause:function(){var e=this;this.isPaused=!0,this.ifVideoEl(function(){e.videoEl.pause()}),r.clockIsOverridden&&(n.trigger(s.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"pause"),this.props.timeline.off(s.timeline.TICK,this.onTimelineTick)),this.setState({isPlaying:!1}),this.props.pausedByPlayButton||this.clearCaptions()},seek:function(e){if(!isNaN(e)){var t=Math.min(e,this.props.duration);this.setState({currentTime:t}),this.canPlayDfd.done(function(){this.videoEl.currentTime=t}.bind(this)),this.clearCaptions(),r.clockIsOverridden&&t>=d.fix(this.props.duration,2)&&this.props.onPlaybackEnded()}},ended:function(){return this.videoEl.ended},onEvent:function(e,t){null!=this[e]&&this[e](t),null!=this.props[e]&&this.props[e](function(e,t){var i;switch(e){case"onDurationChange":i=t.target.duration;break;case"onTimeUpdate":i=t.target.currentTime;break;default:i=t}return i}(e,t))},onTimelineTick:function(e){this.seek(d.toSeconds(this.timelineDuration*e-this.delta))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},updateVideoEventHandlers:function(e){var i={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};t.forOwn(i,function(t,i){this.videoEl[e?"addEventListener":"removeEventListener"](i,t)}.bind(this))},setVolume:function(e){var t=this;this.ifVideoEl(function(){t.videoEl.volume=e,t.videoEl.muted=0===e})},applyTransformToVideo:function(){var e,t=this.videoEl.videoWidth/this.videoEl.videoHeight,i=this.props.slideObjectModel.attributes.height,n=this.props.slideObjectModel.attributes.width;n/i!==t&&(e=t*i/n,this.videoEl.style[this.cssTransform]=l.transformScale(1,e),this.videoEl.style[this.cssTransformOrigin]="0 0")},completeVideoLoad:function(e){var t,i=this;this.hasVideo=!0,this.videoEl=e,this.videoEl.src=this.props.src,this.videoEl.load(),this.mountedDfd.done(function(){i.refs.container.appendChild(i.videoEl),i.videoEl.setAttribute("playsinline",""),i.setVolume(i.props.currentVolume),i.applyTransformToVideo()}),m(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),this.videoEl.volume=this.props.currentVolume,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(t=function(){i.canPlayDfd.resolve(),i.videoEl.removeEventListener("canplay",t),i.videoEl.removeEventListener("canplaythrough",t)},this.videoEl.addEventListener("canplay",t),this.videoEl.addEventListener("canplaythrough",t)),g(this.enableCaptioning)},retrieveVideo:function(){var e=this.videoEl.parentNode;return null!=e&&e.removeChild(this.videoEl),this.props.pause(),this.state.hasEverPlayed&&this.drawFrameToCanvas(),this.unbindVideoEventListeners(),this.hasVideo=!1,this.videoEl},drawFrameToCanvas:function(){var e,t,i=this;this.ifVideoEl(function(){e=i.props.playerProps.width,t=i.props.playerProps.height,i.canvas=i.canvas||document.createElement("canvas"),i.canvas.height=t,i.canvas.width=e,i.canvas.getContext("2d").drawImage(i.videoEl,0,0,e,t),i.container.appendChild(i.canvas)})},ifVideoEl:function(e){this.hasVideo&&e()}}),b=y.prototype;return t.extend(b,{bindVideoEventListeners:t.partial(b.updateVideoEventHandlers,!0),unbindVideoEventListeners:t.partial(b.updateVideoEventHandlers,!1)}),y}),define("views/player/Container",["require","react","views/mixins/baseView","lodash"],function(e){"use strict";var t=e("react"),i=e("views/mixins/baseView");e("lodash");return t.createClass({displayName:"Container",mixins:[i]})}),define("templates/templates",["require","react","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/player/StartOverlay","views/presentation/MainWindow","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/pubSub","helpers/events","views/SvgLibrary","views/presentation/MainWindow","views/player/MobileStartOverlay","views/presentation/PopupWindow","views/presentation/SlideLockCursor","polyfills/detection","views/player/MobileDisabledOrientation","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/PlaybackControls","views/player/SlideRelatedActions","views/player/MobileSearchButton","polyfills/detection","views/player/CaptionBtn","views/player/FullscreenBtn","views/presentation/VectorTextItem","views/player/Icon","polyfills/detection","polyfills/vendorOverrides","polyfills/vendorOverrides","bowser","views/presentation/VectorTextItem","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","views/presentation/VectorTextItem","helpers/svg/svgUtils","helpers/utils","views/presentation/LinearBackgroundGradient","views/presentation/VectorTextItem","views/presentation/DropListItem","helpers/svg/svgUtils","helpers/utils","views/presentation/ScrollBar","polyfills/detection","views/presentation/LinearBackgroundGradient","views/presentation/SlideObject","views/player/Icon","views/player/GlossaryTerms","views/player/GlossaryDefinition","helpers/utils","views/presentation/SlideObject","helpers/utils","helpers/svg/svgUtils","helpers/assetManager","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","helpers/stringTabler","views/player/Icon","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/player/Captions","polyfills/vendorOverrides","views/presentation/SlideContainer","views/player/Captions","views/player/UiMobile","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/player/MenuLinksListItem","views/player/MenuLinksList","helpers/stringTabler","views/player/Icon","views/presentation/SlideContainer","polyfills/detection","views/player/Icon","views/player/Icon","polyfills/detection","views/player/NotesHeader","views/player/NotesList","polyfills/vendorOverrides","views/presentation/VectorTextItem","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","polyfills/vendorOverrides","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","polyfills/vendorOverrides","views/player/Icon","polyfills/vendorOverrides","views/player/Icon","helpers/stringTabler","lodash","views/presentation/PresentationOverlay","views/player/Icon","helpers/stringTabler","helpers/stringTabler","views/player/PresenterVideo","helpers/utils","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","polyfills/vendorOverrides","helpers/utils","lodash","helpers/Iterable","helpers/svg/svgUtils","polyfills/vendorOverrides","helpers/constants","views/presentation/SlideObject","views/presentation/VectorSlideObject","views/presentation/ScrollBar","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Icon","views/player/MenuLinksList","views/presentation/SequenceCtrlDrop","views/presentation/SequenceCtrlDragItem","views/presentation/ScrollBar","polyfills/detection","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","views/player/TabPanel","views/player/SidebarTab","views/player/SearchFooter","views/player/Presenter","helpers/stringTabler","polyfills/vendorOverrides","views/presentation/SlideLayer","views/presentation/SlideBackground","views/presentation/VectorSlideBackground","polyfills/detection","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/utils","polyfills/detection","helpers/windowManager","views/player/Captions","views/presentation/Slide","bowser","lodash","polyfills/vendorOverrides","lodash","views/presentation/Slide","views/presentation/VectorSlideObject","views/presentation/SlideObject","views/presentation/AudioPlayer","views/presentation/SlideBackground","views/player/SlideLoaderIndicator","polyfills/vendorOverrides","views/player/RelativeNavControls","views/player/RelativeNavControls","views/presentation/SlideObject","polyfills/detection","views/player/Icon","views/player/SlideControlButton","helpers/constants","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","polyfills/vendorOverrides","views/presentation/VectorSlideObject","helpers/utils","helpers/svg/svgUtils","polyfills/detection","views/player/TopTabsItem","views/player/TabPanel","helpers/stringTabler","polyfills/vendorOverrides","views/player/TopTabs","views/player/Timer","views/player/ElapsedAndTotalTime","views/player/Icon","views/player/Bottombar","views/player/SidebarMobile","views/player/MobileSearchButton","views/presentation/VectorBackground","lodash","views/presentation/VectorTextItem","views/presentation/VectorTextHitArea","helpers/utils","views/player/Icon","polyfills/detection","helpers/utils","helpers/automation","views/presentation/VideoControls","views/presentation/VideoPlayer","views/player/Icon","polyfills/vendorOverrides","views/presentation/LinearBackgroundGradient","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","helpers/svg/svgUtils","polyfills/detection","polyfills/vendorOverrides","polyfills/detection","views/SvgLibrary","views/player/Topbar","views/presentation/MainWindow","views/player/MobileStartOverlay","views/player/Sidebar","views/player/SlideLoaderOverlay","helpers/cssPrefix","views/presentation/PopupWindow","views/presentation/SlideLockCursor","helpers/svg/svgUtils","helpers/utils","views/player/MobileDisabledOrientation","helpers/constants","views/player/Timer","views/player/PlaybackControls","views/player/VolumeControls","views/player/SlideRelatedActions","views/player/SubmitAllButton","views/player/CaptionBtn","polyfills/detection","views/player/FullscreenBtn","views/player/Icon","polyfills/detection","views/player/Icon","polyfills/detection","views/player/Container","helpers/constants","views/presentation/PresentationOverlay","views/presentation/SlideContainer","views/player/CaptionBtn","views/player/SlideRelatedActions","views/player/Icon","views/presentation/SlideContainer","views/player/Bottombar","views/presentation/SlideWindowBackground","views/player/Captions","polyfills/detection","helpers/constants","polyfills/vendorOverrides","views/player/SearchOptions","views/player/SearchResults","views/player/SearchFooter","polyfills/detection","views/presentation/SlideContainer","polyfills/detection","helpers/utils","polyfills/detection","views/player/Icon","helpers/stringTabler","polyfills/vendorOverrides","views/presentation/VectorTextItem","views/player/NotesHeader","views/player/NotesList","views/player/Icon","helpers/svg/svgUtils","polyfills/detection","helpers/constants","views/player/PlayPauseButton","views/player/PlaybackProgress","views/player/PlaybackResetButton","helpers/utils","polyfills/detection","lodash","views/player/Icon","views/player/Timer","views/player/SlideControlButton","views/player/SubmitAllButton","polyfills/detection","views/player/Container","helpers/utils","views/player/ResourcesHeader","views/player/ResourcesList","views/presentation/ScrollBar","views/player/Icon","polyfills/detection","helpers/stringTabler","views/player/TabPanel","views/player/SidebarTab","views/player/Presenter","views/player/Icon","polyfills/detection","views/player/Icon","views/player/Menu","views/player/Glossary","views/player/Notes","views/player/Resources","views/player/MicroScrollBar","helpers/utils","polyfills/detection","helpers/svg/svgUtils","polyfills/detection","views/player/TabPanel","lodash","views/player/TopTabsItem","polyfills/detection","views/player/TopTabs","views/player/Timer","views/player/Icon","views/player/ElapsedAndTotalTime","polyfills/detection","views/player/Icon","helpers/constants","polyfills/detection"],function(e){var t=e("react");return{AnnotationSlideObject:function(){var e=this.props.model,i=this.state.Innard;return t.createElement(i,{model:e,ref:"innard"})},App:function(){var i,n,r,s=e("polyfills/detection"),o=e("views/SvgLibrary"),a=e("views/player/Topbar"),l=e("views/player/StartOverlay"),u=e("views/presentation/MainWindow"),c=e("views/player/Sidebar"),h=e("views/player/SlideLoaderOverlay"),p=e("helpers/cssPrefix"),d=e("views/presentation/PopupWindow"),f=e("views/presentation/SlideLockCursor"),m=e("helpers/svg/svgUtils"),g=e("helpers/pubSub"),v=e("helpers/events"),y=this.props.player.get("fontscale")+"%",b=["presentation-wrapper","cs-base","opaque","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" "),w=this.props.presentation.display().get("height"),S=this.props.presentation.display().get("width"),x=this.state.isTooTall,T=this.state.isTooWide,E={height:w,width:S,fontSize:y,lineHeight:y},A=[],C=this.state.scale,P=null==(n=C)||(r=parseFloat(n,10),isNaN(r))?1:r.toFixed(2),_={};return s.isMobile||(E.transformOrigin="0 0",E.top=Math.max(0,x?0:Math.ceil(window.innerHeight/2-w*P/2)),E.left=Math.max(0,T?0:Math.ceil(window.innerWidth/2-S*P/2)),g.trigger(v.app.PRESENTATION_POSITION,E)),null!=C&&(i=m.transformScale(P),A.push(i),_[p.camelCase("transform")]=i),E[p.camelCase("transform")]=A.join(" "),t.createElement("div",{id:"presentation-container",className:"non-eventable"},t.createElement("div",{id:"presentation",style:E,className:b},t.createElement(o,{ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(d,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&t.createElement(c,{ref:"sidebar",model:this.props.player,width:S,height:w}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary",style:{height:w}},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),!!this.hasTopBar()&&t.createElement(a,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation}),t.createElement(u,{ref:"mainWindow",player:this.props.player}))),t.createElement(f,null),t.createElement("div",{id:"overlay-container-controls",style:_,className:"non-eventable"}),t.createElement("div",{id:"overlay-container",style:_,className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute"},className:["cs-"+this.props.state.currentScheme(),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),this.props.needsOverlay&&t.createElement("div",{id:"overlay-playbutton",style:E,className:"cs-"+this.props.state.currentScheme()},t.createElement(l,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{style:E,className:"app-top"},t.createElement("div",{id:"app-top-container",styles:E}),t.createElement("div",{id:"app-top-overlay"})),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(h,null))},AppMobile:function(){var i=e("views/SvgLibrary"),n=e("views/presentation/MainWindow"),r=e("views/player/MobileStartOverlay"),s=e("views/presentation/PopupWindow"),o=e("views/presentation/SlideLockCursor"),a=e("polyfills/detection"),l=e("views/player/MobileDisabledOrientation"),u=this.hasMobileUi();return t.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},t.createElement("div",{id:"presentation",className:"opaque"},t.createElement(n,{ref:"mainWindow",player:this.props.player,timers:this.props.presentation.timers(),hasUi:u,hasFsOnly:u&&!this.hasMobileUi(!0)}),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"})),t.createElement(o,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable"}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay"}),t.createElement("div",{id:"overlay-mobile"},t.createElement(r,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),t.createElement(i,{ref:"svgLib"}),t.createElement("div",{id:"app-top-container"}),t.createElement("div",{id:"app-top-overlay"}),this.props.player.get("presenters")&&t.createElement(s,{presenters:this.props.player.get("presenters")}),!a.isRise&&!a.is360&&t.createElement(l,{orientations:this.state.orientations}))},Bottombar:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/VolumeControls"),r=e("views/player/SlideRelatedActions"),s=e("views/player/SubmitAllButton"),o=e("views/player/CaptionBtn"),a=e("polyfills/detection"),l=e("views/player/FullscreenBtn");return t.createElement("div",{className:"controls grid-row inflexible"},a.isTouchableTheme&&t.createElement("div",{className:"bottom-ui-bg"}),!a.isMobile&&t.createElement(s,{slide:this.props.slide}),this.hasVolume()&&t.createElement(n,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null)),this.hasSeekbarArea()&&t.createElement(i,{ref:"playbackControls",slide:this.props.slide,playOnly:!this.state.stateable_seekbar&&this.state.stateable_pauseplay,readonly:this.isReadOnly}),a.isTouchableTheme&&a.is360&&(!a.isDevicePreview||a.enableFs)&&t.createElement(l,{handleFullScreen:this.handleFullScreen}),t.createElement(r,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},BottombarMobile:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/SlideRelatedActions"),r=e("views/player/MobileSearchButton"),s=e("polyfills/detection"),o=e("views/player/CaptionBtn"),a=e("views/player/FullscreenBtn");return t.createElement("div",{className:"slide-controls"},this.hasSeekbarArea()&&this.props.slide?t.createElement(i,{ref:"playbackControls",slide:this.props.slide,timeline:this.props.slide&&this.props.slide.currentTimeline(),hasCaption:this.hasCaption(),readonly:this.isReadOnly}):t.createElement("div",{className:"playback-controls"},s.is360&&(!s.isDevicePreview||s.enableFs)&&t.createElement(a,{handleFullScreen:this.handleFullScreen}),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null))),t.createElement(n,{ref:"slideRelatedActions",slide:this.props.slide,player:this.props.player,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase(),timers:this.props.timers}),this.props.hasSearch&&t.createElement(r,{toggleSearchUi:this.props.toggleSearchUi}))},ButtonSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=this.getPath("props.model.data.textdata.vectortext.pr")||{};return t.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames()},t.createElement("svg",{className:"slide-object-button-text"},t.createElement(i,{ref:"vectortext",commandsetId:n.i,pathLib:n.l})))},CaptionBtn:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),r=e("polyfills/vendorOverrides").crispScale,s="cs-tabs cs-selected";return n.isMobile&&(s="button-tapped"),t.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?s:""].join(" "),style:r(),onClick:this.toggleCaption},t.createElement(i,{key:"Caption",type:"Caption"}),t.createElement("span",{className:"accessibility"},this.state.i18ncaption))},Captions:function(){var i=e("polyfills/vendorOverrides").crispScale,n=e("bowser"),r={fontFamily:this.state.font,fontSize:[this.props.fontscale,"%"].join("")};return n.safari&&n.mac&&(r.transform="translate3d(-50%, 0, 0)"),t.createElement("div",{className:"caption"+(this.props.hasbb?" with-bb":""),style:r},this.state.showCaptions&&this.state.captions.length>0&&this.state.captions.map(function(e,n){return t.createElement("div",{key:n},t.createElement("p",{style:i(),dangerouslySetInnerHTML:{__html:this.toHtml(e)}}))}.bind(this)))},Container:function(){return t.createElement("div",{className:"ds-container "+this.props.className},this.props.children)},DragdropSlideObject:function(){var i=e("views/presentation/VectorTextItem"),n=e("views/presentation/LinearBackgroundGradient"),r=e("helpers/svg/svgUtils"),s=this.getPath("props.model.style"),o=this.getPath("props.model.height"),a=this.getPath("props.model.width"),l=this.getPath("props.model.kind"),u="dragitem"===l,c="wordbank"===s,h="droparea"===l&&c,p=this.state.hovered&&!this.state.dropped&&("droparea"!==l||h),d=_.find(this.getPath("props.model.colors"),{name:"hover"}),f=null!=d?d:_.find(this.props.colors,{name:"hover"}),m=(null!=f?this.props.model.id:"dragdrop")+"-hover-gradient",g=r.buildUrl(p&&!h?m:"dragdrop-gradient"),v=p?"slide-object-dragitem-hover":"",y=this.state.collision&&"droparea"===l,b=h&&this.state.hoverStroke&&null!=f,w=this.props.notchWidth,S=this.props.notchHeight,x=w+1,T=S+1,E=[["M "+x,0].join(","),["L"+a,0].join(","),["L"+a,o].join(","),["L"+x,o].join(","),["L"+x,o-T].join(","),["L 1",o-T].join(","),["L 1",T].join(","),["L"+x,T].join(","),"Z"].join(" "),A=["M 0,0",["L"+a,0].join(","),["L"+a,S].join(","),["L"+(a-w),S].join(","),["L"+(a-w),o-S].join(","),["L"+a,o-S].join(","),["L"+a,o].join(","),["L 0",o].join(","),"Z"].join(" "),C={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:b?["url(#",m,")"].join(""):""};return t.createElement("svg",{width:a,height:o,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+s,"draggable",v].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},(p&&null!=f||b)&&t.createElement("defs",null,t.createElement(n,{fill:f.fill,patternFillId:m})),c?t.createElement("rect",{width:a-1,height:o-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:g,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:C,transform:"translate(0.5, 0.5)"}):t.createElement("path",{d:u?E:A,className:"slide-object-dragdrop-shape",fill:g,style:y?{strokeWidth:3}:{},filter:!y&&"url(#dragdrop-inner-stroke)",strokeDasharray:u&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&null==f&&t.createElement("rect",{width:a-1,height:o-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),t.createElement("g",{transform:r.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},null!=this.state.textCommandsetId&&t.createElement(i,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),"matching"===s&&this.state.reviewDot&&t.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},t.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),t.createElement("text",{textAnchor:"middle",y:"4"},t.createElement("tspan",null,this.getPath("props.model.reviewdata")))))},DropListItem:function(){var i=e("views/presentation/VectorTextItem"),n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s=e("views/presentation/LinearBackgroundGradient"),o=r.getPath(this.props.hoverColor,"fill"),a=this.props.modelId+"-fill",l=n.buildUrl(a),u=null!=this.props.hoverColor&&this.state.hovered;return t.createElement("g",{className:"drop-list-item",role:"option","aria-label":this.props.altText,transform:n.transformTranslate(0,this.props.yOff),onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.didMouseOver,onTouchEnd:_.flow(this.onClick,this.didMouseOut)},u&&t.createElement("defs",null,t.createElement(s,{fill:o,patternFillId:a})),t.createElement("rect",{width:this.props.width,height:this.props.height,className:this.fillColorClass(),style:u?{fill:l}:null}),t.createElement(i,{ref:"vectortext",commandsetId:this.props.pr.i,pathLib:this.props.pr.l}))},DropListParentable:function(){var i=e("views/presentation/VectorTextItem"),n=e("views/presentation/DropListItem"),r=e("helpers/svg/svgUtils"),s=e("helpers/utils"),o=e("views/presentation/ScrollBar"),a=e("polyfills/detection"),l=this.state.reviewWidth||this.getPath("props.model.width"),u=this.getPath("props.model.height"),c=this.getPath("props.model.colors"),h=this.state.pr,p=l-25+1,d=_.find(c,{name:"button_hover"}),f=this.state.hovered?null!=d?s.hexify(_.first(d.fill.colors).rgb):"#d5ffff":"white",m=(this.props.model.id,this.getItemHeight()),g=this.getListHeight(),v=a.isMobileOrTouchableTheme&&"none",y=this.getPlayerProp("SelectedItemIndex"),b=null==y||-1===y?void 0:this.props.model.origItemsList[y].textdata.altText,w="block"===this.state.display,S="text-mask-"+this.props.model.id;return t.createElement("div",{className:"drop-list",tabIndex:"-1",role:"listbox","aria-expanded":w,"aria-label":b},t.createElement("div",{className:["is-scrollable","drop-list-drop-down"].join(" "),ref:"dropdown",style:{width:l,borderColor:"#cecece",display:this.state.display,borderRadius:16,paddingTop:u}},t.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:v}},t.createElement("svg",{className:"eventable",width:l,height:g,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("g",null,this.itemslist.map(function(e,i){var r=this.props.model.itemsIdx[e.itemdata];return t.createElement(n,{ref:"item"+r,order:i,key:e.textdata.uniqueId,idx:r,width:l,height:m,hoverColor:_.find(c,{name:"item_hover"}),modelId:this.props.model.id,yOff:m*i,pr:e.textdata.vectortext.pr,selected:this.focusItem,altText:e.textdata.altText})}.bind(this))))),this.state.dropDownScrollable&&!a.isIE()&&t.createElement(o,{ref:"scrollBar",offY:u,offX:-4,width:l,height:this.state.scrollBarHeight-u,parent:this,closedHeight:u,refName:"dropdownInner",initSelf:!0})),t.createElement("div",{className:"drop-list-top-container"},t.createElement("svg",{width:l,height:u,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100}},t.createElement("defs",null,t.createElement("mask",{id:S,maskUnits:"userSpaceOnUse",x:"0",y:"0",width:p,height:u},t.createElement("rect",{x:"0",y:"0",width:p,height:u,fill:"white"}))),t.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:_.flow(this.didMouseOver,this.onShowList),onTouchEnd:this.didMouseOut},t.createElement("rect",{width:l-1,height:u-1,rx:8,ry:8,stroke:"#cecece",fill:"white"}),t.createElement("g",{style:{mask:["url(#",S,")"].join("")}},t.createElement(i,{ref:"vectortext",commandsetId:h.i,pathLib:h.l})),t.createElement("path",{d:r.rightRoundedRectPath(p,1,22,u-3,8),fill:"url(#drop-list-gradient)",stroke:f}),t.createElement("path",{d:["M",l-25,0,"v",u-1].join(" "),stroke:"#cecece"}),t.createElement("g",{transform:r.transformTranslate(p+5.5,9)},t.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"}))))),a.isMobileOrTouchableTheme&&t.createElement("select",{ref:"mobileDrop",className:"mobile-drop-list",style:{width:l,opacity:0}},t.createElement("option",null,"-- Select --"),this.itemslist.map(function(e,i){var n=this.props.model.itemsIdx[e.itemdata];return t.createElement("option",{key:e.textdata.uniqueId,ref:"item"+n,"data-order":i,value:n},e.textdata.altText)}.bind(this))))},DropListSlideObject:function(){return t.createElement("div",null)},ElapsedAndTotalTime:function(){return t.createElement("span",{className:"elapsed-and-total-time"},"(",this.renderTimer(),")")},ExpandingLabelSlideObject:function(){var i,n=e("views/presentation/LinearBackgroundGradient"),r=e("views/presentation/SlideObject"),s=this.shouldShowContent();return t.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},t.createElement("svg",{className:["expanding-label-path",s?"content-shown":""].join(" "),style:{left:this.labelTranslate.offX,top:this.labelTranslate.offY,width:this.labelSize.width,height:this.labelSize.height}},this.props.model.background()&&t.createElement("defs",null,t.createElement(n,{patternFillId:this.patternFillId(),layerModel:this.props.model,isInnard:!0})),t.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},t.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),t.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width}},t.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),t.createElement("div",{className:s?"shown":"hidden"},this.props.model.objects().map(function(e,n){return i={ref:"obj"+n,key:e.cid,model:e,playerProps:this.props.playerProps,parent:this,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction},e.isKind("scrollarea")&&(i.topOffset=6),t.createElement(r,t.__spread({},i))}.bind(this))))))},FullscreenBtn:function(){var i=e("views/player/Icon");return t.createElement("button",{className:"cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchEnd:this.props.handleFullScreen},t.createElement("span",{className:"enterFullScreen-360"},t.createElement(i,{type:"enterFullScreen"})),t.createElement("span",{className:"exitFullScreen-360"},t.createElement(i,{type:"close"})))},Glossary:function(){var i=e("views/player/GlossaryTerms"),n=e("views/player/GlossaryDefinition");return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"complementary"},t.createElement("section",{className:"panel-section"},t.createElement("header",{className:"panel-section-header"},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nterms),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(i,{collection:this.props.collection,onTermChosen:this.revealTerm,curIdx:this.state.curIdx,ref:"glossaryTerms"})),t.createElement("section",{className:"panel-section cs-editor"},t.createElement("header",{className:"panel-section-header"},t.createElement("hr",{className:"cs-divb divb"}),t.createElement("hr",{className:"cs-divc divc"}),t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18ndefinition),t.createElement("hr",{className:"cs-diva diva"})),t.createElement(n,{curTitle:this.state.curTitle,curDefinition:this.state.curDefinition,ref:"glossaryDefinition"})))},GlossaryDefinition:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),id:"glossary-definition",style:{outlineOffset:"-3px"},tabIndex:"-1"},t.createElement("dl",{className:"unstyled"},t.createElement("dt",{className:"term-word hidden"},this.props.curTitle),t.createElement("dd",{className:"term-definition html-reset cs-editor-html"},this.props.curDefinition.split(/\n/).map(function(e,i){return t.createElement("p",{key:i},e)}))))},GlossaryMobile:function(){var i=e("helpers/utils");return t.createElement("div",{className:"glossary"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement("h4",{className:"panel-section-heading"},this.state.i18nterms)),t.createElement("div",{className:"panel-section-content",role:"complementary"},t.createElement("dl",null,this.props.collection.map(function(e,n){return t.createElement("div",{key:n},t.createElement("dt",null,e.get("title")),t.createElement("dd",{dangerouslySetInnerHTML:{__html:i.stripTags(e.get("content"))}}))}.bind(this)))))},GlossaryTerms:function(){return t.createElement("div",{className:"panel-section-content cs-scrolling-panel"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},t.createElement("ul",{className:"choice-list"},this.props.collection.map(function(e,i){var n=this.props.curIdx===i;return t.createElement("li",{className:"term cs-term "+(n?"cs-selected active":""),key:i,ref:"titles-"+i},t.createElement("button",{className:"choice-list-trigger cs-choice-list-trigger list-item",onClick:this.termChosen.bind(this,i)},e.get("title")))}.bind(this))))},GroupingSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group"},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,model:e,parent:this,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction})}.bind(this)))},ImageSlideObject:function(){var i,n,r=e("helpers/utils"),s=e("helpers/svg/svgUtils"),o=e("helpers/assetManager"),a={width:this.props.playerProps.width,height:this.props.playerProps.height},l={left:this.props.model.get("btnxpos"),top:this.props.model.get("btnypos")},u=this.props.model.getCurrentStateData(),c=o.getAssetUrl(u.imagedata.assetId);return null!=u.html5data?(i=u.html5data.xPos,n=u.html5data.yPos):(i=this.props.model.get("xOffset"),n=this.props.model.get("yOffset")),l[this.cssTransform]=["translate(-50%, -50%)",s.transformTranslate(r.pxify(-i),r.pxify(-n)),s.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),t.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:s.transformTranslate(r.pxify(i),r.pxify(n))}},this.props.model.isZoomable()?t.createElement("div",null,t.createElement("img",{src:c,onClick:this.onClick}),t.createElement("div",{ref:"zoom",className:"zoom eventable",style:a,onClick:this.onClick},t.createElement("img",{className:"zoom-image",style:l,src:this.props.model.get("zoomiconurl")}))):t.createElement("img",{src:c}))},LightBox:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),r=e("views/player/CaptionBtn"),s=e("views/player/SlideRelatedActions"),o=e("helpers/stringTabler"),a=e("views/player/Icon"),l={};return this.props.hasControls?l.position="absolute":(l.marginTop="7px",l.float="right",l.marginBottom="7px"),t.createElement("span",null,t.createElement(i,null),t.createElement("div",{className:["cs-",this.getPath("props.state.currentScheme")," lightbox-wrapper"].join("")},t.createElement("div",{ref:"lightBox",className:["cs-base","lightbox","wn-"+this.props.model.id,"cs-"+this.getPath("props.state.currentScheme")].join(" "),style:{width:this.props.model.get("width"),height:this.props.model.get("height")},"data-window-id":this.props.model.id},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement(a,{type:"close"}),t.createElement("span",{className:"accessibility"},o.getString("close"))),t.createElement("div",{className:"slide-wrapper",style:{height:this.slideWrapperHeight,overflow:"hidden"}},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id})),(this.props.hasControls||this.hasCaption())&&t.createElement("div",{className:"controls"},this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible",style:l},t.createElement(r,null)),this.props.hasControls&&t.createElement(s,{ref:"actions",slide:this.state.currentSlide,windowId:this.props.model.id,lightboxed:!0,isRtl:this.props.isRtl})))))},LightBoxMobile:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),r=e("views/player/CaptionBtn"),s=e("views/player/SlideRelatedActions"),o=e("views/player/Icon");return t.createElement("div",{className:"mobile-lightbox"},t.createElement(i,null),t.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),t.createElement("div",{ref:"optionPane",className:"option-pane"},t.createElement("div",{className:"slide-controls"},t.createElement("button",{ref:"close",className:["lightbox-close-btn btn-unstyled",this.state.showCloseBtn?"":" hidden"].join(""),onClick:this.close},t.createElement("span",{className:"btn-icon"},t.createElement(o,{type:"close"}))),this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(r,null)),this.props.hasControls&&t.createElement(s,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),t.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},t.createElement(o,{type:"close"})))},LinearBackgroundGradient:function(){return t.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(e,i){return t.createElement("stop",t.__spread({key:i,offset:this.stopPct(e)+"%"},this.stopProps(e)))}.bind(this)))},MainWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),r=e("views/presentation/SlideWindowBackground"),s=e("views/player/Captions"),o=e("polyfills/vendorOverrides").crispScale,a=this.getBackground(),l=this.hasBottomBar();return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container"},null!=a&&t.createElement(r,{bg:a,style:o()}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",style:o()}),t.createElement(s,{hasbb:l,lightboxed:this.props.lightboxed})),this.state.currentSlide&&l&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide}))},MainWindowMobile:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Captions"),r=e("views/player/UiMobile"),s=this.props.player.get("fontscale");return t.createElement("div",{ref:"primary",id:"main-window"},t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame",hasUi:this.props.hasUi}),t.createElement(n,{fontscale:s}),this.props.hasUi&&t.createElement(r,{model:this.props.player,currentSlide:this.state.currentSlide,timers:this.props.timers,hasFsOnly:this.props.hasFsOnly}))},Menu:function(){var i=e("views/player/SearchOptions"),n=e("views/player/SearchResults"),r=e("views/player/SearchFooter"),s=e("polyfills/detection"),o=this.props.options.get("wrapListItems"),a=this.props.options.get("autonumber");return t.createElement("div",{className:"outline-panel cs-outline"},s.isMobile&&t.createElement("div",{className:"mobile-menu-title"},this.props.title),t.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&t.createElement(i,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),t.createElement(n,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:o,autonumber:a,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})),!s.isMobile&&this.props.hasSearch&&t.createElement(r,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}))},MenuLinksList:function(){var i=e("views/player/MenuLinksListItem");return t.createElement("ol",{"aria-expanded":this.props.showChildren?"true":"false",className:"outline-list",role:this.getAriaRole()},this.props.links.map(function(e,n,r){return t.createElement(i,{link:e,key:n,ref:"menuLinksListItem"+n,shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,hasAnyLink:this.props.hasAnyLink,wrap:this.props.wrap,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,number:n,total:r.length,level:this.props.level,parentItem:this})}.bind(this)))},MenuLinksListItem:function(){var i,n=e("views/player/MenuLinksList"),r=e("helpers/stringTabler"),s=e("views/player/Icon"),o=this.props.link.get("slideid"),a=this.props.link.get("slidetitle"),l=this.props.link.get("displaytext");return a=null==a?"":a,l=null==l?"":l,i=this.props.showDisplayText||!a?l.toString():a.toString(),propsIsActionLink={},isScene=2===o.split(".").length,isSelected=this.isSlideSelected(o),labelId=["label",this.props.level,this.props.number,this.props.total].join("-"),titleText=[i+",",this.props.number+1,"of",this.props.total,isSelected?", "+r.getString("active"):""].join(" "),this.isActionLink()&&(propsIsActionLink["data-actionlink"]=""),t.createElement("li",{className:[!1===this.state.expanded?"outline-links-collapse":"",this.props.link.links().length>0?"item-collapsible":"",!0===this.props.wrap?"wrap-item":"",!0===this.state.itemRestricted?"outline-links-restriced":"","menu-item-status-"+this.isSlideCorrect(o),"slide-lockable",isScene?"is-scene":""].join(" "),role:"presentation"},t.createElement("span",{id:labelId,className:"accessibility"},titleText),t.createElement("a",t.__spread({className:["cs-listitem list-item",isSelected?"cs-selected menu-item-selected":"",this.isSlideViewedOrCurrentParent(o)?"cs-viewed":"",this.state.touched?"touched-link":""].join(" "),href:this.linkSlide(o),onClick:this.props.onClick,title:!1===this.props.wrap&&!0===this.props.tips?(this.props.autonumber?this.getAutoNumber():"")+i:"",role:"treeitem","aria-labelledby":labelId,"aria-describedby":"unspoken"},propsIsActionLink),this.props.showChildren&&this.props.link.links().length>0&&t.createElement("span",{className:"svg-icon-wrapper icon-carrot",onClick:this.toggle},t.createElement(s,{type:"carrot"})),t.createElement("span",null,i)),this.props.showChildren&&this.props.link.links().length>0&&t.createElement(n,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:this.props.showChildren,showDisplayText:this.props.showDisplayText,collapsible:this.props.collapsible,tips:this.props.tips,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,autonumber:this.props.autonumber,visitedSlides:this.props.visitedSlides,links:this.props.link.links(),onClick:this.props.onClick,onSelectMenuItem:this.props.onSelectMenuItem,level:this.props.level+1,parentItem:this}))},MessageWindow:function(){var i=e("views/presentation/SlideContainer"),n=e("polyfills/detection");return t.createElement("span",null,t.createElement("div",{className:"overlay overlay-message"}),t.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:this.getPath("props.model.width"),height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},t.createElement("header",{className:"message-window-header"},t.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),t.createElement("hr",{className:"cs-diva"}),t.createElement("hr",{className:"cs-divb"})),t.createElement(i,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"}),n.isMobile&&t.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))},MicroScrollBar:function(){return t.createElement("div",{className:["scrollarea-scrollbar micro-scrollbar",this.state.highlight?"highlight-scrollbar":"",this.state.isHidden?"hidden":""].join(" "),ref:"scrollBar"},t.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn micro-scrollbar-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},MobileDisabledOrientation:function(){var i=e("views/player/Icon"),n=["mobile-disabled-orientation-overlay",_.contains(this.props.orientations.tablet,"portrait")?"tablet-portrait":"",_.contains(this.props.orientations.tablet,"landscape")?"tablet-landscape":"",_.contains(this.props.orientations.phone,"portrait")?"phone-portrait":"",_.contains(this.props.orientations.phone,"landscape")?"phone-landscape":"",this.state.forceHide?"hidden":""];return t.createElement("div",{className:n.join(" ")},t.createElement("div",{className:"mobile-disabled-orientation-overlay-inner"},t.createElement("div",{className:"mobile-disabled-orientation-overlay-icon"},t.createElement(i,{type:"DisabledOrientation"})),t.createElement("div",null,this.state.i18ndisabled_orientation)))},MobileSearchButton:function(){var i=e("views/player/Icon");return t.createElement("div",{className:"mobile-search-button"},t.createElement("button",{onTouchEnd:this.props.toggleSearchUi,onMouseUp:this.previewMouseEvent(this.props.toggleSearchUi)},t.createElement(i,{key:"Search",type:"Search"})))},MobileStartOverlay:function(){var i=e("polyfills/detection");return t.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},t.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",onMouseDown:this.previewMouseEvent(this.onStart)},i.is360&&t.createElement("circle",{fill:"white",cx:"32",cy:"22",r:"11"}),t.createElement("path",{transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})))},Notes:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList"),r=e("polyfills/vendorOverrides").crispScale;return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header",style:r()},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",style:r()},t.createElement(n,{ref:"notesList",commandsetId:this.state.commandsetId,pathLib:this.state.pathLib,notesHtml:null==this.state.commandsetId?this.getNotesHtml():""})))},NotesHeader:function(){return t.createElement("h4",{className:"panel-heading panel-section-heading cs-heading"+(this.state.tabFocused?" focused":""),tabIndex:"-1",role:"presentation","aria-label":this.props.currentSlideTitle},this.props.currentSlideTitle)},NotesList:function(){var i=e("views/presentation/VectorTextItem"),n=null!=this.props.commandsetId;return t.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:n&&-9},tabIndex:"-1",role:"presentation"},n?t.createElement("svg",{ref:"svgNotes",className:"svg-notes"},t.createElement(i,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):t.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.notesHtml}}))},ObjectSlideBackground:function(){return t.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},t.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))},PlaceHolderSlideObject:function(){return t.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())},PlayPauseButton:function(){var i=e("views/player/Icon"),n=e("helpers/svg/svgUtils"),r=e("polyfills/detection"),s=e("polyfills/vendorOverrides").crispScale,o=this.state.isPlaying?"pause":"play";return t.createElement("button",{className:"cs-button btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":""),style:s(),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},r.isMobile&&t.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:this.state.showCircleProgress?"block":""}},t.createElement("circle",{cx:"17",cy:"17",r:"17",fill:"#464646",stroke:"none"}),t.createElement("path",{d:n.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:"white",stroke:"none"}),t.createElement("circle",{cx:"17",cy:"17",r:"14.5",fill:"#31373a",stroke:"none"})),t.createElement(i,{key:o,type:o}),t.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControls:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),r=e("views/player/PlaybackResetButton");return t.createElement("div",{className:["controls-group","control-bar","cs-seekcontrol","progress-control",this.props.playOnly?"play-only":""].join(" ")},t.createElement("div",{className:"grid-row"},this.state.stateable_pauseplay&&t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly()}),this.state.stateable_replay&&t.createElement(r,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackControlsMobile:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),r=e("views/player/CaptionBtn"),s=e("polyfills/detection"),o=e("views/player/FullscreenBtn");return t.createElement("div",{className:"playback-controls"},this.state.stateable_pauseplay&&t.createElement(i,{ref:"playPauseButton",timeline:this.state.timeline}),this.state.stateable_seekbar&&t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly()}),s.is360&&(!s.isDevicePreview||s.enableFs)&&t.createElement(o,{handleFullScreen:this.handleFullScreen}),this.props.hasCaption&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(r,null)))},PlaybackProgress:function(){var i=e("polyfills/vendorOverrides").crispScale,n=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile":""].join(" ");return t.createElement("div",{className:n,style:i()},t.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},t.createElement("div",{className:"cs-seek progress-bar-seek"},t.createElement("div",{className:"cs-fill cs-brandhighlight-bg progress-bar-fill",style:{width:100*this.state.progress+"%"}})),t.createElement("input",{type:"range",min:"0",max:"1",ref:"input",onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},PlaybackResetButton:function(){var i=e("views/player/Icon"),n=e("polyfills/vendorOverrides").crispScale,r="cs-button btn-reset btn-unstyled force-unstyled inflexible "+(this.state.tabFocused?"focused":"");return t.createElement("button",{className:r,style:n(),onClick:this.resetPlayhead},t.createElement(i,{type:"playbackReset"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_replay))},PopupWindow:function(){var i=e("views/player/Icon"),n=e("helpers/stringTabler");return t.createElement("div",{className:"popup"+(this.state.show?" show":""),style:{zIndex:100}},t.createElement("div",{className:"message-window popup-pane cs-infopanelpopup"},t.createElement("button",{ref:"close",className:"lightbox-close-btn btn-unstyled lightbox-close-btn--large",onClick:this.closePopup},t.createElement(i,{type:"close"})),t.createElement("p",{style:{height:"171px",overflowY:"auto"}},t.createElement("strong",{className:"cs-name"},this.state.presenter.name),t.createElement("em",{className:"cs-name cs-title"},this.state.presenter.title),t.createElement("span",{className:"cs-bio popup-bio"},this.state.presenter.biotext)),this.hasEmail()&&t.createElement("a",{href:"#",className:"popup-send-email cs-link",onClick:this.sendEmail},n.getString("send_an_email")),t.createElement("a",{href:"#",className:"popup-close cs-link",onClick:this.closePopup},n.getString("close"))))},PopupWindowMobile:function(){var i=e("lodash"),n=e("views/presentation/PresentationOverlay"),r=e("views/player/Icon"),s=e("helpers/stringTabler"),o=this.state.presenter,a=o.name,l=o.title,u=!i.isEmpty(l),c=o.biotext,h=!i.isEmpty(c),p=o.mobilephoto,d=!i.isEmpty(p),f=o.email,m=!i.isEmpty(f),g=["popup"],v=["popup-pane"];return this.state.show&&g.push("show"),d&&v.push("with-photo"),m&&v.push("with-email"),t.createElement("div",{className:g.join(" ")},t.createElement(n,null),t.createElement("button",{ref:"close",className:"popup-close-btn btn-unstyled",onClick:this.closePopup},t.createElement(r,{type:"close"})),t.createElement("div",{className:"popup-panel-scroller is-scrollable"},t.createElement("div",{className:"popup-panel-container"},t.createElement("div",{className:v.join(" ")},t.createElement("div",{className:"popup-name"},a),u&&t.createElement("div",{className:"popup-title"},l),h&&t.createElement("div",{className:"popup-bio"},c),d&&t.createElement("div",{className:"popup-photo",role:"img",style:{backgroundImage:['url("',p,'")'].join("")},"aria-label":a}),m&&t.createElement("div",{className:"popup-email",role:"link","aria-label":s.getString("send_an_email"),onClick:this.sendEmail},t.createElement(r,{type:"email"}))))))},PresentationOverlay:function(){return t.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" "),onClick:this.props.onClick||null,onTouchStart:this.props.onClick||null})},Presenter:function(){var i=e("helpers/stringTabler"),n=e("views/player/PresenterVideo"),r=e("helpers/utils");return t.createElement("div",{className:"presenter inflexible cs-infopanel"},this.props.video&&t.createElement(n,{video:this.props.video}),this.props.presenter&&t.createElement("div",{className:"presenter-info"},this.props.presenter.mobilephoto&&!this.props.video&&t.createElement("div",{className:"mobile-photo"},t.createElement("img",{src:this.props.presenter.mobilephoto,alt:this.props.presenter.name})),t.createElement("div",{className:"presenter-info-wrapper"},t.createElement("div",{ref:"name",className:"presenter-name cs-name"+(this.props.presenter.name?"":" hidden"),tabIndex:"-1"},this.props.presenter.name),t.createElement("div",{ref:"title",className:"presenter-title cs-title"+(this.props.presenter.title?"":" hidden"),tabIndex:"-1"},r.ellipsize(this.props.presenter.title,44)),t.createElement("div",{ref:"link",className:"presenter-link"+(this.props.presenter.email||this.props.presenter.bio?"":" hidden"),tabIndex:"-1"},this.hasBothEmailAndBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("more_info")),this.hasOnlyEmail()&&t.createElement("span",{className:"cs-link",onClick:this.onEmailLinkClicked.bind(this,this.props.presenter.email)},i.getString("send_an_email")),this.hasOnlyBioText()&&t.createElement("span",{className:"cs-link",onClick:this.moreInfo},i.getString("bio"))))))},PresenterMobile:function(){return t.createElement("li",{role:"tab",className:"tab"},t.createElement("button",{onClick:this.moreInfo},"Presenter Bio")," ")},PresenterVideo:function(){return t.createElement("div",{className:"video-container",ref:"videoContainer"})},RelativeNavControls:function(){var i=e("lodash"),n=e("views/player/Icon"),r=e("views/player/Timer"),s=e("views/player/SlideControlButton"),o=e("views/player/SubmitAllButton"),a=e("polyfills/detection"),l=this.getPath("props.timers"),u=i.pick(this.props,["slide","windowId"]);return t.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},t.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&t.createElement(s,t.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},u),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"next":"prev"})),t.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&t.createElement(s,t.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},u),t.createElement("span",{className:"text"},this.state.i18nnext),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"prev":"next"}))),t.createElement(s,t.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmit)),t.createElement(s,t.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},u),a.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nfinish)),(a.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&t.createElement(o,t.__spread({},u)),a.isMobile&&null!=l&&l.map(function(e,i){return t.createElement(r,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},Resources:function(){e("helpers/utils");var i=e("views/player/ResourcesHeader"),n=e("views/player/ResourcesList"),r=e("polyfills/vendorOverrides").crispScale;return t.createElement("div",{className:"cs-resource resources"},t.createElement("header",{className:"panel-header panel-section-header html-reset",style:r()},t.createElement(i,{description:this.props.model.get("description"),ref:"resourcesHeader"}),t.createElement("hr",{className:"cs-separator panel-relative-hr"})),t.createElement("div",{className:"panel-content"},t.createElement(n,{resources:this.props.model.resources(),ref:"resourcesList"})))},ResourcesHeader:function(){var i=e("helpers/utils");return t.createElement("h4",{className:"panel-section-heading"+(this.state.tabFocused?" focused":""),dangerouslySetInnerHTML:{__html:i.stripTagsMobile(this.props.description)||""},tabIndex:"0"})},ResourcesList:function(){return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,i){return t.createElement("li",{className:"resource",key:i,role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item",target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("img",{className:"resources-icon",src:e.get("image"),alt:e.get("title")}),t.createElement("span",null,e.get("title"))))}.bind(this)))},RichVariableText:function(){var i=e("lodash"),n=e("helpers/Iterable"),r=e("helpers/svg/svgUtils"),s=e("polyfills/vendorOverrides"),o=(e("helpers/constants"),this.state.textLines),a=!1,l=s.getDxAdjustment||i.constant(0),u=function(e){return i.assign(e,{direction:"ltr"})};return t.createElement("g",t.__spread({},this.getInnerProps(),{className:"eventable",onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),o.map(function(e,o){var c=this,h=e.x,p=e.y,d=u(e.domStyle),f=e.runs,m=e.isRtl,g=e.isBiDi,v=e.backgrounds,y=e.linkBackgrounds,b=e.underlines,w=e.strikethroughs,S=e.lineXOff,x=e.lineWidth,T=l(e);return t.createElement("g",{key:o},new n(v).map(function(e,n){var r=e.x1,s=e.x2||x,o=i.omit(e,["x1","x2"]);return t.createElement("rect",t.__spread({className:"text-background",key:["bg",n].join(""),x:r+S,width:s-r},o))}).toArray(),new n(y).filter(function(e){return null!=e.linkId&&e.linkId===c.state.hoverId}).map(function(e,n){var r=e.x1,s=e.x2||x,o=c.getLinkColor(e.linkId),a=i.extend(i.omit(e,["x1","x2","linkId"]),{fill:o});return t.createElement("rect",t.__spread({className:"text-background",key:["linkbg",n].join(""),x:r+S,width:s-r},a))}).toArray(),t.createElement("text",{x:h-T,y:p,style:d},new n(f).filter(function(e){return e.spans.some(function(e){return e.content.length>0})}).map(function(e,o){var l=e.spans,c=u(e.domStyle),h=e.isRtl;return t.createElement("tspan",{key:o,className:"text-run",style:c},new n(l).filter(function(e){return e.content.length>0}).map(function(e,n){var o=e.content,u=e.dx,c=e.xs,d=e.widths,f=e.hasShadow,v=e.domStyle,y=e.y,b=e.linkId,w=-i.get(l,[n-1,"y"],p)+y,x=i.findLastIndex(u,function(e){return 0!==e})+1,T={dx:u.slice(0,x).join(" "),dy:w,style:v,className:null==b?"text-segment":"text-segment link"},E=o.join("");if(f&&s.tspanFilters&&(T.style.filter=r.buildUrl(this.shadowFilterId),a=!0),m||g){var A,C={direction:h?"rtl":"ltr"};E=i.reduce(u,function(e,t,i){return(null==A||0!==t&&A.chars.length>0)&&(null!=A&&A.chars.length&&A.chars.push("​"),A={chars:[],x:c[i]+(h?d[i]:0),width:0},e.push(A)),A.chars.push(o[i]),A.width+=d[i],e},[]).map(function(e,i){return t.createElement("tspan",{key:i,className:"rtl-pos-span",style:C,y:p,x:e.x+S+(h?-1:1)*e.width/2},e.chars.join(""))}),delete T.dx,delete T.dy}return t.createElement("tspan",t.__spread({key:n},T,{"data-linkid":b}),E)}.bind(this)).toArray())}.bind(this)).toArray()),new n(b).concat(w).map(function(e,n){var r=e.x1,s=e.x2||x,o=e.y,a=i.omit(e,["x1","x2","y"]);return t.createElement("line",t.__spread({key:["dec",n].join(""),x1:r+S,x2:s+S,y1:o,y2:o},a))}).toArray())}.bind(this)),a&&t.createElement("defs",null,t.createElement("filter",{id:this.shadowFilterId,x:"0%",y:"0%",width:"113%",height:"113%"},t.createElement("feFlood",{floodColor:"#969696"}),t.createElement("feComposite",{in2:"SourceAlpha",operator:"in"}),t.createElement("feGaussianBlur",{stdDeviation:"1"}),t.createElement("feOffset",{dx:"1.5",dy:"1.5"}),t.createElement("feMerge",null,t.createElement("feMergeNode",null),t.createElement("feMergeNode",{in:"SourceGraphic"})))))},ScrollAreaSlideObject:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/VectorSlideObject"),r=e("views/presentation/ScrollBar"),s=e("polyfills/detection"),o=this.props.topOffset||0;return t.createElement("div",{className:"scrollarea",style:{width:this.width()-(s.isMobileOrTouchableTheme?10:0),height:this.height(),top:o+"px"}},this.hasVectorBackground()&&t.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},t.createElement(n,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&t.createElement("div",{className:"scrollarea-background"},t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),t.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:this.width(),height:this.height()-o}},t.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight,width:this.width(),position:"absolute"}},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,onBeforeScrollFocus:this.beforeChildScrollFocus,onScrollFocus:this.childScrollFocus,slideVisible:this.props.slideVisible,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,parent:this})}.bind(this)))),!this.state.shouldNotScroll&&!s.isIE()&&t.createElement(r,{ref:"scrollBar",width:this.width(),height:this.height()-o,offY:o,parent:this}))},ScrollBar:function(){return t.createElement("div",{className:"scrollarea-scrollbar",ref:"scrollBar",style:{top:this.props.offY||0,left:(this.props.offX||0)+this.props.width-30,height:this.props.height},onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},t.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))},SearchFooter:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},t.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},t.createElement("button",{onClick:this.clearSearch,className:"btn cs-button btn-stretch "+(this.state.clearFocus?"focused":""),ref:"searchClear"},t.createElement(i,{type:"clear"})," ",this.state.i18nsearch_clear)),t.createElement("hr",{className:"cs-diva diva"}),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},n.isMobile&&t.createElement("div",{className:"mobile-search-icon"},t.createElement(i,{key:"Search",type:"Search"})),t.createElement("input",{className:["cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"}),t.createElement("button",{onClick:this.search,className:["cs-button btn-unstyled inflexible",this.state.submitFocus?"focused":""].join(" "),ref:"searchSubmit"},t.createElement(i,{type:"search"}),t.createElement("span",{className:"accessibility"},this.state.i18nacc_search_input))))},SearchOptions:function(){var i=e("views/player/Icon"),n=["panel-header","panel-section-header","panel-section-search",this.props.visible?"":"hidden"].join(" "),r=["search-options",this.state.searchOptionsVisible?"visible":""].join(" ");return t.createElement("header",{className:n},t.createElement("h4",{className:"panel-section-heading cs-heading"},this.state.i18nsearch_results),t.createElement("button",{ref:"btnFilter",onClick:this.toggleSearchOptions,className:["btn-unstyled search-filter cs-search-filter",this.state.btnFilterFocus?"focused":""].join(" ")},this.state.i18nfilter," ",t.createElement(i,{type:"gear"})),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("div",{className:r},t.createElement("p",null,this.state.i18nsearch_in),t.createElement("label",{className:this.state.cbNotesFocus?"focused":""},t.createElement("input",{ref:"cbNotes",type:"checkbox",checked:this.state.notes,onChange:this.handleChangeNotes,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_notes),t.createElement("label",{className:this.state.cbTextFocus?"focused":""},t.createElement("input",{ref:"cbText",type:"checkbox",checked:this.state.text,onChange:this.handleChangeText,className:this.state.searchOptionsVisible?"":"hidden"}),this.state.i18nslide_text),t.createElement("hr",{className:"cs-divb divb"})))},SearchResults:function(){var i=e("views/player/MenuLinksList");return t.createElement("div",{className:"panel-content panel-content-menu"+(this.state.tabFocused?" focused":""),style:{outlineOffset:"-3px"}},t.createElement("div",{className:["outline",!0===this.props.autonumber?"nested-numbering":"",!0===this.props.wrap?"wrap-list":""].join(" "),onClick:this.props.checkFlow},t.createElement(i,{ref:"menuLinksList",shouldKillLink:this.props.shouldKillLink,showChildren:!this.props.isSearchActive,showDisplayText:!this.props.isSearchActive,collapsible:this.props.collapsible,visitedSlides:this.props.visitedSlides,wrap:this.props.wrap,hasAnyLink:this.props.hasAnyLink,tips:this.props.tips,autonumber:this.props.autonumber,links:this.props.links,onClick:this.onClickMenuItem,onSelectMenuItem:this.props.onSelectMenuItem})))},SequenceCtrlDrop:function(){var e,i=this.props.numWidth,n=this.props.height,r=this.props.width;return t.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff,width:r+i,height:n}},t.createElement("div",{className:"sequence-ctrl-num",style:{width:i,height:n,lineHeight:n+"px",color:this.state.reviewColor}},this.state.reviewIdx+1+"."),t.createElement("div",{className:"sequence-ctrl-hit",style:{width:r,height:n}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:r,left:i,top:-8,display:this.state.topBar?"block":"none"}}),t.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:(e={top:n,width:r,left:i},_defineProperty(e,"top",n+8),_defineProperty(e,"display",this.state.bottomBar?"block":"none"),e)}))},SequenceCtrlSlideObject:function(){var i=e("views/presentation/SequenceCtrlDrop"),n=e("views/presentation/SequenceCtrlDragItem"),r=e("views/presentation/ScrollBar"),s=e("polyfills/detection"),o=this.getPath("props.model.width"),a=this.getPath("props.model.height"),l={width:o+4,height:a,marginLeft:4,overflow:"hidden"},u=6+_.sum(this.state.itemslist,function(e){return e.textdata.height+16}),c=0,h=11,p=this.props.model.get("colors");return t.createElement("div",{className:"sequence-ctrl",style:l},t.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:l},t.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(e,n){var r=e.textdata.height;return h=(c=h)+r+16,t.createElement(i,{ref:"item"+n,parent:this,key:e.textdata.uniqueId,idx:n,width:e.textdata.width,height:e.textdata.height,numWidth:this.numWidth,yOff:c,pr:e.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(e,i){e.textdata.height;var r={style:"wordbank",width:o-(this.numWidth+18+4),height:e.textdata.height,kind:"dragitem",xOff:e.textdata.xPos,yOff:e.textdata.yPos,itemdata:e.itemdata,idx:i,data:{textdata:e.textdata},parentModel:this.props.model};return t.createElement("div",{className:"sequence-ctrl-drag-container",key:i,ref:"sequenceItemContainer"+i,style:{position:"absolute"}},t.createElement(n,{ref:"sequenceItem"+i,key:e.textdata.uniqueId,idx:i,parent:this,colors:p,model:r}))}.bind(this)),t.createElement("div",{style:{width:1,height:1,top:u,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!s.isIE()&&t.createElement(r,{ref:"scrollBar",width:o-4,height:a,offY:0,parent:this,initSelf:!0}))},Sidebar:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),r=e("views/player/Presenter"),s="area-secondary cs-left inflexible "+(this.state.activeTab||this.hasLogo()?"":"hidden");return t.createElement("div",{className:s,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo"},t.createElement("img",{src:this.logoUrl(),alt:"logo"})),(this.hasPresenter()||this.hasVideo())&&t.createElement(r,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"tablist"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab,getActivePanel:this.getActivePanel})}.bind(this))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)))))},SidebarMobile:function(){var i=e("views/player/Icon"),n=e("views/player/TabPanel"),r=e("views/player/SidebarTab"),s=e("views/player/SearchFooter"),o=e("views/player/Presenter"),a=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"content-nav"},t.createElement("div",{className:"content-bg"}),t.createElement("nav",{className:"content-menu is-scrollable"},t.createElement("ul",{className:"content-menu-options",role:"tablist"},t.createElement("li",{role:"tab",className:"tab menu-close"},t.createElement("button",{ref:"close",onClick:this.props.toggleMenu},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})),t.createElement("span",{className:"text"},"Menu"))),(this.hasPresenter()||this.hasVideo())&&t.createElement(o,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),this.state.tabs.map(function(e,i){return t.createElement(r,{ref:"sidebarTab"+i,config:e,key:i,tabChanged:this.props.tabChanged,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)))),t.createElement("div",{className:"content-tabs"},t.createElement("button",{ref:"close",className:"tab-close",onTouchStart:this.props.closeTab,onMouseDown:this.props.closeTab},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"close"})),t.createElement("span",{className:"text"},"Close")),a&&t.createElement(s,{ref:"searchFooter",showClearButton:!1,addFocusObjects:function(){},onSearch:this.onSearch,onClearSearch:function(){}}),this.state.tabs.map(function(e,i){return t.createElement(n,{config:e,key:i,ref:"sidebarPanel"+i,panelClass:"panel panel-"+e.name,model:this.props.model,closeTab:this.props.closeTab,activeTab:this.state.activeTab})}.bind(this))))},SidebarTab:function(){e("helpers/stringTabler");var i=e("polyfills/vendorOverrides").crispScale,n=this.props.activeTab===this.props.config,r=function(e){return[e,this.props.config.name].join("-")}.bind(this),s=r("tab"),o=["tab","cs-tabs",s,this.props.config.isLive?"":"hidden",n?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{className:o,style:i(),role:"tab","aria-selected":n,"aria-controls":r("panel"),id:s,onClick:this.activate,tabIndex:"-1"},this.state.i18ntitle)},SidebarTabMobile:function(){var e=["tab",this.props.config.name,this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{role:"tab",className:e},t.createElement("button",{className:"tabs-trigger",onClick:this.activate},this.state.i18ntitle))},Slide:function(){var i,n=e("views/presentation/SlideLayer"),r=e("views/presentation/SlideBackground"),s=e("views/presentation/VectorSlideBackground"),o=e("polyfills/detection"),a=this.props.model,l=this.props.model.get("width"),u=this.props.model.get("height"),c=this.getPath("props.model.background.type"),h=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),p={zIndex:this.state.transitionDepth,width:l,height:u},d=this.props.slideFrame;return null!=d&&(i=d.props.model,p.top=Math.max(0,(i.get("height")-a.get("height"))/2),p.left=Math.max(0,(i.get("width")-a.get("width"))/2)),t.createElement("div",{className:h,"data-rollout-highest-node":"true",style:p,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},!!c&&"vector"===c&&t.createElement(s,{ref:"bg",model:this.props.model}),!!c&&"vector"!==c&&t.createElement(r,{ref:"bg",layerModel:this.props.model}),t.createElement("div",{className:"zoom-bg-container"}),this.getPath("props.model.slideLayers").map(function(e,i){return t.createElement(n,{ref:"layer"+i,key:e.cid,model:e,slideFrame:this.props.slideFrame,width:l,height:u})}.bind(this)),t.createElement("div",{ref:"contentArea",className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}),!o.isMobileOrTouchableTheme&&t.createElement("div",{className:"slide-text-fix"}))},SlideBackground:function(){var i=e("views/presentation/LinearBackgroundGradient");return t.createElement("svg",{width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height")},t.createElement("defs",null,"fill"===this.props.layerModel.background().type?t.createElement(i,{patternFillId:this.patternFillId(),layerModel:this.props.layerModel}):t.createElement("pattern",{id:this.patternFillId(),width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),patternUnits:"userSpaceOnUse"},t.createElement("image",{width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),xlinkHref:this.props.layerModel.backgroundImageUrl()}))),t.createElement("rect",{id:"slide-bg-"+this.props.layerModel.get("id"),width:this.props.layerModel.get("width"),height:this.props.layerModel.get("height"),fill:["url(#",this.patternFillId(),")"].join("")}))},SlideContainer:function(){var i,n=e("helpers/svg/svgUtils"),r=e("helpers/utils"),s=e("polyfills/detection"),o=(e("helpers/windowManager"),e("views/player/Captions")),a=e("views/presentation/Slide"),l=e("bowser"),u={overflow:this.state.overflowHide&&!s.isTouchableTheme?"hidden":"visible"},c=this.props.scale>0?this.props.scale:1,h=r.pxify(this.state.xOff||0),p=r.pxify(this.state.yOff||0),d={};this.state.scale&&(c=this.state.scale,i=Math.max(1,1/c),d[this.cssTransform]=["translate(-50%, -50%)",n.transformScale(i,i)].join(" "));var f=l.mac&&l.safari?"translate3d("+h+", "+p+", 0)":n.transformTranslate(h,p);return u[this.cssTransform]=[f,n.transformScale(c+.001,c+.001)].join(" "),null!=this.state.origin&&(u[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(u.width=this.props.currentSlide.get("width"),u.height=this.props.currentSlide.get("height")),t.createElement("div",{style:u,className:"slide-container"},this.state.slides.map(function(e){return t.createElement("div",{key:e.absoluteId,className:"slide-transition-container",style:{width:e.get("width")+"px",height:e.get("height")+"px",overflow:"hidden"}},t.createElement(a,{ref:e.absoluteId,model:e,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,e),slideContainer:this}))}.bind(this)),s.isMobileOrTouchableTheme&&t.createElement("div",{className:"swipe-transition-container"}),!(s.isClassic&&s.isMobile)&&this.props.lightboxed&&t.createElement(o,{lightboxed:this.props.lightboxed}),(s.isMobileOrTouchableTheme||!s.isClassic)&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&t.createElement("div",{className:"load-container",style:this.state.loadContainerStyleAttr},t.createElement("div",{className:"slide-loader",style:d},t.createElement("div",{className:"mobile-loader-dot dot1"}),t.createElement("div",{className:"mobile-loader-dot dot2"}),t.createElement("div",{className:"mobile-loader-dot dot3"}))))},SlideControlButton:function(){var i=e("lodash"),n=e("polyfills/vendorOverrides").crispScale,r=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],s=i.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||r.push("hidden"),this.state.focused&&r.push("focused"),t.createElement("button",t.__spread({ref:"btn",style:n(),className:r.join(" "),"aria-disabled":this.disabled(),tabIndex:"-1"},s,this.getButtonEvents()),this.props.children)},SlideFrameSlideObject:function(){var i=e("lodash"),n=e("views/presentation/Slide"),r=e("views/presentation/VectorSlideObject");return t.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&t.createElement(r,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&t.createElement(n,{model:this.state.slideModel,slideFrame:this,transitionComplete:i.noop,onSlideStarted:this.onSlideStarted}))},SlideLayer:function(){var i=e("views/presentation/SlideObject"),n=e("views/presentation/AudioPlayer"),r=e("views/presentation/SlideBackground"),s=this.state.renderChildren||this.isVisible();return t.createElement("div",{ref:"contentArea",className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width,height:this.props.height}},s&&this.props.model.get("modal")&&t.createElement("div",{className:"layer-modal-bg"}),s&&this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:e.cid,model:e,slideVisible:"shown"===this.displayClass(),slideFrame:this.props.slideFrame})}.bind(this)),s&&this.props.model.hasBackground()&&t.createElement(r,{ref:"bg",layerModel:this.props.model}),this.state.audio&&t.createElement("div",{ref:"allAudio",className:"hidden"},this.props.model.audiolib().map(function(e,i){return t.createElement(n,{ref:"audio"+i,key:i,model:e,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))},SlideLoaderIndicator:function(){var e={left:this.state.cursorX,top:this.state.cursorY};return t.createElement("div",{className:"slide-loader",style:e})},SlideLoaderOverlay:function(){var i=e("views/player/SlideLoaderIndicator"),n=this.state.showIndicator,r=["slide-loader-overlay",n?"with-indicator":""].join(" ");return t.createElement("div",{className:r,onContextMenu:this.onCtxMenu},n&&t.createElement(i,null))},SlideLockCursor:function(){return t.createElement("div",{id:"slide-lock",className:this.state.show?"shown":"hidden",style:{pointerEvents:"none"}})},SlideLockCursorMobile:function(){return t.createElement("div",null)},SlideObject:function(){var i=e("polyfills/vendorOverrides").crispScale,n=this.getStyles();this.props.model.isKind("shufflegroup")||i(n,{noTransform:!0,allThemes:!0});var r=["slide-object","slide-object-"+this.props.model.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",this.props.model.isToolTip()?"tooltip":"",this.props.model.isDraggable()?"draggable":"",this.props.model.isRotatable()?"rotatable":"",this.props.model.isTweenable()?"tweenable":"",this.props.model.getIsSlideableParent&&this.props.model.getIsSlideableParent()?"slideable-parent":""].join(" ");return t.createElement("div",{className:r,style:n,"aria-label":this.getAccessibleText(),role:this.getAriaRole(),"aria-checked":this.getIsAriaChecked(),"data-model-id":this.props.model.id,"data-model-abs-id":this.props.model.absoluteId,tabIndex:"-1"},this.props.model.get("markerType")&&t.createElement("div",{ref:"markerAnimation",className:["marker-animation marker-animation-",this.props.model.get("markerType")].join("")}),this.props.model.isHotSpotMarker()&&t.createElement("div",{className:"hotspot-marker"},t.createElement("span",null)),t.createElement(this.slideObjectInnard,this.getInnardConfigs()))},SlideRelatedActions:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({handledSubmitAll:this.props.handledSubmitAll},this.getChildProps())))},SlideRelatedActionsMobile:function(){var i=e("views/player/RelativeNavControls");return t.createElement("div",{className:"controls-group grid-row control-actions"},t.createElement(i,t.__spread({player:this.props.player,timers:this.props.timers},this.getChildProps())))},SlideWindowBackground:function(){var e=this.props.bg,i=e.width,n=e.height;return t.createElement("div",{className:"slide-window-background",style:{width:i,height:n}},this.renderBackground())},StartOverlay:function(){return t.createElement("div",{className:"start-overlay "+(this.state.visible?"shown":"hidden")},t.createElement("div",{ref:"playIcon",onClick:this.onClick,onKeyDown:this.onClick,role:"button",tabIndex:"0"},t.createElement("div",{className:"cs-button"},t.createElement("div",null,"►"))))},StateGroupSlideObject:function(){var i=e("views/presentation/SlideObject");return t.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden")},this.props.model.objects().map(function(e,n){return t.createElement(i,{ref:"obj"+n,key:n,model:e,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame})}.bind(this)),t.createElement("div",{className:"state-group-top-level"}))},SubmitAllButton:function(){var i=e("polyfills/detection"),n=e("views/player/Icon"),r=e("views/player/SlideControlButton"),s=e("helpers/constants");return t.createElement("span",{className:"submit-all-button"},t.createElement(r,{kind:"submitall",ref:"btn",slide:this.props.slide,windowId:this.props.windowId||s.refs.FRAME,onButtonDown:this.triggerSubmitAll},i.isMobile&&t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"})),t.createElement("span",{className:"text"},this.state.i18nsubmitall)))},SvgLibrary:function(){return t.createElement("div",{id:"svg-library"},t.createElement("svg",{width:"0",height:"0",style:{position:"absolute"}},t.createElement("defs",null,t.createElement("filter",{id:"text-shadow",x:"0%",y:"0%",width:"113%",height:"113%"},t.createElement("feGaussianBlur",{stdDeviation:"1 1",result:"text-shadow"}),t.createElement("feOffset",{dx:"1.5",dy:"1.5"})),t.createElement("linearGradient",{id:"timer-blue-grad",className:"cs-duration"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"timer-yellow-grad",className:"cs-elapsed"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"drop-list-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"dragdrop-hover-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("linearGradient",{id:"wordbank-droparea-stroke-gradient",gradientTransform:"rotate(90)"},t.createElement("stop",{offset:"0%"}),t.createElement("stop",{offset:"100%"})),t.createElement("filter",{id:"dragdrop-inner-stroke"},t.createElement("feFlood",{floodColor:"#fff",result:"strokeColor"}),t.createElement("feMorphology",{operator:"erode",radius:"2",in:"SourceAlpha",result:"innerMorph"}),t.createElement("feMorphology",{operator:"erode",radius:"1",in:"SourceAlpha",result:"outerMorph"}),t.createElement("feComposite",{in:"innerMorph",in2:"outerMorph",operator:"xor",result:"morph"}),t.createElement("feComposite",{in:"strokeColor",in2:"morph",operator:"in",result:"innerStroke"}),t.createElement("feComposite",{in:"innerStroke",in2:"SourceGraphic",operator:"over"})))))},TabPanel:function(){e("views/player/Icon");var i=e("views/player/Menu"),n=e("views/player/Glossary"),r=e("views/player/Notes"),s=e("views/player/Resources"),o=(e("views/player/MicroScrollBar"),e("polyfills/vendorOverrides").crispScale),a=function(e){return[e,this.props.config.name].join("-")}.bind(this);return t.createElement("section",{"aria-labelledby":a("tab"),className:["cs-menu cs-panel is-scrollable",this.props.config.isLive?"":"hidden",this.props.activeTab===this.props.config?"cs-selected active":"hidden",this.props.panelClass,this.state.tabFocused?"focused":""].join(" "),style:o(),role:"tabpanel",id:a("panel")},"outline"===this.props.config.name&&t.createElement(i,{ref:"menu",model:this.props.model.navData(),notesData:this.props.model.notesData(),addFocusObjects:this.addFocusObjects,options:this.getPath("props.model.controlOptions.menuOptions"),hasSearch:this.getPath("props.model.controlOptions.controls.search"),title:this.getPath("props.model.controlOptions.sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===this.props.config.name&&t.createElement(n,{ref:"glossary",collection:this.props.model.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===this.props.config.name&&t.createElement(s,{ref:"resources",model:this.props.model.resourceData(),isLive:this.props.config.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===this.props.config.name&&t.createElement(r,{ref:"notes",active:this.props.activeTab,collection:this.props.model.notesData(),addFocusObjects:this.addFocusObjects}))},TextInputSlideObject:function(){var i=e("views/presentation/VectorSlideObject"),n=e("helpers/utils"),r=this.getPath("props.model.maxchars"),s=this.getPath("props.model.marginright"),o=this.isMultiline&&!this.isNumeric,a=o?6:0,l=n.pxify(this.getPath("props.model.fontsize")),u={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:l,lineHeight:o?"normal":l,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),paddingTop:this.getPath("props.model.margintop")+a,paddingRight:this.isNumeric?0:s,paddingBottom:this.getPath("props.model.marginbottom"),paddingLeft:this.getPath("props.model.marginleft")},c={width:this.getPath("props.model.width"),height:this.getPath("props.model.height")};return this.hasVectorBackground()||this.hasImageBackground()||(c.border="1px solid rgb(160,160,160)",c.backgroundColor="#fff"),t.createElement("div",{className:this.state.placeholderClass},this.hasVectorBackground()&&t.createElement(i,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&t.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isTextArea()?t.createElement("div",{style:c},t.createElement("textarea",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,style:u,maxLength:r>0?r:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeholder"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart})):t.createElement("input",{ref:"input",onFocus:this.onInputFocus,onBlur:this.onInputBlur,type:"text",style:_.extend({},c,u),maxLength:r>0?r:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeholder"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))},Timer:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),r={width:18,height:18};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:r},t.createElement("svg",{style:r,width:18,height:18,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#timer-yellow-grad)"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),fill:"url(#timer-blue-grad)",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{cx:"9",cy:"9",r:"9",fill:"none",className:"cs-innerstroke"}),t.createElement("circle",{cx:"9",cy:"9",r:"10",fill:"none",className:"cs-innerborder"}))))},TopTabs:function(){var i=e("views/player/TopTabsItem");return t.createElement("div",{className:"top-tabs-"+this.props.align},this.state.tabs.map(function(e,n){return t.createElement(i,{key:n,ref:"topTabsItem"+n,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)))},TopTabsItem:function(){var i=e("views/player/TabPanel"),n=e("helpers/stringTabler"),r=e("polyfills/vendorOverrides").crispScale,s="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name,o=this.props.activeTab===this.props.config,a=this.getTitle();return t.createElement("div",{className:["cs-topmenu-item","cs-tabs","topmenu-item",o?"active cs-selected":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,style:r(),"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},a,t.createElement("span",{className:"accessibility"},a+(o?", "+n.getString("active"):""))),t.createElement("div",{className:"cs-separator topmenu-separator inflexible"},t.createElement("div",{className:"cs-diva topmenu-separator-item"}),t.createElement("div",{className:"cs-divb topmenu-separator-item topmenu-seperator-b"})),s&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},Topbar:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),r=e("views/player/ElapsedAndTotalTime"),s=this.props.model.get("fontscale");return t.createElement("header",{className:["header-primary",s>100?" large-font":"",s>145?"gt-145":""].join(" ")},this.hasTitle()&&t.createElement("h1",{className:"presentation-title cs-title"},this.getPath("props.model.controlOptions.sidebarOptions.titleText")),this.hasElapsedAndTotalTime()&&t.createElement(r,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),t.createElement("div",{className:"top-tabs"},this.hasLinkLeft()&&t.createElement(i,{ref:"topTabsLeft",model:this.props.model,tabs:[],align:"left"}),this.hasLinkRight()&&t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:[],align:"right"})))},UiMobile:function(){var i=e("views/player/Icon"),n=e("views/player/Bottombar"),r=e("views/player/SidebarMobile"),s=e("views/player/MobileSearchButton"),o=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:["option-pane",this.state.isActive?"active":"",this.state.showMenu?"menu-active":"",this.state.showSearch?"search-active":"",this.state.showTab?"tab-active":"",this.state.isFs&&this.props.hasFsOnly?"only-fs-close":""].join(" ")},t.createElement("div",{className:"menu-handle"},t.createElement("button",{ref:"menu-handle",className:"hamburger-btn",onTouchEnd:this.onHamburgerTouchEnd,onClick:this.previewMouseEvent(this.toggleMenu)},t.createElement("span",{className:"btn-icon"},t.createElement(i,{type:"menu"})))),o&&t.createElement(s,{toggleSearchUi:this.onToggleSearchUi}),this.props.currentSlide&&t.createElement(n,{ref:"bb",player:this.props.model,slide:this.props.currentSlide,timers:this.props.timers,hasSearch:o,toggleSearchUi:this.onToggleSearchUi}),t.createElement(r,{ref:"sidebar",model:this.props.model,tabChanged:this.onTabChange,closeTab:this.closeTab,toggleMenu:this.toggleMenu}))},VariableText:function(){var e={height:this.props.model.height(),width:this.props.model.width()};return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:e},t.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},t.createElement("div",{ref:"textLibContentWrap",className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))},VectorSlideBackground:function(){var i=e("views/presentation/VectorBackground");return t.createElement(i,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps})},VectorText:function(){var i=e("lodash"),n=e("views/presentation/VectorTextItem"),r=e("views/presentation/VectorTextHitArea");return t.createElement("g",{className:"vector-text-item"},t.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&t.createElement(n,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),t.createElement(n,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem.linkdata().map(function(e,n){return t.createElement(r,{key:"hitArea"+n,ref:"hitItem"+n,color:i.get(e.get("fill"),"colors[0]"),hotAreas:e.get("hotareas"),idx:n,linkId:e.get("id"),onOverCallback:this.onOverCallback,onOutCallback:this.onOutCallback,onClickCallback:this.onClickCallback})}.bind(this)))},VectorTextHitArea:function(){var i=e("helpers/utils"),n=function(e){return"hotarea_"+e};return t.createElement("g",null,this.props.hotAreas.map(function(e,r){return t.createElement("g",{ref:n(r),key:n(r)},t.createElement("rect",{className:"link-hit-area","data-hotarea":n(this.props.idx),x:e.xPos,y:e.yPos,width:e.width,height:e.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onClick:this.onClickCallback,onTouchEnd:this.onClickCallback}),t.createElement("rect",{className:"link-highlight-area","data-linkarea":n(this.props.idx),x:e.xPos,y:e.yPos,width:e.width,height:e.height,fill:null==this.props.color?"none":i.hexify(this.props.color.rgb),style:{opacity:0}}))}.bind(this)))},VideoControls:function(){var i=e("views/player/Icon"),n=e("polyfills/detection"),r=this.props.isPlaying?"pauseLegacy":"playLegacy";return t.createElement("div",{className:"video-controls grid-row inflexible"},t.createElement("div",{className:"video-controls-play-pause inflexible",onClick:!n.isMobile&&this.props.toggleVideoControls,onTouchStart:n.isMobile&&this.props.toggleVideoControls},t.createElement("button",{className:"btn-unstyled"},t.createElement(i,{key:r,type:r}),t.createElement("span",{className:"accessibility"},this.props.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))),t.createElement("div",{className:"progress-bar",ref:"progressBar"},t.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},t.createElement("div",{className:"progress-bar-seek"},t.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}})),t.createElement("input",{type:"range",ref:"inputEl",min:"0",max:this.props.duration,onChange:this.onChange,onInput:this.props.rangeslideVideoControls,value:this.props.currentTime,step:"1"})),t.createElement("div",{className:"progress-bar-elapsed-time"},t.createElement("span",null,this.currentTimeFormatted()),t.createElement("span",{className:"progress-bar-total-duration"},"/ ",this.durationFormatted()))))},VideoPlayer:function(){var i=e("helpers/utils"),n=e("helpers/automation"),r=this.state.hasEverPlayed,s=this.props.posterFrameUrl,o=this.props.playerProps.width,a=this.props.playerProps.height,l={height:i.pxify(a),width:i.pxify(o)};return t.createElement("div",{className:"video-player-limited-container",style:l,"data-accepts":"events"},t.createElement("div",{ref:"container"}),(n.clockIsOverridden||!r)&&null!=s&&t.createElement("img",{className:"video-player-poster",width:o,height:a,src:s,alt:""}))},VideoSlideObject:function(){var i=e("views/presentation/VideoControls"),n=e("views/presentation/VideoPlayer"),r=(this.props.playerProps.width,this.props.playerProps.height,this.isValidVideo()),s=this.state.posterImage;return t.createElement("div",{className:"video-slide-object"},r&&t.createElement(n,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,isTimelineControlled:this.state.isTimelineControlled,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),posterFrameUrl:null!=s?s:this.posterFrameUrl(),ref:"videoPlayer",timeline:this.layerTimeline,src:this.getVideoUrl(),pausedByPlayButton:this.pausedByPlayButton,pause:this.pauseVideo}),this.props.model.get("showcontrols")&&r&&t.createElement(i,{ref:"controls",currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,rangeslideVideoControls:this.rangeslideVideoControls}),!r&&t.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},"swf"))},VolumeControls:function(){var i=e("views/player/Icon"),n=e("polyfills/vendorOverrides").crispScale;return t.createElement("div",{className:"controls-group control-bar inflexible"},t.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},t.createElement("button",{className:"btn-unstyled text-align-middle",style:n()},t.createElement(i,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),t.createElement("span",{className:"accessibility"},this.state.i18nvolume)),t.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),style:n(),id:"control-volume-slider"},t.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))},WebObjectSlideObject:function(){return t.createElement("div",{className:"webobject is-scrollable",style:{width:this.props.playerProps.width,height:this.props.playerProps.height,background:"transparent"}},!this.state.isError&&t.createElement("iframe",{ref:"iframe",src:this.state.url,allowFullScreen:!0,className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad}),this.showThumb()&&t.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:this.props.playerProps.width,height:this.props.playerProps.height},className:"thumbnail",src:this.imageUrl}))},ZoomImage:function(){return t.createElement("div",{className:"zoom-image "+this.displayClass()},t.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))},AnnotationColors:function(){var i=e("views/presentation/LinearBackgroundGradient"),n={fillcolor:this.state.fillColorId,bordercolor:this.state.borderColorId},r=Object.keys(n);return t.createElement("g",null,this.props.model.get("colors").map(function(e){var s=e.name,o=e.fill;if(r.indexOf(s)>=0)return t.createElement(i,{key:s,patternFillId:n[s],fill:o})}))},AnnotationDefs:function(){var i=e("helpers/svg/svgUtils"),n=this.state.gradientId,r=this.state.filterId,s=this.state.bgId;return t.createElement("defs",null,t.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:n,spreadMethod:"pad",x1:"0",x2:"0",y1:"-18.5",y2:"6"},t.createElement("stop",{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.7"}),t.createElement("stop",{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0.1"})),t.createElement("filter",{colorInterpolationFilters:"sRGB",height:"140%",id:r,width:"140%",x:"-20%",y:"-20%"},t.createElement("feColorMatrix",{in:"SourceGraphic",result:"result1",type:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.2 0"})),t.createElement("g",{id:s},t.createElement("path",{d:" M -20 -20.05 L -20 19.95 20 19.95 20 -20.05 -20 -20.05 Z",fill:"#00FF00",fillOpacity:"0"}),t.createElement("path",{d:" M -20 -17.55 L -20 4.7 Q 9.595703125 -11.3716796875 20 5 L 20 -17.55 -20 -17.55 Z",fill:i.buildUrl(n)})),this.renderColors())},AnnotationRectangle:function(){return t.createElement("div",{className:"annotation-rectangle",style:this.getStyle()})},AnnotationSpotlight:function(){var i=e("helpers/svg/svgUtils"),n=this.state.maskId,r=this.state.fillColorId,s=this.state.borderColorId,o=this.props.model,a=o.getClosestAncestorByKind("slide"),l=a.get("width"),u=a.get("height"),c=o.get("xPos"),h=o.get("yPos"),p=o.get("width"),d=o.get("height"),f=o.get("borderwidth"),m=o.get("boxradius");return t.createElement("svg",{className:"annotation-spotlight",width:l,height:u,viewBox:[0,0,l,u].join(" "),style:{left:-c,top:-h}},t.createElement("defs",null,t.createElement("mask",{id:n},t.createElement("rect",{x:"0",y:"0",width:l,height:u,fill:"#fff"}),t.createElement("rect",{x:c,y:h,width:p,height:d,rx:m,ry:m,fill:"#000"})),this.renderColors()),t.createElement("rect",{ref:"overlay",fill:i.buildUrl(r),mask:i.buildUrl(n),x:"0",y:"0",width:l,height:u}),t.createElement("rect",{ref:"border",stroke:i.buildUrl(s),x:c,y:h,width:p,height:d,rx:m,ry:m,strokeWidth:f,fill:"none"}))},ArrowRoundAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-round",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(32.4,18) "},t.createElement("g",{transform:"translate(-29.4,-12.05) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 15.8 -1 Q 15.616015625 -1.009765625 15.35 -0.95 12.0015625 -0.6484375 12 3 L 12 4 3 4 Q -1 4 -1 8 L -1 17.05 Q -1.026171875 19.0087890625 0 19.95 0.9935546875 20.999609375 3 21 L 12 21 12 21.1 Q 12.0001953125 23.1064453125 13 24.05 13.9912109375 25.1259765625 15.95 25.1 L 15.95 25.1 Q 16.5765625 25.103515625 17.15 24.85 17.2119140625 24.837109375 17.25 24.8 17.360546875 24.780078125 17.45 24.7 17.5939453125 24.6765625 17.75 24.6 18.3650390625 24.384375 18.9 23.9 18.9361328125 23.875390625 18.95 23.85 L 28.55 14.1 Q 29.3962890625 13.2361328125 29.4 12.05 29.3962890625 10.8638671875 28.55 9.95 L 19.05 0.35 Q 19.02421875 0.3240234375 19 0.3 18.5916015625 -0.0490234375 18.1 -0.25 L 18.1 -0.3 Q 17.9005859375 -0.4146484375 17.7 -0.5 17.5 -0.6 17.3 -0.7 17.275 -0.71171875 17.25 -0.75 16.600390625 -1.0095703125 15.95 -1 15.85 -1 15.8 -1 M 27.15 11.35 Q 27.4037109375 11.65390625 27.4 12.05 27.4037109375 12.4462890625 27.15 12.75 L 17.55 22.45 17.55 22.4 Q 17.31328125 22.6478515625 17 22.75 16.936328125 22.7685546875 16.85 22.8 16.7212890625 22.8419921875 16.6 22.9 16.5619140625 22.9416015625 16.5 22.95 16.4890625 22.9603515625 16.45 22.95 16.199609375 23.0904296875 15.95 23.1 L 15.9 23.1 Q 14.9515625 23.1171875 14.45 22.65 13.999609375 22.14453125 14 21.1 L 14 20 Q 13.996484375 19.5892578125 13.7 19.3 13.4107421875 19.003515625 13 19 L 3 19 Q 1.95546875 19.0001953125 1.4 18.55 0.9826171875 18.0484375 1 17.05 L 1 8 Q 1 6 3 6 L 13 6 Q 13.4107421875 5.996484375 13.7 5.7 13.996484375 5.4107421875 14 5 L 14 3 Q 13.9984375 1.2083984375 15.6 1.05 15.7501953125 1.039453125 15.85 1 15.9080078125 1 15.95 1 16.1740234375 1.0083984375 16.4 1.1 16.4244140625 1.11328125 16.45 1.1 16.625 1.2125 16.8 1.3 16.8603515625 1.3287109375 16.9 1.35 L 16.95 1.35 Q 17.094921875 1.46640625 17.25 1.5 17.489453125 1.6181640625 17.7 1.8 L 27.15 11.35 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 15.25 -1.6 Q 15.05 -1.7 14.85 -1.8 14.4244140625 -2.0056640625 13.95 -2 13.85 -2 13.8 -2 13.676171875 -1.9953125 13.55 -2 10.9990234375 -1.755078125 11 1 L 11 3 1 3 Q -2 3.0001953125 -2 6 L -2 15.05 Q -2.050390625 18 1 18 L 11 18 11 19.1 Q 11 22.150390625 13.95 22.1 14.4244140625 22.10546875 14.85 21.9 14.98359375 21.8251953125 15.15 21.75 15.2220703125 21.7275390625 15.3 21.7 L 15.25 21.7 Q 15.82109375 21.5556640625 16.2 21.15 L 25.8 11.45 Q 26.4017578125 10.866796875 26.4 10.05 26.4015625 9.2330078125 25.8 8.65 L 16.3 -0.95 Q 16.005078125 -1.26875 15.6 -1.45 15.5568359375 -1.4390625 15.5 -1.45 L 15.55 -1.45 Q 15.399609375 -1.5337890625 15.25 -1.6 M 13 1 Q 13.0017578125 0.1046875 13.8 0 13.85 0 13.95 0 14.155859375 0.08828125 14.35 0.15 14.505859375 0.253125 14.65 0.3 14.7732421875 0.3849609375 14.9 0.45 L 24.4 10 14.75 19.7 Q 14.58203125 19.8134765625 14.35 19.9 14.1701171875 20.0005859375 13.95 20.1 13.001953125 20.0755859375 13 19.1 L 13 16 1 16 Q -0.001953125 16.0080078125 0 15 L 0 6 Q -0.001953125 5.0044921875 1 5 L 13 5 13 1 Z"})),t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-27.4,-10) "},t.createElement("path",{d:" M 13 1 L 13 5 1 5 Q -0.001953125 5.0044921875 0 6 L 0 15 Q -0.001953125 16.0080078125 1 16 L 13 16 13 19.1 Q 13.001953125 20.0755859375 13.95 20.1 14.1701171875 20.0005859375 14.35 19.9 14.58203125 19.8134765625 14.75 19.7 L 24.4 10 14.9 0.45 Q 14.7732421875 0.3849609375 14.65 0.3 14.505859375 0.253125 14.35 0.15 14.155859375 0.08828125 13.95 0 13.85 0 13.8 0 13.0017578125 0.1046875 13 1 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-12.4,2) "},this.renderBg()))))},ArrowSquareAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-square",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(31.95,20.25) "},t.createElement("g",{transform:"translate(-29,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 14.85 -0.1 Q 13.9521484375 -1.0048828125 12.75 -1 11.4890625 -0.99609375 10.6 -0.1 L 10.55 -0.1 7 3.45 7.1 3.4 Q 6.4763671875 3.939453125 6.3 4.75 6.2841796875 4.82421875 6.25 4.85 6.06953125 5.5912109375 6.25 6.35 L 6.25 6.3 Q 6.4240234375 7.0802734375 7.05 7.7 L 7.05 7.7 8.55 9.2 2 9.2 Q 0.7466796875 9.2072265625 -0.1 10.05 -0.101171875 10.098828125 -0.15 10.1 -0.9927734375 10.9466796875 -1 12.2 L -1 17.2 Q -0.99609375 18.4609375 -0.1 19.35 0.72109375 20.196484375 2 20.2 L 8.55 20.2 7 21.75 7.05 21.7 Q 6.157421875 22.559765625 6.15 23.85 6.15390625 25.1109375 7.05 26 L 10.6 29.55 Q 11.42109375 30.396484375 12.7 30.4 13.9447265625 30.38828125 14.8 29.55 L 24.7 19.6 Q 24.8380859375 19.549609375 24.95 19.45 25.093359375 19.3828125 25.2 19.25 25.3326171875 19.067578125 25.4 18.9 L 27.55 16.75 Q 28.3962890625 15.8861328125 28.4 14.7 28.396484375 13.42109375 27.55 12.6 L 24 9.05 Q 23.8171875 8.8662109375 23.6 8.7 L 14.85 -0.1 M 22.3 10.2 Q 22.3681640625 10.2685546875 22.45 10.3 22.5244140625 10.3755859375 22.6 10.45 L 26.15 14 Q 26.403515625 14.27890625 26.4 14.7 26.4037109375 15.0962890625 26.15 15.4 L 23.95 17.6 Q 23.8810546875 17.66953125 23.8 17.75 23.7673828125 17.8314453125 23.7 17.9 23.6208984375 17.977734375 23.55 18 23.46953125 18.0810546875 23.4 18.15 L 13.45 28.15 Q 13.136328125 28.411328125 12.7 28.4 12.27890625 28.403515625 12 28.15 L 8.45 24.6 Q 8.14609375 24.2890625 8.15 23.85 8.142578125 23.440234375 8.4 23.15 8.4486328125 23.1626953125 8.45 23.15 L 11.7 19.9 Q 12.0072265625 19.607421875 12 19.2 11.99453125 18.7900390625 11.7 18.5 11.40859375 18.2048828125 11 18.2 L 2 18.2 Q 1.57890625 18.203515625 1.3 17.95 0.99609375 17.6390625 1 17.2 L 1 12.2 Q 0.992578125 11.790234375 1.25 11.5 1.3013671875 11.4990234375 1.3 11.45 1.590234375 11.192578125 2 11.2 L 11 11.2 Q 11.4107421875 11.1984375 11.7 10.9 11.9990234375 10.609375 12 10.2 11.998046875 9.7763671875 11.7 9.45 L 8.45 6.25 8.45 6.3 Q 8.2755859375 6.11953125 8.2 5.9 8.225390625 5.8625 8.2 5.8 8.1447265625 5.5630859375 8.2 5.3 8.2146484375 5.2755859375 8.2 5.2 8.2609375 5.027734375 8.4 4.9 8.436328125 4.8763671875 8.45 4.85 L 12 1.3 12 1.3 Q 12.3109375 0.99609375 12.75 1 13.1478515625 1.0048828125 13.45 1.3 L 22.3 10.2 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-27,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 12.1 -1.45 Q 11.541015625 -2.0005859375 10.7 -2 9.8998046875 -2.0017578125 9.3 -1.45 L 5.75 2.1 Q 5.3662109375 2.502734375 5.2 3 5.0818359375 3.552734375 5.2 4.05 5.364453125 4.591796875 5.75 4.95 L 9 8.2 0 8.2 Q -0.833984375 8.19453125 -1.45 8.75 -2.00546875 9.366015625 -2 10.2 L -2 15.2 Q -2.00546875 16.0337890625 -1.45 16.6 -0.833984375 17.2052734375 0 17.2 L 9 17.2 5.75 20.4 Q 5.1552734375 21.0150390625 5.15 21.85 5.141015625 22.6818359375 5.7 23.25 L 9.25 26.8 Q 9.866015625 27.4052734375 10.7 27.4 11.5337890625 27.4052734375 12.1 26.8 L 22.1 16.85 Q 22.2384765625 16.758984375 22.35 16.6 22.5412109375 16.4556640625 22.65 16.25 L 24.85 14.05 Q 25.41171875 13.4861328125 25.4 12.65 25.395703125 11.8568359375 24.8 11.25 L 21.25 7.7 Q 21.13984375 7.5921875 21 7.5 L 12.1 -1.45 M 20.9 15.15 L 20.9 15.2 20.85 15.2 10.7 25.35 7.15 21.85 13.8 15.2 -0.05 15.2 -0.05 10.2 13.8 10.2 7.1 3.5 10.65 0 19.85 9.15 19.85 9.15 23.4 12.65 20.9 15.15 Z"})),t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-27.05,-12) "},t.createElement("path",{d:" M 20.95 15.2 L 21 15.2 21 15.15 23.5 12.7 19.95 9.15 19.95 9.2 10.75 0 7.2 3.5 13.9 10.2 0 10.2 0 15.2 13.9 15.2 7.2 21.9 10.75 25.4 20.95 15.2 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-11.95,-0.25) "},this.renderBg()))))},ArrowTriangleAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-triangle",height:"66",viewBox:"0 0 40 40",width:"66",x:"0"},this.renderDefs(),t.createElement("g",{transform:"translate(28.2,20.35) "},t.createElement("g",{transform:"translate(-17,-15) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 6.475 1.225 Q 5.663671875 0.4265625 4.675 0.15 4.6251953125 0.1375 4.575 0.125 4.1634765625 -0.0037109375 3.75 0 2.141796875 -0.00546875 1.075 1.075 1.0107421875 1.1599609375 0.95 1.25 0.546484375 1.7482421875 0.35 2.25 L 0.4 2.1 Q 0.176171875 2.5302734375 0.1 3.05 -0.00234375 3.3556640625 0 3.7 L 0 25.35 Q -0.0109375 26.0748046875 0.35 26.8 0.4763671875 27.1626953125 0.675 27.45 0.8380859375 27.6865234375 1.075 27.925 1.9125 28.7701171875 3.175 28.975 3.3423828125 29.0009765625 3.5 29 3.6 29 3.7 29 3.75 29 3.85 29 L 3.9 29 Q 4.0724609375 29.003515625 4.25 28.975 5.3380859375 28.7875 6.225 28 6.3173828125 27.91875 6.4 27.825 L 7.5 26.775 Q 7.5615234375 26.7140625 7.625 26.65 8.25078125 25.9875 8.925 25.325 L 8.95 25.275 Q 13.45 20.525 17.95 15.825 18.502734375 15.24609375 18.5 14.45 18.5025390625 13.653515625 17.95 13.075 13.55 8.475 9.15 3.875 9.13515625 3.8517578125 9.125 3.825 8.725 3.425 8.375 3.075 7.4 2.1119140625 6.425 1.2 L 6.475 1.225 Z",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})),t.createElement("g",{transform:"translate(-15,-13.05) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 4.4 -0.8 L 4.45 -0.8 Q 3.663671875 -1.5734375 2.65 -1.85 2.6251953125 -1.8625 2.55 -1.9 2.1634765625 -2.0037109375 1.75 -2 0.141796875 -2.00546875 -0.95 -0.95 -0.9892578125 -0.8400390625 -1.05 -0.75 -1.453515625 -0.2517578125 -1.65 0.25 L -1.6 0.1 Q -1.823828125 0.5302734375 -1.9 1.05 -2.00234375 1.3556640625 -2 1.7 L -2 23.35 Q -2.0109375 24.0748046875 -1.65 24.8 -1.5236328125 25.1626953125 -1.35 25.45 -1.1619140625 25.6865234375 -0.95 25.9 -0.0875 26.7701171875 1.15 26.95 1.3423828125 27.0009765625 1.5 27 1.6 27 1.7 27 1.75 27 1.85 27 L 1.9 27 Q 2.0724609375 27.003515625 2.25 26.95 3.3380859375 26.7875 4.2 26 4.3173828125 25.91875 4.4 25.8 L 5.5 24.75 Q 5.5615234375 24.7140625 5.6 24.65 6.25078125 23.9875 6.9 23.3 L 6.95 23.25 Q 11.45 18.525 15.95 13.8 16.502734375 13.24609375 16.5 12.45 16.5025390625 11.653515625 15.95 11.05 11.55 6.475 7.15 1.85 7.13515625 1.8517578125 7.1 1.8 6.725 1.425 6.35 1.05 5.4 0.1119140625 4.4 -0.8 M 3 0.6 Q 3.9875 1.5357421875 4.95 2.45 5.3125 2.85 5.65 3.2 10.0896484375 7.828515625 14.5 12.45 9.9876953125 17.1595703125 5.45 21.85 4.8 22.5853515625 4.1 23.3 L 3 24.35 Q 2.95234375 24.4115234375 2.85 24.45 2.4654296875 24.9119140625 1.9 24.95 L 1.8 25 Q 1.7615234375 25.0009765625 1.7 25 1.6 24.9966796875 1.5 24.95 0.9140625 24.9099609375 0.45 24.45 0.393359375 24.3939453125 0.3 24.3 0.241015625 24.1822265625 0.15 24.05 0.0095703125 23.71875 0 23.3 L 0 1.7 0 1.7 Q 0.02734375 1.3236328125 0.15 1 0.2869140625 0.7322265625 0.5 0.5 1.01640625 0.0033203125 1.7 0 1.8798828125 -0.001171875 2 0 2.6244140625 0.1966796875 3 0.6 Z"})),t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-15,-13) "},t.createElement("path",{d:" M 2 0 Q 1.8798828125 -0.001171875 1.7 0 1.01640625 0.0033203125 0.5 0.5 0.2869140625 0.7322265625 0.15 1 0.02734375 1.3236328125 0 1.7 L 0 1.7 0 23.3 Q 0.0095703125 23.71875 0.15 24.05 0.241015625 24.1822265625 0.3 24.3 0.393359375 24.3939453125 0.45 24.45 0.9140625 24.9099609375 1.5 24.95 1.6 24.9966796875 1.7 25 1.7615234375 25.0009765625 1.8 25 L 1.9 24.95 Q 2.4654296875 24.9119140625 2.85 24.45 2.95234375 24.4115234375 3 24.35 L 4.1 23.3 Q 4.8 22.5853515625 5.45 21.85 9.9876953125 17.1595703125 14.5 12.45 10.0896484375 7.828515625 5.65 3.2 5.3125 2.85 4.95 2.45 3.9875 1.5357421875 3 0.6 2.6244140625 0.1966796875 2 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-8.2,-0.35) "},this.renderBg()))))},ArrowVAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId;return t.createElement("svg",{className:"annotation-arrow-v",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(25.5,20) "},t.createElement("g",{transform:"translate(-18.1,-14) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 8.05 -0.1 Q 8.0130859375 -0.125 7.95 -0.15 6.343359375 -1.1771484375 4.35 -1 2.282421875 -0.8208984375 0.8 0.7 0.8015625 0.727734375 0.75 0.75 -0.662109375 2.1193359375 -0.9 4.05 L -0.9 4 Q -1.234375 6.0529296875 -0.2 7.85 -0.00234375 8.251953125 0.4 8.55 L 6.15 14.4 0.3 20.4 0.35 20.4 Q 0.12421875 20.624609375 -0.05 20.85 L -0.05 20.8 Q -1.25546875 22.5345703125 -0.9 24.8 L -0.9 24.75 Q -0.6587890625 26.754296875 0.85 28.25 L 0.9 28.3 Q 0.9138671875 28.325 0.9 28.35 2.294140625 29.60234375 4.2 29.9 4.276953125 29.905859375 4.35 29.9 4.4125 29.9 4.45 29.9 4.5125 29.9025390625 4.55 29.9 6.378515625 30.003515625 7.95 29 8.0130859375 28.9748046875 8.05 28.95 8.25 28.8 8.45 28.65 8.5150390625 28.6041015625 8.55 28.55 L 20.15 16.55 20.15 16.5 Q 20.9962890625 15.6361328125 21 14.45 20.9962890625 13.2638671875 20.15 12.35 L 20.15 12.35 8.55 0.3 Q 8.5150390625 0.245703125 8.45 0.2 8.25 0.05 8.05 -0.1 M 6.9 1.55 Q 7.023046875 1.62734375 7.1 1.7 L 18.7 13.75 18.7 13.7 Q 19.00390625 14.0361328125 19 14.45 19.00390625 14.8638671875 18.7 15.15 L 18.7 15.15 7.1 27.15 Q 7.0228515625 27.2220703125 6.9 27.3 6.8859375 27.323046875 6.85 27.35 5.81015625 27.9732421875 4.6 27.9 4.586328125 27.898828125 4.55 27.9 L 4.5 27.9 Q 3.205859375 27.69765625 2.25 26.85 L 2.3 26.9 2.25 26.85 Q 1.25859375 25.845703125 1.1 24.5 L 1.05 24.5 Q 0.85546875 23.0654296875 1.6 21.95 L 1.6 21.95 Q 1.6755859375 21.8755859375 1.75 21.8 L 1.75 21.8 8.25 15.15 Q 8.5552734375 14.855078125 8.55 14.45 8.5544921875 14.043359375 8.25 13.75 L 1.7 7.05 Q 1.6646484375 6.996484375 1.6 6.95 1.5748046875 6.9119140625 1.55 6.85 0.8423828125 5.7033203125 1.05 4.35 1.087890625 4.3486328125 1.1 4.3 1.2599609375 2.998828125 2.25 2.1 2.3248046875 2.055859375 2.35 2 3.28203125 1.1150390625 4.55 1 5.81015625 0.8814453125 6.85 1.5 6.8869140625 1.5259765625 6.9 1.55 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-16,-12) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 5.45 -1.3 Q 4.0791015625 -2.16640625 2.45 -2 0.7294921875 -1.82890625 -0.5 -0.65 L -0.45 -0.65 Q -1.6818359375 0.5212890625 -1.95 2.2 -2.1775390625 3.9150390625 -1.35 5.35 -1.1966796875 5.58046875 -1.05 5.75 L 5.55 12.45 -1 19.1 Q -1.097265625 19.230859375 -1.2 19.35 -2.19375 20.776171875 -1.95 22.6 L -1.95 22.65 Q -1.6953125 24.294140625 -0.5 25.5 -0.4345703125 25.54921875 -0.4 25.55 0.728515625 26.63671875 2.35 26.85 2.45 26.8916015625 2.55 26.9 4.124609375 26.982421875 5.45 26.15 5.6638671875 26.0228515625 5.85 25.85 L 17.45 13.85 Q 18.0060546875 13.2640625 18 12.45 18.0060546875 11.6357421875 17.45 11.05 L 5.85 -1 Q 5.6638671875 -1.173046875 5.45 -1.3 M 0.05 2.5 Q 0.200390625 1.500390625 0.9 0.75 1.6251953125 0.0759765625 2.6 -0.05 3.575 -0.1240234375 4.4 0.4 L 16 12.4 4.4 24.45 Q 3.575 24.9740234375 2.6 24.85 1.6251953125 24.7740234375 0.9 24.05 0.200390625 23.349609375 0.05 22.3 -0.0994140625 21.275390625 0.4 20.45 L 8.3 12.4 0.4 4.3 Q -0.1244140625 3.524609375 0.05 2.5 Z"})),t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-16,-12.05) "},t.createElement("path",{d:" M 2.6 0 Q 1.6251953125 0.125390625 0.9 0.8 0.200390625 1.5501953125 0.05 2.55 -0.1244140625 3.575 0.4 4.35 L 8.3 12.5 0.4 20.55 Q -0.0994140625 21.3751953125 0.05 22.4 0.200390625 23.45 0.9 24.15 1.6251953125 24.8748046875 2.6 24.95 3.575 25.0748046875 4.4 24.55 L 16 12.5 4.4 0.45 Q 3.575 -0.074609375 2.6 0 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(-5.5,0) "},this.renderBg()))))},CheckAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId,a=this.state.animationMaskId,l="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-check",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),l&&t.createElement("mask",{id:a},t.createElement("g",{transform:"rotate(45, 21, 0.5)"},t.createElement("rect",{ref:"mask",x:"0",y:"14.25",width:"22",height:"28",fill:"#000"}))),t.createElement("g",{mask:l?i.buildUrl(a):"none"},t.createElement("g",{transform:"translate(19.95,19.9) "},t.createElement("g",{transform:"translate(-15,-12) "},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 24.05 -0.1 L 24.05 -0.1 Q 23.4302734375 -0.7259765625 22.65 -0.9 L 22.7 -0.9 Q 21.9412109375 -1.08046875 21.2 -0.9 21.1740234375 -0.8658203125 21.1 -0.85 20.3255859375 -0.6814453125 19.8 -0.1 L 12.35 7.4 9.25 4.25 Q 8.6302734375 3.6240234375 7.85 3.45 L 7.9 3.45 Q 7.1412109375 3.26953125 6.4 3.45 6.373828125 3.4841796875 6.3 3.5 5.489453125 3.6763671875 4.95 4.3 L 4.95 4.25 -0.15 9.4 -0.1 9.4 Q -1.0048828125 10.2978515625 -1 11.5 -1.0048828125 12.7021484375 -0.1 13.6 L 10.25 24.1 Q 11.078125 24.9927734375 12.35 25 13.6109375 24.99609375 14.5 24.1 L 29.15 9.25 Q 29.9962890625 8.3861328125 30 7.2 29.9962890625 6.0138671875 29.15 5.1 L 29.15 5.1 24.05 -0.1 M 22.65 1.3 L 22.6 1.3 27.7 6.5 27.7 6.45 Q 28.00390625 6.7861328125 28 7.2 28.0037109375 7.5962890625 27.75 7.9 L 13.1 22.7 Q 12.7890625 23.00390625 12.35 23 11.940234375 23.007421875 11.65 22.7 L 1.3 12.2 Q 1.0048828125 11.8978515625 1 11.5 1.0048828125 11.1021484375 1.3 10.8 L 1.3 10.8 6.4 5.65 Q 6.4365234375 5.6248046875 6.45 5.6 6.577734375 5.4609375 6.75 5.4 6.8255859375 5.4146484375 6.85 5.4 7.1130859375 5.3447265625 7.35 5.4 7.4125 5.425390625 7.45 5.4 7.66953125 5.4755859375 7.85 5.65 L 11.65 9.5 Q 11.940234375 9.798046875 12.35 9.8 12.7615234375 9.796875 13.05 9.5 L 21.2 1.3 Q 21.2248046875 1.2740234375 21.25 1.25 21.377734375 1.1109375 21.55 1.05 21.6255859375 1.0646484375 21.65 1.05 21.9130859375 0.9947265625 22.15 1.05 22.2125 1.075390625 22.25 1.05 22.46953125 1.1255859375 22.65 1.3 Z",fill:"#000000"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(o),d:" M 20.4 -1.95 Q 19.9 -2.0681640625 19.35 -1.95 18.8552734375 -1.7845703125 18.45 -1.4 L 10.35 6.8 6.5 2.95 Q 6.1451171875 2.566015625 5.6 2.4 5.1 2.2818359375 4.55 2.4 4.0548828125 2.566015625 3.65 2.95 L -1.45 8.1 Q -2.001171875 8.6859375 -2 9.5 -2.0009765625 10.3150390625 -1.45 10.9 L 8.9 21.4 Q 9.5169921875 21.99609375 10.35 22 11.18359375 21.9955078125 11.75 21.4 L 26.4 6.6 Q 27.0017578125 6.014453125 27 5.2 27.001171875 4.3859375 26.4 3.8 L 21.3 -1.4 Q 20.944921875 -1.7841796875 20.4 -1.95 M 10.35 9.6 L 19.85 0 25 5.15 10.35 20 0 9.5 5.1 4.3 10.35 9.6 Z"})),t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{fill:i.buildUrl(s),d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z"})),t.createElement("mask",{id:r},t.createElement("g",{transform:"translate(-13,-10) "},t.createElement("path",{d:" M 10.35 20 L 25 5.15 19.85 0 10.35 9.6 5.1 4.3 0 9.5 10.35 20 Z",fill:"#FFFFFF"}))),t.createElement("g",{mask:i.buildUrl(r)},t.createElement("g",{transform:"translate(0.05,0.1) "},this.renderBg())))))},CrossAnnotation:function(){var i=e("helpers/svg/svgUtils"),n=this.state.filterId,r=this.state.maskId,s=this.state.fillColorId,o=this.state.borderColorId,a=this.state.legMaskId,l=this.state.animationXMaskId,u=this.state.animationLegMaskId,c="draw"===this.props.model.get("animationtype");return t.createElement("svg",{className:"annotation-cross",height:"66",viewBox:"0 0 40 40",width:"66"},this.renderDefs(),t.createElement("g",{transform:"translate(6, 6)"},c&&t.createElement("mask",{id:l},t.createElement("rect",{ref:"xMask",width:"34",height:"34",fill:"#000",transform:"translate(39, 16) rotate(135)"})),t.createElement("g",{mask:c?i.buildUrl(l):"none"},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:" M 22.7 -0.1 Q 21.8109375 -0.99609375 20.55 -1 19.2783203125 -0.9927734375 18.45 -0.1 L 14.55 3.8 10.65 -0.1 Q 9.7609375 -0.99609375 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.35 Q -0.9927734375 7.178125 -1 8.45 -0.99609375 9.7109375 -0.1 10.6 L 3.85 14.55 -0.1 18.45 Q -1.0048828125 19.3478515625 -1 20.55 -0.99609375 21.8109375 -0.1 22.7 L 6.35 29.15 Q 7.17109375 29.996484375 8.45 30 9.6361328125 29.9962890625 10.5 29.15 L 10.55 29.15 14.5 25.2 18.45 29.15 Q 19.27109375 29.996484375 20.55 30 21.7361328125 29.9962890625 22.6 29.15 L 22.65 29.15 29.1 22.7 29.1 22.7 Q 29.99609375 21.8109375 30 20.55 29.996484375 19.27109375 29.15 18.45 L 25.2 14.5 29.1 10.65 29.1 10.65 Q 30.0048828125 9.7521484375 30 8.55 29.98828125 7.3052734375 29.15 6.4 L 29.15 6.4 22.7 -0.1 22.7 -0.1 M 20.55 1 Q 20.9890625 0.99609375 21.3 1.3 L 27.75 7.8 Q 28.011328125 8.1138671875 28 8.55 27.9951171875 8.9478515625 27.7 9.25 L 27.7 9.2 23.1 13.75 Q 22.8015625 14.076953125 22.8 14.5 22.8015625 14.909765625 23.1 15.2 L 27.75 19.85 Q 28.003515625 20.12890625 28 20.55 28.00390625 20.9890625 27.7 21.3 L 21.25 27.75 Q 20.9462890625 28.0037109375 20.55 28 20.12890625 28.003515625 19.85 27.75 L 15.2 23.1 Q 14.9087890625 22.80546875 14.5 22.8 14.0919921875 22.79296875 13.8 23.05 L 9.15 27.7 9.15 27.7 Q 8.8638671875 28.00390625 8.45 28 8.02890625 28.003515625 7.75 27.75 L 1.3 21.3 Q 0.99609375 20.9890625 1 20.55 1.0048828125 20.1521484375 1.3 19.85 L 5.95 15.25 Q 6.246484375 14.9607421875 6.25 14.55 6.246484375 14.1392578125 5.95 13.85 L 1.3 9.2 Q 0.99609375 8.8890625 1 8.45 0.992578125 8.040234375 1.25 7.75 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.9390625 0.99609375 9.25 1.3 L 13.85 5.9 Q 14.1392578125 6.196484375 14.55 6.2 14.9607421875 6.196484375 15.25 5.9 L 19.85 1.25 Q 20.140234375 0.992578125 20.55 1 Z",fill:"#000000"}),t.createElement("path",{fill:i.buildUrl(o),transform:"translate(2, 2)",d:" M 7.9 -1.45 Q 7.3337890625 -2.00546875 6.5 -2 5.666015625 -2.00546875 5.05 -1.45 L -1.45 5 Q -2.00546875 5.616015625 -2 6.45 -2.00546875 7.2837890625 -1.45 7.85 L 3.2 12.5 -1.45 17.15 Q -2.003125 17.734765625 -2 18.55 -2.0017578125 19.3802734375 -1.45 19.95 L 5 26.4 Q 5.61953125 27.0017578125 6.45 27 7.2650390625 27.003125 7.85 26.4 L 12.5 21.8 17.1 26.4 Q 17.7197265625 27.001953125 18.55 27 19.36484375 27.0033203125 19.95 26.4 L 26.4 19.95 Q 26.994921875 19.3849609375 27 18.55 27.0087890625 17.7181640625 26.4 17.1 L 21.8 12.5 26.4 7.9 Q 26.9935546875 7.3453125 27 6.5 27.00625 5.69453125 26.4 5.1 L 19.95 -1.4 Q 19.3818359375 -1.9984375 18.55 -2 17.718359375 -1.9986328125 17.1 -1.4 L 12.5 3.2 7.9 -1.45 M 6.45 0 L 12.5 6 18.5 0 25 6.45 18.95 12.45 25 18.5 18.5 24.95 12.5 18.95 6.45 25 0 18.5 6 12.45 0 6.45 6.45 0 Z"}),t.createElement("path",{fill:i.buildUrl(s),transform:"translate(2, 2)",d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z"}),t.createElement("mask",{id:r},t.createElement("path",{d:" M 18.5 0 L 12.5 6 6.45 0 0 6.45 6 12.45 0 18.5 6.45 25 12.5 18.95 18.5 24.95 25 18.5 18.95 12.45 25 6.45 18.5 0 Z",fill:"#FFFFFF"})),t.createElement("g",{mask:i.buildUrl(r),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg()))),c&&t.createElement("mask",{id:u},t.createElement("rect",{ref:"legMask",width:"32",height:"16",fill:"#000",transform:"translate(9, -2) rotate(45)"})),c&&t.createElement("g",{ref:"leg",mask:i.buildUrl(u)},t.createElement("path",{filter:i.buildUrl(n),transform:this.getShadowTransform(),d:"M 10.6 -0.1 Q 9.7021484375 -1.0048828125 8.5 -1 7.2283203125 -0.9927734375 6.4 -0.1 L -0.1 6.4 Q -1.0048828125 7.2978515625 -1 8.5 -1.0048828125 9.7021484375 -0.1 10.6 L 18.45 29.2 Q 19.3349609375 30.0166015625 20.55 30.1 20.5986328125 30.1037109375 20.65 30.1 21.806640625 30.02265625 22.65 29.2 L 29.2 22.65 Q 30.02265625 21.806640625 30.1 20.65 30.1037109375 20.5986328125 30.1 20.55 30.0216796875 19.3330078125 29.2 18.45 L 10.6 -0.1 M 27.8 19.85 Q 28.0626953125 20.166015625 28.1 20.6 28.0626953125 20.9935546875 27.8 21.3 L 21.3 27.8 Q 20.9927734375 28.063671875 20.6 28.1 20.163671875 28.066796875 19.85 27.8 L 1.3 9.2 Q 1.0048828125 8.8978515625 1 8.5 1.0048828125 8.1021484375 1.3 7.8 L 7.8 1.25 Q 8.090234375 0.992578125 8.5 1 8.8978515625 1.0048828125 9.2 1.3 L 27.8 19.85 Z"}),t.createElement("path",{fill:i.buildUrl(o),d:"M 28.45 21.95 Q 29.0671875 21.39609375 29.05 20.55 29.0671875 19.74140625 28.45 19.15 L 9.9 0.6 Q 9.3208984375 0.0076171875 8.5 0 7.6662109375 0.0076171875 7.05 0.6 L 0.6 7.1 Q 0.007421875 7.67890625 0 8.5 0.007421875 9.32109375 0.6 9.9 L 19.15 28.45 Q 19.7412109375 29.0673828125 20.55 29.05 21.3958984375 29.0673828125 21.95 28.45 L 28.45 21.95 M 1.95 8.5 L 8.45 2 27.05 20.6 20.55 27.05 1.95 8.5 Z"}),t.createElement("path",{fill:i.buildUrl(s),transform:"translate(2.15, 2)",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"}),t.createElement("mask",{id:a},t.createElement("path",{fill:"#fff",d:"M 18.55 25.05 L 25.05 18.55 6.5 0 0 6.5 18.55 25.05 Z"})),t.createElement("g",{mask:i.buildUrl(a),transform:"translate(2, 2)"},t.createElement("g",{transform:"translate(12, 12)"},this.renderBg())))))},CaptionIcon:function(){e("polyfills/detection");return t.createElement("svg",{className:"cs-icon caption-icon",width:"22px",height:"18px",viewBox:"0 0 22 18"},t.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{d:"M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"}))))},CarrotIcon:function(){var e='<use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)" /><polygon id="icon-carrot" points="1,1.5 5,5 1,8.5"/>';return t.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CheckIcon:function(){},CheckIconMobile:function(){var e='<use xlink:href="#icon-check-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>';return t.createElement("svg",{className:"cs-icon check-mobile-icon",width:"40",height:"30",viewBox:"0 0 40 30",key:e,dangerouslySetInnerHTML:{__html:e}})},ClearIcon:function(){var e='<use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>';return t.createElement("svg",{className:"cs-icon icon-clear",width:"13",height:"14",viewBox:"0 0 13 14",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIcon:function(){var e='<use xlink:href="#close-icon" class="icon-shadow" transform="translate(0, .5)" /><path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>';return t.createElement("svg",{className:"icon",width:"10",height:"10",viewBox:"0 0 10 10",key:e,dangerouslySetInnerHTML:{__html:e}})},CloseIconMobile:function(){var e='<use xlink:href="#icon-close-mobile" class="icon-mobile" /><polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18   "/>';return t.createElement("svg",{className:"icon",width:"36",height:"36",viewBox:"0 0 36 36",key:e,dangerouslySetInnerHTML:{__html:e}})},DisabledOrientationIcon:function(){return t.createElement("svg",{viewBox:"0 0 161 135"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},t.createElement("path",{d:"M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"}),t.createElement("path",{d:"M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"}),t.createElement("path",{d:"M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"})))},EmailIcon:function(){return t.createElement("svg",{className:"email-icon",width:"50",height:"50",viewBox:"0 0 50 50"},t.createElement("circle",{className:"email-icon-bg",cx:"24",cy:"24",r:"24",fill:"#3b3b3b",strokeWidth:"1"}),t.createElement("g",{className:"email-icon-envelope",fill:"none",strokeWidth:"2",transform:"translate(14, 17)"},t.createElement("rect",{x:"0",y:"0",width:"20",height:"15",rx:"1",ry:"1"}),t.createElement("path",{d:"M0 0 10 8 20 0"})))},EnterFullScreenIcon:function(){return t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"0 0 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -2)"},t.createElement("path",{d:"M1.5,1.77635684e-15 L12,1.77635684e-15 L12,3 L3,3 L3,12 L-4.4408921e-16,12 L1.77635684e-15,-2.7554553e-16 L1.5,0 Z"}),t.createElement("path",{d:"M1.5,20 L12,20 L12,23 L3,23 L3,32 L-4.4408921e-16,32 L1.77635684e-15,20 L1.5,20 Z",transform:"translate(6.000000, 26.000000) scale(1, -1) translate(-6.000000, -26.000000) "}),t.createElement("path",{d:"M21.5,1.77635684e-15 L32,1.77635684e-15 L32,3 L23,3 L23,12 L20,12 L20,-2.7554553e-16 L21.5,0 Z",transform:"translate(26.000000, 6.000000) scale(-1, 1) translate(-26.000000, -6.000000) "}),t.createElement("path",{d:"M21.5,20 L32,20 L32,23 L23,23 L23,32 L20,32 L20,20 L21.5,20 Z",transform:"translate(26.000000, 26.000000) scale(-1, -1) translate(-26.000000, -26.000000) "})))},GearIcon:function(){return t.createElement("svg",{className:"cs-icon icon-gear",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{id:"icon-gear",d:"M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"}))},MenuIcon:function(){var e=['<use xlink:href="#icon-menu-mobile" class="icon-mobile" transform="translate(0, 1)" />','<g id="icon-menu-mobile">','<rect width="40" height="4"/>','<rect y="16" width="40" height="4"/>','<rect y="32" width="40" height="4"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon menu-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIcon:function(){var e='<use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="next-icon" points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},NextIconMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseLegacyIcon:function(){var e=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconMobile:function(){var e='<use xlink:href="#icon-play" /><path id="icon-play" d="M 11 7.15 L 0 0 0 14.3 11 7.15 Z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayLegacyIcon:function(){var e='<use xlink:href="#icon-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return t.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIcon:function(){var e='<use xlink:href="#icon-replay" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-replay" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>';return t.createElement("svg",{className:"cs-icon",width:"18",height:"16",viewBox:"0 0 18 16",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIcon:function(){var e='<use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)" /><polygon id="prev-icon" points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>';return t.createElement("svg",{className:"cs-icon",width:"8",height:"11",viewBox:"0 0 8 11",key:e,dangerouslySetInnerHTML:{__html:e}})},PrevIconMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIcon:function(){return t.createElement("svg",{className:"cs-icon",width:"14",height:"14",viewBox:"0 0 14 14"},t.createElement("path",{d:"M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2 C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"}))},SearchIconMobile:function(){var e=['<g id="icon-search" transform="translate(4, 0)">','<path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>','<path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon search-icon",width:"22",height:"22",viewBox:"0 0 40 40",key:e,dangerouslySetInnerHTML:{__html:e}})},VolumeIcon:function(){var i=e("polyfills/vendorOverrides").crispScale,n=['<use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="player-volume">','<polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>','<rect class="'+(this.props.volumeStrength>0?"":"hidden")+'" x="10" y="5" width="1" height="6"/>','<rect class="'+(this.props.volumeStrength>=5?"":"hidden")+'" x="12" y="4" width="1" height="8"/>','<rect class="'+(10==this.props.volumeStrength?"":"hidden")+'" x="14" y="3" width="1" height="10"/>',"</g>"].join("");return t.createElement("svg",{style:i(),className:"cs-icon",width:"15",height:"15",viewBox:"0 0 15 15",key:n,dangerouslySetInnerHTML:{__html:n}})},AppUnified:function(){var i=e("polyfills/detection"),n=e("views/SvgLibrary"),r=e("views/player/Topbar"),s=e("views/presentation/MainWindow"),o=e("views/player/MobileStartOverlay"),a=e("views/player/Sidebar"),l=e("views/player/SlideLoaderOverlay"),u=(e("helpers/cssPrefix"),e("views/presentation/PopupWindow")),c=e("views/presentation/SlideLockCursor"),h=(e("helpers/svg/svgUtils"),e("helpers/utils")),p=e("views/player/MobileDisabledOrientation"),d=e("helpers/constants"),f=e("views/player/Timer"),m=this.state.fontScale+"%",g=i.isRise&&i.isTouchableTheme,v=_.curry(function(e,t){return[t,e].join("")}),y=(_.flow(h.decToPct,v("vw")),_.flow(h.decToPct,v("vh")),["presentation-wrapper","cs-base","opaque","cs-custom-theme","cs-"+this.props.state.currentScheme(),"fn-"+this.props.state.currentScheme(),"sidebar-"+this.sidebarPos()].join(" ")),b={width:"100%",height:"100%",fontSize:m,lineHeight:m};return t.createElement("div",{id:"presentation-container",className:["non-eventable",this.state.showLoader?"":"hide-slide-loader"].join(" ")},t.createElement("div",{id:"presentation",style:b,className:y},t.createElement("div",{className:"cs-brandhighlight-bg",style:{display:"none"}}),t.createElement(n,{ref:"svgLib"}),this.props.player.get("presenters")&&t.createElement(u,{presenters:this.props.player.get("presenters")}),this.hasSidebar()&&!d.player.IS_CHROMELESS&&t.createElement(a,{ref:"sidebar",model:this.props.player}),this.hasSidebar()&&!d.player.IS_CHROMELESS&&t.createElement("div",{className:"sidebar-overlay"}),t.createElement("div",{ref:"primary",className:"area-primary cs-area-primary"},this.props.presentation.get("debugMode")&&t.createElement("img",{src:"html5/lib/img/icon_error.png",title:"open dev tools for more information",className:"error-icon "+this.getErr()}),(!!this.hasTopBar()||this.hasSidebar())&&!d.player.IS_CHROMELESS&&t.createElement(r,{ref:"topbar",model:this.props.player,timers:this.props.presentation.timers(),presentation:this.props.presentation,sidebarPos:this.sidebarPos(),sidebarClosed:this.sidebarOpts.get("closed")}),d.player.IS_CHROMELESS&&this.props.presentation.timers().length>0&&this.props.presentation.timers().map(function(e,i){return t.createElement(f,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)),g&&t.createElement("div",{className:"main-window-pad"}),t.createElement(s,{ref:"mainWindow",player:this.props.player,hasUi:this.hasMobileUi()}),g&&t.createElement("div",{className:"main-window-pad"})),t.createElement("div",{id:"app-top-container",style:{position:"absolute",left:0,top:0,transformOrigin:"0 0",pointerEvents:"none"}}),t.createElement("div",{id:"app-top-overlay"})),t.createElement(c,null),t.createElement("div",{id:"overlay-container-controls",className:"non-eventable cs-"+this.props.state.currentScheme()}),t.createElement("div",{id:"overlay-container",className:"non-eventable"}),t.createElement("div",{id:"overlay",style:{left:0,top:0,width:"100%",height:"100%",position:"absolute"},className:[["cs-",this.props.state.currentScheme()].join(""),"non-eventable",this.hasSidebar()?"sidebar-"+this.sidebarPos():""].join(" ")}),t.createElement("div",{id:"overlay-mobile",className:"fn-"+this.props.state.currentScheme()},t.createElement(o,{title:this.getPath("props.player.controlOptions.sidebarOptions.titleText")})),t.createElement("div",{id:"zoomimage-container"}),t.createElement("div",{id:"presentation-canvas"}),t.createElement("div",{id:"mask-library"}),t.createElement("div",{id:"collision-library"},t.createElement("canvas",null)),this.state.showLoader&&t.createElement(l,null),i.isTouchableTheme&&!i.isRise&&!i.is360&&t.createElement("div",{className:["is-mobile",window.isMobile.phone?"is-phone":"is-tablet"].join(" ")},t.createElement(p,{orientations:this.state.orientations})))},BottombarUnified:function(){var i=e("views/player/PlaybackControls"),n=e("views/player/VolumeControls"),r=e("views/player/SlideRelatedActions"),s=e("views/player/SubmitAllButton"),o=e("views/player/CaptionBtn"),a=e("polyfills/detection"),l=e("views/player/FullscreenBtn"),u=!this.props.fullscreenOnly;return t.createElement("div",{className:"controls grid-row inflexible"},a.isTouchableTheme&&u&&t.createElement("div",{className:"bottom-ui-bg"}),u&&t.createElement(s,{slide:this.props.slide}),this.hasVolume()&&u&&t.createElement(n,{volumeStrength:this.props.volumeStrength,ref:"volumeControls"}),this.hasCaption()&&u&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(o,null)),this.hasSeekbarArea()&&u&&t.createElement(i,{ref:"playbackControls",slide:this.props.slide,playOnly:!this.state.stateable_seekbar&&this.state.stateable_pauseplay,readonly:this.isReadOnly}),a.isTouchableTheme&&a.is360&&(!a.isDevicePreview||a.enableFs)&&t.createElement(l,{handleFullScreen:this.handleFullScreen}),u&&t.createElement(r,{ref:"slideRelatedActions",handledSubmitAll:!0,slide:this.props.slide,isRtl:"rtl"===this.props.player.get("textdirection").toLowerCase()}))},CaptionBtnUnified:function(){var i=e("views/player/Icon"),n="captions-enabled";return e("polyfills/detection").isMobile&&(n="button-tapped"),t.createElement("button",{className:["btn","cs-button","caption-btn","inflexible",this.state.enabled?n:""].join(" "),onClick:this.toggleCaption},t.createElement(i,{key:"Caption",type:"Caption"}),t.createElement("span",{className:"accessibility"},this.state.i18ncaption))},FullscreenBtnUnified:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("button",{className:"fullscreen-toggle-btn cs-button exit-btn btn-unstyled force-unstyled inflexible",onTouchStart:this.props.handleFullScreen},t.createElement("span",{className:"enterFullScreen-360"},t.createElement(i,{type:"enterFullScreen"})),t.createElement("span",{className:"exitFullScreen-360"},!n.isPhone&&t.createElement("svg",{className:"cs-icon exit-icon",width:"25",height:"25",viewBox:"-289 381 32 32",style:{overflow:"visible"}},t.createElement("g",{transform:"translate(0, -3)"},t.createElement("path",{d:"M-265.5,391h8.5v-3h-7v-7h-3v10H-265.5z"}),t.createElement("path",{d:"M-280.5,403h-8.5v3h7v7h3v-10H-280.5z"}),t.createElement("path",{d:"M-267,404.5v8.5h3v-7h7v-3h-10V404.5z"}),t.createElement("path",{d:"M-279,389.5V381h-3v7h-7v3h10V389.5z"}))),n.isPhone&&t.createElement("svg",{className:"cs-icon",width:"36",height:"36",viewBox:"0 0 36 36"},t.createElement("polygon",{points:"36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18"}))))},GlossaryUnified:function(){var i=e("views/player/Container"),n=e("helpers/constants"),r=0;return t.createElement("div",{className:"panel-content glossary bleed cs-glossary",role:"presentation"},this.props.collection.map(function(e,s){return t.createElement("div",{className:"glossary-item",key:s},t.createElement(i,{className:"glossary-child",ref:"glossaryChild"+r++},t.createElement("div",{className:"glossary-title cs-heading",tabIndex:"-1"},e.get("title"))),t.createElement(i,{className:"glossary-child",ref:"glossaryChild"+r++},t.createElement("div",{className:"glossary-content",tabIndex:"-1"},e.get("content").toString().split(n.LINE_BREAK_REGEX).map(function(e,i){return t.createElement("p",{className:0===e.length?"empty-p":"",key:i},e)}))))}.bind(this)))},LightBoxUnified:function(){var i=e("views/presentation/PresentationOverlay"),n=e("views/presentation/SlideContainer"),r=e("views/player/CaptionBtn"),s=e("views/player/SlideRelatedActions"),o=e("views/player/Icon");return t.createElement("div",{className:"mobile-lightbox"},t.createElement(i,null),t.createElement("div",{ref:"lightbox",className:["lightbox wn-"+this.props.model.id,this.props.hasControls||this.hasCaption()?"":"lightbox-no-controls"].join(" "),"data-window-id":this.props.model.id},t.createElement(n,{ref:"slideContainer",lightboxed:!0,lightbox:this,hasControls:this.props.hasControls,currentSlide:this.state.currentSlide,scale:this.slideScale,windowId:this.props.model.id,getWrapperDimensions:this.getWrapperDimensions,onPinchZoom:this.positionControls.bind(this),onPinchPan:this.positionControls.bind(this)}),t.createElement("div",{ref:"optionPane",className:"option-pane"},t.createElement("div",{className:"slide-controls"},this.hasCaption()&&t.createElement("div",{className:"caption-controls inflexible"},t.createElement(r,null)),this.props.hasControls&&t.createElement(s,{ref:"actions",slide:this.state.currentSlide,lightboxed:!0,isRtl:this.props.isRtl})))),t.createElement("button",{ref:"close",className:"lightbox-close-btn lightbox-close-btn-floating btn-unstyled",onClick:this.close},t.createElement(o,{templateName:"CloseIconMobile"})))},MainWindowUnified:function(){var i=e("views/presentation/SlideContainer"),n=e("views/player/Bottombar"),r=e("views/presentation/SlideWindowBackground"),s=e("views/player/Captions"),o=e("polyfills/detection"),a=(e("helpers/constants"),e("polyfills/vendorOverrides").crispScale),l=this.getBackground(),u=this.state.currentSlide&&this.hasBottomBar()&&!this.state.isChromeless,c=o.isTouchableTheme&&this.state.isChromeless&&(o.isRise||o.is360);return t.createElement("div",{id:"main-window"},t.createElement("div",{className:"main-window-slide-container cs-slide-container",style:a({},{allThemes:!0})},null!=l&&t.createElement(r,{bg:l}),t.createElement(i,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:"_frame"})),this.props.hasUi&&o.isTouchableThemeAndPhone&&!this.state.isChromeless&&t.createElement("div",{className:"left-ui-bg"}),this.props.hasUi&&o.isTouchableThemeAndPhone&&!this.state.isChromeless&&t.createElement("div",{className:"right-ui-bg"}),(u||c)&&t.createElement(n,{ref:"bb",player:this.props.player,slide:this.state.currentSlide,fullscreenOnly:c}),t.createElement(s,null))},MenuUnified:function(){var i=e("views/player/SearchOptions"),n=e("views/player/SearchResults"),r=e("views/player/SearchFooter"),s=(e("polyfills/detection"),this.props.options.get("wrapListItems")),o=this.props.options.get("autonumber");return t.createElement("div",{className:"outline-panel cs-outline"},this.props.hasSearch&&t.createElement(r,{ref:"searchFooter",addFocusObjects:this.props.addFocusObjects,showClearButton:this.state.isSearchActive,onSearch:this.onSearch,onClearSearch:this.onClearSearch}),t.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},this.props.hasSearch&&t.createElement(i,{ref:"searchOptions",onResults:"updateLinks",visible:this.state.isSearchActive,visitedSlides:this.state.visitedSlides,searchData:this.props.model.get("search"),notesData:this.props.notesData,addFocusObjects:this.props.addFocusObjects,links:this.props.model.outline().links()}),t.createElement(n,{ref:"searchResults",hasSearch:this.props.hasSearch,wrap:s,autonumber:o,checkFlow:this.checkFlow,shouldKillLink:this.shouldKillLink,showChildren:!this.state.isSearchActive,showDisplayText:!this.state.isSearchActive,collapsible:this.props.options.get("autocollapse"),visitedSlides:this.state.visitedSlides,hasAnyLink:this.hasAnyLink,tips:this.props.options.get("tooltips"),links:this.state.links,onSelectMenuItem:this.props.onSelectMenuItem,indexGroupName:this.props.indexGroupName,addFocusObjects:this.props.addFocusObjects})))},MessageWindowUnified:function(){var i=e("views/presentation/SlideContainer"),n=(e("polyfills/detection"),e("helpers/utils")),r=this.getPath("props.model.width"),s=.8*r,o=(s-r)/2;return t.createElement("span",null,t.createElement("div",{className:"overlay overlay-message"}),t.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),style:{width:s,height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},t.createElement("header",{className:"message-window-header"},t.createElement("h3",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),t.createElement("hr",{className:"cs-diva"}),t.createElement("hr",{className:"cs-divb"})),t.createElement("div",{className:"message-slide-container-wrapper",style:{position:"absolute",left:n.pxify(o)}},t.createElement(i,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,windowId:"MessageWnd"})),t.createElement("div",{className:"message-window-text-wrapper"},t.createElement("div",{className:"message-window-text"},this.state.messageWindowText))))},MobileStartOverlayUnified:function(){e("polyfills/detection");var i=e("views/player/Icon"),n=(e("helpers/stringTabler"),e("polyfills/vendorOverrides").feDropShadow);return t.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden")},!this.state.isResumePrompt&&t.createElement("svg",{className:"play-icon",ref:"playIcon",role:"button",tabIndex:"0",onMouseDown:this.onStart,onKeyDown:this.onStart,viewBox:"-10 -10 80 80"},t.createElement("defs",null,t.createElement("filter",{id:"shadowy"},t.createElement("feDropShadow",{dx:"2",dy:"2",stdDeviation:"2",floodOpacity:"0.2"}))),t.createElement("rect",{x:"0",y:"-7.5",width:"60",height:"60",id:"icon-bounds",fill:"transparent",stroke:"transparent",strokeWidth:"1"}),t.createElement("rect",{x:"25",y:"15",width:"15",height:"15",fill:"#636363"}),t.createElement("path",{filter:n?"url(#shadowy)":null,transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"})),this.state.isResumePrompt&&t.createElement("div",null,t.createElement("div",{className:"mobile-start-resume-text"},t.createElement("div",{ref:"resume",onMouseDown:this.onStart,role:"button","aria-label":this.state.i18nresume,"aria-disabled":"false",tabIndex:"-1"},this.state.i18nresume)),t.createElement("div",{className:"restart",ref:"restart",role:"button","aria-label":this.state.i18nrestart,"aria-disabled":"false",tabIndex:"-1",onMouseDown:this.onReset},t.createElement(i,{type:"playbackReset"}),t.createElement("div",{className:"restart-text",style:{color:"white",display:"inline-block",paddingLeft:"1em",transform:"translateY(-3px)"}},this.state.i18nrestart))),t.createElement("svg",{className:"mobile-start-title-icon",width:"24px",height:"16px",viewBox:"0 0 24 16",version:"1.1"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("rect",{fill:"#D8D8D8",x:"0",y:"3",width:"21",height:"13",rx:"3"}),t.createElement("rect",{stroke:"#D8D8D8",x:"3.5",y:"0.5",width:"20",height:"12",rx:"3"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"6",width:"15",height:"1"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"9",width:"15",height:"1"}),t.createElement("rect",{fill:"#1F1F1F",x:"3",y:"12",width:"15",height:"1"})))),t.createElement("div",{className:"mobile-start-course-title"},this.props.title))},NotesListUnified:function(){var i=e("views/presentation/VectorTextItem"),n=null!=this.props.commandsetId;return t.createElement("p",{className:"cs-editor-html editor-html"+(this.state.tabFocused?" focused":""),style:{marginLeft:n&&-9},tabIndex:"-1",role:"presentation"},n?t.createElement("svg",{ref:"svgNotes",className:"svg-notes"},t.createElement(i,{ref:"vectortext",commandsetId:this.props.commandsetId,pathLib:this.props.pathLib})):t.createElement("span",{className:"noteContent"}))},NotesUnified:function(){var i=e("views/player/NotesHeader"),n=e("views/player/NotesList");return t.createElement("div",{className:"cs-transcript transcript"},t.createElement("header",{className:"panel-header panel-section-header"},t.createElement(i,{currentSlideTitle:this.state.currentSlideTitle,ref:"notesHeader"}),t.createElement("hr",{className:"cs-div panel-relative-hr"})),t.createElement("div",{ref:"panelContent",className:"panel-content cs-editor",role:"complementary"},t.createElement(n,{ref:"notesList",commandsetId:null,pathLib:null,notesHtml:this.getNotesHtml})))},PlayPauseButtonUnified:function(){var i=e("views/player/Icon"),n=e("helpers/svg/svgUtils"),r=e("polyfills/detection"),s=e("helpers/constants"),o=this.state.isPlaying?"pause":"play";return t.createElement("button",{className:["cs-button btn-unstyled force-unstyled inflexible",this.state.tabFocused?"focused":"",this.props.shown?"shown":"hidden"].join(" "),onClick:this.toggle,onTouchStart:this.onTouchStart,onMouseDown:this.previewMouseEvent(this.onTouchStart)},r.isTouchableThemeAndPhone&&"landscape"===this.state.orientation&&t.createElement("svg",{className:"circle-progress",width:"38",height:"38",viewBox:"0 0 38 38",style:{display:"block",opacity:this.state.isPlaying?1:0}},t.createElement("circle",{className:"circle-progress-well",cx:"17",cy:"17",r:"17",stroke:"none"}),t.createElement("path",{d:n.wheelPath(17,17,17,0,360*this.state.progress),transform:"rotate(-90 17 17)",fill:s.theme.brandingHighlight,stroke:"none"}),t.createElement("circle",{className:"circle-progress-bg",cx:"17",cy:"17",r:"14.5",stroke:"none"})),t.createElement(i,{key:o,type:o}),t.createElement("span",{className:"accessibility"},this.state.isPlaying?this.state.i18nacc_pause:this.state.i18nacc_play))},PlaybackControlsUnified:function(){var i=e("views/player/PlayPauseButton"),n=e("views/player/PlaybackProgress"),r=e("views/player/PlaybackResetButton");return t.createElement("div",{className:["controls-group","control-bar","cs-seekcontrol","progress-control",this.props.playOnly?"play-only":""].join(" ")},t.createElement("div",{className:"grid-row"},t.createElement(i,{ref:"playPauseButton",shown:this.state.stateable_pauseplay,timeline:this.state.timeline}),this.state.stateable_seekbar&&t.createElement(n,{ref:"playbackProgress",timeline:this.state.timeline,readonly:this.props.readonly()}),this.state.stateable_replay&&t.createElement(r,{ref:"playbackResetButton",timeline:this.state.timeline})))},PlaybackProgressUnified:function(){var i=e("helpers/utils"),n=e("polyfills/detection"),r=!this.props.readonly&&n.isDesktop,s=["progress-bar cs-seekbar",this.state.tabFocused?"focused":"",this.props.readonly?"read-only-mobile read-only-progress-bar":""].join(" ");return t.createElement("div",{className:s,onMouseDown:r&&this.onMouseDown,onMouseOver:r&&this.onStartProgressDetails,onMouseOut:r&&this.onStopProgressDetails},t.createElement("div",{className:"cs-seekbar-inner progress-bar-inner slide-lockable"},t.createElement("div",{className:"cs-seek progress-bar-seek"},n.isDesktop&&t.createElement("div",{className:"progress-bar-fill-preview cs-fill",style:{width:i.pxify(this.state.previewWidth)}}),t.createElement("div",{className:"cs-brandhighlight-bg progress-bar-fill",style:{width:i.decToPct(this.state.progress,!0)}}),n.isDesktop&&t.createElement("div",{className:"prev-progress-bar-fill-preview cs-fill",style:{right:i.decToPct(i.invertPercent(this.state.progress),!0),width:this.state.prevProgWidth}})),t.createElement("input",{type:"range",min:"0",max:"1",ref:"input",style:{pointerEvents:r?"all":"none"},onChange:this.onSeek,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,disabled:this.props.readonly,"aria-label":"Seekbar",value:this.state.progress,step:"0.001"})))},RelativeNavControlsUnified:function(){var i=e("lodash"),n=e("views/player/Icon"),r=e("views/player/Timer"),s=e("views/player/SlideControlButton"),o=e("views/player/SubmitAllButton"),a=e("polyfills/detection"),l=this.getPath("props.timers"),u=i.pick(this.props,["slide","windowId"]);return t.createElement("span",{className:["relative-nav",this.state.shrinkButtons?"relative-nav-shrink":""].join(" ")},t.createElement("span",{"aria-label":this.state.i18nacc_skipnavigation,className:"skip-nav",ref:"skipNav",role:"button",tabIndex:"-1"}),this.state.showPrev&&t.createElement(s,t.__spread({kind:"previous",ref:"prev",windowId:this.props.windowId,onButtonDown:this.triggerNavEvent.bind(this,"prev")},u),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"next":"prev"})),t.createElement("span",{className:"text"},this.state.i18nprev)),this.state.showNext&&t.createElement(s,t.__spread({kind:"next",ref:"next",onButtonDown:this.triggerNavEvent.bind(this,"next")},u),t.createElement("span",{className:"text"},this.state.i18nnext),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:this.props.isRtl?"prev":"next"}))),t.createElement(s,t.__spread({kind:"submit",ref:"submit",onButtonDown:this.triggerSubmit},u),t.createElement("span",{className:"text next-btn-text"},this.state.i18nsubmit),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"}))),t.createElement(s,t.__spread({kind:"finish",ref:"finish",onButtonDown:this.triggerFinish},u),t.createElement("span",{className:"text"},this.state.i18nfinish),t.createElement("span",{className:"btn-icon"},t.createElement(n,{type:"check"}))),(a.isMobile||this.state.stateable_submitall&&!this.props.handledSubmitAll)&&t.createElement(o,t.__spread({},u)),a.isMobile&&null!=l&&l.map(function(e,i){return t.createElement(r,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.player.controlOptions.sidebarOptions")})}.bind(this)))},ResourcesListUnified:function(){var i=e("views/player/Container");return t.createElement("ul",{className:"resources-list unstyled"+(this.state.tabFocused?" focused":""),role:"list"},this.props.resources.map(function(e,n){var r=this.getExtSettings(e);return t.createElement(i,{ref:"resource"+n,key:n,className:"resource-list-item-wrapper"},t.createElement("li",{className:"resource",role:"presentation"},t.createElement("a",{href:e.get("url"),className:"cs-listitem list-item resource-ext-"+r,target:"_blank",role:"link","aria-label":e.get("title"),onClick:this.onClickResource.bind(this,e)},t.createElement("div",{className:"file-icon"},"link"!==r&&t.createElement("svg",{width:"20px",height:"27px",viewBox:"0 0 40 50"},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("path",{className:"file-icon-bg",d:"M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"}),t.createElement("path",{className:"file-icon-fold",d:"M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"})))),"link"!==r&&t.createElement("div",{className:"file-icon-text"},r),"link"===r&&t.createElement("svg",{preserveAspectRatio:"none",x:"0px",y:"0px",width:"18px",height:"18px",viewBox:"0 0 18 18"},t.createElement("path",{fill:"#4FBDF4",stroke:"none",d:"M 1.45 8.5 Q 0.0453125 10.0015625 0 11.9 L 0 12.15 Q 0.0453125 14.0484375 1.45 15.55 L 1.5 15.6 Q 3.0015625 17.0046875 4.85 17.05 L 5.1 17.05 Q 7.0150390625 17.0046875 8.5 15.6 L 10.65 13.45 Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75 L 9.95 11.75 Q 9.55 11.75 9.2 12.05 L 7.1 14.15 Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95 L 5 7.8 Q 5.3 7.5 5.3 7.1 L 5.3 7.05 Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4 L 1.45 8.5 M 12.05 5 Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5 L 5 10.65 Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05 L 12.05 6.4 Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5 M 15.6 1.5 L 15.55 1.45 Q 14 0 12.05 0 L 12 0 Q 10.05 0 8.5 1.45 L 6.4 3.55 Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5 L 9.95 2.85 Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1 L 12.05 9.2 Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65 L 15.6 8.5 Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"}))),t.createElement("div",{className:"file-name"},e.get("title")))))}.bind(this)))},ResourcesUnified:function(){e("helpers/utils"),e("views/player/ResourcesHeader");var i=e("views/player/ResourcesList");e("views/presentation/ScrollBar");return t.createElement("div",{className:"cs-resource resources"},t.createElement("div",{className:"panel-content",ref:"panelContent"},t.createElement(i,{resources:this.props.model.resources(),ref:"resourcesList"})))},SearchFooterUnified:function(){var i=e("views/player/Icon"),n=e("polyfills/detection");return t.createElement("div",{className:"panel-footer "+(this.state.stateable_search?"":"hidden")},t.createElement("hr",{className:"cs-diva diva"}),t.createElement("hr",{className:"cs-divb divb"}),t.createElement("form",{id:"outline-search",className:"grid-row search-input cs-outlinesearch cs-searchinput",role:"presentation",onSubmit:this.search},n.isMobile&&t.createElement("div",{className:"mobile-search-icon"},t.createElement(i,{key:"Search",type:"Search"})),t.createElement("input",{className:["search-input-element cs-input",this.state.inputFocus?"focused":""].join(" "),type:"search",onChange:this.handleChange,onKeyDown:this.onInputKeyDown,onBlur:this.onBlurSearch,placeholder:this.state.i18nsearch,value:this.state.searchInput,ref:"searchInput"})),t.createElement("div",{className:"search-clear "+(this.props.showClearButton?"":"hidden")},t.createElement("button",{onClick:this.clearSearch,className:"btn cs-button "+(this.state.clearFocus?"focused":""),ref:"searchClear"},t.createElement("span",{className:"search-clear-close"},"×"))))},SidebarTabUnified:function(){var i=e("helpers/stringTabler"),n=this.props.activeTab===this.props.config,r="tab-"+this.props.config.name,s=["tab","cs-tabs",r,this.props.config.isLive?"":"hidden",n?"cs-selected active":"",this.state.tabFocused?"focused":""].join(" ");return t.createElement("li",{className:s,role:"button",tabIndex:"-1"},t.createElement("button",{className:"tabs-trigger cs-inner-button",id:r,onClick:this.activate,"aria-selected":n,ref:"button"},t.createElement("span",null,this.state.i18ntitle),t.createElement("span",{className:"accessibility"},", "+i.getString(n?"active":"inactive"))))},SidebarUnified:function(){var i=e("views/player/TabPanel"),n=e("views/player/SidebarTab"),r=e("views/player/Presenter"),s=e("views/player/Icon"),o=e("polyfills/detection"),a=this.state.activeTab?"":"hidden",l="area-secondary cs-left inflexible "+a,u=this.getPath("props.model.controlOptions.controls.search");return t.createElement("div",{className:"area-secondary-wrapper "+a},t.createElement("div",{className:l,style:{height:this.props.height}},t.createElement("div",{className:"sidebar-contents grid-col"+(this.hasPresenter()?" has-presenter":"")+(this.hasVideo()?" has-video":"")},!o.isPhone&&this.hasLogo()&&t.createElement("div",{className:"logo inflexible cs-logo",style:{backgroundImage:"url("+this.logoUrl()+")"}}),(this.hasPresenter()||this.hasVideo())&&t.createElement(r,{presenter:this.getSlidePresenter(),video:this.getSlidePresenterVideo()}),t.createElement("div",{className:"tabs-wrap grid-col"},t.createElement("ul",{className:["tabs",this.state.tabs.length>2?"fill-width":""].join(" "),role:"presentation"},this.state.tabs.map(function(e,i){return t.createElement(n,{ref:"sidebarTab"+i,config:e,key:i,activeTab:this.state.activeTab,setActiveTab:this.setActiveTab})}.bind(this)),u&&t.createElement("li",{className:"tab cs-tabs search-tab",role:"button",tabIndex:"-1",onMouseDown:this.onDownSearchIcon,onClick:this.onClickSearchIcon},t.createElement(s,{key:"Search",type:"Search"}))),this.state.tabs.map(function(e,n){return t.createElement(i,{config:e,key:n,ref:"sidebarPanel"+n,panelClass:"panel",model:this.props.model,activeTab:this.state.activeTab})}.bind(this)),t.createElement("div",{ref:"tabSelectedSlider",className:"tab-selected-slider cs-brandhighlight-bg"})))))},TabPanelUnified:function(){e("views/player/Icon");var i=e("views/player/Menu"),n=e("views/player/Glossary"),r=e("views/player/Notes"),s=e("views/player/Resources"),o=e("views/player/MicroScrollBar"),a=e("helpers/utils"),l=e("polyfills/detection"),u=this.props,c=u.config,h=u.model,p=this.getPath("props.model.controlOptions"),d=l.isPhone&&!l.isRise&&!l.is360,f={};return l.isIE()?f.height=280:f.maxHeight=d?window.innerHeight-100:"calc(100vh - 100px)",t.createElement("section",{"aria-labelledby":"tab-"+c.name,className:["cs-menu cs-panel is-scrollable",c.isLive?"":"hidden",u.activeTab===c?"cs-selected active":"hidden",u.panelClass,this.state.tabFocused?"focused":""].join(" "),style:f,role:"presentation",id:"panel-"+c.name},"outline"===c.name&&t.createElement(i,{ref:"menu",model:h.navData(),notesData:h.notesData(),addFocusObjects:this.addFocusObjects,options:a.getPath(p,"menuOptions"),hasSearch:a.getPath(p,"controls.search"),title:a.getPath(p,"sidebarOptions.titleText"),onSelectMenuItem:this.onSelectMenuItem}),"glossary"===c.name&&t.createElement(n,{ref:"glossary",collection:h.glossaryData(),addFocusObjects:this.addFocusObjects}),"resources"===c.name&&t.createElement(s,{ref:"resources",model:h.resourceData(),isLive:c.isLive,addFocusObjects:this.addFocusObjects}),"transcript"===c.name&&t.createElement(r,{ref:"notes",active:u.activeTab,collection:h.notesData(),addFocusObjects:this.addFocusObjects}),t.createElement(o,{ref:"microScrollBar",parent:this,targetClass:"panel-content",name:c.name}))},TimerUnified:function(){var i=e("helpers/svg/svgUtils"),n=e("polyfills/detection"),r={width:18,height:18};return t.createElement("div",{className:["timer",this.state.timerVisible?"shown":"hidden"].join(" ")},t.createElement("div",{className:"timer-text",ref:"timerText",tabIndex:"-1"},this.state.timeText),!n.isMobile&&t.createElement("div",{className:"timer-wheel",style:r},t.createElement("svg",{style:r,width:18,height:18,"data-xmlns-xlink":"http://www.w3.org/1999/xlink"},t.createElement("circle",{className:"cs-brandhighlight-fill",cx:"9",cy:"9",r:"8.5"}),t.createElement("path",{d:i.wheelPath(9,9,9,0,360*(1-this.state.timeScale)),className:"circle-progress-well",transform:"rotate(-90 9 9)",stroke:"none"}),t.createElement("circle",{className:"circle-progress-bg",cx:"9",cy:"9",r:"6"}))))},TopTabsItemUnified:function(){var i=e("views/player/TabPanel"),n="outline"===this.props.config.name||"glossary"===this.props.config.name||"resources"===this.props.config.name||"transcript"===this.props.config.name;return t.createElement("div",{onTouchStart:this.onTouchStart,className:["cs-topmenu-item","topmenu-item",this.props.isFirst?"first-tab-item":"",this.props.activeTab===this.props.config?"active":"",this.determineVisibilty()?"":"hidden"].join(" ")},t.createElement("button",{id:"tab-"+this.props.config.name,"aria-controls":"panel-"+this.props.config.name,"data-name":this.props.name,ref:"btn",className:["topmenu-tab","tabs-trigger","cs-tab text-compact ",this.state.tabFocused?"focused":""].join(" "),onClick:this.onClick,role:"link"},this.getTitle()),n&&t.createElement(i,{ref:"tabPanel",config:this.props.config,model:this.props.model,activeTab:this.props.activeTab,panelClass:"topmenu-panel topmenu-panel-align-"+this.props.align,onSelectMenuItem:this.onSelectMenuItem}))},TopTabsUnified:function(){e("lodash");var i,n,r=e("views/player/TopTabsItem"),s=e("polyfills/detection"),o=this.state.tabSliceIdx;return s.isTouchableThemeAndPhone?(i=[],n=this.state.tabs,o=0):(i=this.state.tabs.slice(0,o),n=this.state.tabs.slice(o)),t.createElement("div",{className:"top-tabs-container top-tabs-"+this.props.align,style:{opacity:this.state.opacity}},t.createElement("div",{ref:"topTabsLine",className:"top-tabs-line"}),i.map(function(e,i){var n=0===i;return t.createElement(r,{key:i,isFirst:n,ref:"topTabsItem"+i,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this)),n.length>0&&t.createElement("div",{className:["topmenu-item top-tabs-drop-icon",this.state.showMenu?"open":""].join(" "),style:{marginLeft:0===o?"0.8em":"0"},onClick:this.toggleDropDown},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null),t.createElement("button",{style:{pointerEvents:"none"},className:"topmenu-tab tabs-trigger cs-tab text-compact"}," ")),t.createElement("div",{className:["top-tabs-drop",this.state.showMenu?"visible":"invisible"].join(" "),style:{overflow:this.state.dropOverflow}},n.map(function(e,i){var n=0===i;return i+=o,t.createElement(r,{key:i,isFirst:n,ref:"topTabsItem"+i,config:e,name:e.name,activeTab:this.state.activeTab,activateTab:this.activateTab,deactivateTab:this.deactivateTab,align:this.props.align,model:this.props.model})}.bind(this))))},TopbarUnified:function(){var i=e("views/player/TopTabs"),n=e("views/player/Timer"),r=e("views/player/Icon"),s=e("views/player/ElapsedAndTotalTime"),o=e("polyfills/detection"),a=this.hasTitle(),l=this.getPath("props.model.controlOptions.sidebarOptions.titleText");return t.createElement("header",{className:"header-primary"},t.createElement("div",{className:"top-ui-bg"}),t.createElement("h1",{className:"presentation-title cs-title invisible"},a&&l),this.hasTitle()&&t.createElement("div",{className:"presentation-title-wrapper"},t.createElement("div",{className:"presentation-title cs-title"},t.createElement("span",{className:"title-text"},l))),this.hasElapsedAndTotalTime()&&t.createElement(s,{presentation:this.props.presentation}),this.hasTimer()&&this.getPath("props.timers").map(function(e,i){return t.createElement(n,{ref:"timer"+i,key:i,model:e,onTimerShow:this.onTimerShow,options:this.getPath("props.model.controlOptions.sidebarOptions")})}.bind(this)),(this.hasLinkRight()||this.hasLinkLeft())&&t.createElement("div",{className:"top-tabs"},t.createElement(i,{ref:"topTabsRight",model:this.props.model,tabs:this.childTopTabs,align:"none",sidebarPos:this.props.sidebarPos})),t.createElement("div",{className:"menu-icon-wrapper "+(this.state.hamburgerOver?"menu-icon-wrapper-hover":""),onMouseOver:this.hamburgerOver,onMouseOut:this.hamburgerOut,onClick:(o.isDesktop||o.isMobilePreview)&&this.toggleSlide,onTouchEnd:o.isMobileOrTouchableTheme&&this.toggleSlide},t.createElement(r,{key:"Menu",type:"Menu"})))},VolumeControlsUnified:function(){var i=e("views/player/Icon"),n=e("helpers/constants"),r=e("polyfills/detection"),s=this.adjustVolumeVal(this.state.volumeStrength);return t.createElement("div",{className:["controls-group control-bar inflexible",r.isDesktop?"":"hidden"].join(" ")},t.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick,onTouchEnd:this.onClick},t.createElement("button",{className:"btn-unstyled text-align-middle"},t.createElement(i,{type:"volume",ref:"volumeIcon",isOpen:this.state.isOpen,volumeStrength:10*this.state.volumeStrength}),t.createElement("span",{className:"accessibility"},this.state.i18nvolume)),t.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),id:"control-volume-slider"},t.createElement("input",{ref:"volumeRange",className:"cs-volume",style:{opacity:0},type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}),t.createElement("div",{ref:"volumeTrack",className:"volume-track"}),t.createElement("div",{ref:"volumeProgress",className:"volume-progress",style:{height:s+"%",background:n.theme.brandingHighlight}}),t.createElement("div",{ref:"volumeDot",className:"volume-dot",style:{top:50-s+"%"}}))))},CaptionIconUnified:function(){return t.createElement("span",null,t.createElement("svg",{className:"cs-icon caption-icon-disabled captions-icon",preserveAspectRatio:"none",width:"19px",height:"16px",viewBox:"0 0 19 16"},t.createElement("g",{transform:"translate(-7, 1)"},t.createElement("path",{fill:"#6C6C6C",stroke:"none",d:"M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z"}),t.createElement("path",{className:"icon-stroke-only",stroke:"#6C6C6C",strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round",fill:"none",d:"M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z"}))),t.createElement("svg",{className:"cs-icon caption-icon-enabled captions-icon",width:"19px",height:"16px",viewBox:"0 0 19 16"},t.createElement("g",{transform:"translate(-7, 1)"},t.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"}))))},CarrotIconUnified:function(){return t.createElement("svg",{className:"cs-icon cs-icon-carrot",width:"30",height:"30",viewBox:"0 0 30 30"},t.createElement("rect",{x:"-10",y:"0",width:"40",height:"30",fill:"red",fillOpacity:"0"}),t.createElement("g",{transform:"translate(8, 8)"},t.createElement("polygon",{points:"1,1.5 5,5 1,8.5"})))},CheckIconUnified:function(){return t.createElement("svg",{className:"cs-icon check-icon",width:"17px",height:"16px",viewBox:"0 0 17 16"},t.createElement("path",{stroke:"none",transform:"translate(0, 1)",d:"M 17 1.4 L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"}))},MenuIconUnified:function(){return t.createElement("svg",{className:"cs-icon",width:"30px",height:"12px",viewBox:"0 10 30 12"},t.createElement("path",{d:"M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z"}))},NextIconUnified:function(){return t.createElement("svg",{className:"cs-icon next-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},t.createElement("path",{transform:"rotate(180, 5, 8)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},NextIconUnifiedMobile:function(){var e='<use xlink:href="#icon-next-mobile" class="icon-mobile" transform="translate(0, 1)" /><path d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>';return t.createElement("svg",{className:"cs-icon next-mobile-icon jext",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},PauseIconUnified:function(){var e=['<g id="icon-pause" transform="translate(-4, -1)">','<rect x="0" width="3" height="14"/>','<rect x="6" width="3" height="14"/>',"</g>"].join("");return t.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnified:function(){var e='<path transform="translate(-11 -7)" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlayIconUnifiedMobile:function(){var e='<use xlink:href="#icon-play" /><path fill="green" xmlns="http://www.w3.org/2000/svg" d="M12.8386976,21.960641 C12.3689494,22.2449942 11.9881431,22.0178666 11.9881431,21.475229 L11.9881431,9.72115178 C11.9881431,9.16871298 12.3661523,8.9496935 12.8420836,9.23778943 L22.495455,15.0812738 C22.9670733,15.366759 22.9694853,15.8281618 22.4919657,16.1172192 L18.2948794,18.6578454 L12.8386976,21.960641 Z"></path>';return t.createElement("svg",{className:"cs-icon play-icon",width:"30",height:"30",viewBox:"0 0 30 30",key:e,dangerouslySetInnerHTML:{__html:e}})},PlaybackResetIconUnified:function(){return t.createElement("svg",{className:"cs-icon",preserveAspectRatio:"none",x:"0px",y:"0px",width:"13px",height:"16px",viewBox:"0 0 13 16"},t.createElement("path",{fill:"#FFFFFF",stroke:"none",d:"M 10.95 8.75 Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75 L 6 6.9 Q 6.05 7.75 6.85 7.35 L 11.35 4.3 Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2 L 6.85 0.15 Q 6.05 -0.3 6 0.6 L 6 2.75 Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75 L 10.95 8.75 Z"}))},PrevIconUnified:function(){return t.createElement("svg",{className:"cs-icon prev-icon",width:"10px",height:"18px",viewBox:"0 -1 10 18"},t.createElement("path",{transform:"translate(0, 1)",d:"M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z",stroke:"none",fillRule:"evenodd"}))},PrevIconUnifiedMobile:function(){var e='<use xlink:href="#icon-prev-mobile" class="icon-mobile" transform="translate(0, 1)" /><path transform="rotate(180)" xmlns="http://www.w3.org/2000/svg" d="M259.816852,16.6026508 L266.005289,10.4142136 L264.591076,9 L257,16.5910759 L257.011575,16.6026508 L257,16.6142258 L264.591076,24.2053017 L266.005289,22.7910881 L259.816852,16.6026508 Z" fill="#6C6C6C"/>';return t.createElement("svg",{className:"cs-icon prev-mobile-icon bad",width:"40",height:"36",viewBox:"0 0 40 36",key:e,dangerouslySetInnerHTML:{__html:e}})},SearchIconUnified:function(){return t.createElement("svg",{className:"search-icon",width:"43px",height:"13px",viewBox:"0 0 10 10"},t.createElement("g",{transform:"translate(-12, 0) scale(1.3)",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",null,t.createElement("circle",{strokeWidth:"1",cx:"4",cy:"4",r:"3"}),t.createElement("path",{d:"M 6 6 L 10 10"}))))},VolumeIconUnified:function(){var e=Math.min(1,this.props.volumeStrength/5),i=Math.min(1,Math.max(0,this.props.volumeStrength/5-.5));return t.createElement("svg",{className:["cs-icon volume-icon",this.props.isOpen?"volume-icon-selected":""].join(" "),style:{overflow:"visible"},width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1"},t.createElement("g",{transform:"translate(0, 1)"},t.createElement("rect",{x:"0",y:"4",width:"3",height:"6"}),t.createElement("polygon",{points:"4 4 9 0 9 14 4 10"}),t.createElement("g",{transform:"translate(10.000000, 0.000000)"},t.createElement("mask",{id:"vol-mask",fill:"white"},t.createElement("rect",{id:"path-1",x:"0",y:"0",width:"8",height:"14"})),t.createElement("circle",{strokeWidth:"1.5",style:{opacity:i},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"6.5"}),t.createElement("circle",{strokeWidth:"1.5",style:{opacity:e},mask:"url(#vol-mask)",fill:"none",cx:"-1",cy:"7",r:"3.5"}))))}}}),define("helpers/templateManager",["require","lodash","helpers/errorManager","views/mixins/baseView","templates/templates","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("helpers/errorManager"),n=e("views/mixins/baseView"),r=e("templates/templates"),s=e("polyfills/detection"),o=i.throwError("templateManager"),a=i.backtick,l=o("getTemplate"),u=a("templateName")+" argument empty",c={getTemplate:function(e){e||l(u);var i,n,o=(n=r[(i=e)+"Mobile"],s.isMobile&&null!=n?n:r[i]);return t.isUndefined(o)&&l("tried calling for an undefined template",a(e)),o}};return n.setTemplateManager(c),c}),define("views/events/doubleclick",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=0;i.registerEvent("doubleclick",function(e){return function(r,s){var o=function(e){var t;return n++,setTimeout(function(){n=0},600),n>=2&&(t=!0,n=0,e.currentTarget.wasDoubleClicked=!0),(i.doesEventTargetAcceptEvents(e)||r.overrideAcceptEvents)&&t},a=t.flow(e(r,"mouseup",o,s,!0),e(r,"touchend",o,s,!0));return r.setAttribute("data-double-click",!0),{teardown:a}}})}),define("views/events/press",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=function(e){return i.isLeftMouseBtn(e)&&i.doesEventTargetAcceptEvents(e)};i.registerEvent("press",function(e){return function(r,s,o){return{teardown:t.flow(e(r,"mousedown",n,s),e(r,"touchstart",function(e){if(i.doesEventTargetAcceptEvents(e))return o.triggerEvent({type:"rollover",target:e.target}),!0},s,!1))}}})}),define("views/events/release",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","polyfills/vendorOverrides","polyfills/detection"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("views/events/eventHelper"),o=(e("views/events/touchHelper"),e("polyfills/vendorOverrides")),a=e("polyfills/detection"),l=function(e){var t=e.currentTarget.wasDoubleClicked;return e.currentTarget.wasDoubleClicked=null,!!t},u=function(e){return e.classList.contains("slide-object")},c=function(e){if(e.touches.length>0)return i=!0,!1;var n=i,o=r.dist(t.x,t.y,e.changedTouches[0].clientX,e.changedTouches[0].clientY);return i=!1,!n&&o<20&&s.doesEventTargetAcceptEvents(e)&&!l(e)},h=function(e){t={x:e.touches[0].clientX,y:e.touches[0].clientY}};s.registerEvent("release",function(e){return function(t,i,r){if(null!=o.registerAudioInitEvent){var p=o.registerAudioInitEvent(e,t,i,r);if(null!=p)return p}return[{teardown:e(t,"touchstart",h,n.noop,!0)},{teardown:n.flow(e(t,"mousedown",function(r){var o,c;c=r,s.isLeftMouseBtn(c)&&s.doesEventTargetAcceptEvents(c,u)&&(!a.isMobileOrTouchableTheme||a.isMobilePreview)&&(o=n.flow(e(t,"mouseup",function(e){return o(),!l(e)},i),e(t,"mouseleave",function(){o()},n.noop)))},n.noop),e(t,"touchend",c,i,!0))}]}})}),define("views/events/rightpress",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightpress",function(e){return function(t,n){return{teardown:e(t,"mousedown",i,n)}}})}),define("views/events/rightrelease",["require","views/events/eventHelper"],function(e){"use strict";var t=e("views/events/eventHelper"),i=function(e){return t.isRightMouseBtn(e)&&t.doesEventTargetAcceptEvents(e)};t.registerEvent("rightrelease",function(e){return function(t,n){return{teardown:e(t,"mouseup",i,n)}}})}),define("views/events/rollover",["require","lodash","helpers/utils","views/events/eventHelper","views/events/touchHelper","views/helpers/dom"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),r=e("views/events/eventHelper"),s=(e("views/events/touchHelper"),e("views/helpers/dom")),o=function(e){return n.getPath(e,"props.model.isGroupingSlideObject")};r.registerEvent("rollover",function(e){return function(n,a,l){return{teardown:i.flow(e(n,"mouseover",function(e){s.updateMousePosition(e);var i=!1,a=l.props.model;if(null!=t&&null!=e.topView&&l!==e.topView&&e.topView===t&&(i=!0,!a.isGroupingSlideObject||a.isGroupingContainer))return e.stopImmediatePropagation(),!1;e.topView||(e.topView=l);var u,c,h;if(!i&&t&&t!==l&&"rollout"!==t.latestEvent)if(t.isObscurable)null!=t.rollOverHandler&&t.rollOverHandler();else{if(o(t))return t=l,!1;t.triggerEvent({type:"rollout",target:e.target})}return t=e.topView,c=0,h=function(e){c++},n.addEventListener("mousemove",h),document.addEventListener("mousemove",function e(i){var r;if(0===c&&!l.isObscurable){if(r=document.elementFromPoint(i.pageX,i.pageY),t.el===s.closest(r,s.isSlideObject))return;u=o(t)?l.el:i.target,l.triggerEvent({type:"rollout",target:u})}document.removeEventListener("mousemove",e),n.removeEventListener("mousemove",h)}),r.doesEventTargetAcceptEvents(e)},a),e(n,"touchstart",function(e){return r.doesEventTargetAcceptEvents(e)},a,!0,!1))}}})}),define("views/events/rollout",["require","lodash","views/events/eventHelper","views/helpers/transformHelper","views/helpers/collisionHelper","views/helpers/dom","helpers/utils","polyfills/vendorOverrides"],function(e){"use strict";var t=e("lodash"),i=e("views/events/eventHelper"),n=e("views/helpers/transformHelper"),r=e("views/helpers/collisionHelper"),s=e("views/helpers/dom"),o=(e("helpers/utils"),e("polyfills/vendorOverrides").mouseOver||function(){return"mouseenter"});i.registerEvent("rollout",function(e){return function(i,a,l){l.props.model;var u,c=function(e){if(l.isMounted()){var t=s.mouseX,o=s.mouseY,c=n.globalPtToSlideObject(l,t,o),h=!1;l.props.model.isZoomable()&&(h=s.hasClass(document.elementFromPoint(t,o),"zoom-image")),h||r.containsPoint(l,c.x,c.y)||(a({type:"rollout",node:i,target:i}),clearInterval(u))}else clearInterval(u)};return{teardown:l.isObscurable?t.flow(e(i,o(),function(e){l.isObscurable&&(l.rollOverHandler=c,clearInterval(u),u=setInterval(c,16))},t.noop),e(i,"touchend",null,a,!0,!1)):t.flow(e(i,"mouseleave",function(e){return!0},a),e(i,"touchend",null,a,!0,!1))}}})}),define("views/events/clickoutsideobjects",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t,i=e("lodash"),n=e("views/events/eventHelper"),r=function(e){var r=n.parentNodesOf(e.target);t=i.compact(i.invoke(r,"getAttribute","data-model-id"))},s=function(e){return{data:t||[]}};n.registerEvent("clickoutsideobjects",function(e){return function(t,n){return[{teardown:i.flow(e(t,"mousedown",r,i.noop,!0),e(t,"touchstart",r,i.noop,!0))},{teardown:i.flow(e(t,"mouseup",s,n,!0),e(t,"touchend",s,n,!0))}]}})}),define("views/events/clickoutside",["require","lodash","helpers/utils","views/events/eventHelper","helpers/windowManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/utils"),n=e("views/events/eventHelper"),r=e("helpers/windowManager"),s=function(e,t,n){var s=i.getPath(r.getCurrentWindow(),"refs.slideContainer.el");return!!(!e.contains(n.target)&&(!t||null!=s&&s.contains(n.target)))&&{node:e,target:n.target}};n.registerEvent("clickoutside",function(e){return function(n,r,o){var a=i.getPath(o,"props.model.isSlideObject",!1);return{teardown:t.flow(e(document.body,"click",t.partial(s,n,a),r),e(document.body,"touchstart",t.partial(s,n,a),r,!1,!1))}}})}),define("views/events/releaseoutside",["require","lodash","views/events/eventHelper"],function(e){"use strict";var t=e("lodash");e("views/events/eventHelper").registerEvent("releaseoutside",function(e){return function(i,n){var r,s,o=function(e,t){var i=document.elementFromPoint(t.pageX,t.pageY);return r&&r(),!e.contains(i)&&{node:e}},a=function(e,i){return o(e,t.first(i.changedTouches))},l=function(){r=t.flow(e(document,"mouseup",t.partial(o,i),n),e(document,"touchend",t.partial(a,i),n,!0,!1))};return s=t.flow(e(i,"mousedown",l),e(i,"touchstart",l)),{teardown:function(){r&&r(),s()}}}})}),define("views/events/allEvents",["require","views/events/doubleclick","views/events/press","views/events/release","views/events/rightpress","views/events/rightrelease","views/events/rollover","views/events/rollout","views/events/clickoutsideobjects","views/events/clickoutside","views/events/releaseoutside"],function(e){"use strict";e("views/events/doubleclick"),e("views/events/press"),e("views/events/release"),e("views/events/rightpress"),e("views/events/rightrelease"),e("views/events/rollover"),e("views/events/rollout"),e("views/events/clickoutsideobjects"),e("views/events/clickoutside"),e("views/events/releaseoutside")}),define("models/presentation/SlideRef",["require","lodash","models/BaseModel","helpers/assetManager","helpers/resolver","helpers/events","helpers/utils","helpers/vow","polyfills/detection","external/superagent"],function(e){"use strict";var t,i=e("lodash"),n=e("models/BaseModel"),r=e("helpers/assetManager"),s=e("helpers/resolver"),o=e("helpers/events"),a=e("helpers/utils"),l=e("helpers/vow"),u=e("polyfills/detection"),c=e("external/superagent"),h=function(e){return s.resolvePath(e,s.getPresentationContext())},p={slide:"getSlideLinkSlide",slidedraw:"getDrawLinkSlide",action:"getActionLinkSlide"},d=n.extend({shorthand:["assetIds"],subscriptions:(t={},t[o.data.INITIALIZED]="onDataInitialized",t),initialize:function(){this.slideDataLoaded=!1},loadSlideData:function(){var e=l.Deferred();return this.slideDataLoaded||u.isFileProtocol()?e.resolve():c.get(this.getSlide().url()).accept("application/javascript").end(function(t){t?e.reject(t):(this.setSlideDataLoaded(),e.resolve())}.bind(this)),e.promise()},setSlideDataLoaded:function(){this.slideDataLoaded=!0},onDataInitialized:function(){"slidedraw"===this.get("type")&&(this.draw=h(this.get("id")),this.listenTo(this.draw,o.draw.RESET_COMPLETE,this.buildDrawRefs.bind(this)))},loadAssets:function(e){return r.loadAssets(this.assetIds().slice(),e)},offloadAssets:function(){r.offloadAssets(this.assetIds().slice())},getSlide:function(){return h(null!=this.draw?this.draw.getFirstSlide():this.get("id"))},buildDrawRefs:function(){var e,t=this.draw.startingSlide();for(this.clearLastDrawRefs();null!=t;)e=h(t),this.addDrawSlideToCollection(e),t=this.draw.getNextSlideId(e)},clearLastDrawRefs:function(){null!=this.drawRefs&&this.drawRefs.forEach(function(e){this.collection.remove(e)}.bind(this)),this.drawRefs=[]},addDrawSlideToCollection:function(e){var t,n=this.collection.get(e.id);null!=n&&(t=new d(i.assign({},n.attributes,{id:a.stripPlayer(e.absoluteId),drawOwner:this.draw})),this.collection.add(t),this.drawRefs.push(t))},getReachableSlides:function(){return i.filter((this.get("linksTo")||[]).map(function(e){return this[p[e.type]](e)}.bind(this)),function(e){return null!=e&&!e.isMessageSlide()})},getSlideLinkSlide:function(e){for(var t=h(e.id);null!=t&&!t.isSlide;)if(t.isScene)t=h(t.startingSlide());else{if(!t.isSlideDraw)return null;t=t.getFirstSlide()}return t},getDrawLinkSlide:function(e){return a.getPath(h(e.id),"getFirstSlide")},getActionLinkSlide:function(e){var t,n=this.get("drawOwner");return"playnextdrawslide"===e.id&&null!=n?(t=n.getNextSlideId(this.getSlide()),i.isEmpty(t)?null:h(t)):null}});return d}),define("collections/presentation/SlideRefs",["require","collections/BaseCollection","models/presentation/SlideRef"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideRef");return t.extend({model:i})}),define("models/presentation/SlideMap",["require","lodash","models/BaseModel","collections/presentation/SlideRefs","polyfills/detection","helpers/events","helpers/utils","helpers/resolver","helpers/errorManager","helpers/pubSub","helpers/playerGlobals","helpers/constants"],function(e){"use strict";var t,i,n=e("lodash"),r=e("models/BaseModel"),s=e("collections/presentation/SlideRefs"),o=e("polyfills/detection"),a=e("helpers/events"),l=e("helpers/utils"),u=e("helpers/resolver"),c=(e("helpers/errorManager"),e("helpers/pubSub")),h=e("helpers/playerGlobals"),p=e("helpers/constants");return r.extend({shorthand:["queueSize"],associations:{slideRefs:s},subscriptions:(i={},i[a.loader.SILENCE]="onSilenceLoader",i[a.slide.READY]="onSlideLoaded",i),initialize:function(){this.loaders=[],this.silenceLoader=!1,this.slideLoaded=!1,this.once("change:queueSize",this.onQueueSizeUpdate.bind(this))},onQueueSizeUpdate:function(){t=o.isMemoryDeficientDevice?0:this.queueSize()},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(){var e;this.slideLoaded||this.silenceLoader||(e=o.isClassic?0:p.DESKTOP_LOADER_DELAY,c.trigger(a.loader.SHOW,e)),this.silenceLoader=!1},getStrippedId:function(e){var t,i=(t=e,u.resolvePath(t,h.presentation));return l.stripPlayer(i.isScene?i.slides().first().absoluteId:e)},setCurrentSlide:function(e){this.currentSlideId=this.getStrippedId(e),this.slideLoaded=!1,this.loadQueue=[];var t=this.getReachables(this.currentSlideId);this.stopCurrentLoaders(t),this.offloadUnreachableAssets(t),this.currentReachables=t,this.showLoader()},stopCurrentLoaders:function(e){this.loaders.length>0&&this.loaders.forEach(function(t){null!=t&&null==n.find(e,{id:t.refId})&&t.dfds.forEach(function(e){e.reject()})}.bind(this)),this.loaders=[]},offloadUnreachableAssets:function(e){null!=this.currentReachables&&n.difference(this.currentReachables,e).forEach(function(e){e.offloadAssets()})},onSlideLoaded:function(){n.first(this.currentReachables).setSlideDataLoaded(),this.loadQueue=n.rest(this.currentReachables),this.slideLoaded=!0,this.loadIdx=0,this.preloadNextSlideData()},preloadNextSlideData:function(){this.slideLoaded&&(this.loadIdx<this.loadQueue.length?this.loadQueue[this.loadIdx].loadSlideData().always(function(){this.loadIdx++,this.preloadNextSlideData()}.bind(this)):this.preloadNextSlide())},preloadNextSlide:function(){if(this.slideLoaded&&0!==this.loadQueue.length){var e=this.loadQueue.shift(),t=e.loadAssets();t.refId=e.id,this.loaders.push(t),t.done(this.preloadNextSlide.bind(this))}},getReachables:function(e){var i,r=0,s=[];if(null!=(i=this.getRefById(e)))for(s.push(i);r<s.length&&s.length<=t;)s.push.apply(s,s[r].getReachableSlides().map(function(e){return this.getRefById(e.absoluteId)}.bind(this))),s=n.uniq(s),r++;return n.take(s,t+1)},getRefById:function(e){return this.slideRefs().findWhere({id:l.stripPlayer(e)})}})}),define("models/presentation/Window",["require","models/BaseModel"],function(e){"use strict";return e("models/BaseModel").extend({})}),define("collections/presentation/Windows",["require","collections/BaseCollection","models/presentation/Window"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Window");return t.extend({model:i})}),define("models/presentation/Display",["require","models/BaseModel","collections/presentation/Windows"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/presentation/Windows");return t.extend({associations:{windows:i},shorthand:["width","height"]})}),define("models/presentation/Scoring",["require","lodash","helpers/pubSub","helpers/events","models/BaseModel","models/presentation/mixins/propertizable","helpers/constants","helpers/resolver","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/pubSub"),r=e("helpers/events"),s=e("models/BaseModel"),o=e("models/presentation/mixins/propertizable"),a=e("helpers/constants"),l=e("helpers/resolver"),u=e("helpers/utils"),c=s.extend({mixins:[o],playerPropNames:{Score:0,PercentScore:0,Status:a.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:(t={},t[r.slide.VIEWED]="incrementViewed",t[r.player.RESET]="reset",t),initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,n.once(r.data.INITIALIZED,this.setupRefs.bind(this))},setupRefs:function(){this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(e){this.viewedSlideGroups[e.getViewGroupId()]||(this.viewedSlideGroups[e.getViewGroupId()]=!0,this.viewedSlides++,this.isPastViewThreshold()&&this.isView()&&(n.trigger(r.course.VIEWED,this),this.updateStatus(!1)))},getQuiz:function(e){return l.resolvePath(u.prefixWithPlayer(e),this)},isCourseComplete:function(){return this.isView()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){return this.viewedSlides>=this.get("viewThreshold")},weightScore:function(e){return u.fix(e/this.get("weight"),2)},getStatus:function(){var e,t,i=a.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()?i=this.get("passStatus"):this.isType("survey")?i=this.get("passStatus"):this.isType("quiz")&&(e=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),i=this.get(e?"passStatus":"failStatus"),!this.scoreRef.mustpass&&e||(t=this.quiz.isPassed()?"passStatus":"failStatus",i=this.get(t)))),i},updateStatus:function(e){var t=!e,i=this.getStatus();this.prop("Status",i),t&&n.trigger(r.status.UPDATED)},updateScore:function(e){var t=0,i=0;this.quiz===e?(this.quiz.maxPoints>0&&(t=this.quiz.prop("Score"),i=this.quiz.prop("PercentScore")),this.prop({Score:t,PercentScore:i}),this.updateStatus()):this.quiz.updateScore()},setComplete:function(e){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},checkCourseComplete:function(){var e=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),e||this.isView()||n.trigger(r.course.COMPLETED,this,e))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return u.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return i.extend(c.prototype,{isView:i.partial(c.prototype.isType,"view"),isAction:i.partial(c.prototype.isType,"action"),isSurvey:i.partial(c.prototype.isType,"survey")}),c}),define("models/presentation/mixins/slideObjectContainer",["require","lodash","helpers/utils"],function(e){"use strict";e("lodash"),e("helpers/utils");return{init:function(){this.detachedChildren={}},reparentChild:function(e,t){if(t!==this){var i=e.currView,n=t.currView;this.detachedChildren[e.absoluteId]={child:e,newParent:t},null!=i&&null!=n&&n.attachView(i)}else this.reattachChild(e)},reattachChild:function(e){var t=e.absoluteId,i=this.detachedChildren[t];delete this.detachedChildren[t],null!=i&&this.currView.attachView(e.currView)},getChildParent:function(e){var t=this.detachedChildren[e.absoluteId];return null!=t?t.newParent:this}}}),define("models/presentation/mixins/resumables/slideResumable",["require","models/presentation/helpers/utils","helpers/events","helpers/resume/Chunk","helpers/resume/courseStateHelper","models/presentation/helpers/collisionMap"],function(e){"use strict";var t=e("models/presentation/helpers/utils"),i=e("helpers/events"),n=e("helpers/resume/Chunk"),r=e("helpers/resume/courseStateHelper"),s=e("models/presentation/helpers/collisionMap"),o=function(e){return n.create(n.toUnsignedString64(e))};return{getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(e){var t="";if(this.viewed)if(e||this.resume()){var i=this.getBaseLayer();t=[this.getInteractionResumeData(),i.timeline().getResumeData(),i.getObjectsResumeData(e),this.getSlideLayerResumeData(e),this.slideLayers().getActiveLayersResumeData(),i.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(n.create).join("")}else this.hasInteractions()&&(t=n.create(this.getInteractionResumeData()));this.setResumeData(t,!1)},getSlideLayerResumeData:function(e){return this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(e)).reduce(function(e,t){var i=t.getResumeDataOrReturn("");return e+n.create(i)},"")},getInteractionResumeData:function(){var e="";return this.hasInteractions()&&(e=this.interactions().map(function(e){return e.getResumeData()}).map(n.create).join("")),e},updateInteractionData:function(){var e;return this.hasInteractions()&&(e=new n({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=n.create(this.getInteractionResumeData())+e),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach(function(e){e.clearResumeData()}),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.interactionData=""},resetBeforeView:function(){return this.viewed&&(s.clearHitStates(this.id),this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach(function(e){e.resetResume()})),this.resume()||this.interactions().forEach(function(e){e.resetResume()}),this.resetCurrentTimeline(),this},setResumeData:function(e,t,i){return this.encodedResumeData=e,e.length>0?(this.interactionData=new n({fullString:e}),this.setInteractionResumeData(this.interactionData.encodedString()),(i||this.resume())&&(!1!==t&&this.setAsViewed(),this.hasResumeData=!0,this.timelineData=this.interactionData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},applyResumeData:function(){var e=!1,t=this.getBaseLayer(),n=r.getSlideStateData(this.absoluteId);return null!=n&&(e=!0,r.clearSlideStateData(this.absoluteId),this.setResumeData(n,!1,!0)),(e||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,t.timeline().setResumeData(this.timelineData.encodedString()),t.setObjectsResumeData(this.objectData.encodedString(),e),this.setSlideLayerResumeData(this.layerData,e),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger(i.resume.APPLIED)),this.trigger(i.resume.COMPLETE),this},setInteractionResumeData:function(e){var t=new n({fullString:e});this.hasInteractions()&&this.interactions().forEach(function(e){e.resetResponses(),e.setResumeData(t.encodedString()),t=t.reChunk()})},setSlideLayerResumeData:function(e,i){var r=new n({fullString:e.encodedString()});this.slideLayers().getNonBaseLayers().filter(t.getResumeableFilter(i)).forEach(function(e){e.setResumeData(r.encodedString(),i),r=r.reChunk()})},onBeforeResumeBuilt:function(e){this.slideLayers().invoke("prepareResumeData",e)},onAfterResumeBuilt:function(e){this.getSceneOrDraw().saveSlideData(this),e||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var e,t,i=this.getSlideDraw();return i?(e="1",t=[this.index(),i.getScene().index(),i.index()]):(e="0",t=[this.index(),this.getScene().index()]),e+t.map(o).join("")}}}),define("models/presentation/mixins/resumables/slideLayerResumable",["require","lodash","models/presentation/helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/helpers/utils"),n=e("helpers/resume/Chunk"),r=function(e){return!!e.isSlide};return{init:function(){this.getResumeDataOrReturn=t.partial(i.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(e){(e&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(e),this.audiolib().getResumeData(e),this.variables().getResumeDataOrReturn("")].map(n.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(e){return this.objectIndex.filter(i.getResumeableFilter(e)).reduce(function(t,i){return t+n.create(i.getResumeData(e))},"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],t.invoke(this.objDecendants,"resetResume"),this},setResumeData:function(e,t){if(this.cachedResumeData=e,(t||this.shouldResume())&&e){this.wasForcedResumed=t;var i=new n({fullString:e}),r=i.reChunk(),s=r.reChunk(),o=s.reChunk();this.setAsViewed(),this.timeline().setResumeData(i.encodedString()),this.setObjectsResumeData(r.encodedString(),t),this.audiolib().setResumeData(s.encodedString(),t),this.variables().setResumeData(o.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(e,t){var r=new n({fullString:e});this.objectIndex.filter(i.getResumeableFilter(t)).forEach(function(e){e.setResumeData(r.encodedString()),r=r.reChunk()})},onBeforeResumeBuilt:function(e){this.objects().invoke("prepareResumeData",e)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(r).resume()}}}),define("models/presentation/Audio",["require","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/eventable","helpers/assetManager"],function(e){"use strict";var t=e("models/BaseModel"),i=e("mixins/actionable"),n=e("models/presentation/mixins/propertizable"),r=e("models/presentation/mixins/eventable"),s=e("helpers/assetManager");return t.extend({shorthand:["assetId","events"],mixins:[i,r,n],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getAsset:function(){return s.getAsset(this.assetId())},getUrl:function(){return this.getAsset().url()},getDuration:function(){return this.getAsset().get("duration")},getResumeData:function(e){var t="",i=0;return(e||this.getSlide().resume())&&(i+=this.prop("isTimelineControlled")?1:0,i+=this.prop("isPlaying")?2:0,t=(i+=this.prop("resumeOnTimelinePlay")?4:0).toString()),t},setResumeData:function(e,t){(t||this.getSlide().resume())&&(e=parseInt(e,10),this.prop({isTimelineControlled:!!(1&e),isPlaying:!!(2&e),resumeOnTimelinePlay:!!(4&e)}))},resetBeforeView:function(){this.resetProps()}})}),define("collections/presentation/AudioLib",["require","lodash","collections/BaseCollection","helpers/resume/Chunk","models/presentation/Audio"],function(e){"use strict";e("lodash");var t=e("collections/BaseCollection"),i=e("helpers/resume/Chunk"),n=e("models/presentation/Audio");return t.extend({model:n,getResumeData:function(e){return this.invoke("getResumeData",e).map(i.create).join("")},setResumeData:function(e,t){var n=new i({fullString:e});this.forEach(function(e){e.setResumeData(n.encodedString(),t),n=n.reChunk()})},resetBeforeView:function(){this.invoke("resetBeforeView")}})}),define("models/presentation/GroupingSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils").createSuper(i),r=n("resolveables").concat(["objects"]),s=t.defaults({groupObjects:!0},n("abilities"));return i.extend({resolveables:r,abilities:s,isGroupingSlideObject:!0,resolvers:{objects:function(e,t){return t.findNestedObject(e)}},getCorrectBounds:function(e,i){var n=e.getBounds(),r=e.prop("RawXPos"),s=e.prop("RawYPos");return t.extend({left:r,right:r+n.width,top:s,bottom:s+n.height,idx:i},t.pick(n,"height","width"))},killEverything:function(){n("killEverything"),this.objects().invoke("killEverything")}})}),define("models/presentation/StateGroupSlideObject",["require","lodash","helpers/resolver","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/utils","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/resolver"),n=e("models/presentation/SlideObject"),r=e("models/presentation/GroupingSlideObject"),s=e("helpers/utils"),o=e("helpers/actionManager");s.createSuper(n);return r.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(e,n){var r=t.findWhere(this.actionstates(),{name:i.getRef(e.stateRef,n.context,n)});return r&&(this.prop("ObjectState",r.name),t.isEmpty(r.actions)||o.executeActions(r.actions,t.extend(n,{context:this}))),this},getIsSlideableParent:function(){return this.objects().some(function(e){return!!e.dragpath()})},getStateFromIndex:function(e){return this.actionstates()[e].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var e=this.get("actionstates");return e&&t.findWhere(e,{name:this.prop("ObjectState")})},getStateFromName:function(e){var i=this.get("actionstates");return i&&t.findWhere(i,{name:e})},getClickDef:function(){var e=this.getStateFromVar();return e&&e.clickdef}})}),define("models/presentation/ShuffledGroupingSlideObject",["require","lodash","models/presentation/SlideObject","models/presentation/GroupingSlideObject","helpers/events","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("models/presentation/GroupingSlideObject"),r=e("helpers/events"),s=e("helpers/utils"),o=s.createSuper(i),a=function(e,t){e.prop("ShuffleXPos",t),e.prop("RawXPos",t)},l=function(e,t){e.prop("ShuffleYPos",t),e.prop("RawYPos",t)},u=function(e,i,n){return t.sortBy(n,e).every(function(t,n,r){var s=r[n-1];return!s||t[e]>=s[e]+.75*s[i]})},c=t.partial(u,"top","height"),h=t.partial(u,"left","width"),p=function(e,t,i){var n=e[i];a(n,t.left),l(n,t.top)},d=t.defaults({resolveAsParent:!1,groupObjects:!0},o("abilities"));return n.extend({abilities:d,initialize:function(){o("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),r.resume.APPLIED,this.markAsResumed),this.listenTo(this.getSlide(),r.resume.COMPLETE,this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(e){return this.objects().at(e)}.bind(this))},shuffleObjects:function(){var e=t.shuffle(this.objects().slice());return this.repositionLockedItems(e),this.shuffledObjectIndices=e.map(function(e){return this.objects().indexOf(e)}.bind(this)),this},repositionLockedItems:function(e){this.objects().forEach(function(i,n){if(l=i,s.isTrue(l.get("shuffleLock"))){var r=t.findIndex(this.originalBounds,{idx:n}),o=e[r],a=e.indexOf(i);e[r]=e[a],e[a]=o}var l}.bind(this))},determineSpacing:function(){return c(this.originalBounds)?this.spacing="vertical":h(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var e="vertical"===this.spacing?"top":"left";return this.originalBounds=t.sortBy(this.originalBounds,e),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=t.partial(p,this.getShuffledArray()),this;var e=this.originalBounds,i="vertical"===this.spacing,n=i?l:a,r=i?a:l,s=i?"top":"left",o=i?"left":"top",u=i?"bottom":"right",c=i?"right":"bottom",h=i?"height":"width";e.forEach(function(t,i){var n=e[i-1];n&&(t.defaultSpacing=t[s]-n[u],t[o]===n[o]?t.altAlign="origin":t[c]===n[c]?t.altAlign="endpoint":t[o]>n[c]?(t.altAlign="oOffset",t.altSpacing=t[o]-n[o]):(t.altAlign="eOffset",t.altSpacing=t[o]-n[c]))});var d={updateDefaultCoord:n,updateAltCoord:r,origin:s,altOrigin:o,endpoint:u,altEndpoint:c,dimension:h};return this.positionCallback=t.partial(function(e,i,n,r,s){var o=e[r],a=this.getCorrectBounds(o),l=e[r-1],u=l&&this.getCorrectBounds(l),c=t.partial(i.updateDefaultCoord,o),h=t.partial(i.updateAltCoord,o);if(0===r)c(n[i.origin]),s.length>1&&"endpoint"===s[1].altAlign?h(n[i.altEndpoint]-a[i.dimension]):h(n[i.altOrigin]);else switch(c(u[i.endpoint]+n.defaultSpacing),n.altAlign){case"origin":h(u[i.altOrigin]);break;case"endpoint":h(u[i.altEndpoint]-a[i.dimension]);break;case"oOffset":h(u[i.altOrigin]+n.altSpacing);break;case"eOffset":h(u[i.altEndpoint]+n.altSpacing)}}.bind(this),this.getShuffledArray(),d),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var e=this.originalBounds.map(function(e){return this.objects().at(e.idx).get("tabIndex")}.bind(this));return this.shuffledObjectIndices.forEach(function(t,i){this.objects().at(t).prop("tabIndex",e[i])}.bind(this)),this}})}),define("models/presentation/TextInputSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/actions","helpers/events","helpers/utils"],function(e){"use strict";e("lodash");var t,i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),r=e("helpers/actions"),s=e("helpers/events");e("helpers/utils");return n.extend({shorthand:["background"],shortEvents:{self:(t=n.prototype.shortEvents.self,t[r.SET_FOCUS]="setFocus",t)},variableProps:{Text:{type:i.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr},setFocus:function(){null==this.currView?this.needsFocus=!0:(this.trigger(s.slideObject.FOCUS),this.needsFocus=!1)}})}),define("models/presentation/ScrollAreaSlideObject",["require","lodash","models/presentation/mixins/slideObjectContainer","models/presentation/GroupingSlideObject","helpers/actions","helpers/utils","helpers/resolver"],function(e){"use strict";var t,i=e("lodash"),n=e("models/presentation/mixins/slideObjectContainer"),r=e("models/presentation/GroupingSlideObject"),s=e("helpers/actions"),o=e("helpers/utils"),a=e("helpers/resolver"),l=o.createSuper(r),u=i.merge(l("shortEvents"),{self:(t={},t[s.UPDATE_SCROLL_POS]="updateScrollPos",t[s.UPDATE_SCROLL_HEIGHT]="updateScrollHeight",t)});return r.extend({mixins:[n],shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:u,updateScrollPos:function(e,t){this.trigger("updateScrollPos",a.getRef(e.pos,t.context))},updateScrollHeight:function(e,t){this.contentheight(a.getRef(e.height,t.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var e=this.background().vectorData;return e?e.pr:{}},getBounds:function(){var e=i(this.background().vectorData).pick("top","right","bottom","left").value(),t={xPos:e.left,yPos:e.top,right:e.right,bottom:e.bottom,fullX:e.left,fullY:e.top};return t.height=t.fullHeight=Math.abs(t.bottom-t.yPos),t.width=t.fullWidth=Math.abs(t.right-t.xPos),t}})}),define("models/presentation/ExpandingLabelSlideObject",["require","lodash","helpers/constants","models/presentation/GroupingSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("models/presentation/GroupingSlideObject"),r=e("helpers/utils");return n.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:i.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var e=t(this.colors()),i=e.findWhere({name:"border"}),n=e.findWhere({name:"bg"});if(i){var s=t.first(i.fill.colors),o=r.toRgba(s.rgb,s.alpha);this.set("borderColor",o)}n&&this.set("background",n)}})}),define("models/presentation/DropListSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),r=e("helpers/utils"),s=r.createSuper(n);return n.extend({variableProps:{SelectedItemIndex:{type:i.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=r.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce(function(e,t,i){return e[t.itemdata]=i,e},{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=t.shuffle(this.itemslist))},setResumeData:function(){s("setResumeData").apply(this,arguments);var e=this.prop("SelectedItemIndex");e>=0&&this.prop("SelectedItemData",this.origItemsList[e].itemdata)}})}),define("models/presentation/DropareaSlideObject",["require","lodash","models/presentation/SlideObject","helpers/utils","helpers/constants"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/utils"),r=e("helpers/constants"),s=n.createSuper(i);return i.extend({variableProps:{SelectedItem:{type:r.varTypes.NUM,value:-1}},setResumeData:function(){s("setResumeData").apply(this,arguments);var e=n.getPath(this,"currView.refs.innard");t.result(this,"currView.isMounted",!1)&&this.currView.htmlReady(e.resumeReview)}})}),define("models/presentation/DragitemSlideObject",["require","lodash","models/presentation/SlideObject","helpers/constants","helpers/utils","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("models/presentation/SlideObject"),n=e("helpers/constants"),r=e("helpers/utils"),s=e("helpers/resume/Chunk"),o=r.createSuper(i),a=function(e,t){return 0==(e&t)?e:e-t};return i.extend({variableProps:{SelectedItem:{type:n.varTypes.NUM,value:-1}},buildResumeData:function(){var e,t;return t=o("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&this.prop("SelectedItem")>=0&&(e=s.fromUnsignedString64(this.encodedResumeData.slice(0,3)),e=a(e,4),e=a(e,512),this.encodedResumeData=s.toUnsignedString64(e,3)+this.encodedResumeData.slice(3)),t},unDrop:function(){t.result(this,"currView.refs.innard.unDrop")},resetForSeek:function(){var e=o("resetForSeek").apply(this,arguments);return this.unDrop(),e},onPlayerReset:function(){var e=o("onPlayerReset").apply(this,arguments);return this.unDrop(),e},resetObjectBeforeResume:function(){var e=o("resetObjectBeforeResume").apply(this,arguments);return this.unDrop(),e}})}),define("models/presentation/SequenceCtrlSlideObject",["require","lodash","helpers/constants","models/BaseModel","models/presentation/SlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=(e("models/BaseModel"),e("models/presentation/SlideObject")),r=e("helpers/utils"),s=t.extend(t.range(10).reduce(function(e,t){return e["_pos"+t]={type:i.varTypes.STRING,value:"",resume:!1},e},{}),{ItemOrder:{type:i.varTypes.STRING,value:""}});return n.extend({variableProps:s,initialize:function(){this.setupItemsList()},setupItemsList:function(){var e;this.itemsListOrder=r.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce(function(e,t,i){return e[t.itemdata]=i,e},{}),this.itemslist=t.shuffle(this.itemsListOrder),e=this.itemslist.reduce(function(e,t,i){return e+this.itemsIdx[this.itemslist[i].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",e)},getIndexByData:function(e){return this.itemsIdx[e]}})}),define("models/presentation/SlideFrameSlideObject",["require","lodash","models/presentation/SlideObject","helpers/events","helpers/utils"],function(e){"use strict";e("lodash");var t=e("models/presentation/SlideObject"),i=e("helpers/events"),n=e("helpers/utils").createSuper(t);return t.extend({shorthand:["background"],initialize:function(){n("initialize").apply(this,arguments),this.getLayer().once(i.data.UPDATED,this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var e=this.getClosestParentRef();e.isGroupingSlideObject&&this.listenTo(e,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}})}),define("collections/presentation/SlideObjects",["require","lodash","collections/BaseCollection","models/presentation/SlideObject","models/presentation/GroupingSlideObject","models/presentation/StateGroupSlideObject","models/presentation/ShuffledGroupingSlideObject","models/presentation/TextInputSlideObject","models/presentation/ScrollAreaSlideObject","models/presentation/ExpandingLabelSlideObject","models/presentation/DropListSlideObject","models/presentation/DropareaSlideObject","models/presentation/DragitemSlideObject","models/presentation/SequenceCtrlSlideObject","models/presentation/SlideFrameSlideObject","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/SlideObject"),r=e("models/presentation/GroupingSlideObject"),s=e("models/presentation/StateGroupSlideObject"),o=e("models/presentation/ShuffledGroupingSlideObject"),a=e("models/presentation/TextInputSlideObject"),l=e("models/presentation/ScrollAreaSlideObject"),u=e("models/presentation/ExpandingLabelSlideObject"),c=e("models/presentation/DropListSlideObject"),h=e("models/presentation/DropareaSlideObject"),p=e("models/presentation/DragitemSlideObject"),d=e("models/presentation/SequenceCtrlSlideObject"),f=e("models/presentation/SlideFrameSlideObject"),m=e("helpers/utils"),g=function(e){return e.abilities.groupObjects},v={objgroup:r,stategroup:s,shufflegroup:o,textinput:a,scrollarea:l,expandinglabel:u,droplist:c,droparea:h,dragitem:p,sequencectrl:d,slideframe:f},y=i.extend({model:function(e,t){var i=v[e.kind]||n;return m.buildDataStructure(i,t,e)},findNestedObject:function(e){var i;return t.find(this.filter(g),function(t){return!!(i=t.objects().get(e))}),i}});return[r,o,s,l,u].forEach(function(e){e.addAssociation("objects",y)}),y}),define("models/presentation/SlideLayer",["require","lodash","models/BaseModel","helpers/events","helpers/actions","helpers/actionManager","models/presentation/mixins/eventable","models/presentation/mixins/slideObjectContainer","mixins/varPropListenable","models/presentation/mixins/resumables/slideLayerResumable","models/presentation/mixins/propertizable","helpers/assetManager","mixins/actionable","collections/presentation/AudioLib","collections/presentation/SlideObjects","collections/presentation/Variables","models/presentation/Timeline","collections/presentation/Animations","helpers/resolver","helpers/pubSub"],function(e){"use strict";var t,i,n=e("lodash"),r=e("models/BaseModel"),s=e("helpers/events"),o=e("helpers/actions"),a=(e("helpers/actionManager"),e("models/presentation/mixins/eventable")),l=e("models/presentation/mixins/slideObjectContainer"),u=e("mixins/varPropListenable"),c=e("models/presentation/mixins/resumables/slideLayerResumable"),h=e("models/presentation/mixins/propertizable"),p=e("helpers/assetManager"),d=e("mixins/actionable"),f=e("collections/presentation/AudioLib"),m=e("collections/presentation/SlideObjects"),g=e("collections/presentation/Variables"),v=e("models/presentation/Timeline"),y=e("collections/presentation/Animations"),b=e("helpers/resolver"),w=e("helpers/pubSub"),S=r.extend({mixins:[a,d,c,h,u,l],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(e,t){return t.findNestedObject(e)}},shortEvents:{timeline:(i={},i[s.timeline.COMPLETE]="onTimelineComplete",i),self:(t={},t[o.SHOW_SLIDELAYER]="show",t[o.HIDE_SLIDELAYER]="hide",t[o.SET_ACTIVE_TIMELINE]="setActiveTimeline",t[o.PAUSE_TIMELINE]="onPauseTimeline",t[o.PAUSE_ANIMATIONS]="pauseTimeline",t[o.RESUME_TIMELINE]="resumeTimeline",t)},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:m,audiolib:f,timeline:v,variables:g,animations:y},isSlideLayer:!0,initialize:function(){this.abilities=this.abilities(),this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return p.getAssetUrl(this.background().imagedata.assetId)},isPenetrable:function(){return!this.modal()},setAsTopMostLayer:function(e){return this.determineObjectVisibility(e),this.executePlayerEvent(e?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(e){return(this.get("hideobjectsondisplay")||[]).forEach(function(t){b.resolvePath(t.value,this).setHiddenByLayer(!e,this.id)}.bind(this)),setTimeout(function(){w.trigger(s.layer.RESOLVED_OBJECT_VISIBILITY)}.bind(this),0),this},toggleVisibility:function(e,t,i){var n="show"===e,r=n?"shown":"hidden",s=null!=i&&"custom"===i.transition,o=function(){i&&"oncomplete"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(r,this),this.visibleState=n,this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(n){if(this.setAsViewed(),this.shownInCurrentView=!0,i&&"onstart"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),s){var a=this.animations().get(i.animationId);this.trigger(e+"custom",i,this,a,o)}else o();return this},setActiveTimeline:function(e){var t=b.getRef(e.objRef,this),i=b.resolvePath(t,this),n=i.isSlide?i.slideLayers().getBaseLayer():i,r=n.timeline();return this.trigger(s.timeline.CHANGED,r),w.trigger(s.layer.TIMELINE_ACTIVATED,n),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(e){this.timeline().pause(e)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(w.trigger(s.timeline.CURRENT_TIMELINE,this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){return this.getHasTimelineStarted()&&!this.getIsTimelinePlaying()},getIsTimelinePlaying:function(){return this.timeline().isPlaying()},getHasTimelineStarted:function(){return this.timeline().hasStarted()},getHasTimelineFinished:function(){return this.timeline().hasFinished()},pauseTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses.push(e),this.baseLayerPauses=n.unique(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(e){this.isBaseLayer()&&(this.baseLayerPauses=n.without(this.baseLayerPauses,e),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){w.trigger(s.preview.NOTIFY,this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete"),this.collection.onTimelineComplete()},pauseVideos:function(e){e.each(function(e){e.isKind("video")?e.trigger(s.layer.PAUSE_TIMELINE):e.isGroupingSlideObject&&this.pauseVideos(e.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var e=0;this.objectIndex=[],this.objDecendants=[];var t=function(i){i.forEach(function(i){var n=i.isKind("shufflegroup");n||(this.objectIndex.push(i),i.setSlideIndex(e++),this.objDecendants.push(i)),i.objects&&t(i.objects()),n&&this.objDecendants.push(i)}.bind(this))}.bind(this);return t(this.objects()),this},getObjectByIndex:function(e){return this.objectIndex[e]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(e){this.isBaseLayer()||e||!this.currView.state.renderChildren||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0},killEverything:function(){this.currView.state.renderChildren&&this.objects().invoke("killMounted"),this.resetSubscriptions().stopListening().off(),this.timeline().killEverything(),this.objects().invoke("killEverything"),this.clear()},resetObjectTransforms:function(){this.objectIndex.forEach(function(e){null!=e.currView&&(e.transformDirty=!0)})}}),x=S.prototype;return x.show=n.partial(x.toggleVisibility,"show","ontopmostlayer"),x.hide=n.partial(x.toggleVisibility,"hide","endtopmostlayer"),S}),define("collections/presentation/SlideLayers",["require","lodash","collections/BaseCollection","models/presentation/SlideLayer","polyfills/detection","helpers/events","helpers/pubSub","helpers/resume/Chunk"],function(e){"use strict";var t,i=e("lodash"),n=e("collections/BaseCollection"),r=e("models/presentation/SlideLayer"),s=e("polyfills/detection"),o=e("helpers/events"),a=(e("helpers/pubSub"),e("helpers/resume/Chunk")),l=function(e){return!e.isBaseLayer()&&!e.isShowable},u=function(e){return e.timeline().progress()>=1},c=n.extend({model:r,shortEvents:{self:(t={},t[o.layer.HIDDEN]="onLayerHidden",t[o.layer.HIDE_OTHER_LAYERS]="onHideOtherLayers",t[o.layer.ACTIVATED]="onLayerActivated",t)},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(e){var t=i.indexOf(this.activeLayers,e);return-1===t&&(t=this.activeLayers.length),i.invoke(i.take(this.activeLayers,t),"hide"),this},pauseBaseLayer:function(e){return this.getBaseLayer().pauseTimelineFromLayer(e),this},pauseAll:function(e){this.invoke("pauseTimeline",e),this.invoke("cancelTransition")},playBaseLayer:function(e){return this.getBaseLayer().resumeTimelineFromLayer(e),this},getSlide:function(){return this.getClosestAncestorWithAssoc(c)},hideAllHideableLayers:function(){i.invoke(this.filter(l),"hide")},onTimelineComplete:function(){this.activeLayers.slice().concat([this.getBaseLayer()]).every(u)&&this.trigger(o.slide.ALL_TIMELINES_COMPLETE)},onLayerActivated:function(e){var t=this.getTopMostLayer(),n=t===e;this.setPrevLayers(this.activeLayers.slice()),n||null==t||t.setAsTopMostLayer(!1),e.pauseParent()&&!i(this.activeLayers).contains(e)&&this.pauseBaseLayer(e),this.bringToFront(e),e.setAsTopMostLayer(!0)},getTopMostLayer:function(){return i(this.activeLayers).last()},onLayerHidden:function(e){var t=this.getTopMostLayer(),n=e===t;this.setPrevLayers(this.activeLayers.slice()),i(this.activeLayers).contains(e)&&(n&&e.setAsTopMostLayer(!1),this.removeLayerFromActive(e),t=this.getTopMostLayer(),n&&null!=t&&t.setAsTopMostLayer(!0),this.getSlide().currentTimeline()===e.timeline()&&this.trigger(o.timeline.CHANGED,this.getBaseLayer().timeline()),e.pauseParent()&&this.playBaseLayer(e))},bringToFront:function(e){return this.activeLayers=i(this.activeLayers).without(e).push(e).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(e){return this.activeLayers=i.without(this.activeLayers,e),this.remapLayerDepths(),this},remapLayerDepths:function(){this.activeLayers.forEach(function(e,t){e.depth(t+1)})},resetActiveLayers:function(){return i.forEach(this.activeLayers,function(e){e.isOpen=!1}),this.activeLayers=[],this},restoreActiveLayers:function(e){for(var t=new a({fullString:e});t.encodedString().length>0;)this.at(t.getUnsignedValue()+1).show().setAsShowable(),t=t.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce(function(e,t){return e+a.create(a.toSignedString64(t.index()-1))},"")},setPrevLayers:function(e){s.isMobileAndNotPreview&&(this.prevLayers=e)},hasModalLayerAbove:function(e){return i.findIndex(this.activeLayers,function(e){return!!e.modal()})>i.findIndex(this.activeLayers,e)},killEverything:function(){this.activeLayers=[],this.stopListening(),this.invoke("killEverything"),this.reset([],{silent:!0})}});return c}),define("models/presentation/mixins/resumables/interactionResumable",["require","lodash","helpers/constants","helpers/resume/Chunk"],function(e){"use strict";var t=e("lodash"),i=e("helpers/constants"),n=e("helpers/resume/Chunk"),r=[i.statuses.CORRECT,i.statuses.INCOMPLETE,i.statuses.INCORRECT,i.statuses.NEUTRAL],s=function(e,t){return e>-1?"0"+n.toUnsignedString64(e,2):"1"+n.create(t)},o=function(e,t){return[e,t].join(".")},a=t.partial(o,"statements"),l=t.partial(o,"choices");return{init:function(){t.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var e=this.prop("AttemptCount"),t=n.toUnsignedString64(e,2);return this.initialAttemptCount!==e||this.responsesBuiltOnExit||this.buildResponses(),t+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,e>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getAttemptResumeData:function(){return[r.indexOf(this.prop("Status")),n.create(n.toSignedString64(this.prop("Score"))),n.create(n.toSignedString64(this.prop("LastScore"))),n.create(n.toSignedString64(this.prop("AnswerIndex")))].join("")},getNoAttemptResumeData:function(){var e=this.responses||[];return n.toUnsignedString64(e.length,2)+e.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(e){var i,r,o,a=this.isValidResponse(e),l=this.isPairResponse(e),u=(a?2:0)+(l?1:0),c=n.toUnsignedString64(u,1);return a&&(r=l?e.choiceResponse:e,t.isString(r)||(r=r.value()),o=t.findIndex(this.choices(),{id:r.split(".")[1]}),c+=s(o,r),l&&(i=t.findIndex(this.statements(),{id:e.statementResponse.split(".")[1]}),c+=s(i,e.statementResponse))),n.create(c)},reset:function(){this.resetResume(!0)},resetResume:function(e){!0===e?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(e){if(null!=e&&""!==e){var t=function(t){var i=e.slice(0,t);return e=e.slice(t),i};this.prop({AttemptCount:n.fromUnsignedString64(t(2)),Answered:"1"===t(1),Unanswered:"1"===t(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(e):this.setNoAttemptResumeData(e)}},setAttemptResumeData:function(e){var t,i,s=parseInt((t=1,i=e.slice(0,t),e=e.slice(t),i)),o=new n({fullString:e}),a=o.reChunk(),l=a.reChunk().getSignedValue();this.prop({Status:r[s],Score:o.getSignedValue(),LastScore:a.getSignedValue(),AnswerIndex:l}),this.curAnswer=this.answers()[l]},setNoAttemptResumeData:function(e){for(var t,i,r,s,o,u,c,h=function(t){var i=e.slice(0,t);return e=e.slice(t),i},p=function(){return"0"===h(1)},d=function(){var t=new n({fullString:e}),i=t.encodedString();return e=t.remainder(),i},f=n.fromUnsignedString64(h(2)),m=new n({fullString:e});f--;)e=m.encodedString(),m=m.reChunk(),i=1&(t=n.fromUnsignedString64(h(1),10)),2&t&&(p()?(s=n.fromUnsignedString64(h(2)),u=this.choices()[s].id,r=l(u)):r=d(),i&&(p()?(o=n.fromUnsignedString64(h(2)),c=a(this.statements()[o].id)):c=d(),r={choiceResponse:r,statementResponse:c}),this.responses=this.responses||[],this.responses.push(r))}}}),define("helpers/interactionHelper",["require","lodash","backbone","helpers/utils","helpers/errorManager","helpers/conditioner","helpers/actionManager"],function(e){"use strict";var t=e("lodash"),i=(e("backbone"),e("helpers/utils"),e("helpers/errorManager")),n=e("helpers/conditioner"),r=(e("helpers/actionManager"),i.warn("interactionHelper")),s=function(e,t){var i=e.getClosestAncestorByKind("slide");return n.evaluateStatement(t,i)},o={};return o.multiplechoice=o.truefalse=o.hotspot=o.wordbank=o.multipleresponse=[function(e,t){return t.length===e.length},function(e,t,i){return s(i,{kind:"and",statements:e.map(function(e){return{kind:"compare",operator:e.ignorecase?"ichas":"has",valuea:t,valueb:e.choiceid,typea:"object",typeb:"string"}})})}],o.sequence=o.matching=[function(e,i,n){if(e.length!==i.length)return!1;var r=t.zipWith(e,i,function(e,i){return t.extend({},e,i)});return s(n,{kind:"and",statements:r})}],o.numeric=[function(e,t,i){return s(i,{kind:"and",statements:e.map(function(e){return e.statement})})}],o.fillin=[function(e,t,i){var n=i.prop("Value")[0];return s(i,{kind:"or",statements:e.map(function(e,t){return{kind:"compare",operator:e.ignorecase?"iceq":"eq",valuea:n,valueb:i.getChoiceById(e.choiceid).lmstext,typea:"string",typeb:"string"}})})}],{setCurrInteraction:function(e){return this.interaction=e,this},getChosenAnswer:function(e){return t.find(this.interaction.answers(),function(t){return this.evaluateResponses(e,t)}.bind(this))},evaluateAnswers:function(e){if(this.interaction){var t=this.getChosenAnswer(e);return t||r("evaluateAnswers","no answer found."),t}r("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.")},evaluateResponses:function(e,t){return this.performEvaluation(e,t)},isOther:function(e){var i=t.first(e.evaluate.statements);return!!i&&"other"===i.kind},getEvalFns:function(){return o[this.interaction.type()]},performEvaluation:function(e,i){var n=this.interaction,r=this.getEvalFns();return this.isOther(i)||!t.isEmpty(r)&&r.every(function(t){return t(i.evaluate.statements,e,n)}.bind(this))}}}),define("models/presentation/interactions/Interaction",["require","lodash","models/BaseModel","helpers/constants","helpers/events","helpers/actions","helpers/conditioner","helpers/resume/resumer","views/helpers/dom","models/presentation/mixins/resumables/interactionResumable","helpers/interactionHelper","models/presentation/mixins/propertizable","mixins/actionable","helpers/actionManager","helpers/utils"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/constants"),r=e("helpers/events"),s=e("helpers/actions"),o=e("helpers/conditioner"),a=e("helpers/resume/resumer"),l=e("views/helpers/dom"),u=e("models/presentation/mixins/resumables/interactionResumable"),c=e("helpers/interactionHelper"),h=e("models/presentation/mixins/propertizable"),p=e("mixins/actionable"),d=e("helpers/actionManager"),f=e("helpers/utils"),m={};m.essay=m.numeric=m.fillin=function(e){return[l.writeNode("answer"),e,l.writeCloseNode("answer")].join("")},m.likert=m.sequence=m.matching=function(e){var t=this.getChoiceById(e.choiceResponse),i=this.getStatementById(e.statementResponse);return l.writeNode("answer",{statementid:i.lmstext,choiceid:t.lmstext},!0)},m.multiplechoice=m.truefalse=m.hotspot=m.wordbank=m.multipleresponse=function(e){var t=this.getChoiceById(e);if(null!=t)return l.writeNode("answer",{choiceid:t.lmstext},!0)};var g={numeric:function(e,t,i){return e.push(o.statementToString(t.statement,this)),e},matching:function(e,t,i){return e.push({choice:this.getChoiceById(t.choiceid),statement:this.getStatementById(t.statementid)}),e},default:function(e,t,i){return e.push(this.getChoiceById(t.choiceid)),e}};g.sequence=g.matching;var v,y,b=function(e,i,n){return t.findWhere(e.get(i),{id:n.replace(i+".","")})},w=i.extend({mixins:[p,h,u],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:(y={},y[r.player.RESET]="reset",y),shortEvents:{self:(v={},v[s.EVAL_INTERACTION]="onEvalInteraction",v[s.ADD_CHOICE_RESPONSE]="onAddChoiceResponse",v[s.ADD_PAIR_RESPONSE]="onAddPairResponse",v)},playerPropNames:{AttemptCount:0,Status:n.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=t.partial(b,this,"choices"),this.getStatementById=t.partial(b,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var e=this.prop("AttemptCount")+1;return this.prop("AttemptCount",e),this},appendAttempts:function(){return this.attempts.push(t.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:a.getCourseTime()})),this},setAsViewed:function(e){this.prop("Viewed",e),this.trigger(r.interaction.VIEWED,this.absoluteId,this.maxpoints())},setStatusFromCurAnswer:function(){var e;return e=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?n.statuses.NEUTRAL:n.statuses.INCORRECT,this.prop("Status",e),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(e){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().appendAttempts().trigger(r.interaction.EVALUATED,this).executeAnswerActions(e),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var e=this.isType("numeric")?parseFloat:t.identity;return this.curAnswer=c.setCurrInteraction(this).evaluateAnswers(this.responses.map(e)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(e){var t=this.curAnswer;null!=e&&t&&d.executeActions(t.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var e=this.responseDefinition().actions;return this.responses=[],null!=e&&(d.executeActions(e,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var e=this.isType("numeric"),i=e?"first":"identity",n=e?parseFloat:t.identity;return this.prop("Value",t[i](this.responses.map(n))),this},addResponse:function(e){return this.responses.push(e),this},onEvalInteraction:function(e){this.buildResponses().evaluate(e)},onAddChoiceResponse:function(e){var i={string:t.identity,var:function(e){return this.resolvePath(e).value()}}[e.type]||this.resolvePath;this.addResponse(i.call(this,e.value))},onAddPairResponse:function(e){var t,i=e.valuea,n=e.valueb;this.addResponse({statementResponse:i,choiceResponse:(t=n,/^choices/.test(t)?n:this.resolvePath(n))})},getCorrectAnswer:function(){return t.find(this.answers(),{status:n.statuses.CORRECT})},getCorrectResponse:function(){var e=this.getCorrectAnswer(),i=g[this.type()]||g.default;return t.reduce(e?e.evaluate.statements:[],i.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger(r.interaction.EVALUATED,this);var e=this.prop("AnswerIndex");this.prop("Score");e>-1&&(this.curAnswer=this.answers()[e],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(e){return null!=e&&(null!=e.statementResponse||null!=e.choiceResponse)},isValidResponse:function(e){return null!=e&&(this.isPairResponse(e)?""!==e.statementResponse&&null!=e.statementResponse&&""!==e.choiceResponse&&null!=e.choiceResponse:""!==e)},hasResponses:function(){return null!=this.responses&&this.responses.length>0},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===n.statuses.CORRECT},markAttempts:function(){this.attempts.forEach(function(e){e.Sent=!0})},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[l.writeNode("interaction",{idRef:f.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),l.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(e,t,i,n){var r=i===n.length-1,s=m[this.type()].bind(this),o=[l.writeNode("attempt",{time:t.Latency,final:r.toString(),pointsAwarded:t.Score,result:t.Status,sent:t.Sent})];return t.responses.map(s).forEach(function(e){o.push(e)}),o.push(l.writeCloseNode("attempt")),e.push(o.join("")),e}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(e){return(this.responses||[]).map(function(e){return t.isPlainObject(e)?{statement:this.getStatementById(e.statementResponse||e.statement),choice:this.getChoiceById(e.choiceResponse||e.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?e.toString():this.getChoiceById(e.toString())}.bind(this))}}),S=w.prototype;return S.getLastScore=t.partial(S.prop,"LastScore"),w}),define("collections/presentation/interactions/Interactions",["require","collections/BaseCollection","models/presentation/interactions/Interaction"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Interaction");return t.extend({model:i})}),define("helpers/audioPlaylistManager",["require","helpers/utils"],function(e){"use strict";var t,i=e("helpers/utils");return{initialize:function(e){t=e},load:function(e){return t.load(i.stripPlayer(e.absoluteId))}}}),define("models/presentation/Slide",["require","lodash","models/BaseModel","helpers/pubSub","helpers/events","helpers/actions","models/presentation/mixins/eventable","mixins/actionable","mixins/varPropListenable","models/presentation/mixins/slideObjectContainer","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/slideResumable","collections/presentation/SlideLayers","collections/presentation/Variables","collections/presentation/interactions/Interactions","helpers/constants","helpers/assetManager","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/utils","helpers/scaler","helpers/vow","helpers/resolver","models/presentation/helpers/collisionMap","views/helpers/bitmapHelper","helpers/playerGlobals","polyfills/detection"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/pubSub"),r=e("helpers/events"),s=e("helpers/actions"),o=e("models/presentation/mixins/eventable"),a=e("mixins/actionable"),l=e("mixins/varPropListenable"),u=e("models/presentation/mixins/slideObjectContainer"),c=e("models/presentation/mixins/propertizable"),h=e("models/presentation/mixins/resumables/slideResumable"),p=e("collections/presentation/SlideLayers"),d=e("collections/presentation/Variables"),f=e("collections/presentation/interactions/Interactions"),m=e("helpers/constants"),g=e("helpers/assetManager"),v=e("helpers/audioPlaylistManager"),y=e("helpers/globalAudioManager"),b=e("helpers/utils"),w=e("helpers/scaler"),S=e("helpers/vow"),x=e("helpers/resolver"),T=e("models/presentation/helpers/collisionMap"),E=e("views/helpers/bitmapHelper"),A=e("helpers/playerGlobals"),C=e("polyfills/detection"),P={};P[m.statuses.INCOMPLETE]=1,P[m.statuses.INCORRECT]=2,P[m.statuses.CORRECT]=3,P[m.statuses.NEUTRAL]=4;var _,I,k,R,O=function(e,t){return P[e]-P[t]};return i.extend({isSlide:!0,mixins:[o,a,h,c,l,u],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background","title","includeInSlideCounts","slideNumberInScene"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(e,t){var i=t.getBaseLayer();return i.objects().get(e)||i.audiolib().get(e)||i.objects().findNestedObject(e)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:p,variables:d,interactions:f},shortEvents:{self:(R={},R[s.ZOOMPAN]="zoomPan",R[s.SEEK_TIMELINE]="onSeekTimeline",R),slideLayers:(k={},k[r.timeline.CHANGED]="onTimelineChanged",k[r.slide.ALL_TIMELINES_COMPLETE]="onAllTimelinesEnded",k),interactions:(I={},I[r.interaction.EVALUATED]="onInteractionEvaluated",I)},subscriptions:(_={},_[r.slide.PAUSE_TIMELINE]="onPauseTimeline",_[r.slide.PLAY_TIMELINE]="onPlayTimeline",_),initialize:function(e){var i=[this.parent.id,this.id].join(m.PATH_DELIMITER);this.coreState=t.clone(e),t.assign(this.coreState,{fullId:i,interactions:this.interactions()}),this.viewed=!1,this.quizzes=[],this.loadedDfd=new S.Deferred,this.fullId(i),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this)},beforeSlideOut:function(){this.storeInteractionResults(),this.destroyed=!0,this.removeVariableChangeSubscriptions()},resetModel:function(){null!=this.url()&&b.stripPlayer(this.absoluteId)!==A.presentation.prop("CurrentSlideId")&&(this.killEverything(),this.loadedDfd=new S.Deferred,this.clear({silent:!0}).set(this.coreState,{silent:!0}).buildAssociations().resetCurrentTimeline().rebindShortEvents())},resetCurrentTimeline:function(){return this.setCurrentTimeline(this.getBaseLayer().timeline()),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return g.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return S.isResolved(this.loadedDfd)},isMessageSlide:function(){return this.getScene().isMessageScene()},load:function(){var e,t=this.loadedDfd,i=v.load(this),n=y.load(this.get("globalAudioId"));return this.isLoaded()?(t=new S.Deferred,S.when(i,n).then(t.resolve.bind(t,this))):(e=t.resolve.bind(t,this),this.isMessageSlide()?e():S.when(this.fetch(),i,n).then(e)),t.promise()},loadSlideAssets:function(){var e=A.presentation.slideMap().getRefById(this.absoluteId);return null!=e?e.loadAssets(!0):(new S.Deferred).resolve()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor(function(e){return e.isScene})},getSlideDraw:function(){return this.getClosestAncestor(function(e){return e.isSlideDraw})},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var e=this.get("viewGroupId");return e.length>0?e:this.id},getRelativeId:t.constant(m.refs.CURRENT_SLIDE),getHitType:t.constant(m.SLIDE_HIT),getTransitionAnimation:function(){if(this.get("showAnimationId"))return this.getBaseLayer().animations().findWhere({id:this.get("showAnimationId")})},zoomPan:function(e,t){this.trigger("zoompan",{action:e,event:t})},triggerAction:function(e){return a.triggerAction.apply(this,arguments),a.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(e){this.setCurrentTimeline(e)},onAllTimelinesEnded:function(){this.getClosestThisRef().executePlayerEvent("onallopentimelinescomplete"),this.setCompletedOnce()},setCompletedOnce:function(){var e=x.resolvePath(this.getCompletedOnceVariableName(),A.presentation);if(e){e.adjust({operator:"set",value:{type:"boolean",value:!0}},{context:this})}},setAsViewed:function(){return this.viewed=!0,this.prop("Viewed",!0),this.interactions().forEach(function(e){e.setAsViewed(!0)}),this.get("trackViews")&&n.trigger(r.slide.VIEWED,this),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(e){this.quizzes.push(e)},onInteractionEvaluated:function(){this.updateInteractionData()},storeInteractionResults:function(){return this.interactions().forEach(function(e){e.initialAttemptCount===e.prop("AttemptCount")&&(e.responsesBuiltOnExit=!0,e.updateUserResponse())}),this},getInteractionAttempted:function(){var e=!1,t=this.interactions&&this.interactions();return t&&t.length>0&&(e=t.reduce(function(e,t){return e&&t.prop("AttemptCount")>0},!0)),e},getInteractionStatus:function(){var e,t,i=this.interactions&&this.interactions();return i&&i.length>0&&(t=i.reduce(function(e,t){return e[t.prop("Status")]=!0,e},{}),e=Object.keys(t).sort(O)[0]),e},getVariableChangeSubscriptions:function(){return null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners()),e.objectIndex.forEach(function(e){null!=e.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,e.setVarAndPropListeners())}.bind(this))}.bind(this))),this},removeVariableChangeSubscriptions:function(){return null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach(function(e){e.listener.stopListening(e.obj,e.event,e.callback)}),this.varAndPropSubscriptions=null),this},calculateTotalScale:function(){var e,t=this.parentTransform?this.parentTransform.scale:1,i=w.getScale()||1,n=C.isClassic?b.getPath(this,"currView.props.slideContainer.props.scale"):1;return null!=this.parentTransform||null!=w.getScale()||null!=n?(e=t*i,this.pinchZoomScale&&(e*=this.pinchZoomScale),null!=n&&(e*=n),1/e):1},setCurrentTimeline:function(e){var t=this.currentTimeline();return null!=t&&t.off(r.timeline.RESET,this.onResetCurrentTimelineDelegate),this.currentTimeline(e),e.on(r.timeline.RESET,this.onResetCurrentTimelineDelegate),this.trigger(r.slide.CURRENT_TIMELINE),this},onSeekTimeline:function(e){this.currentTimeline().seek(e.position)},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(e){e.getIsTimelinePlaying()&&this.wasPlaying.push(e)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach(function(e){e.timeline().play()})},onResetCurrentTimeline:function(){var e=this.getBaseLayer().timeline(),t=this.currentTimeline();e===t?this.restart():(this.slideLayers().find(function(e){return e.timeline()===t}).prepareResumeData().resetBeforeView().applyResumeData(),t.play())},baseTimelineCompletedOnce:function(){return x.getRef({type:"var",value:this.getCompletedOnceVariableName()},A.presentation)},getCompletedOnceVariableName:function(){return"_slideCompletedOnce_"+this.id},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.slideLayers().invoke("resetObjectTransforms"),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.executePlayerEvent("ontransitionin"),this.executePlayerEvent("ontransitionincomplete"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this},killEverything:function(){return T.clearSlideCache(this.id),E.clearSlideCache(this.id),this.slideLayers().killEverything(),this}})}),define("collections/presentation/Slides",["require","collections/BaseCollection","models/presentation/Slide"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Slide");return t.extend({model:i})}),define("models/presentation/mixins/resumables/sceneOrDrawResumable",["require","lodash","helpers/vow","models/presentation/helpers/utils","helpers/resume/Chunk","helpers/resume/resumer"],function(e){"use strict";var t=e("lodash"),i=e("helpers/vow"),n=(e("models/presentation/helpers/utils"),e("helpers/resume/Chunk")),r=e("helpers/resume/resumer"),s="slides",o="slidedraws",a={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},l=function(e){return e.isSlideDraw||e.resume()||e.hasInteractions()},u={postInit:function(){var e;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(e=this.slidedraws().invoke("getSlidePromise"),i.after.apply(i,e).done(this.createDrawResumeArray.bind(this))))},getResumableArray:function(e){return this[e]().filter(l)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(l).reduce(function(e,t){return this.slidesResumeMap.push(t.index()),e.push(n.EMPTY_CHUNK),e}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(e,t){return t.createSlideResumeArray(),this.slidedrawsResumeMap.push(t.index()),e.push(n.create(t.getResumeData())),e}.bind(this),[])},createOrderArray:function(e){this.resumeOrder=e.map(function(e){return n.toUnsignedString64(this.sliderefs().indexOf(e),2)}.bind(this)).join("")},getMapIndexOf:function(e,t){return this[e].indexOf(t.index())},saveData:function(e,t){if(l(t)){var i=a.indexGetters[e],s=a.arrays[e],o=this[i](t);this[s][o]=n.create(t.getResumeData())}this.isScene?r.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){return this[this.isSlideDraw?"getDrawResume":"getSceneResume"]()},getDrawResume:function(){var e=this.variables();return[n.create(this.resumeOrder),this.slidesResume.join(""),e.length?n.create(e.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var e=this.variables();return[e.length?n.create(e.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(e){""!==e&&null!=e&&this[this.isSlideDraw?"setDrawResume":"setSceneResume"](e)},setSceneResume:function(e){var t,i=new n({fullString:e}),r=i,s=this.variables();s.length&&(s.setResumeData(i.encodedString()),r=i.reChunk()),t=this.setSlideResumeData(r),this.setDrawsResumeData(t)},setDrawResume:function(e){var t,i=new n({fullString:e}),r=i.reChunk(),s=this.variables();this.setSlidesInResumeOrder(i.encodedString()),t=this.setSlideResumeData(r),s.length&&s.setResumeData(t.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(e){var t,i;for(this.resumeOrder=[];e.length>0;)t=e.slice(0,2),this.resumeOrder.push(n.fromUnsignedString64(t)),e=e.slice(2);i=this.resumeOrder.map(function(e){return this.sliderefs()[e]}.bind(this)),this.generateSlides(i)},setSlidesOrDrawsResumeData:function(e,t){var i,r=this[a.arrGetters[e]](),s=this[a.arrays[e]];return r.forEach(function(e,r){i=t.encodedString(),s[r]=n.create(i),e.setResumeData(i),t=t.reChunk()}),t}};return u.saveSlideData=t.partial(u.saveData,s),u.saveDrawData=t.partial(u.saveData,o),u.getSlideMapIndexOf=t.partial(u.getMapIndexOf,a.maps[s]),u.getDrawMapIndexOf=t.partial(u.getMapIndexOf,a.maps[o]),u.getResumableSlidesArray=t.partial(u.getResumableArray,s),u.getResumableDrawsArray=t.partial(u.getResumableArray,o),u.setSlideResumeData=t.partial(u.setSlidesOrDrawsResumeData,s),u.setDrawsResumeData=t.partial(u.setSlidesOrDrawsResumeData,o),u}),define("models/presentation/SlideDraw",["require","lodash","helpers/pubSub","helpers/events","helpers/actions","helpers/utils","helpers/vow","helpers/resolver","helpers/constants","collections/presentation/Slides","collections/presentation/Variables","models/BaseModel","mixins/actionable","models/presentation/mixins/propertizable","models/presentation/mixins/resumables/sceneOrDrawResumable","helpers/actionManager"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/pubSub"),s=e("helpers/events"),o=e("helpers/actions"),a=e("helpers/utils"),l=e("helpers/vow"),u=e("helpers/resolver"),c=e("helpers/constants"),h=e("collections/presentation/Slides"),p=e("collections/presentation/Variables"),d=e("models/BaseModel"),f=e("mixins/actionable"),m=e("models/presentation/mixins/propertizable"),g=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),v=e("helpers/actionManager"),y=function(e,t,i){var r=n.partial(n.findWhere,t);return i.filter(function(t){return null!=r({id:t.id})===e})};return d.extend({isSlideDraw:!0,mixins:[g,f,m],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups","slideNumber","slideNumberInScene"],shortEvents:{self:(i={},i[o.SET_DRAW_REVIEW]="onSetDrawReview",i)},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:p},subscriptions:(t={},t[s.player.RESET]="generateDraw",t),initialize:function(){this.slideDfd=new l.Deferred,r.once(s.data.INITIALIZED,this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var e=[this.parent.id,this.id].join(c.PATH_DELIMITER);this.slides().forEach(function(t){t.fullId(e)})},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return n.first(this.sliderefs())},getBottomSlide:function(){return n.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return a.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(e){var t=e.nextSibling();return t&&t.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger(s.draw.EXIT),v.executeAction(this.exitaction(),{context:this})},getTop:function(){var e=this.sliderefs(),t=0,i=[];if(this.hasLockedTopSlide())for(i.push(this.getTopSlide());i.length&&n.last(i).linknext&&e[t+1];)i.push(e[++t]);return i},getBottom:function(){var e=this.sliderefs(),t=e.length-1,i=[];if(this.hasLockedBottomSlide())for(i.push(this.getBottomSlide());n.first(i).linkprev&&e[t-1];)i.unshift(e[--t]);return i},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(e){for(;e.length&&e[0].linkprev;)e.shift();for(;e.length&&n.last(e).linknext;)e.pop();return e},getMiddle:function(e,t){if(t<=0)return[];var i,r,s,o=this.shuffle(),a=[],l=this.getScene().getRefs(),u=n.partial(y,!1,l),c=n.partial(y,!0,l),h=u(e),p=function(e){return o?Math.floor(Math.random()*e):0};if(h.length<t)for(s=c(e);h.length<t;)h.push.apply(h,s.splice(p(s.length),1));for(;a.length<t&&h.length;){for(i=h[r=p(h.length)];i.linkprev;)i=h[--r];for(;i;)a.push.apply(a,h.splice(r,1)),i=i.linknext&&h[r]}return a},getIncludedSlides:function(e){return e.filter(function(e){return e.shuffleinclude})},generateDraw:function(){var e,t,i,r=this.getTop(),s=this.getBottom(),o=this.getTrimmedSlides(),a=this.getIncludedSlides(o);return o=n.xor(o,a),t=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(r.length+s.length+a.length),e=this.getMiddle(o,t),i=r.concat(a,e,s),this.generateSlides(i),this},generateSlides:function(e){this.trigger(s.draw.RESET,this);var t=this.resolveSlides(e);return this.set("slides",new h(t,{parent:this})),e.forEach(function(e){this.getScene().addRef(e)}.bind(this)),this.createOrderArray(e),this.trigger(s.draw.RESET_COMPLETE,this),this},resolveSlides:function(e){return e.map(function(e){var t=a.prefixWithPlayer(e.id);return n.cloneDeep(u.resolvePath(t,this))}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(e){this.isInReview=e.review,e.review||r.trigger(s.draw.REVIEW_RETRY)}})}),define("collections/presentation/SlideDraws",["require","collections/BaseCollection","models/presentation/SlideDraw"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/SlideDraw");return t.extend({model:i})}),define("models/presentation/Scene",["require","models/BaseModel","helpers/vow","lodash","collections/presentation/Slides","collections/presentation/SlideDraws","collections/presentation/Variables","models/presentation/mixins/resumables/sceneOrDrawResumable","models/presentation/mixins/propertizable"],function(e){"use strict";var t=e("models/BaseModel"),i=e("helpers/vow"),n=e("lodash"),r=e("collections/presentation/Slides"),s=e("collections/presentation/SlideDraws"),o=e("collections/presentation/Variables"),a=e("models/presentation/mixins/resumables/sceneOrDrawResumable"),l=e("models/presentation/mixins/propertizable");return t.extend({isScene:!0,mixins:[a,l],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:r,slidedraws:s,variables:o},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene","sceneNumber"],initialize:function(){this.usedRefs=[]},addRef:function(e){this.usedRefs.push(e)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var e=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=new i.Deferred,i.after.apply(i,e).done(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var e=this.hasDraws()?n(this.slidedraws().pluck("slides")).invoke("slice").flatten().value():[];return this.slides().slice().concat(e)}})}),define("collections/presentation/Scenes",["require","collections/BaseCollection","models/presentation/Scene"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/Scene");return t.extend({model:i,getNonMessageScenes:function(){return this.reject(function(e){return e.isMessageScene()})}})}),define("collections/presentation/SlideBank",["require","collections/BaseCollection"],function(e){"use strict";return e("collections/BaseCollection").extend({})}),define("helpers/VideoLoader",["require","lodash","helpers/MediaLoader","helpers/videoManager"],function(e){"use strict";var t=e("lodash"),i=e("helpers/MediaLoader"),n=e("helpers/videoManager"),r=function(e){this.init(e)};return t.assign(r.prototype,i.prototype,{isMediaElement:!0,isPaused:!0,isEnded:t.constant(!0),createElement:function(){var e=this;return n.requestVideoEl(this).done(function(t){t.src=e.url,e.setElement(t),e.load()}),this},retrieveVideo:function(){return this.el},teardown:t.noop}),r}),define("models/presentation/Asset",["require","lodash","helpers/AudioLoader","models/BaseModel","polyfills/detection","helpers/MediaLoader","helpers/utils","helpers/VideoLoader","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/AudioLoader"),n=e("models/BaseModel"),r=e("polyfills/detection"),s=e("helpers/MediaLoader"),o=e("helpers/utils"),a=e("helpers/VideoLoader"),l=e("helpers/vow"),u={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi".split(" "),audio:"mp3".split(" ")},c={audio:i,video:a};return n.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){this.url(o.resolveAssetUrl(this.url())),this.inferType()},ext:function(){return t.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var e=this.ext();return this.type(t.reduce(u,function(i,n,r){return t.contains(n,e)?r:i},null)),this},load:function(e){if(null!=this.currentLoader)return this.currentLoader.promise;var t,i,n,o=this.type(),a="audio"===o;if(!this.isValid()||this.isLoaded&&!e&&(!a||!r.hasAudioApi()))return(i=(t=new l.Deferred).resolve().promise()).dfd=t,i;var u=c[o]||s;return this.currentLoader=n=new u({type:this.type(),url:this.url(),loadForView:e}),n.promise.then(function(){this.isLoaded=!0}.bind(this)).always(function(){n.teardown(),this.currentLoader=null}.bind(this)),n.promise.dfd=n.dfd,n.promise}})}),define("collections/presentation/Assets",["require","lodash","collections/BaseCollection","models/presentation/Asset"],function(e){"use strict";var t=e("lodash"),i=e("collections/BaseCollection"),n=e("models/presentation/Asset");return i.extend({model:n,hasType:function(e){return this.some(function(t){return t.type()===e})},getVideoCount:function(){return t.countBy(this.models,function(e){return e.type()}).video||0}})}),define("collections/presentation/interactions/Quizzes",["require","collections/BaseCollection","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("helpers/resume/Chunk");return t.extend({getResumeData:function(){return this.invoke("getResumeData").map(i.create).join("")||i.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}})}),define("models/presentation/interactions/Quiz",["require","lodash","helpers/utils","helpers/constants","helpers/events","helpers/actions","views/helpers/dom","helpers/resolver","helpers/external/tinCan","models/BaseModel","collections/presentation/interactions/Quizzes","collections/presentation/SlideRefs","mixins/actionable","helpers/resume/resumer","models/presentation/mixins/propertizable","helpers/pubSub","helpers/vow","helpers/windowManager"],function(e){"use strict";var t,i,n=e("lodash"),r=e("helpers/utils"),s=e("helpers/constants"),o=e("helpers/events"),a=e("helpers/actions"),l=e("views/helpers/dom"),u=e("helpers/resolver"),c=(e("helpers/external/tinCan"),e("models/BaseModel")),h=e("collections/presentation/interactions/Quizzes"),p=e("collections/presentation/SlideRefs"),d=e("mixins/actionable"),f=e("helpers/resume/resumer"),m=e("models/presentation/mixins/propertizable"),g=e("helpers/pubSub"),v=e("helpers/vow"),y=e("helpers/windowManager"),b=function(e){return!e.prop("Answered")},w=function(e){return 0===e.prop("AttemptCount")},S=function(e){return!0===e.prop("Viewed")},x=function(e){return S(e)&&b(e)},T=function(e){return S(e)&&w(e)},E=function(e){return!0===e.get("istracked")},A=function(e){return e.skipenabled()},C=function(e){return e.isSlide||P(e)},P=function(e){return e.isSlideDraw},_=function(e){return Math.floor(100*e)/100},I=c.extend({mixins:[m,d],shorthand:["issurvey","passPercent","submitunanswered","scoretype","resettype","reviewtype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:p},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:(i={},i[a.EVAL_ALL_UNANSWERED]="evalAllUnanswered",i[a.SET_QUIZ_COMPLETE]="setQuizComplete",i[a.NEXT_VIEWED_SLIDE]="onNextReviewedSlide",i[a.RESET_QUIZ]="onResetQuiz",i)},subscriptions:(t={},t[o.data.INITIALIZED]="onDataInitialized",t[o.slide.HAS_CHANGED]="onSlideHasChanged",t[o.player.RESET]="onResetPlayer",t),maxPoints:0,currentMaxPoints:0,attempts:0,initialize:function(){this.referencesBuilt=new v.Deferred,this.viewedInteractions={},this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForViewsAndEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(e){this.stopListening(e)}.bind(this)),null!=this.interactions&&this.interactions.forEach(function(e){this.stopListening(e),this.stopListening(e)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=n(this.sliderefs().invoke("getSlide")).filter(C).value(),this.draws=this.slides.filter(P),this.waitForDraws(),v.after.apply(v,this.quizzes.map(n.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var e=this.slides.filter(P);e.forEach(function(e){var t=this.onDrawReceived.bind(this,e);this.listenTo(e,o.slide.CHANGE,t),this.listenTo(e,o.draw.RESET,this.onDrawReset.bind(this)),this.listenTo(e,o.draw.RESET_COMPLETE,this.onAfterDrawReset.bind(this)),null==e.slides()?!1:t()}.bind(this)),0===e.length&&this.afterDrawReceived()},onDrawReset:function(e){this.disconnectReferences(),e.slides().forEach(function(e){n.remove(this.slides,e)}.bind(this)),n.set(e,["spliceIdx",this.absoluteId],-1),n.set(e,["spliceNum",this.absoluteId],0)},onAfterDrawReset:function(e){this.updateInteractionRefs()},onDrawReceived:function(e){var t=["spliceIdx",this.absoluteId],i=["spliceNum",this.absoluteId],s=r.getPath(e,t,this.slides.indexOf(e)),o=r.getPath(e,i,1);n.set(e,t,s),n.set(e,i,e.slides().length),s>=0&&o>0&&this.slides.splice(s,o),this.slides=this.slides.concat(e.slides().slice()),this.afterDrawReceived()},afterDrawReceived:function(){var e;return this.interactions=n(this.slides).invoke("interactions").compact().value(),this.flatInteractions=n(this.interactions).invoke("slice").flattenDeep().filter(E).value(),this.slides.forEach(function(e){null!=e.setQuiz&&e.setQuiz(this)}.bind(this)),this.flatInteractions.forEach(function(e,t){e.prop("QuestionIndex",t)}),e=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||e,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||e}),this},onSlideHasChanged:function(e){this.currentPlayerSlideId=e},getCurrentSlideIndex:function(e){return n.findIndex(e,function(e){return r.stripPlayer(e.absoluteId)===this.currentPlayerSlideId}.bind(this))},getFilteredItemsForReviewReset:function(e,t){return!0===this.issurvey()||void 0===t?e:n.filter(e,t)},onNextReviewedSlide:function(e){var t=n.isEmpty(e.status_filter)?void 0:e.status_filter;this.navigateToNextViewedQuizSlide(e,t)},onResetPlayer:function(){this.resetQuiz(!0)},onResetQuiz:function(){this.resetQuiz(!1)},navigateToNextViewedQuizSlide:function(e,t){var i,r=void 0!==t?function(e){return e.getInteractionStatus()===t}:void 0,s=this.getFilteredItemsForReviewReset(this.slides,r),a=this.getCurrentSlideIndex(s)+1;a===s.length?g.trigger(o.request.NEXT_SLIDE,e.completed_slide_ref.value):null!=(i=n.find(s.slice(a),function(e){return n.contains(f.totalViewedSlides,e)}))&&g.trigger(o.request.NEXT_SLIDE,i.absoluteId)},resetQuiz:function(e){this.resetProps(),this.completed=!1,this.viewedInteractions={},this.currentMaxPoints=0;var t=void 0,i=void 0;!1===e&&this.resettype()===s.reviewResetTypes.INCORRECTONLY&&(t=function(e){return!e.isPassing()},i=function(e){return e.getInteractionStatus()===s.statuses.INCORRECT});var r=this.getFilteredItemsForReviewReset(this.flatInteractions,t),o=this.getFilteredItemsForReviewReset(this.slides,i);n.invoke(r,"resetResume",!0),o.forEach(function(e){e.resetResume(),e.updateInteractionData().onAfterResumeBuilt()}),this.resettype()!==s.reviewResetTypes.INCORRECTONLY&&n.invoke(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()&&this.getScoring().prop("Completed",!1),f.savePresentationData(),this.attempts++},listenForViewsAndEvaluations:function(){this.interactions.forEach(function(e){this.listenTo(e,o.interaction.VIEWED,this.onInteractionViewed),this.listenTo(e,o.interaction.EVALUATED,this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(e){this.listenTo(e.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){this.getClosestParentRef();var e=this.get("quizrefs")||[];this.quizzes=e.map(function(e){var t=u.resolvePath(r.prefixWithPlayer(e.id),this);return t.prop({mustPass:e.mustpass,weight:e.weight}),t}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(e){e.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.updatePassScore().updatePercentScore(),this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every(function(e){return e.prop("mustPass")&&e.isPassed()})},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return n.reduce(this.flatInteractions,function(e,t){return e+n.result(t,"getLastScore",0)},0)},calcChildScores:function(){return this.reduceQuizzes(function(e,t){return e+t.calcScore()},0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this},getMaxPoints:function(){return"partial"===this.scoretype()?this.currentMaxPoints:this.maxPoints},calcPassScore:function(){return _(r.pctToDec(this.prop("PassPercent"))*this.getMaxPoints())},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return _(r.decToPct(this.prop("Score")/this.getMaxPoints()))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return n(this.flatInteractions).invoke("maxpoints").reduce(r.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes(function(e,t){return e+t.calcMaxPoints()},0)},reduceQuizzes:function(e,t){return 0===this.quizzes.length?t:this.quizzes.reduce(e.bind(this),t)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},onInteractionEvaluated:function(e){this.updateScore().updateAllQuestionsSubmitted(),g.trigger(o.interaction.EVALUATED,this,e)},onInteractionViewed:function(e,t){null==this.viewedInteractions[e]&&(this.viewedInteractions[e]=t),this.currentMaxPoints=n.reduce(this.viewedInteractions,function(e,t){return e+t},0)},onInteractionAnswered:function(e){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(A))},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(A)),this},getUnsubmittedInteractions:function(){var e="viewed"===this.submitunanswered()?T:w;return this.flatInteractions.filter(e)},getUnansweredInteractions:function(){var e="viewed"===this.submitunanswered()?x:b;return this.flatInteractions.filter(e)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length||this.quizzes.some(function(e){return e.attempted()})},evalAllUnanswered:function(){var e=y.getCurrentWindowSlide();return null!=e&&e.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach(function(e){e.evaluateUnanswered()}),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.prop("Evaluated",!0)),this.quizzes.forEach(function(e){e.evalAllUnanswered()}),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var e=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every(function(e){return e.getIsComplete()})),this.updateScore(),e||g.trigger(o.quiz.COMPLETED,this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return!0===this.prop("QuizComplete")},setResumeInMotion:function(){this.slides.forEach(function(e){e.updateInteractionData().onAfterResumeBuilt()})},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(e){this.prop({Evaluated:"1"===e.charAt(0),QuizComplete:"1"===e.charAt(1)}),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(e){this.scoring=e},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach(function(e){e.markAttempts()}),this.quizzes.forEach(function(e){e.markAttemptsSent()})},getAoSoapXml:function(){var e=[l.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?e.push(this.getQuizzesXml()):(e.push(l.writeNode("interactions")),this.flatInteractions.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(l.writeCloseNode("interactions"))),e.push(l.writeCloseNode("quiz")),e.join("")},getQuizAttributes:function(){var e=this.isType("survey"),t=this.getIsComplete()?s.statuses.COMPLETE:s.statuses.INCOMPLETE,i=this.isPassed()?s.statuses.PASSING:s.statuses.FAILING,n=e?t:i,r={idRef:this.id,duration:0,status:n};return e||(r.score=Math.floor(100*this.prop("Score"))/100,r.possibleScore=this.maxPoints),r},getQuizzesXml:function(){var e=[l.writeNode("quizzes")];return this.quizzes.forEach(function(t){e.push(t.getAoSoapXml())}),e.push(l.writeCloseNode("quizzes")),e.join("")}});return h.prototype.model=I,I}),define("models/presentation/interactions/Timer",["require","lodash","models/BaseModel","mixins/actionable","mixins/subscribable","models/presentation/mixins/eventable","helpers/resume/Chunk","helpers/actions","helpers/events","helpers/utils"],function(e){"use strict";e("lodash");var t,i=e("models/BaseModel"),n=e("mixins/actionable"),r=e("mixins/subscribable"),s=e("models/presentation/mixins/eventable"),o=e("helpers/resume/Chunk"),a=e("helpers/actions"),l=(e("helpers/events"),e("helpers/utils"));return i.extend({mixins:[n,s,r],shorthand:["events"],shortEvents:{self:(t={},t[a.SHOW_TIMER]="onShowTimer",t[a.HIDE_TIMER]="onHideTimer",t[a.START_TIMER]="onStartTimer",t[a.PAUSE_TIMER]="onPauseTimer",t[a.RESET_TIMER]="onResetTimer",t)},resetData:function(){this.trigger("reset"),this.currView.resumeOnSlideReady=!1,this.deferredResumeData="",this.currView.elapsed(0)},onShowTimer:function(){this.trigger("show")},onHideTimer:function(){this.trigger("hide")},onStartTimer:function(){this.trigger("start")},onPauseTimer:function(){this.trigger("pause")},onResetTimer:function(){this.trigger("reset")},setResumeData:function(e){var t,i=this.currView;"1"===e.charAt(0)&&(null!=i?(this.trigger("show"),this.trigger("start"),t=o.fromSignedString64(e.substr(1)),i.elapsed(l.toSeconds(t),!0),this.deferredResumeData=""):this.deferredResumeData=e)},performDeferredResume:function(){null!=this.deferredResumeData&&this.setResumeData(this.deferredResumeData)},getResumeData:function(){var e=this.currView;return[e.started||e.resumeOnSlideReady?"1":"0",o.toSignedString64(l.toMilliseconds(e.elapsed()),3)].join("")}})}),define("collections/presentation/interactions/Timers",["require","collections/BaseCollection","models/presentation/interactions/Timer","helpers/resume/Chunk"],function(e){"use strict";var t=e("collections/BaseCollection"),i=e("models/presentation/interactions/Timer"),n=e("helpers/resume/Chunk");return t.extend({model:i,getResumeData:function(){return this.invoke("getResumeData").map(n.create).join("")||n.create("")},setResumeData:function(e){return this.forEach(function(t){t.setResumeData(e.encodedString()),e=e.reChunk()}),e}})}),define("models/presentation/AudioPlaylist",["require","lodash","helpers/appState","helpers/events","helpers/AudioLoader","helpers/audio/audioManager","models/BaseModel","helpers/vow"],function(e){"use strict";var t=e("lodash"),i=e("helpers/appState"),n=e("helpers/events"),r=e("helpers/AudioLoader"),s=e("helpers/audio/audioManager"),o=e("models/BaseModel"),a=e("helpers/vow"),l=function(e){return["presentation_content",e].join("/")},u=(new a.Deferred).resolve().promise(),c=(new a.Deferred).reject().promise();return o.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(i,n.volume.CHANGE_CURRENT,this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(e){return this.get("volume")*e/100},play:function(){return this.get("filenames").length>0&&this.playIdx(0),this},playIdx:function(e){var t=this.get("filenames")[e],r=s.loadUrl(l(t));return r.on(n.audioClip.ENDED,this.onClipEndedDelegate),r.setVolume(this.getRelativeVolume(i.currentVolume())),r.play(),this.clips[e]=r,this.currentlyPlayingIdx=e,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),this.currentlyPlayingIdx=null,this},stopIdx:function(e){var t=this.clips[e];return t.off(n.audioClip.ENDED,this.onClipEndedDelegate),t.destroy(),this.clips[e]=null,this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return this.get("filenames").length>0?this.loadIdx(0):u},loadIdx:function(e){var t=l(this.get("filenames")[e]),i=new r({type:"audio",url:t});return i.promise.always(i.teardown.bind(i))},preloadNext:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return c;e=0}return e===this.currentlyPlayingIdx?c:this.loadIdx(e)},onClipEnded:function(){var e=this.currentlyPlayingIdx+1;if(e>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);e=0}this.currentlyPlayingIdx!==e?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(e)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(e,i){t.invoke(this.clips,"setVolume",this.getRelativeVolume(i))}})}),define("collections/presentation/AudioPlaylists",["require","lodash","models/presentation/AudioPlaylist","collections/BaseCollection","helpers/events","helpers/resolver","helpers/utils","helpers/vow"],function(e){"use strict";var t,i=e("lodash"),n=e("models/presentation/AudioPlaylist"),r=e("collections/BaseCollection"),s=e("helpers/events"),o=e("helpers/resolver"),a=e("helpers/utils"),l=(new(e("helpers/vow").Deferred)).resolve().promise(),u=i.memoize(function(e){return o.resolvePath(a.prefixWithPlayer(e),null,{optional:!0})});return r.extend({model:n,subscriptions:(t={},t[s.slide.STARTED]="onSlideStarted",t),initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(e){return this.find(function(t){return t.get("slideids").indexOf(e)>=0})},load:function(e){var t=this.findPlaylist(e);return null==t||t.isPlaying()?(null!=this.timeline&&(this.timeline.off(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.off(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.off(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.off(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate),this.timeline=null),l):t.load()},onSlideStarted:function(e){var t=this.currentlyPlaying,i=this.findPlaylist(e);t!==i&&(null!=t&&t.stop(),null!=i&&i.play()),null!=i&&(this.timeline=u(e).getBaseLayer().timeline(),this.timeline.on(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.on(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.on(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.on(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate)),this.currentlyPlaying=i},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}})}),define("helpers/slideNumberManager",["require","lodash","helpers/events","helpers/constants","helpers/pubSub"],function(e){"use strict";var t=e("lodash"),i=e("helpers/events"),n=e("helpers/constants"),r=e("helpers/pubSub"),s=void 0,o=void 0,a={slides:{},scenes:{}},l=function(e){return(100*e.viewed/e.total).toFixed(0)+"%"},u=n.varTypes,c=u.NUM,h=u.STRING,p=[{name:"menuSlidesViewed",update:function(e){return e.menu.viewed},type:c},{name:"menuTotalSlides",update:function(e){return e.menu.total},type:c},{name:"menuProgress",update:function(e){var t=e.menu;return l(t)},type:c},{name:"menuSectionSlidesViewed",update:function(e,t,i){var n=e.section;return(0,i.menuInclude)(n.viewed)},type:c},{name:"menuSectionTotalSlides",update:function(e,t,i){var n=e.section;return(0,i.menuInclude)(n.total)},type:c},{name:"menuSectionProgress",update:function(e,t,i){var n=e.section;return(0,i.menuInclude)(l(n))},type:c},{name:"projectSlidesViewed",update:function(e){return e.project.viewed},type:c},{name:"projectTotalSlides",update:function(e){return e.project.total},type:c},{name:"projectProgress",update:function(e){var t=e.project;return l(t)},type:c},{name:"sceneSlidesViewed",update:function(e){return e.scene.viewed},type:c},{name:"sceneTotalSlides",update:function(e){return e.scene.total},type:c},{name:"sceneProgress",update:function(e){var t=e.scene;return l(t)},type:c},{name:"menuSectionsViewed",update:function(e){return e.viewedSectionCount},type:c},{name:"projectScenesViewed",update:function(e){return e.viewedSceneCount},type:c},{name:"menuSlideNumber",update:function(e,t){return t.menuSlideNumber},type:c},{name:"menuSlideTitle",update:function(e,t){return t.menuSlideTitle},type:h},{name:"menuSlideReference",update:function(e,t){return t.menuSlideReference},type:h},{name:"menuSectionNumber",update:function(e,t,i){var n=t.menuSection;return(0,i.menuInclude)(n)},type:c},{name:"menuSectionSlideNumber",update:function(e,t,i){var n=t.menuSectionSlideNumber;return(0,i.menuInclude)(n)},type:c},{name:"menuTotalSections",update:function(){return a.menuTotalSections},type:c},{name:"projectSlideNumber",update:function(e,t,i){var n=t.slideNumberInProject;return(0,i.projectInclude)(n)},type:c},{name:"projectSlideTitle",update:function(e,t){return t.slide.title()},type:h},{name:"projectSlideReference",update:function(e,t,i){var n=t.slideNumberInScene;return i.sceneNumber+"."+n},type:h},{name:"projectTotalScenes",update:function(){return a.sceneCount},type:c},{name:"projectSceneNumber",update:function(e,t,i){return i.sceneNumber},type:c},{name:"sceneSlideNumber",update:function(e,t,i){var n=t.slideNumberInScene;return(0,i.projectInclude)(n)},type:c}],d=function(){var e=o.getCurrentWindowSlide(),i=e.getScene();if(!i.isMessageScene()){var n,r,l,u,c,h,d,f,m,g=a.slides[e.absoluteId],v=s.variables(),y=(r=(n=e).getScene(),l=a.slides[n.absoluteId].menuSection,u=new Set,c=new Set,h={total:0,viewed:0},d={total:0,viewed:0},f={total:0,viewed:0},m={total:0,viewed:0},t.forEach(a.slides,function(e){var t=e.slide.viewed;e.slide.includeInSlideCounts()&&(h.total++,t&&(h.viewed++,u.add(e.scene)),e.scene===r&&(d.total++,t&&d.viewed++)),null!=e.menuSection&&(f.total++,t&&(f.viewed++,c.add(e.menuSection)),e.menuSection===l&&(m.total++,t&&m.viewed++))}),{viewedSceneCount:u.size,viewedSectionCount:c.size,project:h,scene:d,menu:f,section:m}),b={sceneNumber:i.sceneNumber(),menuInclude:null!=g.menuSection?function(e){return e}:function(e){return 0},projectInclude:e.includeInSlideCounts?function(e){return e}:function(e){return 0}};p.forEach(function(e){var t=e.name,i=e.update;return v.get(t).value(i(y,g,b))})}},f=function(e,i){var n=0,r=0;a.slides={};var s=function(e,t){var i=function(e){var t=e.getSlideDraw();return null!=t?t.slideNumberInScene()+e.index():e.slideNumberInScene()};return i(e)>i(t)};e.scenes().forEach(function(e){if(!e.isMessageScene()){var t=0;e.getAllSlides().sort(s).forEach(function(i){a.slides[i.absoluteId]={slideNumberInProject:i.includeInSlideCounts()?++n:0,slideNumberInScene:i.includeInSlideCounts()?++t:0,slide:i,scene:e},a.scenes[e.absoluteId]={slideCount:t}}),r++}}),a.sceneCount=r;var o=0,l=0;i.navData().outline().links().models.forEach(function(e,i){(function e(i,n,r,s,l){var u=a.slides[i.slideid()];return null!=u&&(u.menuSlideNumber=++o,u.menuSlideTitle=i.attributes.displaytext,u.menuSlideReference=s,u.menuSectionSlideNumber=r,u.menuSection=l),t.forEach(i.links().models,function(t,i){return e(t,n+1,++r,s+"."+(i+1),l)}),r})(e,1,0,l=i+1,l)}),a.menuTotalSections=l};return{initialize:function(e,t,n){s=t.playerVars(),o=e,f(t,n),r.on(i.slide.HAS_MOUNTED,d),r.on(i.draw.REVIEW_RETRY,function(){return f(t,n)})},getPlayerVariables:function(){return p.map(function(e){var t=e.name,i=e.type;return{kind:"variable",name:t,type:i,value:i===c?0:"",resume:!1}})}}}),define("models/presentation/Presentation",["require","lodash","helpers/vow","models/BaseModel","models/presentation/SlideMap","models/presentation/Display","models/presentation/Scoring","collections/presentation/Variables","collections/presentation/Scenes","collections/presentation/SlideBank","collections/presentation/Assets","models/presentation/interactions/Quiz","collections/presentation/interactions/Quizzes","collections/presentation/interactions/Timers","models/presentation/mixins/eventable","models/presentation/mixins/propertizable","collections/presentation/AudioPlaylists","collections/presentation/AudioLib","helpers/utils","helpers/actionManager","helpers/errorManager","helpers/windowManager","helpers/slideNumberManager","helpers/events","helpers/pubSub","helpers/constants","helpers/playerGlobals","helpers/dataVersioner","mixins/actionable","mixins/varPropListenable"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/vow"),r=e("models/BaseModel"),s=e("models/presentation/SlideMap"),o=e("models/presentation/Display"),a=e("models/presentation/Scoring"),l=e("collections/presentation/Variables"),u=e("collections/presentation/Scenes"),c=(e("collections/presentation/SlideBank"),e("collections/presentation/Assets")),h=(e("models/presentation/interactions/Quiz"),e("collections/presentation/interactions/Quizzes")),p=e("collections/presentation/interactions/Timers"),d=e("models/presentation/mixins/eventable"),f=e("models/presentation/mixins/propertizable"),m=e("collections/presentation/AudioPlaylists"),g=e("collections/presentation/AudioLib"),v=e("helpers/utils"),y=e("helpers/actionManager"),b=e("helpers/errorManager"),w=(e("helpers/windowManager"),e("helpers/slideNumberManager")),S=e("helpers/events"),x=e("helpers/pubSub"),T=e("helpers/constants"),E=e("helpers/playerGlobals"),A=e("helpers/dataVersioner"),C=e("mixins/actionable"),P=e("mixins/varPropListenable"),_=b.throwError("Presentation"),I=function(e){return!e.isMessageScene()},k=r.extend({mixins:[C,d,P],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:l}});return r.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[d,f],subscriptions:(t={},t[S.customlink.EVENT]="onCustomlink",t[S.actionlink.EVENT]="onActionlink",t[S.presentation.ON_OBJECT_EVENT]="onObjectAction",t[S.error.INTERFACE]="onInterfaceError",t[S.slide.HAS_CHANGED]="onSlideChanged",t[S.data.INITIALIZED]="onDataInitialized",t),url:function(){return v.resolveDataUrl("data")},associations:{slideMap:s,display:o,scoring:a,variables:l,scenes:u,assetLib:c,globalaudiolib:g,quizzes:h,timers:p,audioplaylists:m},resolveables:["scenes","variables","actionGroups","quizzes","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(e,t){return i.findWhere(t.slides,{id:e})}},initialize:function(){E.presentation=this},getPlayerVarDefaultValues:function(){var e=this.get("playervars"),t={};return e.forEach(function(e){t[e.name]=e.value}),t},createPlayerVars:function(){var e=this.getPlayerVarDefaultValues(),t="boolean",i=(T.varTypes.NUM,new k({variables:[{kind:"variable",name:"displayCaptions",type:t||"boolean",value:e.displayCaptions||!1,resume:!1}].concat(w.getPlayerVariables())}));this.playerVars(i)},resetSlideCompletedOnceVars:function(){var e=this;this.variables().forEach(function(t){t&&t.get("name").startsWith("_slideCompletedOnce_")&&e.variables().remove(t)});var t=this.getFlatSlides().map(function(e){return e.getCompletedOnceVariableName()});t.sort(),t.forEach(function(t){e.variables().addVariable({kind:"variable",name:t,type:"boolean",value:!1,resume:!0},e)})},onDataInitialized:function(){var e=this;A.setDataVersion(this.get("version"));var t=i(this.scenes().models).invoke("slidedraws").map(function(e){return e.models}).flatten();t.some()?t.forEach(function(t){e.listenTo(t,S.draw.RESET_COMPLETE,e.onDrawSlidesCreated.bind(e))}).commit():this.onDrawSlidesCreated(),null!=this.get("playervars")&&this.createPlayerVars()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=n.after.apply(n,i.invoke(this.scenes().filter(I),"getDrawPromise"))),this.drawPromise},onDrawSlidesCreated:function(){var e=this;this.getDrawPromise().done(function(){e.resetSlideCompletedOnceVars(),e.createSlideIndices()})},getFlatSlides:function(e){var t=null!=e?I:Boolean;return i(this.scenes().filter(t)).invoke("getAllSlides").flatten().value()},getUniqueSlides:function(){var e=this.getFlatSlides(!0),t={};return e.reduce(function(e,i){var n=i.getViewGroupId();return i.get("trackViews")&&null==t[n]&&(t[n]=!0,e.push(i)),e},[])},createSlideIndices:function(){var e=0;this.scenes().forEach(function(t){t.slides().forEach(function(t){t.prop("Index",e++)}),t.slidedraws().forEach(function(t){var n=t.sliderefs();t.slides().forEach(function(t){t.prop("Index",e+i.findIndex(n,{id:t.id}))}),e+=n.length})})},onCustomlink:function(e){this.executePlayerEvent(e)},onActionlink:function(e){var t=v.getPath(i.find(this.get("actionlinks"),{id:e}),"actions");null==t?_("onActionLink","No action link with id",b.backtick(e)):y.executeActions(t,{context:this})},eventByName:function(e){return i.find(this.events(),function(t){return t.eventname===e||t.eventName===e})},onObjectAction:function(e){var t=this.eventByName(e);null!=t&&y.executeActions(t.actions,{context:this})},onInterfaceError:function(e){var t=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",e),x.trigger(S.request.NEXT_SLIDE,t.slideId,t.window)},onSlideChanged:function(e,t){t||this.prop("CurrentSlideId",e)},isPreview:i.memoize(function(){return!!v.getPath(this,"preview.enabled")})})}),define("models/player/Link",["require","lodash","models/BaseModel","helpers/utils","collections/player/Links"],function(e){"use strict";var t=e("lodash"),i=e("models/BaseModel"),n=e("helpers/utils"),r=e("collections/player/Links"),s=i.extend({associations:{links:r},shorthand:["slideid"],isLink:!0,initialize:function(){this.isActionLink=this.isType("action"),this.isKind("slidedrawref")?this.collection.prepareDrawSlides(this,this.get("drawid")):this.isActionLink||t.isEmpty(this.slideid())||this.slideid(n.prefixWithPlayer(this.slideid()))},findDeep:function(e){return this.slideid()===e?this:this.links().findDeep(e)},isOrHasChild:function(e){return!!this.findDeep(e)},hasChild:function(e){return this.links().hasChildSlide(e)}});return r.prototype.model=s,s}),define("models/player/NavData",["require","models/BaseModel","models/player/Link","collections/player/Links"],function(e){"use strict";var t=e("models/BaseModel"),i=(e("models/player/Link"),e("collections/player/Links")),n=t.extend({associations:{links:i}});return t.extend({associations:{outline:n}})}),define("models/player/ResourceData",["require","models/BaseModel","collections/BaseCollection"],function(e){"use strict";var t=e("models/BaseModel"),i=e("collections/BaseCollection");return t.extend({shorthand:["description"],associations:{resources:i}})}),define("models/player/Player",["require","lodash","models/BaseModel","collections/BaseCollection","models/player/NavData","models/player/ResourceData","helpers/utils","helpers/constants","helpers/events","helpers/pubSub"],function(e){"use strict";var t,i=e("lodash"),n=e("models/BaseModel"),r=e("collections/BaseCollection"),s=e("models/player/NavData"),o=e("models/player/ResourceData"),a=e("helpers/utils"),l=e("helpers/constants"),u=e("helpers/events"),c=e("helpers/pubSub"),h=n.extend({associations:{sidebarOptions:n.extend({associations:{tabs:n}}),bottomBarOptions:n,menuOptions:n,controls:n},subscriptions:(t={},t[u.controlLayout.CHANGED]="onChangeControls",t[u.controlOptions.CHANGED]="onChangeOptions",t),onChangeControls:function(e){this.controls().set(e)},onChangeOptions:function(e){this.set(e)}}),p=n.extend({associations:{navData:s,glossaryData:r,resourceData:o,notesData:r,controlOptions:h,layouts:n,controlLayouts:n,stringTables:n},url:function(){return a.resolveDataUrl("frame")},initialize:function(){this.on("sync",this.onDataSynced)},getTab:function(e){return this.controlOptions().sidebarOptions().tabs().get(e)||[]},getLayout:function(e){return this.layouts().get(e)},onDataSynced:function(){var e=this.getLayout(this.get("default_layout")),t=this.controlLayouts().get(e.controllayout);c.trigger(u.controlLayout.CHANGED,t),c.trigger(u.scheme.CHANGED,e.colorscheme),c.trigger(u.player.MENU_OPTIONS,this.controlOptions().menuOptions()),l.player.OUTPUT_TYPE=this.get("outputtype"),l.player.IS_CHROMELESS=this.get("chromeless")}}),d=p.prototype;return d.getSidebar=i.partial(d.getTab,"sidebar"),d.getLinkLeft=i.partial(d.getTab,"linkLeft"),d.getLinkRight=i.partial(d.getTab,"linkRight"),p}),define("views/App",["require","lodash","helpers/utils","helpers/pubSub","react","views/mixins/baseView","polyfills/detection","helpers/scaler","helpers/events","helpers/appState","polyfills/vendorOverrides"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/utils"),r=e("helpers/pubSub"),s=e("react"),o=e("views/mixins/baseView"),a=e("polyfills/detection"),l=e("helpers/scaler"),u=e("helpers/events"),c=e("helpers/appState");return(e("polyfills/vendorOverrides").detectVisibilityChange||function(){document.addEventListener("visibilitychange",function(e){r.trigger(u.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])},!1)})(),s.createClass({displayName:"App",mixins:[o],subscriptions:(t={},t[u.loader.SHOW]="onLoaderShow",t[u.loader.MUTE]="onLoaderMute",t[u.loader.UNMUTE]="onLoaderUnmute",t[u.loader.HIDE]="onLoaderHide",t[u.loader.REMOVE_TITLE]="onRemoveLoaderTitle",t[u.window.SCALE]="onWindowScale",t[u.detection.ORIENTATION_CHANGE]="onOrientationChange",t[u.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",t[u.detection.VISIBILITY_SHOWN]="onVisibilityShown",t[u.keyManager.FRAME_CONTROL_KEY]="onFrameControlKey",t[u.scheme.CHANGED]="onColorSchemeChange",t[u.controlOptions.CHANGED]="onChangeOptions",t),shortEvents:{player:{"change:orientations":"refreshOrientations"}},getInitialState:function(){return i.extend({},this.getIsTooBig(),{hasError:!1,scale:l.getScale()})},isRtl:function(e){return"rtl"===e.toLowerCase()},componentWillMount:function(){r.once(u.player.ERROR,function(){this.setState({hasError:!0})}.bind(this)),this.sidebarOpts=this.getPath("props.player.controlOptions.sidebarOptions"),this.bottomBarOpts=this.getPath("props.player.controlOptions.bottomBarOptions"),this.setDeviceClasses().refreshOrientations()},widthChange:function(e){this.setState({isTooWide:!e.matches})},heightChange:function(e){this.setState({isTooTall:!e.matches})},refreshOrientations:function(){return this.setState({orientations:this.props.player.get("orientations")}),this},onColorSchemeChange:function(e){this.forceUpdate()},onChangeOptions:function(e){this.forceUpdate()},componentDidMount:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height");this.killMainLoader(),this.state.isTooTall&&document.body.classList.add("is-too-tall"),this.state.isTooWide&&document.body.classList.add("is-too-wide"),window.matchMedia&&(window.matchMedia(["(min-width: ",e,"px)"].join("")).addListener(this.widthChange),window.matchMedia(["(min-height: ",t,"px)"].join("")).addListener(this.heightChange)),r.trigger(u.app.COMPLETE),l.isShowAll()||(window.addEventListener("resize",this.onResize),this.onResize())},onResize:function(){document.body.clientHeight<document.body.scrollHeight||document.body.clientWidth<document.body.scrollWidth?document.body.classList.contains("has-scrollbar")||document.body.classList.add("has-scrollbar"):document.body.classList.remove("has-scrollbar")},componentDidUpdate:function(e,t){var i=this.state.isTooTall,n=this.state.isTooWide,r=t.isTooTall,s=t.isTooWide;r!==i&&document.body.classList[i?"add":"remove"]("is-too-tall"),s!==n&&document.body.classList[n?"add":"remove"]("is-too-wide")},onLoaderHide:function(){clearTimeout(this.loaderTimeout),this.setState({showLoader:!1})},onLoaderMute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)},onLoaderUnmute:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)},showLoaderDelayed:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)},onLoaderShow:function(e){e>0?this.showLoaderDelayed(e):this.setState({showLoader:!0})},getSpinLoader:function(){return document.querySelector("body > .slide-loader")},killMainLoader:function(){var e=this.getSpinLoader();null!=e&&(a.isMobileOrTouchableTheme?this.onLoaderMute():e.parentNode.removeChild(e))},onRemoveLoaderTitle:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)},setDeviceClasses:function(){return a.isMobile?(document.body.classList.add("is-mobile"),document.getElementById("preso").setAttribute("class","")):document.body.classList.add("is-desktop"),this.isRtl(this.props.player.get("textdirection"))&&document.documentElement.classList.add("text-direction-rtl"),(a.isWebObject||a.hideFrame)&&document.body.classList.add("hide-frame"),this},hasLeftLink:function(){return n.getPath(this.sidebarOpts,"tabs.linkLeft")},hasRightLink:function(){return n.getPath(this.sidebarOpts,"tabs.linkRight")},hasTopBar:function(){return this.sidebarOpts.get("titleEnabled")||this.hasRightLink()||this.hasLeftLink()||this.getPath("props.player.controlOptions.controls.elapsedandtotaltime")||this.props.presentation.timers().length>0},hasSidebar:function(){return this.sidebarOpts.get("sidebarEnabled")},hasBottomBar:function(){return this.bottomBarOpts.get("bottomBarEnabled")},hasMobileUi:function(e){var t=this.hasRightLink()||this.hasLeftLink();return t&&document.body.classList.add("has-custom-links"),!!(this.hasSidebar()||this.hasBottomBar()||t||!e&&(a.is360&&(!a.isDevicePreview||a.enableFs)))},sidebarPos:function(){return this.sidebarOpts.get("sidebarPos")},getErr:function(){return this.state.hasError?"shown":"hidden"},onWindowScale:function(){this.setState(i.extend({},this.getIsTooBig(),{scale:l.getScale()})),this.forceUpdate()},onOrientationChange:function(){this.setState(this.getIsTooBig())},onVisibilityHidden:function(){this.lastVolume=c.currentVolume(),r.trigger(u.volume.CHANGED,0)},onVisibilityShown:function(){null!=this.lastVolume&&(r.trigger(u.volume.CHANGED,this.lastVolume),this.lastVolume=null)},getIsTooBig:function(){var e=this.props.presentation.display().get("width"),t=this.props.presentation.display().get("height"),i=l.getWindowDimensions(),n=null!=l.getScale();return{isTooTall:!n&&t>i.height,isTooWide:!n&&e>i.width}},initKeyboardShortcuts:function(){r.trigger(u.player.ENABLE_KEYBOARD_SHORTCUTS,this.getPath("props.player.controlOptions.controls.enableKeyboardShortcuts"))},onFrameControlKey:function(e){var t=this.props.presentation;e.HOME?t.executePlayerEvent("first_slide_triggered"):e.END?t.executePlayerEvent("last_slide_triggered"):e.M&&r.trigger(u.volume.TOGGLE)}})}),define("helpers/authorApi",["require","lodash","helpers/automation","helpers/actionManager","helpers/resolver","helpers/utils"],function(e){"use strict";var t,i=e("lodash"),n=e("helpers/automation"),r=e("helpers/actionManager"),s=e("helpers/resolver"),o=e("helpers/utils"),a=function(e){return s.resolvePath(o.prefixWithPlayer(e),t)},l=function(){var e=n.getPlayer&&n.getPlayer()||{};return i.extend(u,e)},u={GetVar:function(e){var t=a(e);return null!=t?t.value():null},SetVar:function(e,i){var n,s=a(e);null!=s&&(n={kind:"adjustvar",variable:s.absoluteId,operator:"set",value:{type:s.type(),value:i}},r.executeAction(n,{context:t}))}};return{initialize:function(e){t=e,window.GetPlayer=l}}}),define("helpers/previewHelper",["lodash","helpers/actionManager","helpers/errorManager","helpers/pubSub","helpers/events","helpers/resolver","helpers/stringTabler","helpers/appState","helpers/constants","helpers/utils"],function(e,t,i,n,r,s,o,a,l,u){"use strict";var c,h,p,d=i.throwError("previewHelper"),f={kind:"adjustvar",operator:"set"},m={kind:"reset_player"},g=function(e){var t=s.resolvePath(u.prefixWithPlayer(e),{context:p,optional:!0});if(null==t)throw new Error(["No object exists at path ",u.doubleQuote(e)].join(""));return t},v={getValue:function(e){var t=g(e);return t.isVar?t.value():t},gotoSlide:function(e){n.trigger(r.request.NEXT_SLIDE,u.prefixWithPlayer(e))},overrideOrientations:function(e){h.set("orientations",e)},resetPlayer:function(i){t.executeAction(e.defaults({startslideid:u.prefixWithPlayer(i)},m),{context:p})},resetSlide:function(e){var t=g(e);if(!t.isSlide)throw new Error(["Object at",u.doubleQuote(e),"is not a slide"].join(" "));t.reset()},setVariable:function(i,n){var r=g(i);if(!r.isVar)throw new Error(["Object at",u.doubleQuote(i),"is not a variable"].join(" "));t.executeAction(e.defaults({variable:r.absoluteId,value:{type:r.type(),value:n}},f),{context:p})},setBackgroundColor:function(e){document.body.style.background=e},setStringTable:function(e){o.reInit(JSON.parse(e))},setColorScheme:function(e){var t=JSON.parse(e),i=document.getElementById("player-preview-css");null==i&&((i=document.createElement("style")).id="player-preview-css",document.body.appendChild(i)),i.innerText=t.css,n.trigger(r.scheme.CHANGED,t.name)},setControlOptions:function(e,t){var i=JSON.parse(e),s=JSON.parse(t);window.globals.isUpdatingPreview=!0,n.trigger(r.controlOptions.CHANGED,i),n.trigger(r.controlLayout.CHANGED,s,l.refs.FRAME),i.controls.closed_captions&&s.closed_captions?n.trigger(r.captions.SHOW_BUTTON):n.trigger(r.captions.HIDE_BUTTON),window.globals.isUpdatingPreview=!1}},y=function(e){c.postMessage(JSON.stringify(e),"*")},b=function(){var t,i;t="notifyPreview",i=e.toArray(arguments),y({jsonrpc:"2.0",method:t,params:i})},w=function(e){var t,i,n,r,s=JSON.parse(e.data);try{n=s.id,r=v[s.method].apply(this,s.params),y({jsonrpc:"2.0",id:n,result:r})}catch(e){t=s.id,i=e.message,y({jsonrpc:"2.0",id:t,error:{code:-1,message:i}})}};return{initialize:function(e,t){t.isPreview()&&(null!=window.parent&&window.parent!==window?(h=e,p=t,c=window.parent,window.addEventListener("message",w),n.on(r.preview.NOTIFY,b),b("PREVIEW_FRAME_READY")):d("initialize","Cannot load parent window"))}}}),define("helpers/fontManager",["require","polyfills/vendorOverrides","helpers/errorManager","helpers/vow"],function(e){"use strict";var t=e("polyfills/vendorOverrides"),i=e("helpers/errorManager"),n=e("helpers/vow"),r=i.warn("fontHelper"),s=/\"/g;return{loadFonts:function(e){new n.Deferred;var i=e.get("fontLib")||[],o={};return null!=t.loadFonts?t.loadFonts(i,r):(document.fonts.forEach(function(e){o[e.family.replace(s,"")]=e}),n.promiseToVow(Promise.all(i.map(function(e){return Promise.resolve(o[e.name]).then(function(t){if(null==t)throw new Error('Could not resolve font "'+e.name+'"');return t.load()}).catch(r("loadFonts"))}))))}}}),define("helpers/analyticsHelper",["require","lodash","bowser","helpers/events","helpers/utils","helpers/vow","helpers/pubSub"],function(e){"use strict";var t,i,n,r=e("lodash"),s=e("bowser"),o=e("helpers/events"),a=e("helpers/utils"),l=e("helpers/vow"),u=e("helpers/pubSub"),c=!1===window.globals.suppressAnalytics&&-1===window.location.protocol.indexOf("file");if(c){t=document.createElement("iframe"),i=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}(),n=new l.Deferred;t.id="analytics-frame",t.src="analytics-frame.html#"+i,t.style.position="fixed",t.style.left="-1000px",t.style.top=0,window.addEventListener("message",function e(r){r.data.id===i&&("loaded"===r.data.message?n.resolve():"xhr sent"===r.data.message&&(document.body.removeChild(t),window.removeEventListener("message",e),t=null,i=null))}),document.body.appendChild(t)}return{initialize:function(e){r.bindAll(this,"onMounted"),this.confirmValidProps(),this.dfd=n,e.assetLib(),e.slideMap(),u.once(o.slide.HAS_MOUNTED,this.onMounted)},confirmValidProps:function(){this.hasValidProps=["productChannel","publishSource","aid","cid","playerVersion"].every(function(e){return null!=window.globals[e]})},onMounted:function(e){var t=Math.round(performance.now()),i=a.getPath(e,"props.model.parent.isMessageScene",!1),n=document.getElementById("font-test-download"),r=document.getElementById("font-test-default"),o=Math.floor(n.getComputedTextLength())!==Math.floor(r.getComputedTextLength()),l={os:[s.osname,s.osversion].join(" "),browser:[s.name,s.version].join(" "),playerVersion:window.globals.playerVersion,playerType:"HTML5",lmsPresent:window.globals.lmsPresent,tinCanPresent:window.globals.tinCanPresent,aoSupport:window.globals.aoSupport,protocol:window.location.protocol.slice(0,-1),productChannel:window.globals.productChannel,publishSource:window.globals.publishSource,cid:window.globals.cid,timeToLoad:t,resumePrompt:i,canDownloadFonts:o};this.sendMessage("player_course_load",l)},sendMessage:function(e,r){c&&this.hasValidProps&&n.done(function(){t.contentWindow.postMessage({id:i,event:e,properties:r,aid:window.globals.aid},"*")})}}}),define("helpers/svg/reactSvg",["require","react"],function(e){"use strict";var t=e("react"),i=t.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return t.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:i,accumulate:i,alignmentBaseline:i,alphabetic:i,amplitude:i,animate:i,arabicForm:i,ascent:i,attributeType:i,azimuth:i,baseFrequency:i,baselineShift:i,bbox:i,bias:i,by:i,calcMode:i,capHeight:i,clip:i,clipPathUnits:i,clipRule:i,colorInterpolation:i,colorInterpolationFilters:i,colorProfile:i,colorRendering:i,contentScriptType:i,contentStyleType:i,cursor:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,dominantBaseline:i,dur:i,edgeMode:i,elevation:i,enableBackground:i,end:i,exponent:i,externalResourcesRequired:i,feColorMatrix:i,feComposite:i,feGaussianBlur:i,feMorphology:i,feTile:i,fillRule:i,filter:i,filterRes:i,filterUnits:i,floodColor:i,floodOpacity:i,fontSizeAdjust:i,fontStretch:i,fontStyle:i,fontVariant:i,fontWeight:i,format:i,from:i,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:i,glyphOrientationVertical:i,glyphRef:i,hanging:i,horizAdvX:i,horizOriginX:i,horizOriginY:i,ideographic:i,imageRendering:i,in2:i,in:i,intercept:i,k1:i,k2:i,k3:i,k4:i,k:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lengthAdjust:i,letterSpacing:i,lightingColor:i,limitingConeAngle:i,local:i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,mode:i,numOctaves:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlinePosition:i,overlineThickness:i,panose1:i,path:i,pathLength:i,patternTransform:i,pointerEvents:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,primitiveUnits:i,radius:i,refX:i,refY:i,renderingIntent:i,repeatCount:i,repeatDur:i,requiredExtensions:i,restart:i,result:i,rotate:i,scale:i,seed:i,shapeRendering:i,slope:i,spacing:i,specularConstant:i,specularExponent:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,strikethroughPosition:i,strikethroughThickness:i,strokeDashoffset:i,strokeLinejoin:i,strokeMiterlimit:i,surfaceScale:i,systemLanguage:i,tableValues:i,targetX:i,targetY:i,textDecoration:i,textLength:i,textRendering:i,to:i,u1:i,u2:i,underlinePosition:i,underlineThickness:i,unicode:i,unicodeBidi:i,unicodeRange:i,unitsPerEm:i,vAlphabetic:i,vHanging:i,vIdeographic:i,vMathematical:i,values:i,vertAdvY:i,vertOriginX:i,vertOriginY:i,viewTarget:i,visibility:i,widths:i,wordSpacing:i,writingMode:i,xChannelSelector:i,xHeight:i,xmlns:i,yChannelSelector:i,z:i,zoomAndPan:i},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}),require(["helpers/dataVersioner"],function(e){e.init(),require(["features/featuresHelper"],function(e){null!=e.initialize&&e.initialize()}),require(["lodash","react","react-dom","helpers/dataVersioner","helpers/backboneSync","helpers/extend","helpers/templateManager","views/events/allEvents"],function(e,t,i){require(["models/presentation/Presentation","models/player/Player","helpers/events","helpers/resolver","helpers/slidesController","helpers/windowManager","helpers/windowOpen","helpers/assetManager","helpers/actionator","views/App","helpers/debug","helpers/pubSub","helpers/appState","helpers/vow","helpers/errorManager","helpers/svg/svgManager","helpers/stringTabler","helpers/automation","helpers/resume/resumer","helpers/keyManager","helpers/scaler","helpers/audio/audioManager","helpers/videoManager","helpers/authorApi","helpers/audioPlaylistManager","helpers/globalAudioManager","helpers/captionsManager","helpers/webObjectHelper","helpers/previewHelper","helpers/printer","helpers/fontManager","helpers/analyticsHelper","helpers/slideNumberManager","helpers/GsapTweenLite","helpers/svg/reactSvg"],function(n,r,s,o,a,l,u,c,h,p,d,f,m,g,v,y,b,w,S,x,T,E,A,C,P,_,I,k,R,O,M,L,D){var N,V,j=new n,B=new r,F=function(e){var n=S.initialize(j,e);w.initialize(a,j),l.initialize(j.display()),x.initialize(l),u.initialize(j),c.initialize(j.assetLib()),P.initialize(j.audioplaylists()),_.initialize(j.globalaudiolib()),h.initialize(B,j),b.initialize(B),C.initialize(j),k.initialize(j),O.initialize(j),L.initialize(j),f.trigger(s.data.INITIALIZED),I.initialize(j.assetLib(),B,l,null!=j.playerVars()?j.playerVars().variables().get("displayCaptions"):null),D.initialize(l,j,B),V.always(function(){N=i.render(t.createElement(p,{presentation:j,player:B,state:m,needsOverlay:e}),document.body.querySelector("#preso")),T.initialize(),d.initialize(j,B,N),R.initialize(B,j),n.always(function(){N.initKeyboardShortcuts(),f.trigger(s.loader.REMOVE_TITLE),f.trigger(s.main.PREPARE_AUDIO,j),A.prepare(),g.isRejected(this)&&f.trigger(s.request.NEXT_SLIDE),S.courseStarted(g.isResolved(this))})})};g.when(j.fetch(),B.fetch(),y.fetch()).done(function(){o.initialize(j),a.initialize(j),V=M.loadFonts(j),Promise.all([E.prepare(j),A.initialize(j)]).then(function(t){return F(e.some(t))})}).fail(function(){v.throwError("init","initialization","Could not load presentation data")})})})}),define("main",function(){}),function(){"use strict";require.config({paths:{almond:"../../bower_components/almond/almond",lodash:"../../bower_components/lodash/lodash",backbone:"../../bower_components/backbone/backbone",shorthand:"../../bower_components/backbone.shorthand/src/backbone.shorthand",react:"../../bower_components/react/react-with-addons-dark-spider-patched","react-dom":"../../bower_components/react/react-dom",jquery:"../../bower_components/jquery/jquery","prefix-free":"../../bower_components/prefix-free/prefixfree.min","tween-lite":"../../bower_components/gsap/src/minified/TweenLite.min","timeline-lite":"../../bower_components/gsap/src/minified/TimelineLite.min","ease-pack":"../../bower_components/gsap/src/minified/easing/EasePack.min","css-plugin":"../../bower_components/gsap/src/minified/plugins/CSSPlugin.min","bezier-plugin":"../../bower_components/gsap/src/minified/plugins/BezierPlugin.min",tincan:"../../bower_components/tincan/build/tincan",pathseg:"../../bower_components/pathseg/pathseg",captionator:"../../bower_components/captionator/js/captionator-min","babel-polyfill":"../../node_modules/babel-polyfill/dist/polyfill.min",bowser:"../../bower_components/bowser/src/bowser"},map:{"*":{underscore:"lodash",react:"helpers/ReactOverride"},"helpers/ReactOverride":{react:"react"}},shim:{shorthand:{deps:["backbone"]},react:{exports:"React"},"prefix-free":{exports:"PrefixFree"},"tween-lite":{exports:"TweenLite"},"timeline-lite":{exports:"TimelineLite",deps:["tween-lite"]},"ease-pack":{exports:"EasePack"},"css-plugin":{exports:"CSSPlugin"},"bezier-plugin":{exports:"BezierPlugin"},captionator:{exports:"captionator"}}}),require(["babel-polyfill","./main"])}(),define("init.generated",function(){});